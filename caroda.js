window.__define = window.define;
window.__require = window.require;
window.define = undefined;
window.require = undefined;
(function() {
        ;var define = undefined;
        var require = undefined;
        window.carodaMainCss = ".caroda-spinner-container {\n  display: none;\n  background: rgba(20, 20, 20, 0.9);\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 2; }\n\n.caroda-spinner {\n  position: absolute;\n  top: calc(50% - 30px);\n  left: calc(50% - 30px);\n  border: 8px solid #ccc;\n  border-top: 8px solid white;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  animation: spin 2s linear infinite; }\n\n@keyframes spin {\n  0% {\n    transform: rotate(0deg); }\n  100% {\n    transform: rotate(360deg); } }\n\n.caroda-show-spinner .caroda-spinner-container {\n  display: block; }\n\n.carodaOutstream .caroda-spinner-container {\n  background: none; }\n\n.carodaReplayButton {\n  transition: opacity 0.6s ease-out;\n  opacity: 0.6;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  min-width: 50px;\n  min-height: 50px;\n  background-image: url(\"data:image/svg+xml;base64,PHN2ZyBzdHJva2U9ImN1cnJlbnRDb2xvciIgZmlsbD0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjAiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIGhlaWdodD0iMWVtIiB3aWR0aD0iMWVtIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05MDkuMSAyMDkuM2wtNTYuNCA0NC4xQzc3NS44IDE1NS4xIDY1Ni4yIDkyIDUyMS45IDkyIDI5MCA5MiAxMDIuMyAyNzkuNSAxMDIgNTExLjUgMTAxLjcgNzQzLjcgMjg5LjggOTMyIDUyMS45IDkzMmMxODEuMyAwIDMzNS44LTExNSAzOTQuNi0yNzYuMSAxLjUtNC4yLS43LTguOS00LjktMTAuM2wtNTYuNy0xOS41YTggOCAwIDAgMC0xMC4xIDQuOGMtMS44IDUtMy44IDEwLTUuOSAxNC45LTE3LjMgNDEtNDIuMSA3Ny44LTczLjcgMTA5LjRBMzQ0Ljc3IDM0NC43NyAwIDAgMSA2NTUuOSA4MjljLTQyLjMgMTcuOS04Ny40IDI3LTEzMy44IDI3LTQ2LjUgMC05MS41LTkuMS0xMzMuOC0yN0EzNDEuNSAzNDEuNSAwIDAgMSAyNzkgNzU1LjJhMzQyLjE2IDM0Mi4xNiAwIDAgMS03My43LTEwOS40Yy0xNy45LTQyLjQtMjctODcuNC0yNy0xMzMuOXM5LjEtOTEuNSAyNy0xMzMuOWMxNy4zLTQxIDQyLjEtNzcuOCA3My43LTEwOS40IDMxLjYtMzEuNiA2OC40LTU2LjQgMTA5LjMtNzMuOCA0Mi4zLTE3LjkgODcuNC0yNyAxMzMuOC0yNyA0Ni41IDAgOTEuNSA5LjEgMTMzLjggMjdhMzQxLjUgMzQxLjUgMCAwIDEgMTA5LjMgNzMuOGM5LjkgOS45IDE5LjIgMjAuNCAyNy44IDMxLjRsLTYwLjIgNDdhOCA4IDAgMCAwIDMgMTQuMWwxNzUuNiA0M2M1IDEuMiA5LjktMi42IDkuOS03LjdsLjgtMTgwLjljLS4xLTYuNi03LjgtMTAuMy0xMy02LjJ6Ij48L3BhdGg+PC9zdmc+\");\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  background-color: transparent;\n  border: none;\n  cursor: pointer; }\n  .carodaReplayButton.mobile, .carodaReplayButton:hover {\n    opacity: 1; }\n  .carodaReplayButton:after {\n    content: attr(title);\n    position: absolute;\n    top: 60px;\n    left: 50%;\n    transform: translate(-50%, 0);\n    min-width: 100px; }\n\n.carodaReplayButtonErrorMessage {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%); }\n\n.carodaReplayButton:after,\n.carodaReplayButtonErrorMessage {\n  font-size: 10px !important;\n  line-height: 1 !important;\n  font-family: Arial,Helvetica,sans-serif !important; }\n\n.carodaContainer {\n  transition: all 0.6s;\n  position: relative; }\n\n.carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) {\n  font-size: 10px;\n  line-height: 1;\n  font-family: Arial,Helvetica,sans-serif;\n  overflow: hidden; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer {\n    position: relative;\n    overflow: hidden; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:before {\n      display: none;\n      text-align: center;\n      color: #333;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer:not(.loaded) {\n      visibility: hidden;\n      pointer-events: none;\n      position: absolute; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded {\n      margin-top: 5px; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer.loaded:before {\n        display: block; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner {\n      overflow: hidden;\n      text-align: center; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > * > iframe,\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner > * {\n        margin: 0px auto; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaBannerContainer .carodaBanner .teads-inread {\n        height: auto; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer {\n    position: relative;\n    opacity: 0;\n    margin-top: -10px !important;\n    padding: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer:before {\n      display: none;\n      text-align: center;\n      color: #333;\n      text-transform: uppercase;\n      letter-spacing: 1px;\n      font-size: 9px;\n      position: absolute;\n      top: -18px;\n      left: 50%;\n      transform: translate(-50%, 0); }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n      position: absolute !important;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      height: 0;\n      overflow: show;\n      padding-bottom: 56.25% !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner .caroda-player-ima {\n      padding-bottom: 71.8% !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 .caroda-player-ima {\n      padding-bottom: 75% !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical .caroda-player-ima {\n      padding-bottom: 177.78% !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 .caroda-player-ima {\n      padding-bottom: 133.33% !important; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaImaOutstreamPlayer.outstreamFormat-square .caroda-player-ima, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-vast-vpaid, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider) .carodaVvOutstreamPlayer.outstreamFormat-square .caroda-player-ima {\n      padding-bottom: 100% !important; }\n  .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer {\n    margin-top: calc(56.25% + 20px) !important;\n    opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer > *, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer > * {\n      transition: opacity 0.6s ease-out;\n      opacity: 0; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.loaded > *, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.loaded > * {\n      opacity: 1; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer:before {\n      display: block;\n      margin-top: -56.25%; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner {\n      margin-top: calc(71.8% + 20px) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-with-banner:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-with-banner:before {\n        margin-top: -71.28%; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3 {\n      margin-top: calc(75% + 20px) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-horizontal-4-3:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-horizontal-4-3:before {\n        margin-top: -75%; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical {\n      margin-top: calc(177.78% + 20px) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical:before {\n        margin-top: -177.78%; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4 {\n      margin-top: calc(133.33% + 20px) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-vertical-3-4:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-vertical-3-4:before {\n        margin-top: -133.33%; }\n    .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square {\n      margin-top: calc(100% + 20px) !important; }\n      .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaImaOutstreamPlayer.outstreamFormat-square:before, .carodaContainer > .carodaOutstream:not(.carodaOutstreamSlider).adLoaded .carodaVvOutstreamPlayer.outstreamFormat-square:before {\n        margin-top: -100%; }\n\n.carodaContainer > .carodaOutstreamSlider {\n  font-size: 10px;\n  line-height: 1;\n  font-family: Arial,Helvetica,sans-serif;\n  overflow: hidden;\n  position: relative; }\n  .carodaContainer > .carodaOutstreamSlider .sliderSpacer:before {\n    display: none;\n    text-align: center;\n    color: #333;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    top: -15px;\n    left: 50%;\n    transform: translate(-50%, 0); }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer:before {\n    display: block !important; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer {\n    position: relative;\n    background: #000;\n    margin-top: 20px; }\n    .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer.transparent {\n      background: transparent; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal {\n    padding-top: 56.25%; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-horizontal-4-3 {\n    padding-top: 75%; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-square {\n    padding-top: 100%; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical-3-4 {\n    padding-top: 133.33%; }\n  .carodaContainer > .carodaOutstreamSlider.adLoaded .sliderSpacer-vertical {\n    padding-top: 177.78%; }\n  .carodaContainer > .carodaOutstreamSlider.replay-button .sliderSpacer {\n    background: transparent; }\n  .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer,\n  .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer {\n    position: relative;\n    opacity: 0 !important;\n    padding: 0 !important;\n    padding-top: 0 !important;\n    transition: opacity 0.6s ease-out; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer:before,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer:before {\n      display: none; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer.loaded,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer.loaded {\n      opacity: 1 !important; }\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-ima,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-vast-vpaid,\n    .carodaContainer > .carodaOutstreamSlider .carodaImaOutstreamPlayer .caroda-player-ima {\n      position: absolute !important;\n      bottom: 0 !important;\n      left: 0 !important;\n      width: 100% !important;\n      height: 0 !important;\n      overflow: show !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: 56.25% !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-horizontal-4-3 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: 75% !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: 177.78% !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-vertical-3-4 .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: 133.33% !important; }\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaVvOutstreamPlayer .caroda-player-vast-vpaid,\n  .carodaContainer > .carodaOutstreamSlider.format-square .carodaImaOutstreamPlayer .caroda-player-ima {\n    padding-bottom: 100% !important; }\n\n.carodaInstream:not(.carodaFullscreen), .carodaInstreamWithPositions:not(.carodaFullscreen) {\n  position: relative; }\n\n.carodaInstream .carodaImaOutstreamPlayer, .carodaInstream .carodaVvOutstreamPlayer, .carodaInstreamWithPositions .carodaImaOutstreamPlayer, .carodaInstreamWithPositions .carodaVvOutstreamPlayer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  opacity: 0; }\n  .carodaInstream .carodaImaOutstreamPlayer.loaded, .carodaInstream .carodaVvOutstreamPlayer.loaded, .carodaInstreamWithPositions .carodaImaOutstreamPlayer.loaded, .carodaInstreamWithPositions .carodaVvOutstreamPlayer.loaded {\n    opacity: 1; }\n  .carodaInstream .carodaImaOutstreamPlayer .caroda-player-ima, .carodaInstream .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstream .carodaVvOutstreamPlayer .caroda-player-ima, .carodaInstream .carodaVvOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-ima, .carodaInstreamWithPositions .carodaImaOutstreamPlayer .caroda-player-vast-vpaid, .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-ima, .carodaInstreamWithPositions .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n    height: 100%;\n    padding-bottom: 0 !important; }\n\n.carodaInstream.adLoaded .caroda-player-content, .carodaInstreamWithPositions.adLoaded .caroda-player-content {\n  padding-bottom: 56% !important; }\n\n.carodaInstreamWithPositions {\n  z-index: 10;\n  background: transparent; }\n\n.carodaSmartclipContainer:before {\n  display: none; }\n\n.carodaSmartclipContainer.loaded {\n  max-width: 100% !important;\n  width: 400px;\n  height: 240px !important;\n  margin: auto;\n  margin-top: 20px; }\n  .carodaSmartclipContainer.loaded:before {\n    display: block;\n    text-align: center;\n    color: #333;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 9px;\n    position: absolute;\n    left: 0;\n    right: 0; }\n  .carodaSmartclipContainer.loaded > * {\n    max-width: 100% !important;\n    top: 15px !important; }\n  .carodaSmartclipContainer.loaded .OutstreamPlayer__advertisementlabel {\n    display: none; }\n\n.carodaMultiPosition {\n  transition: all 0.6s, top 0s, left 0s, width 0s, height 0s; }\n\n.carodaMultiPositionPlaceholder {\n  border: 0;\n  margin: 0;\n  padding: 0;\n  outline: 0;\n  height: 0; }\n\n.carodaMultiPositionPlaceholderStickySentinel {\n  height: 1px;\n  width: 1px;\n  float: right;\n  margin-left: -1px; }\n\n.carodaTeadsPrebid .teads-ui-components-label {\n  display: none !important; }\n";
        // element-closest | CC0-1.0 | github.com/jonathantneal/closest

        (function(ElementProto) {
                if (typeof ElementProto.matches !== 'function') {
                    ElementProto.matches = ElementProto.msMatchesSelector || ElementProto.mozMatchesSelector || ElementProto.webkitMatchesSelector || function matches(selector) {
                        var element = this;
                        var elements = (element.document || element.ownerDocument).querySelectorAll(selector);
                        var index = 0;

                        while (elements[index] && elements[index] !== element) {
                            ++index;
                        }

                        return Boolean(elements[index]);
                    }
                    ;
                }

                if (typeof ElementProto.closest !== 'function') {
                    ElementProto.closest = function closest(selector) {
                        var element = this;

                        while (element && element.nodeType === 1) {
                            if (element.matches(selector)) {
                                return element;
                            }

                            element = element.parentNode;
                        }

                        return null;
                    }
                    ;
                }
            }
        )(window.Element.prototype);
        ;if (!window._babelPolyfill && !window.carodaDisableBabelPolyfill) {
            !function e(t, n, r) {
                function s(o, u) {
                    if (!n[o]) {
                        if (!t[o]) {
                            var c = "function" == typeof require && require;
                            if (!u && c)
                                return c(o, !0);
                            if (i)
                                return i(o, !0);
                            var a = new Error("Cannot find module '" + o + "'");
                            throw a.code = "MODULE_NOT_FOUND",
                                a
                        }
                        var f = n[o] = {
                            exports: {}
                        };
                        t[o][0].call(f.exports, function(n) {
                            var r = t[o][1][n];
                            return s(r || n)
                        }, f, f.exports, e, t, n, r)
                    }
                    return n[o].exports
                }
                for (var i = "function" == typeof require && require, o = 0; o < r.length; o++)
                    s(r[o]);
                return s
            }({
                1: [function(t, n, r) {
                    (function(n) {
                            "use strict";
                            function define(t, n, e) {
                                t[n] || Object[r](t, n, {
                                    writable: !0,
                                    configurable: !0,
                                    value: e
                                })
                            }
                            if (t(327),
                                t(328),
                                t(2),
                                n._babelPolyfill)
                                throw new Error("only one instance of babel-polyfill is allowed");
                            n._babelPolyfill = !0;
                            var r = "defineProperty";
                            define(String.prototype, "padLeft", "".padStart),
                                define(String.prototype, "padRight", "".padEnd),
                                "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t) {
                                    [][t] && define(Array, t, Function.call.bind([][t]))
                                })
                        }
                    ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }
                    , {
                        2: 2,
                        327: 327,
                        328: 328
                    }],
                2: [function(t, n, r) {
                    t(130),
                        n.exports = t(23).RegExp.escape
                }
                    , {
                        130: 130,
                        23: 23
                    }],
                3: [function(t, n, r) {
                    n.exports = function(t) {
                        if ("function" != typeof t)
                            throw TypeError(t + " is not a function!");
                        return t
                    }
                }
                    , {}],
                4: [function(t, n, r) {
                    var e = t(18);
                    n.exports = function(t, n) {
                        if ("number" != typeof t && "Number" != e(t))
                            throw TypeError(n);
                        return +t
                    }
                }
                    , {
                        18: 18
                    }],
                5: [function(t, n, r) {
                    var e = t(128)("unscopables")
                        , i = Array.prototype;
                    void 0 == i[e] && t(42)(i, e, {}),
                        n.exports = function(t) {
                            i[e][t] = !0
                        }
                }
                    , {
                        128: 128,
                        42: 42
                    }],
                6: [function(t, n, r) {
                    n.exports = function(t, n, r, e) {
                        if (!(t instanceof n) || void 0 !== e && e in t)
                            throw TypeError(r + ": incorrect invocation!");
                        return t
                    }
                }
                    , {}],
                7: [function(t, n, r) {
                    var e = t(51);
                    n.exports = function(t) {
                        if (!e(t))
                            throw TypeError(t + " is not an object!");
                        return t
                    }
                }
                    , {
                        51: 51
                    }],
                8: [function(t, n, r) {
                    "use strict";
                    var e = t(119)
                        , i = t(114)
                        , o = t(118);
                    n.exports = [].copyWithin || function copyWithin(t, n) {
                        var r = e(this)
                            , u = o(r.length)
                            , c = i(t, u)
                            , a = i(n, u)
                            , f = arguments.length > 2 ? arguments[2] : void 0
                            , s = Math.min((void 0 === f ? u : i(f, u)) - a, u - c)
                            , l = 1;
                        for (a < c && c < a + s && (l = -1,
                            a += s - 1,
                            c += s - 1); s-- > 0; )
                            a in r ? r[c] = r[a] : delete r[c],
                                c += l,
                                a += l;
                        return r
                    }
                }
                    , {
                        114: 114,
                        118: 118,
                        119: 119
                    }],
                9: [function(t, n, r) {
                    "use strict";
                    var e = t(119)
                        , i = t(114)
                        , o = t(118);
                    n.exports = function fill(t) {
                        for (var n = e(this), r = o(n.length), u = arguments.length, c = i(u > 1 ? arguments[1] : void 0, r), a = u > 2 ? arguments[2] : void 0, f = void 0 === a ? r : i(a, r); f > c; )
                            n[c++] = t;
                        return n
                    }
                }
                    , {
                        114: 114,
                        118: 118,
                        119: 119
                    }],
                10: [function(t, n, r) {
                    var e = t(39);
                    n.exports = function(t, n) {
                        var r = [];
                        return e(t, !1, r.push, r, n),
                            r
                    }
                }
                    , {
                        39: 39
                    }],
                11: [function(t, n, r) {
                    var e = t(117)
                        , i = t(118)
                        , o = t(114);
                    n.exports = function(t) {
                        return function(n, r, u) {
                            var c, a = e(n), f = i(a.length), s = o(u, f);
                            if (t && r != r) {
                                for (; f > s; )
                                    if ((c = a[s++]) != c)
                                        return !0
                            } else
                                for (; f > s; s++)
                                    if ((t || s in a) && a[s] === r)
                                        return t || s || 0;
                            return !t && -1
                        }
                    }
                }
                    , {
                        114: 114,
                        117: 117,
                        118: 118
                    }],
                12: [function(t, n, r) {
                    var e = t(25)
                        , i = t(47)
                        , o = t(119)
                        , u = t(118)
                        , c = t(15);
                    n.exports = function(t, n) {
                        var r = 1 == t
                            , a = 2 == t
                            , f = 3 == t
                            , s = 4 == t
                            , l = 6 == t
                            , h = 5 == t || l
                            , v = n || c;
                        return function(n, c, p) {
                            for (var d, y, g = o(n), m = i(g), b = e(c, p, 3), x = u(m.length), S = 0, w = r ? v(n, x) : a ? v(n, 0) : void 0; x > S; S++)
                                if ((h || S in m) && (d = m[S],
                                    y = b(d, S, g),
                                    t))
                                    if (r)
                                        w[S] = y;
                                    else if (y)
                                        switch (t) {
                                            case 3:
                                                return !0;
                                            case 5:
                                                return d;
                                            case 6:
                                                return S;
                                            case 2:
                                                w.push(d)
                                        }
                                    else if (s)
                                        return !1;
                            return l ? -1 : f || s ? s : w
                        }
                    }
                }
                    , {
                        118: 118,
                        119: 119,
                        15: 15,
                        25: 25,
                        47: 47
                    }],
                13: [function(t, n, r) {
                    var e = t(3)
                        , i = t(119)
                        , o = t(47)
                        , u = t(118);
                    n.exports = function(t, n, r, c, a) {
                        e(n);
                        var f = i(t)
                            , s = o(f)
                            , l = u(f.length)
                            , h = a ? l - 1 : 0
                            , v = a ? -1 : 1;
                        if (r < 2)
                            for (; ; ) {
                                if (h in s) {
                                    c = s[h],
                                        h += v;
                                    break
                                }
                                if (h += v,
                                    a ? h < 0 : l <= h)
                                    throw TypeError("Reduce of empty array with no initial value")
                            }
                        for (; a ? h >= 0 : l > h; h += v)
                            h in s && (c = n(c, s[h], h, f));
                        return c
                    }
                }
                    , {
                        118: 118,
                        119: 119,
                        3: 3,
                        47: 47
                    }],
                14: [function(t, n, r) {
                    var e = t(51)
                        , i = t(49)
                        , o = t(128)("species");
                    n.exports = function(t) {
                        var n;
                        return i(t) && (n = t.constructor,
                        "function" != typeof n || n !== Array && !i(n.prototype) || (n = void 0),
                        e(n) && null === (n = n[o]) && (n = void 0)),
                            void 0 === n ? Array : n
                    }
                }
                    , {
                        128: 128,
                        49: 49,
                        51: 51
                    }],
                15: [function(t, n, r) {
                    var e = t(14);
                    n.exports = function(t, n) {
                        return new (e(t))(n)
                    }
                }
                    , {
                        14: 14
                    }],
                16: [function(t, n, r) {
                    "use strict";
                    var e = t(3)
                        , i = t(51)
                        , o = t(46)
                        , u = [].slice
                        , c = {}
                        , a = function(t, n, r) {
                        if (!(n in c)) {
                            for (var e = [], i = 0; i < n; i++)
                                e[i] = "a[" + i + "]";
                            c[n] = Function("F,a", "return new F(" + e.join(",") + ")")
                        }
                        return c[n](t, r)
                    };
                    n.exports = Function.bind || function bind(t) {
                        var n = e(this)
                            , r = u.call(arguments, 1)
                            , c = function() {
                            var e = r.concat(u.call(arguments));
                            return this instanceof c ? a(n, e.length, e) : o(n, e, t)
                        };
                        return i(n.prototype) && (c.prototype = n.prototype),
                            c
                    }
                }
                    , {
                        3: 3,
                        46: 46,
                        51: 51
                    }],
                17: [function(t, n, r) {
                    var e = t(18)
                        , i = t(128)("toStringTag")
                        , o = "Arguments" == e(function() {
                        return arguments
                    }())
                        , u = function(t, n) {
                        try {
                            return t[n]
                        } catch (t) {}
                    };
                    n.exports = function(t) {
                        var n, r, c;
                        return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (r = u(n = Object(t), i)) ? r : o ? e(n) : "Object" == (c = e(n)) && "function" == typeof n.callee ? "Arguments" : c
                    }
                }
                    , {
                        128: 128,
                        18: 18
                    }],
                18: [function(t, n, r) {
                    var e = {}.toString;
                    n.exports = function(t) {
                        return e.call(t).slice(8, -1)
                    }
                }
                    , {}],
                19: [function(t, n, r) {
                    "use strict";
                    var e = t(72).f
                        , i = t(71)
                        , o = t(93)
                        , u = t(25)
                        , c = t(6)
                        , a = t(39)
                        , f = t(55)
                        , s = t(57)
                        , l = t(100)
                        , h = t(29)
                        , v = t(66).fastKey
                        , p = t(125)
                        , d = h ? "_s" : "size"
                        , y = function(t, n) {
                        var r, e = v(n);
                        if ("F" !== e)
                            return t._i[e];
                        for (r = t._f; r; r = r.n)
                            if (r.k == n)
                                return r
                    };
                    n.exports = {
                        getConstructor: function(t, n, r, f) {
                            var s = t(function(t, e) {
                                c(t, s, n, "_i"),
                                    t._t = n,
                                    t._i = i(null),
                                    t._f = void 0,
                                    t._l = void 0,
                                    t[d] = 0,
                                void 0 != e && a(e, r, t[f], t)
                            });
                            return o(s.prototype, {
                                clear: function clear() {
                                    for (var t = p(this, n), r = t._i, e = t._f; e; e = e.n)
                                        e.r = !0,
                                        e.p && (e.p = e.p.n = void 0),
                                            delete r[e.i];
                                    t._f = t._l = void 0,
                                        t[d] = 0
                                },
                                delete: function(t) {
                                    var r = p(this, n)
                                        , e = y(r, t);
                                    if (e) {
                                        var i = e.n
                                            , o = e.p;
                                        delete r._i[e.i],
                                            e.r = !0,
                                        o && (o.n = i),
                                        i && (i.p = o),
                                        r._f == e && (r._f = i),
                                        r._l == e && (r._l = o),
                                            r[d]--
                                    }
                                    return !!e
                                },
                                forEach: function forEach(t) {
                                    p(this, n);
                                    for (var r, e = u(t, arguments.length > 1 ? arguments[1] : void 0, 3); r = r ? r.n : this._f; )
                                        for (e(r.v, r.k, this); r && r.r; )
                                            r = r.p
                                },
                                has: function has(t) {
                                    return !!y(p(this, n), t)
                                }
                            }),
                            h && e(s.prototype, "size", {
                                get: function() {
                                    return p(this, n)[d]
                                }
                            }),
                                s
                        },
                        def: function(t, n, r) {
                            var e, i, o = y(t, n);
                            return o ? o.v = r : (t._l = o = {
                                i: i = v(n, !0),
                                k: n,
                                v: r,
                                p: e = t._l,
                                n: void 0,
                                r: !1
                            },
                            t._f || (t._f = o),
                            e && (e.n = o),
                                t[d]++,
                            "F" !== i && (t._i[i] = o)),
                                t
                        },
                        getEntry: y,
                        setStrong: function(t, n, r) {
                            f(t, n, function(t, r) {
                                this._t = p(t, n),
                                    this._k = r,
                                    this._l = void 0
                            }, function() {
                                for (var t = this, n = t._k, r = t._l; r && r.r; )
                                    r = r.p;
                                return t._t && (t._l = r = r ? r.n : t._t._f) ? "keys" == n ? s(0, r.k) : "values" == n ? s(0, r.v) : s(0, [r.k, r.v]) : (t._t = void 0,
                                    s(1))
                            }, r ? "entries" : "values", !r, !0),
                                l(n)
                        }
                    }
                }
                    , {
                        100: 100,
                        125: 125,
                        25: 25,
                        29: 29,
                        39: 39,
                        55: 55,
                        57: 57,
                        6: 6,
                        66: 66,
                        71: 71,
                        72: 72,
                        93: 93
                    }],
                20: [function(t, n, r) {
                    var e = t(17)
                        , i = t(10);
                    n.exports = function(t) {
                        return function toJSON() {
                            if (e(this) != t)
                                throw TypeError(t + "#toJSON isn't generic");
                            return i(this)
                        }
                    }
                }
                    , {
                        10: 10,
                        17: 17
                    }],
                21: [function(t, n, r) {
                    "use strict";
                    var e = t(93)
                        , i = t(66).getWeak
                        , o = t(7)
                        , u = t(51)
                        , c = t(6)
                        , a = t(39)
                        , f = t(12)
                        , s = t(41)
                        , l = t(125)
                        , h = f(5)
                        , v = f(6)
                        , p = 0
                        , d = function(t) {
                        return t._l || (t._l = new y)
                    }
                        , y = function() {
                        this.a = []
                    }
                        , g = function(t, n) {
                        return h(t.a, function(t) {
                            return t[0] === n
                        })
                    };
                    y.prototype = {
                        get: function(t) {
                            var n = g(this, t);
                            if (n)
                                return n[1]
                        },
                        has: function(t) {
                            return !!g(this, t)
                        },
                        set: function(t, n) {
                            var r = g(this, t);
                            r ? r[1] = n : this.a.push([t, n])
                        },
                        delete: function(t) {
                            var n = v(this.a, function(n) {
                                return n[0] === t
                            });
                            return ~n && this.a.splice(n, 1),
                                !!~n
                        }
                    },
                        n.exports = {
                            getConstructor: function(t, n, r, o) {
                                var f = t(function(t, e) {
                                    c(t, f, n, "_i"),
                                        t._t = n,
                                        t._i = p++,
                                        t._l = void 0,
                                    void 0 != e && a(e, r, t[o], t)
                                });
                                return e(f.prototype, {
                                    delete: function(t) {
                                        if (!u(t))
                                            return !1;
                                        var r = i(t);
                                        return !0 === r ? d(l(this, n)).delete(t) : r && s(r, this._i) && delete r[this._i]
                                    },
                                    has: function has(t) {
                                        if (!u(t))
                                            return !1;
                                        var r = i(t);
                                        return !0 === r ? d(l(this, n)).has(t) : r && s(r, this._i)
                                    }
                                }),
                                    f
                            },
                            def: function(t, n, r) {
                                var e = i(o(n), !0);
                                return !0 === e ? d(t).set(n, r) : e[t._i] = r,
                                    t
                            },
                            ufstore: d
                        }
                }
                    , {
                        12: 12,
                        125: 125,
                        39: 39,
                        41: 41,
                        51: 51,
                        6: 6,
                        66: 66,
                        7: 7,
                        93: 93
                    }],
                22: [function(t, n, r) {
                    "use strict";
                    var e = t(40)
                        , i = t(33)
                        , o = t(94)
                        , u = t(93)
                        , c = t(66)
                        , a = t(39)
                        , f = t(6)
                        , s = t(51)
                        , l = t(35)
                        , h = t(56)
                        , v = t(101)
                        , p = t(45);
                    n.exports = function(t, n, r, d, y, g) {
                        var m = e[t]
                            , b = m
                            , x = y ? "set" : "add"
                            , S = b && b.prototype
                            , w = {}
                            , _ = function(t) {
                            var n = S[t];
                            o(S, t, "delete" == t ? function(t) {
                                    return !(g && !s(t)) && n.call(this, 0 === t ? 0 : t)
                                }
                                : "has" == t ? function has(t) {
                                        return !(g && !s(t)) && n.call(this, 0 === t ? 0 : t)
                                    }
                                    : "get" == t ? function get(t) {
                                            return g && !s(t) ? void 0 : n.call(this, 0 === t ? 0 : t)
                                        }
                                        : "add" == t ? function add(t) {
                                                return n.call(this, 0 === t ? 0 : t),
                                                    this
                                            }
                                            : function set(t, r) {
                                                return n.call(this, 0 === t ? 0 : t, r),
                                                    this
                                            }
                            )
                        };
                        if ("function" == typeof b && (g || S.forEach && !l(function() {
                            (new b).entries().next()
                        }))) {
                            var E = new b
                                , O = E[x](g ? {} : -0, 1) != E
                                , P = l(function() {
                                E.has(1)
                            })
                                , M = h(function(t) {
                                new b(t)
                            })
                                , F = !g && l(function() {
                                for (var t = new b, n = 5; n--; )
                                    t[x](n, n);
                                return !t.has(-0)
                            });
                            M || (b = n(function(n, r) {
                                f(n, b, t);
                                var e = p(new m, n, b);
                                return void 0 != r && a(r, y, e[x], e),
                                    e
                            }),
                                b.prototype = S,
                                S.constructor = b),
                            (P || F) && (_("delete"),
                                _("has"),
                            y && _("get")),
                            (F || O) && _(x),
                            g && S.clear && delete S.clear
                        } else
                            b = d.getConstructor(n, t, y, x),
                                u(b.prototype, r),
                                c.NEED = !0;
                        return v(b, t),
                            w[t] = b,
                            i(i.G + i.W + i.F * (b != m), w),
                        g || d.setStrong(b, t, y),
                            b
                    }
                }
                    , {
                        101: 101,
                        33: 33,
                        35: 35,
                        39: 39,
                        40: 40,
                        45: 45,
                        51: 51,
                        56: 56,
                        6: 6,
                        66: 66,
                        93: 93,
                        94: 94
                    }],
                23: [function(t, n, r) {
                    var e = n.exports = {
                        version: "2.5.0"
                    };
                    "number" == typeof __e && (__e = e)
                }
                    , {}],
                24: [function(t, n, r) {
                    "use strict";
                    var e = t(72)
                        , i = t(92);
                    n.exports = function(t, n, r) {
                        n in t ? e.f(t, n, i(0, r)) : t[n] = r
                    }
                }
                    , {
                        72: 72,
                        92: 92
                    }],
                25: [function(t, n, r) {
                    var e = t(3);
                    n.exports = function(t, n, r) {
                        if (e(t),
                        void 0 === n)
                            return t;
                        switch (r) {
                            case 1:
                                return function(r) {
                                    return t.call(n, r)
                                }
                                    ;
                            case 2:
                                return function(r, e) {
                                    return t.call(n, r, e)
                                }
                                    ;
                            case 3:
                                return function(r, e, i) {
                                    return t.call(n, r, e, i)
                                }
                        }
                        return function() {
                            return t.apply(n, arguments)
                        }
                    }
                }
                    , {
                        3: 3
                    }],
                26: [function(t, n, r) {
                    "use strict";
                    var e = t(35)
                        , i = Date.prototype.getTime
                        , o = Date.prototype.toISOString
                        , u = function(t) {
                        return t > 9 ? t : "0" + t
                    };
                    n.exports = e(function() {
                        return "0385-07-25T07:06:39.999Z" != o.call(new Date(-5e13 - 1))
                    }) || !e(function() {
                        o.call(new Date(NaN))
                    }) ? function toISOString() {
                            if (!isFinite(i.call(this)))
                                throw RangeError("Invalid time value");
                            var t = this
                                , n = t.getUTCFullYear()
                                , r = t.getUTCMilliseconds()
                                , e = n < 0 ? "-" : n > 9999 ? "+" : "";
                            return e + ("00000" + Math.abs(n)).slice(e ? -6 : -4) + "-" + u(t.getUTCMonth() + 1) + "-" + u(t.getUTCDate()) + "T" + u(t.getUTCHours()) + ":" + u(t.getUTCMinutes()) + ":" + u(t.getUTCSeconds()) + "." + (r > 99 ? r : "0" + u(r)) + "Z"
                        }
                        : o
                }
                    , {
                        35: 35
                    }],
                27: [function(t, n, r) {
                    "use strict";
                    var e = t(7)
                        , i = t(120);
                    n.exports = function(t) {
                        if ("string" !== t && "number" !== t && "default" !== t)
                            throw TypeError("Incorrect hint");
                        return i(e(this), "number" != t)
                    }
                }
                    , {
                        120: 120,
                        7: 7
                    }],
                28: [function(t, n, r) {
                    n.exports = function(t) {
                        if (void 0 == t)
                            throw TypeError("Can't call method on  " + t);
                        return t
                    }
                }
                    , {}],
                29: [function(t, n, r) {
                    n.exports = !t(35)(function() {
                        return 7 != Object.defineProperty({}, "a", {
                            get: function() {
                                return 7
                            }
                        }).a
                    })
                }
                    , {
                        35: 35
                    }],
                30: [function(t, n, r) {
                    var e = t(51)
                        , i = t(40).document
                        , o = e(i) && e(i.createElement);
                    n.exports = function(t) {
                        return o ? i.createElement(t) : {}
                    }
                }
                    , {
                        40: 40,
                        51: 51
                    }],
                31: [function(t, n, r) {
                    n.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
                }
                    , {}],
                32: [function(t, n, r) {
                    var e = t(81)
                        , i = t(78)
                        , o = t(82);
                    n.exports = function(t) {
                        var n = e(t)
                            , r = i.f;
                        if (r)
                            for (var u, c = r(t), a = o.f, f = 0; c.length > f; )
                                a.call(t, u = c[f++]) && n.push(u);
                        return n
                    }
                }
                    , {
                        78: 78,
                        81: 81,
                        82: 82
                    }],
                33: [function(t, n, r) {
                    var e = t(40)
                        , i = t(23)
                        , o = t(42)
                        , u = t(94)
                        , c = t(25)
                        , a = function(t, n, r) {
                        var f, s, l, h, v = t & a.F, p = t & a.G, d = t & a.S, y = t & a.P, g = t & a.B, m = p ? e : d ? e[n] || (e[n] = {}) : (e[n] || {}).prototype, b = p ? i : i[n] || (i[n] = {}), x = b.prototype || (b.prototype = {});
                        p && (r = n);
                        for (f in r)
                            s = !v && m && void 0 !== m[f],
                                l = (s ? m : r)[f],
                                h = g && s ? c(l, e) : y && "function" == typeof l ? c(Function.call, l) : l,
                            m && u(m, f, l, t & a.U),
                            b[f] != l && o(b, f, h),
                            y && x[f] != l && (x[f] = l)
                    };
                    e.core = i,
                        a.F = 1,
                        a.G = 2,
                        a.S = 4,
                        a.P = 8,
                        a.B = 16,
                        a.W = 32,
                        a.U = 64,
                        a.R = 128,
                        n.exports = a
                }
                    , {
                        23: 23,
                        25: 25,
                        40: 40,
                        42: 42,
                        94: 94
                    }],
                34: [function(t, n, r) {
                    var e = t(128)("match");
                    n.exports = function(t) {
                        var n = /./;
                        try {
                            "/./"[t](n)
                        } catch (r) {
                            try {
                                return n[e] = !1,
                                    !"/./"[t](n)
                            } catch (t) {}
                        }
                        return !0
                    }
                }
                    , {
                        128: 128
                    }],
                35: [function(t, n, r) {
                    n.exports = function(t) {
                        try {
                            return !!t()
                        } catch (t) {
                            return !0
                        }
                    }
                }
                    , {}],
                36: [function(t, n, r) {
                    "use strict";
                    var e = t(42)
                        , i = t(94)
                        , o = t(35)
                        , u = t(28)
                        , c = t(128);
                    n.exports = function(t, n, r) {
                        var a = c(t)
                            , f = r(u, a, ""[t])
                            , s = f[0]
                            , l = f[1];
                        o(function() {
                            var n = {};
                            return n[a] = function() {
                                return 7
                            }
                                ,
                            7 != ""[t](n)
                        }) && (i(String.prototype, t, s),
                            e(RegExp.prototype, a, 2 == n ? function(t, n) {
                                    return l.call(t, this, n)
                                }
                                : function(t) {
                                    return l.call(t, this)
                                }
                            ))
                    }
                }
                    , {
                        128: 128,
                        28: 28,
                        35: 35,
                        42: 42,
                        94: 94
                    }],
                37: [function(t, n, r) {
                    "use strict";
                    var e = t(7);
                    n.exports = function() {
                        var t = e(this)
                            , n = "";
                        return t.global && (n += "g"),
                        t.ignoreCase && (n += "i"),
                        t.multiline && (n += "m"),
                        t.unicode && (n += "u"),
                        t.sticky && (n += "y"),
                            n
                    }
                }
                    , {
                        7: 7
                    }],
                38: [function(t, n, r) {
                    "use strict";
                    function flattenIntoArray(t, n, r, a, f, s, l, h) {
                        for (var v, p, d = f, y = 0, g = !!l && u(l, h, 3); y < a; ) {
                            if (y in r) {
                                if (v = g ? g(r[y], y, n) : r[y],
                                    p = !1,
                                i(v) && (p = v[c],
                                    p = void 0 !== p ? !!p : e(v)),
                                p && s > 0)
                                    d = flattenIntoArray(t, n, v, o(v.length), d, s - 1) - 1;
                                else {
                                    if (d >= 9007199254740991)
                                        throw TypeError();
                                    t[d] = v
                                }
                                d++
                            }
                            y++
                        }
                        return d
                    }
                    var e = t(49)
                        , i = t(51)
                        , o = t(118)
                        , u = t(25)
                        , c = t(128)("isConcatSpreadable");
                    n.exports = flattenIntoArray
                }
                    , {
                        118: 118,
                        128: 128,
                        25: 25,
                        49: 49,
                        51: 51
                    }],
                39: [function(t, n, r) {
                    var e = t(25)
                        , i = t(53)
                        , o = t(48)
                        , u = t(7)
                        , c = t(118)
                        , a = t(129)
                        , f = {}
                        , s = {}
                        , r = n.exports = function(t, n, r, l, h) {
                            var v, p, d, y, g = h ? function() {
                                    return t
                                }
                                : a(t), m = e(r, l, n ? 2 : 1), b = 0;
                            if ("function" != typeof g)
                                throw TypeError(t + " is not iterable!");
                            if (o(g)) {
                                for (v = c(t.length); v > b; b++)
                                    if ((y = n ? m(u(p = t[b])[0], p[1]) : m(t[b])) === f || y === s)
                                        return y
                            } else
                                for (d = g.call(t); !(p = d.next()).done; )
                                    if ((y = i(d, m, p.value, n)) === f || y === s)
                                        return y
                        }
                    ;
                    r.BREAK = f,
                        r.RETURN = s
                }
                    , {
                        118: 118,
                        129: 129,
                        25: 25,
                        48: 48,
                        53: 53,
                        7: 7
                    }],
                40: [function(t, n, r) {
                    var e = n.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")();
                    "number" == typeof __g && (__g = e)
                }
                    , {}],
                41: [function(t, n, r) {
                    var e = {}.hasOwnProperty;
                    n.exports = function(t, n) {
                        return e.call(t, n)
                    }
                }
                    , {}],
                42: [function(t, n, r) {
                    var e = t(72)
                        , i = t(92);
                    n.exports = t(29) ? function(t, n, r) {
                            return e.f(t, n, i(1, r))
                        }
                        : function(t, n, r) {
                            return t[n] = r,
                                t
                        }
                }
                    , {
                        29: 29,
                        72: 72,
                        92: 92
                    }],
                43: [function(t, n, r) {
                    var e = t(40).document;
                    n.exports = e && e.documentElement
                }
                    , {
                        40: 40
                    }],
                44: [function(t, n, r) {
                    n.exports = !t(29) && !t(35)(function() {
                        return 7 != Object.defineProperty(t(30)("div"), "a", {
                            get: function() {
                                return 7
                            }
                        }).a
                    })
                }
                    , {
                        29: 29,
                        30: 30,
                        35: 35
                    }],
                45: [function(t, n, r) {
                    var e = t(51)
                        , i = t(99).set;
                    n.exports = function(t, n, r) {
                        var o, u = n.constructor;
                        return u !== r && "function" == typeof u && (o = u.prototype) !== r.prototype && e(o) && i && i(t, o),
                            t
                    }
                }
                    , {
                        51: 51,
                        99: 99
                    }],
                46: [function(t, n, r) {
                    n.exports = function(t, n, r) {
                        var e = void 0 === r;
                        switch (n.length) {
                            case 0:
                                return e ? t() : t.call(r);
                            case 1:
                                return e ? t(n[0]) : t.call(r, n[0]);
                            case 2:
                                return e ? t(n[0], n[1]) : t.call(r, n[0], n[1]);
                            case 3:
                                return e ? t(n[0], n[1], n[2]) : t.call(r, n[0], n[1], n[2]);
                            case 4:
                                return e ? t(n[0], n[1], n[2], n[3]) : t.call(r, n[0], n[1], n[2], n[3])
                        }
                        return t.apply(r, n)
                    }
                }
                    , {}],
                47: [function(t, n, r) {
                    var e = t(18);
                    n.exports = Object("z").propertyIsEnumerable(0) ? Object : function(t) {
                        return "String" == e(t) ? t.split("") : Object(t)
                    }
                }
                    , {
                        18: 18
                    }],
                48: [function(t, n, r) {
                    var e = t(58)
                        , i = t(128)("iterator")
                        , o = Array.prototype;
                    n.exports = function(t) {
                        return void 0 !== t && (e.Array === t || o[i] === t)
                    }
                }
                    , {
                        128: 128,
                        58: 58
                    }],
                49: [function(t, n, r) {
                    var e = t(18);
                    n.exports = Array.isArray || function isArray(t) {
                        return "Array" == e(t)
                    }
                }
                    , {
                        18: 18
                    }],
                50: [function(t, n, r) {
                    var e = t(51)
                        , i = Math.floor;
                    n.exports = function isInteger(t) {
                        return !e(t) && isFinite(t) && i(t) === t
                    }
                }
                    , {
                        51: 51
                    }],
                51: [function(t, n, r) {
                    n.exports = function(t) {
                        return "object" == typeof t ? null !== t : "function" == typeof t
                    }
                }
                    , {}],
                52: [function(t, n, r) {
                    var e = t(51)
                        , i = t(18)
                        , o = t(128)("match");
                    n.exports = function(t) {
                        var n;
                        return e(t) && (void 0 !== (n = t[o]) ? !!n : "RegExp" == i(t))
                    }
                }
                    , {
                        128: 128,
                        18: 18,
                        51: 51
                    }],
                53: [function(t, n, r) {
                    var e = t(7);
                    n.exports = function(t, n, r, i) {
                        try {
                            return i ? n(e(r)[0], r[1]) : n(r)
                        } catch (n) {
                            var o = t.return;
                            throw void 0 !== o && e(o.call(t)),
                                n
                        }
                    }
                }
                    , {
                        7: 7
                    }],
                54: [function(t, n, r) {
                    "use strict";
                    var e = t(71)
                        , i = t(92)
                        , o = t(101)
                        , u = {};
                    t(42)(u, t(128)("iterator"), function() {
                        return this
                    }),
                        n.exports = function(t, n, r) {
                            t.prototype = e(u, {
                                next: i(1, r)
                            }),
                                o(t, n + " Iterator")
                        }
                }
                    , {
                        101: 101,
                        128: 128,
                        42: 42,
                        71: 71,
                        92: 92
                    }],
                55: [function(t, n, r) {
                    "use strict";
                    var e = t(60)
                        , i = t(33)
                        , o = t(94)
                        , u = t(42)
                        , c = t(41)
                        , a = t(58)
                        , f = t(54)
                        , s = t(101)
                        , l = t(79)
                        , h = t(128)("iterator")
                        , v = !([].keys && "next"in [].keys())
                        , p = function() {
                        return this
                    };
                    n.exports = function(t, n, r, d, y, g, m) {
                        f(r, n, d);
                        var b, x, S, w = function(t) {
                            if (!v && t in P)
                                return P[t];
                            switch (t) {
                                case "keys":
                                    return function keys() {
                                        return new r(this,t)
                                    }
                                        ;
                                case "values":
                                    return function values() {
                                        return new r(this,t)
                                    }
                            }
                            return function entries() {
                                return new r(this,t)
                            }
                        }, _ = n + " Iterator", E = "values" == y, O = !1, P = t.prototype, M = P[h] || P["@@iterator"] || y && P[y], F = M || w(y), I = y ? E ? w("entries") : F : void 0, A = "Array" == n ? P.entries || M : M;
                        if (A && (S = l(A.call(new t))) !== Object.prototype && S.next && (s(S, _, !0),
                        e || c(S, h) || u(S, h, p)),
                        E && M && "values" !== M.name && (O = !0,
                                F = function values() {
                                    return M.call(this)
                                }
                        ),
                        e && !m || !v && !O && P[h] || u(P, h, F),
                            a[n] = F,
                            a[_] = p,
                            y)
                            if (b = {
                                values: E ? F : w("values"),
                                keys: g ? F : w("keys"),
                                entries: I
                            },
                                m)
                                for (x in b)
                                    x in P || o(P, x, b[x]);
                            else
                                i(i.P + i.F * (v || O), n, b);
                        return b
                    }
                }
                    , {
                        101: 101,
                        128: 128,
                        33: 33,
                        41: 41,
                        42: 42,
                        54: 54,
                        58: 58,
                        60: 60,
                        79: 79,
                        94: 94
                    }],
                56: [function(t, n, r) {
                    var e = t(128)("iterator")
                        , i = !1;
                    try {
                        var o = [7][e]();
                        o.return = function() {
                            i = !0
                        }
                            ,
                            Array.from(o, function() {
                                throw 2
                            })
                    } catch (t) {}
                    n.exports = function(t, n) {
                        if (!n && !i)
                            return !1;
                        var r = !1;
                        try {
                            var o = [7]
                                , u = o[e]();
                            u.next = function() {
                                return {
                                    done: r = !0
                                }
                            }
                                ,
                                o[e] = function() {
                                    return u
                                }
                                ,
                                t(o)
                        } catch (t) {}
                        return r
                    }
                }
                    , {
                        128: 128
                    }],
                57: [function(t, n, r) {
                    n.exports = function(t, n) {
                        return {
                            value: n,
                            done: !!t
                        }
                    }
                }
                    , {}],
                58: [function(t, n, r) {
                    n.exports = {}
                }
                    , {}],
                59: [function(t, n, r) {
                    var e = t(81)
                        , i = t(117);
                    n.exports = function(t, n) {
                        for (var r, o = i(t), u = e(o), c = u.length, a = 0; c > a; )
                            if (o[r = u[a++]] === n)
                                return r
                    }
                }
                    , {
                        117: 117,
                        81: 81
                    }],
                60: [function(t, n, r) {
                    n.exports = !1
                }
                    , {}],
                61: [function(t, n, r) {
                    var e = Math.expm1;
                    n.exports = !e || e(10) > 22025.465794806718 || e(10) < 22025.465794806718 || -2e-17 != e(-2e-17) ? function expm1(t) {
                            return 0 == (t = +t) ? t : t > -1e-6 && t < 1e-6 ? t + t * t / 2 : Math.exp(t) - 1
                        }
                        : e
                }
                    , {}],
                62: [function(t, n, r) {
                    var e = t(65)
                        , i = Math.pow
                        , o = i(2, -52)
                        , u = i(2, -23)
                        , c = i(2, 127) * (2 - u)
                        , a = i(2, -126)
                        , f = function(t) {
                        return t + 1 / o - 1 / o
                    };
                    n.exports = Math.fround || function fround(t) {
                        var n, r, i = Math.abs(t), s = e(t);
                        return i < a ? s * f(i / a / u) * a * u : (n = (1 + u / o) * i,
                            r = n - (n - i),
                            r > c || r != r ? s * (1 / 0) : s * r)
                    }
                }
                    , {
                        65: 65
                    }],
                63: [function(t, n, r) {
                    n.exports = Math.log1p || function log1p(t) {
                        return (t = +t) > -1e-8 && t < 1e-8 ? t - t * t / 2 : Math.log(1 + t)
                    }
                }
                    , {}],
                64: [function(t, n, r) {
                    n.exports = Math.scale || function scale(t, n, r, e, i) {
                        return 0 === arguments.length || t != t || n != n || r != r || e != e || i != i ? NaN : t === 1 / 0 || t === -1 / 0 ? t : (t - n) * (i - e) / (r - n) + e
                    }
                }
                    , {}],
                65: [function(t, n, r) {
                    n.exports = Math.sign || function sign(t) {
                        return 0 == (t = +t) || t != t ? t : t < 0 ? -1 : 1
                    }
                }
                    , {}],
                66: [function(t, n, r) {
                    var e = t(124)("meta")
                        , i = t(51)
                        , o = t(41)
                        , u = t(72).f
                        , c = 0
                        , a = Object.isExtensible || function() {
                        return !0
                    }
                        , f = !t(35)(function() {
                        return a(Object.preventExtensions({}))
                    })
                        , s = function(t) {
                        u(t, e, {
                            value: {
                                i: "O" + ++c,
                                w: {}
                            }
                        })
                    }
                        , l = function(t, n) {
                        if (!i(t))
                            return "symbol" == typeof t ? t : ("string" == typeof t ? "S" : "P") + t;
                        if (!o(t, e)) {
                            if (!a(t))
                                return "F";
                            if (!n)
                                return "E";
                            s(t)
                        }
                        return t[e].i
                    }
                        , h = function(t, n) {
                        if (!o(t, e)) {
                            if (!a(t))
                                return !0;
                            if (!n)
                                return !1;
                            s(t)
                        }
                        return t[e].w
                    }
                        , v = function(t) {
                        return f && p.NEED && a(t) && !o(t, e) && s(t),
                            t
                    }
                        , p = n.exports = {
                        KEY: e,
                        NEED: !1,
                        fastKey: l,
                        getWeak: h,
                        onFreeze: v
                    }
                }
                    , {
                        124: 124,
                        35: 35,
                        41: 41,
                        51: 51,
                        72: 72
                    }],
                67: [function(t, n, r) {
                    var e = t(160)
                        , i = t(33)
                        , o = t(103)("metadata")
                        , u = o.store || (o.store = new (t(266)))
                        , c = function(t, n, r) {
                        var i = u.get(t);
                        if (!i) {
                            if (!r)
                                return;
                            u.set(t, i = new e)
                        }
                        var o = i.get(n);
                        if (!o) {
                            if (!r)
                                return;
                            i.set(n, o = new e)
                        }
                        return o
                    }
                        , a = function(t, n, r) {
                        var e = c(n, r, !1);
                        return void 0 !== e && e.has(t)
                    }
                        , f = function(t, n, r) {
                        var e = c(n, r, !1);
                        return void 0 === e ? void 0 : e.get(t)
                    }
                        , s = function(t, n, r, e) {
                        c(r, e, !0).set(t, n)
                    }
                        , l = function(t, n) {
                        var r = c(t, n, !1)
                            , e = [];
                        return r && r.forEach(function(t, n) {
                            e.push(n)
                        }),
                            e
                    }
                        , h = function(t) {
                        return void 0 === t || "symbol" == typeof t ? t : String(t)
                    }
                        , v = function(t) {
                        i(i.S, "Reflect", t)
                    };
                    n.exports = {
                        store: u,
                        map: c,
                        has: a,
                        get: f,
                        set: s,
                        keys: l,
                        key: h,
                        exp: v
                    }
                }
                    , {
                        103: 103,
                        160: 160,
                        266: 266,
                        33: 33
                    }],
                68: [function(t, n, r) {
                    var e = t(40)
                        , i = t(113).set
                        , o = e.MutationObserver || e.WebKitMutationObserver
                        , u = e.process
                        , c = e.Promise
                        , a = "process" == t(18)(u);
                    n.exports = function() {
                        var t, n, r, f = function() {
                            var e, i;
                            for (a && (e = u.domain) && e.exit(); t; ) {
                                i = t.fn,
                                    t = t.next;
                                try {
                                    i()
                                } catch (e) {
                                    throw t ? r() : n = void 0,
                                        e
                                }
                            }
                            n = void 0,
                            e && e.enter()
                        };
                        if (a)
                            r = function() {
                                u.nextTick(f)
                            }
                            ;
                        else if (o) {
                            var s = !0
                                , l = document.createTextNode("");
                            new o(f).observe(l, {
                                characterData: !0
                            }),
                                r = function() {
                                    l.data = s = !s
                                }
                        } else if (c && c.resolve) {
                            var h = c.resolve();
                            r = function() {
                                h.then(f)
                            }
                        } else
                            r = function() {
                                i.call(e, f)
                            }
                            ;
                        return function(e) {
                            var i = {
                                fn: e,
                                next: void 0
                            };
                            n && (n.next = i),
                            t || (t = i,
                                r()),
                                n = i
                        }
                    }
                }
                    , {
                        113: 113,
                        18: 18,
                        40: 40
                    }],
                69: [function(t, n, r) {
                    "use strict";
                    function PromiseCapability(t) {
                        var n, r;
                        this.promise = new t(function(t, e) {
                                if (void 0 !== n || void 0 !== r)
                                    throw TypeError("Bad Promise constructor");
                                n = t,
                                    r = e
                            }
                        ),
                            this.resolve = e(n),
                            this.reject = e(r)
                    }
                    var e = t(3);
                    n.exports.f = function(t) {
                        return new PromiseCapability(t)
                    }
                }
                    , {
                        3: 3
                    }],
                70: [function(t, n, r) {
                    "use strict";
                    var e = t(81)
                        , i = t(78)
                        , o = t(82)
                        , u = t(119)
                        , c = t(47)
                        , a = Object.assign;
                    n.exports = !a || t(35)(function() {
                        var t = {}
                            , n = {}
                            , r = Symbol()
                            , e = "abcdefghijklmnopqrst";
                        return t[r] = 7,
                            e.split("").forEach(function(t) {
                                n[t] = t
                            }),
                        7 != a({}, t)[r] || Object.keys(a({}, n)).join("") != e
                    }) ? function assign(t, n) {
                            for (var r = u(t), a = arguments.length, f = 1, s = i.f, l = o.f; a > f; )
                                for (var h, v = c(arguments[f++]), p = s ? e(v).concat(s(v)) : e(v), d = p.length, y = 0; d > y; )
                                    l.call(v, h = p[y++]) && (r[h] = v[h]);
                            return r
                        }
                        : a
                }
                    , {
                        119: 119,
                        35: 35,
                        47: 47,
                        78: 78,
                        81: 81,
                        82: 82
                    }],
                71: [function(t, n, r) {
                    var e = t(7)
                        , i = t(73)
                        , o = t(31)
                        , u = t(102)("IE_PROTO")
                        , c = function() {}
                        , a = function() {
                        var n, r = t(30)("iframe"), e = o.length;
                        for (r.style.display = "none",
                                 t(43).appendChild(r),
                                 r.src = "javascript:",
                                 n = r.contentWindow.document,
                                 n.open(),
                                 n.write("<script>document.F=Object<\/script>"),
                                 n.close(),
                                 a = n.F; e--; )
                            delete a.prototype[o[e]];
                        return a()
                    };
                    n.exports = Object.create || function create(t, n) {
                        var r;
                        return null !== t ? (c.prototype = e(t),
                            r = new c,
                            c.prototype = null,
                            r[u] = t) : r = a(),
                            void 0 === n ? r : i(r, n)
                    }
                }
                    , {
                        102: 102,
                        30: 30,
                        31: 31,
                        43: 43,
                        7: 7,
                        73: 73
                    }],
                72: [function(t, n, r) {
                    var e = t(7)
                        , i = t(44)
                        , o = t(120)
                        , u = Object.defineProperty;
                    r.f = t(29) ? Object.defineProperty : function defineProperty(t, n, r) {
                        if (e(t),
                            n = o(n, !0),
                            e(r),
                            i)
                            try {
                                return u(t, n, r)
                            } catch (t) {}
                        if ("get"in r || "set"in r)
                            throw TypeError("Accessors not supported!");
                        return "value"in r && (t[n] = r.value),
                            t
                    }
                }
                    , {
                        120: 120,
                        29: 29,
                        44: 44,
                        7: 7
                    }],
                73: [function(t, n, r) {
                    var e = t(72)
                        , i = t(7)
                        , o = t(81);
                    n.exports = t(29) ? Object.defineProperties : function defineProperties(t, n) {
                        i(t);
                        for (var r, u = o(n), c = u.length, a = 0; c > a; )
                            e.f(t, r = u[a++], n[r]);
                        return t
                    }
                }
                    , {
                        29: 29,
                        7: 7,
                        72: 72,
                        81: 81
                    }],
                74: [function(t, n, r) {
                    "use strict";
                    n.exports = t(60) || !t(35)(function() {
                        var n = Math.random();
                        __defineSetter__.call(null, n, function() {}),
                            delete t(40)[n]
                    })
                }
                    , {
                        35: 35,
                        40: 40,
                        60: 60
                    }],
                75: [function(t, n, r) {
                    var e = t(82)
                        , i = t(92)
                        , o = t(117)
                        , u = t(120)
                        , c = t(41)
                        , a = t(44)
                        , f = Object.getOwnPropertyDescriptor;
                    r.f = t(29) ? f : function getOwnPropertyDescriptor(t, n) {
                        if (t = o(t),
                            n = u(n, !0),
                            a)
                            try {
                                return f(t, n)
                            } catch (t) {}
                        if (c(t, n))
                            return i(!e.f.call(t, n), t[n])
                    }
                }
                    , {
                        117: 117,
                        120: 120,
                        29: 29,
                        41: 41,
                        44: 44,
                        82: 82,
                        92: 92
                    }],
                76: [function(t, n, r) {
                    var e = t(117)
                        , i = t(77).f
                        , o = {}.toString
                        , u = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []
                        , c = function(t) {
                        try {
                            return i(t)
                        } catch (t) {
                            return u.slice()
                        }
                    };
                    n.exports.f = function getOwnPropertyNames(t) {
                        return u && "[object Window]" == o.call(t) ? c(t) : i(e(t))
                    }
                }
                    , {
                        117: 117,
                        77: 77
                    }],
                77: [function(t, n, r) {
                    var e = t(80)
                        , i = t(31).concat("length", "prototype");
                    r.f = Object.getOwnPropertyNames || function getOwnPropertyNames(t) {
                        return e(t, i)
                    }
                }
                    , {
                        31: 31,
                        80: 80
                    }],
                78: [function(t, n, r) {
                    r.f = Object.getOwnPropertySymbols
                }
                    , {}],
                79: [function(t, n, r) {
                    var e = t(41)
                        , i = t(119)
                        , o = t(102)("IE_PROTO")
                        , u = Object.prototype;
                    n.exports = Object.getPrototypeOf || function(t) {
                        return t = i(t),
                            e(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? u : null
                    }
                }
                    , {
                        102: 102,
                        119: 119,
                        41: 41
                    }],
                80: [function(t, n, r) {
                    var e = t(41)
                        , i = t(117)
                        , o = t(11)(!1)
                        , u = t(102)("IE_PROTO");
                    n.exports = function(t, n) {
                        var r, c = i(t), a = 0, f = [];
                        for (r in c)
                            r != u && e(c, r) && f.push(r);
                        for (; n.length > a; )
                            e(c, r = n[a++]) && (~o(f, r) || f.push(r));
                        return f
                    }
                }
                    , {
                        102: 102,
                        11: 11,
                        117: 117,
                        41: 41
                    }],
                81: [function(t, n, r) {
                    var e = t(80)
                        , i = t(31);
                    n.exports = Object.keys || function keys(t) {
                        return e(t, i)
                    }
                }
                    , {
                        31: 31,
                        80: 80
                    }],
                82: [function(t, n, r) {
                    r.f = {}.propertyIsEnumerable
                }
                    , {}],
                83: [function(t, n, r) {
                    var e = t(33)
                        , i = t(23)
                        , o = t(35);
                    n.exports = function(t, n) {
                        var r = (i.Object || {})[t] || Object[t]
                            , u = {};
                        u[t] = n(r),
                            e(e.S + e.F * o(function() {
                                r(1)
                            }), "Object", u)
                    }
                }
                    , {
                        23: 23,
                        33: 33,
                        35: 35
                    }],
                84: [function(t, n, r) {
                    var e = t(81)
                        , i = t(117)
                        , o = t(82).f;
                    n.exports = function(t) {
                        return function(n) {
                            for (var r, u = i(n), c = e(u), a = c.length, f = 0, s = []; a > f; )
                                o.call(u, r = c[f++]) && s.push(t ? [r, u[r]] : u[r]);
                            return s
                        }
                    }
                }
                    , {
                        117: 117,
                        81: 81,
                        82: 82
                    }],
                85: [function(t, n, r) {
                    var e = t(77)
                        , i = t(78)
                        , o = t(7)
                        , u = t(40).Reflect;
                    n.exports = u && u.ownKeys || function ownKeys(t) {
                        var n = e.f(o(t))
                            , r = i.f;
                        return r ? n.concat(r(t)) : n
                    }
                }
                    , {
                        40: 40,
                        7: 7,
                        77: 77,
                        78: 78
                    }],
                86: [function(t, n, r) {
                    var e = t(40).parseFloat
                        , i = t(111).trim;
                    n.exports = 1 / e(t(112) + "-0") != -1 / 0 ? function parseFloat(t) {
                            var n = i(String(t), 3)
                                , r = e(n);
                            return 0 === r && "-" == n.charAt(0) ? -0 : r
                        }
                        : e
                }
                    , {
                        111: 111,
                        112: 112,
                        40: 40
                    }],
                87: [function(t, n, r) {
                    var e = t(40).parseInt
                        , i = t(111).trim
                        , o = t(112)
                        , u = /^[-+]?0[xX]/;
                    n.exports = 8 !== e(o + "08") || 22 !== e(o + "0x16") ? function parseInt(t, n) {
                            var r = i(String(t), 3);
                            return e(r, n >>> 0 || (u.test(r) ? 16 : 10))
                        }
                        : e
                }
                    , {
                        111: 111,
                        112: 112,
                        40: 40
                    }],
                88: [function(t, n, r) {
                    "use strict";
                    var e = t(89)
                        , i = t(46)
                        , o = t(3);
                    n.exports = function() {
                        for (var t = o(this), n = arguments.length, r = Array(n), u = 0, c = e._, a = !1; n > u; )
                            (r[u] = arguments[u++]) === c && (a = !0);
                        return function() {
                            var e, o = this, u = arguments.length, f = 0, s = 0;
                            if (!a && !u)
                                return i(t, r, o);
                            if (e = r.slice(),
                                a)
                                for (; n > f; f++)
                                    e[f] === c && (e[f] = arguments[s++]);
                            for (; u > s; )
                                e.push(arguments[s++]);
                            return i(t, e, o)
                        }
                    }
                }
                    , {
                        3: 3,
                        46: 46,
                        89: 89
                    }],
                89: [function(t, n, r) {
                    n.exports = t(40)
                }
                    , {
                        40: 40
                    }],
                90: [function(t, n, r) {
                    n.exports = function(t) {
                        try {
                            return {
                                e: !1,
                                v: t()
                            }
                        } catch (t) {
                            return {
                                e: !0,
                                v: t
                            }
                        }
                    }
                }
                    , {}],
                91: [function(t, n, r) {
                    var e = t(69);
                    n.exports = function(t, n) {
                        var r = e.f(t);
                        return (0,
                            r.resolve)(n),
                            r.promise
                    }
                }
                    , {
                        69: 69
                    }],
                92: [function(t, n, r) {
                    n.exports = function(t, n) {
                        return {
                            enumerable: !(1 & t),
                            configurable: !(2 & t),
                            writable: !(4 & t),
                            value: n
                        }
                    }
                }
                    , {}],
                93: [function(t, n, r) {
                    var e = t(94);
                    n.exports = function(t, n, r) {
                        for (var i in n)
                            e(t, i, n[i], r);
                        return t
                    }
                }
                    , {
                        94: 94
                    }],
                94: [function(t, n, r) {
                    var e = t(40)
                        , i = t(42)
                        , o = t(41)
                        , u = t(124)("src")
                        , c = Function.toString
                        , a = ("" + c).split("toString");
                    t(23).inspectSource = function(t) {
                        return c.call(t)
                    }
                        ,
                        (n.exports = function(t, n, r, c) {
                                var f = "function" == typeof r;
                                f && (o(r, "name") || i(r, "name", n)),
                                t[n] !== r && (f && (o(r, u) || i(r, u, t[n] ? "" + t[n] : a.join(String(n)))),
                                    t === e ? t[n] = r : c ? t[n] ? t[n] = r : i(t, n, r) : (delete t[n],
                                        i(t, n, r)))
                            }
                        )(Function.prototype, "toString", function toString() {
                            return "function" == typeof this && this[u] || c.call(this)
                        })
                }
                    , {
                        124: 124,
                        23: 23,
                        40: 40,
                        41: 41,
                        42: 42
                    }],
                95: [function(t, n, r) {
                    n.exports = function(t, n) {
                        var r = n === Object(n) ? function(t) {
                                return n[t]
                            }
                            : n;
                        return function(n) {
                            return String(n).replace(t, r)
                        }
                    }
                }
                    , {}],
                96: [function(t, n, r) {
                    n.exports = Object.is || function is(t, n) {
                        return t === n ? 0 !== t || 1 / t == 1 / n : t != t && n != n
                    }
                }
                    , {}],
                97: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(3)
                        , o = t(25)
                        , u = t(39);
                    n.exports = function(t) {
                        e(e.S, t, {
                            from: function from(t) {
                                var n, r, e, c, a = arguments[1];
                                return i(this),
                                    n = void 0 !== a,
                                n && i(a),
                                    void 0 == t ? new this : (r = [],
                                        n ? (e = 0,
                                            c = o(a, arguments[2], 2),
                                            u(t, !1, function(t) {
                                                r.push(c(t, e++))
                                            })) : u(t, !1, r.push, r),
                                        new this(r))
                            }
                        })
                    }
                }
                    , {
                        25: 25,
                        3: 3,
                        33: 33,
                        39: 39
                    }],
                98: [function(t, n, r) {
                    "use strict";
                    var e = t(33);
                    n.exports = function(t) {
                        e(e.S, t, {
                            of: function of() {
                                for (var t = arguments.length, n = Array(t); t--; )
                                    n[t] = arguments[t];
                                return new this(n)
                            }
                        })
                    }
                }
                    , {
                        33: 33
                    }],
                99: [function(t, n, r) {
                    var e = t(51)
                        , i = t(7)
                        , o = function(t, n) {
                        if (i(t),
                        !e(n) && null !== n)
                            throw TypeError(n + ": can't set as prototype!")
                    };
                    n.exports = {
                        set: Object.setPrototypeOf || ("__proto__"in {} ? function(n, r, e) {
                            try {
                                e = t(25)(Function.call, t(75).f(Object.prototype, "__proto__").set, 2),
                                    e(n, []),
                                    r = !(n instanceof Array)
                            } catch (t) {
                                r = !0
                            }
                            return function setPrototypeOf(t, n) {
                                return o(t, n),
                                    r ? t.__proto__ = n : e(t, n),
                                    t
                            }
                        }({}, !1) : void 0),
                        check: o
                    }
                }
                    , {
                        25: 25,
                        51: 51,
                        7: 7,
                        75: 75
                    }],
                100: [function(t, n, r) {
                    "use strict";
                    var e = t(40)
                        , i = t(72)
                        , o = t(29)
                        , u = t(128)("species");
                    n.exports = function(t) {
                        var n = e[t];
                        o && n && !n[u] && i.f(n, u, {
                            configurable: !0,
                            get: function() {
                                return this
                            }
                        })
                    }
                }
                    , {
                        128: 128,
                        29: 29,
                        40: 40,
                        72: 72
                    }],
                101: [function(t, n, r) {
                    var e = t(72).f
                        , i = t(41)
                        , o = t(128)("toStringTag");
                    n.exports = function(t, n, r) {
                        t && !i(t = r ? t : t.prototype, o) && e(t, o, {
                            configurable: !0,
                            value: n
                        })
                    }
                }
                    , {
                        128: 128,
                        41: 41,
                        72: 72
                    }],
                102: [function(t, n, r) {
                    var e = t(103)("keys")
                        , i = t(124);
                    n.exports = function(t) {
                        return e[t] || (e[t] = i(t))
                    }
                }
                    , {
                        103: 103,
                        124: 124
                    }],
                103: [function(t, n, r) {
                    var e = t(40)
                        , i = e["__core-js_shared__"] || (e["__core-js_shared__"] = {});
                    n.exports = function(t) {
                        return i[t] || (i[t] = {})
                    }
                }
                    , {
                        40: 40
                    }],
                104: [function(t, n, r) {
                    var e = t(7)
                        , i = t(3)
                        , o = t(128)("species");
                    n.exports = function(t, n) {
                        var r, u = e(t).constructor;
                        return void 0 === u || void 0 == (r = e(u)[o]) ? n : i(r)
                    }
                }
                    , {
                        128: 128,
                        3: 3,
                        7: 7
                    }],
                105: [function(t, n, r) {
                    "use strict";
                    var e = t(35);
                    n.exports = function(t, n) {
                        return !!t && e(function() {
                            n ? t.call(null, function() {}, 1) : t.call(null)
                        })
                    }
                }
                    , {
                        35: 35
                    }],
                106: [function(t, n, r) {
                    var e = t(116)
                        , i = t(28);
                    n.exports = function(t) {
                        return function(n, r) {
                            var o, u, c = String(i(n)), a = e(r), f = c.length;
                            return a < 0 || a >= f ? t ? "" : void 0 : (o = c.charCodeAt(a),
                                o < 55296 || o > 56319 || a + 1 === f || (u = c.charCodeAt(a + 1)) < 56320 || u > 57343 ? t ? c.charAt(a) : o : t ? c.slice(a, a + 2) : u - 56320 + (o - 55296 << 10) + 65536)
                        }
                    }
                }
                    , {
                        116: 116,
                        28: 28
                    }],
                107: [function(t, n, r) {
                    var e = t(52)
                        , i = t(28);
                    n.exports = function(t, n, r) {
                        if (e(n))
                            throw TypeError("String#" + r + " doesn't accept regex!");
                        return String(i(t))
                    }
                }
                    , {
                        28: 28,
                        52: 52
                    }],
                108: [function(t, n, r) {
                    var e = t(33)
                        , i = t(35)
                        , o = t(28)
                        , u = /"/g
                        , c = function(t, n, r, e) {
                        var i = String(o(t))
                            , c = "<" + n;
                        return "" !== r && (c += " " + r + '="' + String(e).replace(u, "&quot;") + '"'),
                        c + ">" + i + "</" + n + ">"
                    };
                    n.exports = function(t, n) {
                        var r = {};
                        r[t] = n(c),
                            e(e.P + e.F * i(function() {
                                var n = ""[t]('"');
                                return n !== n.toLowerCase() || n.split('"').length > 3
                            }), "String", r)
                    }
                }
                    , {
                        28: 28,
                        33: 33,
                        35: 35
                    }],
                109: [function(t, n, r) {
                    var e = t(118)
                        , i = t(110)
                        , o = t(28);
                    n.exports = function(t, n, r, u) {
                        var c = String(o(t))
                            , a = c.length
                            , f = void 0 === r ? " " : String(r)
                            , s = e(n);
                        if (s <= a || "" == f)
                            return c;
                        var l = s - a
                            , h = i.call(f, Math.ceil(l / f.length));
                        return h.length > l && (h = h.slice(0, l)),
                            u ? h + c : c + h
                    }
                }
                    , {
                        110: 110,
                        118: 118,
                        28: 28
                    }],
                110: [function(t, n, r) {
                    "use strict";
                    var e = t(116)
                        , i = t(28);
                    n.exports = function repeat(t) {
                        var n = String(i(this))
                            , r = ""
                            , o = e(t);
                        if (o < 0 || o == 1 / 0)
                            throw RangeError("Count can't be negative");
                        for (; o > 0; (o >>>= 1) && (n += n))
                            1 & o && (r += n);
                        return r
                    }
                }
                    , {
                        116: 116,
                        28: 28
                    }],
                111: [function(t, n, r) {
                    var e = t(33)
                        , i = t(28)
                        , o = t(35)
                        , u = t(112)
                        , c = "[" + u + "]"
                        , a = ""
                        , f = RegExp("^" + c + c + "*")
                        , s = RegExp(c + c + "*$")
                        , l = function(t, n, r) {
                            var i = {}
                                , c = o(function() {
                                return !!u[t]() || a[t]() != a
                            })
                                , f = i[t] = c ? n(h) : u[t];
                            r && (i[r] = f),
                                e(e.P + e.F * c, "String", i)
                        }
                        , h = l.trim = function(t, n) {
                            return t = String(i(t)),
                            1 & n && (t = t.replace(f, "")),
                            2 & n && (t = t.replace(s, "")),
                                t
                        }
                    ;
                    n.exports = l
                }
                    , {
                        112: 112,
                        28: 28,
                        33: 33,
                        35: 35
                    }],
                112: [function(t, n, r) {
                    n.exports = "\t\n\v\f\r \u2028\u2029\ufeff"
                }
                    , {}],
                113: [function(t, n, r) {
                    var e, i, o, u = t(25), c = t(46), a = t(43), f = t(30), s = t(40), l = s.process, h = s.setImmediate, v = s.clearImmediate, p = s.MessageChannel, d = s.Dispatch, y = 0, g = {}, m = function() {
                        var t = +this;
                        if (g.hasOwnProperty(t)) {
                            var n = g[t];
                            delete g[t],
                                n()
                        }
                    }, b = function(t) {
                        m.call(t.data)
                    };
                    h && v || (h = function setImmediate(t) {
                            for (var n = [], r = 1; arguments.length > r; )
                                n.push(arguments[r++]);
                            return g[++y] = function() {
                                c("function" == typeof t ? t : Function(t), n)
                            }
                                ,
                                e(y),
                                y
                        }
                            ,
                            v = function clearImmediate(t) {
                                delete g[t]
                            }
                            ,
                            "process" == t(18)(l) ? e = function(t) {
                                    l.nextTick(u(m, t, 1))
                                }
                                : d && d.now ? e = function(t) {
                                    d.now(u(m, t, 1))
                                }
                                : p ? (i = new p,
                                    o = i.port2,
                                    i.port1.onmessage = b,
                                    e = u(o.postMessage, o, 1)) : s.addEventListener && "function" == typeof postMessage && !s.importScripts ? (e = function(t) {
                                    s.postMessage(t + "", "*")
                                }
                                    ,
                                    s.addEventListener("message", b, !1)) : e = "onreadystatechange"in f("script") ? function(t) {
                                        a.appendChild(f("script")).onreadystatechange = function() {
                                            a.removeChild(this),
                                                m.call(t)
                                        }
                                    }
                                    : function(t) {
                                        setTimeout(u(m, t, 1), 0)
                                    }
                    ),
                        n.exports = {
                            set: h,
                            clear: v
                        }
                }
                    , {
                        18: 18,
                        25: 25,
                        30: 30,
                        40: 40,
                        43: 43,
                        46: 46
                    }],
                114: [function(t, n, r) {
                    var e = t(116)
                        , i = Math.max
                        , o = Math.min;
                    n.exports = function(t, n) {
                        return t = e(t),
                            t < 0 ? i(t + n, 0) : o(t, n)
                    }
                }
                    , {
                        116: 116
                    }],
                115: [function(t, n, r) {
                    var e = t(116)
                        , i = t(118);
                    n.exports = function(t) {
                        if (void 0 === t)
                            return 0;
                        var n = e(t)
                            , r = i(n);
                        if (n !== r)
                            throw RangeError("Wrong length!");
                        return r
                    }
                }
                    , {
                        116: 116,
                        118: 118
                    }],
                116: [function(t, n, r) {
                    var e = Math.ceil
                        , i = Math.floor;
                    n.exports = function(t) {
                        return isNaN(t = +t) ? 0 : (t > 0 ? i : e)(t)
                    }
                }
                    , {}],
                117: [function(t, n, r) {
                    var e = t(47)
                        , i = t(28);
                    n.exports = function(t) {
                        return e(i(t))
                    }
                }
                    , {
                        28: 28,
                        47: 47
                    }],
                118: [function(t, n, r) {
                    var e = t(116)
                        , i = Math.min;
                    n.exports = function(t) {
                        return t > 0 ? i(e(t), 9007199254740991) : 0
                    }
                }
                    , {
                        116: 116
                    }],
                119: [function(t, n, r) {
                    var e = t(28);
                    n.exports = function(t) {
                        return Object(e(t))
                    }
                }
                    , {
                        28: 28
                    }],
                120: [function(t, n, r) {
                    var e = t(51);
                    n.exports = function(t, n) {
                        if (!e(t))
                            return t;
                        var r, i;
                        if (n && "function" == typeof (r = t.toString) && !e(i = r.call(t)))
                            return i;
                        if ("function" == typeof (r = t.valueOf) && !e(i = r.call(t)))
                            return i;
                        if (!n && "function" == typeof (r = t.toString) && !e(i = r.call(t)))
                            return i;
                        throw TypeError("Can't convert object to primitive value")
                    }
                }
                    , {
                        51: 51
                    }],
                121: [function(t, n, r) {
                    "use strict";
                    if (t(29)) {
                        var e = t(60)
                            , i = t(40)
                            , o = t(35)
                            , u = t(33)
                            , c = t(123)
                            , a = t(122)
                            , f = t(25)
                            , s = t(6)
                            , l = t(92)
                            , h = t(42)
                            , v = t(93)
                            , p = t(116)
                            , d = t(118)
                            , y = t(115)
                            , g = t(114)
                            , m = t(120)
                            , b = t(41)
                            , x = t(17)
                            , S = t(51)
                            , w = t(119)
                            , _ = t(48)
                            , E = t(71)
                            , O = t(79)
                            , P = t(77).f
                            , M = t(129)
                            , F = t(124)
                            , I = t(128)
                            , A = t(12)
                            , k = t(11)
                            , N = t(104)
                            , j = t(141)
                            , T = t(58)
                            , R = t(56)
                            , L = t(100)
                            , G = t(9)
                            , D = t(8)
                            , C = t(72)
                            , W = t(75)
                            , U = C.f
                            , B = W.f
                            , V = i.RangeError
                            , z = i.TypeError
                            , q = i.Uint8Array
                            , K = Array.prototype
                            , Y = a.ArrayBuffer
                            , J = a.DataView
                            , H = A(0)
                            , X = A(2)
                            , $ = A(3)
                            , Z = A(4)
                            , Q = A(5)
                            , tt = A(6)
                            , nt = k(!0)
                            , rt = k(!1)
                            , et = j.values
                            , it = j.keys
                            , ot = j.entries
                            , ut = K.lastIndexOf
                            , ct = K.reduce
                            , at = K.reduceRight
                            , ft = K.join
                            , st = K.sort
                            , lt = K.slice
                            , ht = K.toString
                            , vt = K.toLocaleString
                            , pt = I("iterator")
                            , dt = I("toStringTag")
                            , yt = F("typed_constructor")
                            , gt = F("def_constructor")
                            , mt = c.CONSTR
                            , bt = c.TYPED
                            , xt = c.VIEW
                            , St = A(1, function(t, n) {
                            return Pt(N(t, t[gt]), n)
                        })
                            , wt = o(function() {
                            return 1 === new q(new Uint16Array([1]).buffer)[0]
                        })
                            , _t = !!q && !!q.prototype.set && o(function() {
                            new q(1).set({})
                        })
                            , Et = function(t, n) {
                            var r = p(t);
                            if (r < 0 || r % n)
                                throw V("Wrong offset!");
                            return r
                        }
                            , Ot = function(t) {
                            if (S(t) && bt in t)
                                return t;
                            throw z(t + " is not a typed array!")
                        }
                            , Pt = function(t, n) {
                            if (!(S(t) && yt in t))
                                throw z("It is not a typed array constructor!");
                            return new t(n)
                        }
                            , Mt = function(t, n) {
                            return Ft(N(t, t[gt]), n)
                        }
                            , Ft = function(t, n) {
                            for (var r = 0, e = n.length, i = Pt(t, e); e > r; )
                                i[r] = n[r++];
                            return i
                        }
                            , It = function(t, n, r) {
                            U(t, n, {
                                get: function() {
                                    return this._d[r]
                                }
                            })
                        }
                            , At = function from(t) {
                            var n, r, e, i, o, u, c = w(t), a = arguments.length, s = a > 1 ? arguments[1] : void 0, l = void 0 !== s, h = M(c);
                            if (void 0 != h && !_(h)) {
                                for (u = h.call(c),
                                         e = [],
                                         n = 0; !(o = u.next()).done; n++)
                                    e.push(o.value);
                                c = e
                            }
                            for (l && a > 2 && (s = f(s, arguments[2], 2)),
                                     n = 0,
                                     r = d(c.length),
                                     i = Pt(this, r); r > n; n++)
                                i[n] = l ? s(c[n], n) : c[n];
                            return i
                        }
                            , kt = function of() {
                            for (var t = 0, n = arguments.length, r = Pt(this, n); n > t; )
                                r[t] = arguments[t++];
                            return r
                        }
                            , Nt = !!q && o(function() {
                            vt.call(new q(1))
                        })
                            , jt = function toLocaleString() {
                            return vt.apply(Nt ? lt.call(Ot(this)) : Ot(this), arguments)
                        }
                            , Tt = {
                            copyWithin: function copyWithin(t, n) {
                                return D.call(Ot(this), t, n, arguments.length > 2 ? arguments[2] : void 0)
                            },
                            every: function every(t) {
                                return Z(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            fill: function fill(t) {
                                return G.apply(Ot(this), arguments)
                            },
                            filter: function filter(t) {
                                return Mt(this, X(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0))
                            },
                            find: function find(t) {
                                return Q(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            findIndex: function findIndex(t) {
                                return tt(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            forEach: function forEach(t) {
                                H(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            indexOf: function indexOf(t) {
                                return rt(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            includes: function includes(t) {
                                return nt(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            join: function join(t) {
                                return ft.apply(Ot(this), arguments)
                            },
                            lastIndexOf: function lastIndexOf(t) {
                                return ut.apply(Ot(this), arguments)
                            },
                            map: function map(t) {
                                return St(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            reduce: function reduce(t) {
                                return ct.apply(Ot(this), arguments)
                            },
                            reduceRight: function reduceRight(t) {
                                return at.apply(Ot(this), arguments)
                            },
                            reverse: function reverse() {
                                for (var t, n = this, r = Ot(n).length, e = Math.floor(r / 2), i = 0; i < e; )
                                    t = n[i],
                                        n[i++] = n[--r],
                                        n[r] = t;
                                return n
                            },
                            some: function some(t) {
                                return $(Ot(this), t, arguments.length > 1 ? arguments[1] : void 0)
                            },
                            sort: function sort(t) {
                                return st.call(Ot(this), t)
                            },
                            subarray: function subarray(t, n) {
                                var r = Ot(this)
                                    , e = r.length
                                    , i = g(t, e);
                                return new (N(r, r[gt]))(r.buffer,r.byteOffset + i * r.BYTES_PER_ELEMENT,d((void 0 === n ? e : g(n, e)) - i))
                            }
                        }
                            , Rt = function slice(t, n) {
                            return Mt(this, lt.call(Ot(this), t, n))
                        }
                            , Lt = function set(t) {
                            Ot(this);
                            var n = Et(arguments[1], 1)
                                , r = this.length
                                , e = w(t)
                                , i = d(e.length)
                                , o = 0;
                            if (i + n > r)
                                throw V("Wrong length!");
                            for (; o < i; )
                                this[n + o] = e[o++]
                        }
                            , Gt = {
                            entries: function entries() {
                                return ot.call(Ot(this))
                            },
                            keys: function keys() {
                                return it.call(Ot(this))
                            },
                            values: function values() {
                                return et.call(Ot(this))
                            }
                        }
                            , Dt = function(t, n) {
                            return S(t) && t[bt] && "symbol" != typeof n && n in t && String(+n) == String(n)
                        }
                            , Ct = function getOwnPropertyDescriptor(t, n) {
                            return Dt(t, n = m(n, !0)) ? l(2, t[n]) : B(t, n)
                        }
                            , Wt = function defineProperty(t, n, r) {
                            return !(Dt(t, n = m(n, !0)) && S(r) && b(r, "value")) || b(r, "get") || b(r, "set") || r.configurable || b(r, "writable") && !r.writable || b(r, "enumerable") && !r.enumerable ? U(t, n, r) : (t[n] = r.value,
                                t)
                        };
                        mt || (W.f = Ct,
                            C.f = Wt),
                            u(u.S + u.F * !mt, "Object", {
                                getOwnPropertyDescriptor: Ct,
                                defineProperty: Wt
                            }),
                        o(function() {
                            ht.call({})
                        }) && (ht = vt = function toString() {
                                return ft.call(this)
                            }
                        );
                        var Ut = v({}, Tt);
                        v(Ut, Gt),
                            h(Ut, pt, Gt.values),
                            v(Ut, {
                                slice: Rt,
                                set: Lt,
                                constructor: function() {},
                                toString: ht,
                                toLocaleString: jt
                            }),
                            It(Ut, "buffer", "b"),
                            It(Ut, "byteOffset", "o"),
                            It(Ut, "byteLength", "l"),
                            It(Ut, "length", "e"),
                            U(Ut, dt, {
                                get: function() {
                                    return this[bt]
                                }
                            }),
                            n.exports = function(t, n, r, a) {
                                a = !!a;
                                var f = t + (a ? "Clamped" : "") + "Array"
                                    , l = "get" + t
                                    , v = "set" + t
                                    , p = i[f]
                                    , g = p || {}
                                    , m = p && O(p)
                                    , b = !p || !c.ABV
                                    , w = {}
                                    , _ = p && p.prototype
                                    , M = function(t, r) {
                                    var e = t._d;
                                    return e.v[l](r * n + e.o, wt)
                                }
                                    , F = function(t, r, e) {
                                    var i = t._d;
                                    a && (e = (e = Math.round(e)) < 0 ? 0 : e > 255 ? 255 : 255 & e),
                                        i.v[v](r * n + i.o, e, wt)
                                }
                                    , I = function(t, n) {
                                    U(t, n, {
                                        get: function() {
                                            return M(this, n)
                                        },
                                        set: function(t) {
                                            return F(this, n, t)
                                        },
                                        enumerable: !0
                                    })
                                };
                                b ? (p = r(function(t, r, e, i) {
                                    s(t, p, f, "_d");
                                    var o, u, c, a, l = 0, v = 0;
                                    if (S(r)) {
                                        if (!(r instanceof Y || "ArrayBuffer" == (a = x(r)) || "SharedArrayBuffer" == a))
                                            return bt in r ? Ft(p, r) : At.call(p, r);
                                        o = r,
                                            v = Et(e, n);
                                        var g = r.byteLength;
                                        if (void 0 === i) {
                                            if (g % n)
                                                throw V("Wrong length!");
                                            if ((u = g - v) < 0)
                                                throw V("Wrong length!")
                                        } else if ((u = d(i) * n) + v > g)
                                            throw V("Wrong length!");
                                        c = u / n
                                    } else
                                        c = y(r),
                                            u = c * n,
                                            o = new Y(u);
                                    for (h(t, "_d", {
                                        b: o,
                                        o: v,
                                        l: u,
                                        e: c,
                                        v: new J(o)
                                    }); l < c; )
                                        I(t, l++)
                                }),
                                    _ = p.prototype = E(Ut),
                                    h(_, "constructor", p)) : o(function() {
                                    p(1)
                                }) && o(function() {
                                    new p(-1)
                                }) && R(function(t) {
                                    new p,
                                        new p(null),
                                        new p(1.5),
                                        new p(t)
                                }, !0) || (p = r(function(t, r, e, i) {
                                    s(t, p, f);
                                    var o;
                                    return S(r) ? r instanceof Y || "ArrayBuffer" == (o = x(r)) || "SharedArrayBuffer" == o ? void 0 !== i ? new g(r,Et(e, n),i) : void 0 !== e ? new g(r,Et(e, n)) : new g(r) : bt in r ? Ft(p, r) : At.call(p, r) : new g(y(r))
                                }),
                                    H(m !== Function.prototype ? P(g).concat(P(m)) : P(g), function(t) {
                                        t in p || h(p, t, g[t])
                                    }),
                                    p.prototype = _,
                                e || (_.constructor = p));
                                var A = _[pt]
                                    , k = !!A && ("values" == A.name || void 0 == A.name)
                                    , N = Gt.values;
                                h(p, yt, !0),
                                    h(_, bt, f),
                                    h(_, xt, !0),
                                    h(_, gt, p),
                                (a ? new p(1)[dt] == f : dt in _) || U(_, dt, {
                                    get: function() {
                                        return f
                                    }
                                }),
                                    w[f] = p,
                                    u(u.G + u.W + u.F * (p != g), w),
                                    u(u.S, f, {
                                        BYTES_PER_ELEMENT: n
                                    }),
                                    u(u.S + u.F * o(function() {
                                        g.of.call(p, 1)
                                    }), f, {
                                        from: At,
                                        of: kt
                                    }),
                                "BYTES_PER_ELEMENT"in _ || h(_, "BYTES_PER_ELEMENT", n),
                                    u(u.P, f, Tt),
                                    L(f),
                                    u(u.P + u.F * _t, f, {
                                        set: Lt
                                    }),
                                    u(u.P + u.F * !k, f, Gt),
                                e || _.toString == ht || (_.toString = ht),
                                    u(u.P + u.F * o(function() {
                                        new p(1).slice()
                                    }), f, {
                                        slice: Rt
                                    }),
                                    u(u.P + u.F * (o(function() {
                                        return [1, 2].toLocaleString() != new p([1, 2]).toLocaleString()
                                    }) || !o(function() {
                                        _.toLocaleString.call([1, 2])
                                    })), f, {
                                        toLocaleString: jt
                                    }),
                                    T[f] = k ? A : N,
                                e || k || h(_, pt, N)
                            }
                    } else
                        n.exports = function() {}
                }
                    , {
                        100: 100,
                        104: 104,
                        11: 11,
                        114: 114,
                        115: 115,
                        116: 116,
                        118: 118,
                        119: 119,
                        12: 12,
                        120: 120,
                        122: 122,
                        123: 123,
                        124: 124,
                        128: 128,
                        129: 129,
                        141: 141,
                        17: 17,
                        25: 25,
                        29: 29,
                        33: 33,
                        35: 35,
                        40: 40,
                        41: 41,
                        42: 42,
                        48: 48,
                        51: 51,
                        56: 56,
                        58: 58,
                        6: 6,
                        60: 60,
                        71: 71,
                        72: 72,
                        75: 75,
                        77: 77,
                        79: 79,
                        8: 8,
                        9: 9,
                        92: 92,
                        93: 93
                    }],
                122: [function(t, n, r) {
                    "use strict";
                    function packIEEE754(t, n, r) {
                        var e, i, o, u = Array(r), c = 8 * r - n - 1, a = (1 << c) - 1, f = a >> 1, s = 23 === n ? M(2, -24) - M(2, -77) : 0, l = 0, h = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0;
                        for (t = P(t),
                                 t != t || t === E ? (i = t != t ? 1 : 0,
                                     e = a) : (e = F(I(t) / A),
                                 t * (o = M(2, -e)) < 1 && (e--,
                                     o *= 2),
                                     t += e + f >= 1 ? s / o : s * M(2, 1 - f),
                                 t * o >= 2 && (e++,
                                     o /= 2),
                                     e + f >= a ? (i = 0,
                                         e = a) : e + f >= 1 ? (i = (t * o - 1) * M(2, n),
                                         e += f) : (i = t * M(2, f - 1) * M(2, n),
                                         e = 0)); n >= 8; u[l++] = 255 & i,
                                 i /= 256,
                                 n -= 8)
                            ;
                        for (e = e << n | i,
                                 c += n; c > 0; u[l++] = 255 & e,
                                 e /= 256,
                                 c -= 8)
                            ;
                        return u[--l] |= 128 * h,
                            u
                    }
                    function unpackIEEE754(t, n, r) {
                        var e, i = 8 * r - n - 1, o = (1 << i) - 1, u = o >> 1, c = i - 7, a = r - 1, f = t[a--], s = 127 & f;
                        for (f >>= 7; c > 0; s = 256 * s + t[a],
                            a--,
                            c -= 8)
                            ;
                        for (e = s & (1 << -c) - 1,
                                 s >>= -c,
                                 c += n; c > 0; e = 256 * e + t[a],
                                 a--,
                                 c -= 8)
                            ;
                        if (0 === s)
                            s = 1 - u;
                        else {
                            if (s === o)
                                return e ? NaN : f ? -E : E;
                            e += M(2, n),
                                s -= u
                        }
                        return (f ? -1 : 1) * e * M(2, s - n)
                    }
                    function unpackI32(t) {
                        return t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0]
                    }
                    function packI8(t) {
                        return [255 & t]
                    }
                    function packI16(t) {
                        return [255 & t, t >> 8 & 255]
                    }
                    function packI32(t) {
                        return [255 & t, t >> 8 & 255, t >> 16 & 255, t >> 24 & 255]
                    }
                    function packF64(t) {
                        return packIEEE754(t, 52, 8)
                    }
                    function packF32(t) {
                        return packIEEE754(t, 23, 4)
                    }
                    function addGetter(t, n, r) {
                        d(t[m], n, {
                            get: function() {
                                return this[r]
                            }
                        })
                    }
                    function get(t, n, r, e) {
                        var i = +r
                            , o = v(i);
                        if (o + n > t[N])
                            throw _(b);
                        var u = t[k]._b
                            , c = o + t[j]
                            , a = u.slice(c, c + n);
                        return e ? a : a.reverse()
                    }
                    function set(t, n, r, e, i, o) {
                        var u = +r
                            , c = v(u);
                        if (c + n > t[N])
                            throw _(b);
                        for (var a = t[k]._b, f = c + t[j], s = e(+i), l = 0; l < n; l++)
                            a[f + l] = s[o ? l : n - l - 1]
                    }
                    var e = t(40)
                        , i = t(29)
                        , o = t(60)
                        , u = t(123)
                        , c = t(42)
                        , a = t(93)
                        , f = t(35)
                        , s = t(6)
                        , l = t(116)
                        , h = t(118)
                        , v = t(115)
                        , p = t(77).f
                        , d = t(72).f
                        , y = t(9)
                        , g = t(101)
                        , m = "prototype"
                        , b = "Wrong index!"
                        , x = e.ArrayBuffer
                        , S = e.DataView
                        , w = e.Math
                        , _ = e.RangeError
                        , E = e.Infinity
                        , O = x
                        , P = w.abs
                        , M = w.pow
                        , F = w.floor
                        , I = w.log
                        , A = w.LN2
                        , k = i ? "_b" : "buffer"
                        , N = i ? "_l" : "byteLength"
                        , j = i ? "_o" : "byteOffset";
                    if (u.ABV) {
                        if (!f(function() {
                            x(1)
                        }) || !f(function() {
                            new x(-1)
                        }) || f(function() {
                            return new x,
                                new x(1.5),
                                new x(NaN),
                            "ArrayBuffer" != x.name
                        })) {
                            x = function ArrayBuffer(t) {
                                return s(this, x),
                                    new O(v(t))
                            }
                            ;
                            for (var T, R = x[m] = O[m], L = p(O), G = 0; L.length > G; )
                                (T = L[G++])in x || c(x, T, O[T]);
                            o || (R.constructor = x)
                        }
                        var D = new S(new x(2))
                            , C = S[m].setInt8;
                        D.setInt8(0, 2147483648),
                            D.setInt8(1, 2147483649),
                        !D.getInt8(0) && D.getInt8(1) || a(S[m], {
                            setInt8: function setInt8(t, n) {
                                C.call(this, t, n << 24 >> 24)
                            },
                            setUint8: function setUint8(t, n) {
                                C.call(this, t, n << 24 >> 24)
                            }
                        }, !0)
                    } else
                        x = function ArrayBuffer(t) {
                            s(this, x, "ArrayBuffer");
                            var n = v(t);
                            this._b = y.call(Array(n), 0),
                                this[N] = n
                        }
                            ,
                            S = function DataView(t, n, r) {
                                s(this, S, "DataView"),
                                    s(t, x, "DataView");
                                var e = t[N]
                                    , i = l(n);
                                if (i < 0 || i > e)
                                    throw _("Wrong offset!");
                                if (r = void 0 === r ? e - i : h(r),
                                i + r > e)
                                    throw _("Wrong length!");
                                this[k] = t,
                                    this[j] = i,
                                    this[N] = r
                            }
                            ,
                        i && (addGetter(x, "byteLength", "_l"),
                            addGetter(S, "buffer", "_b"),
                            addGetter(S, "byteLength", "_l"),
                            addGetter(S, "byteOffset", "_o")),
                            a(S[m], {
                                getInt8: function getInt8(t) {
                                    return get(this, 1, t)[0] << 24 >> 24
                                },
                                getUint8: function getUint8(t) {
                                    return get(this, 1, t)[0]
                                },
                                getInt16: function getInt16(t) {
                                    var n = get(this, 2, t, arguments[1]);
                                    return (n[1] << 8 | n[0]) << 16 >> 16
                                },
                                getUint16: function getUint16(t) {
                                    var n = get(this, 2, t, arguments[1]);
                                    return n[1] << 8 | n[0]
                                },
                                getInt32: function getInt32(t) {
                                    return unpackI32(get(this, 4, t, arguments[1]))
                                },
                                getUint32: function getUint32(t) {
                                    return unpackI32(get(this, 4, t, arguments[1])) >>> 0
                                },
                                getFloat32: function getFloat32(t) {
                                    return unpackIEEE754(get(this, 4, t, arguments[1]), 23, 4)
                                },
                                getFloat64: function getFloat64(t) {
                                    return unpackIEEE754(get(this, 8, t, arguments[1]), 52, 8)
                                },
                                setInt8: function setInt8(t, n) {
                                    set(this, 1, t, packI8, n)
                                },
                                setUint8: function setUint8(t, n) {
                                    set(this, 1, t, packI8, n)
                                },
                                setInt16: function setInt16(t, n) {
                                    set(this, 2, t, packI16, n, arguments[2])
                                },
                                setUint16: function setUint16(t, n) {
                                    set(this, 2, t, packI16, n, arguments[2])
                                },
                                setInt32: function setInt32(t, n) {
                                    set(this, 4, t, packI32, n, arguments[2])
                                },
                                setUint32: function setUint32(t, n) {
                                    set(this, 4, t, packI32, n, arguments[2])
                                },
                                setFloat32: function setFloat32(t, n) {
                                    set(this, 4, t, packF32, n, arguments[2])
                                },
                                setFloat64: function setFloat64(t, n) {
                                    set(this, 8, t, packF64, n, arguments[2])
                                }
                            });
                    g(x, "ArrayBuffer"),
                        g(S, "DataView"),
                        c(S[m], u.VIEW, !0),
                        r.ArrayBuffer = x,
                        r.DataView = S
                }
                    , {
                        101: 101,
                        115: 115,
                        116: 116,
                        118: 118,
                        123: 123,
                        29: 29,
                        35: 35,
                        40: 40,
                        42: 42,
                        6: 6,
                        60: 60,
                        72: 72,
                        77: 77,
                        9: 9,
                        93: 93
                    }],
                123: [function(t, n, r) {
                    for (var e, i = t(40), o = t(42), u = t(124), c = u("typed_array"), a = u("view"), f = !(!i.ArrayBuffer || !i.DataView), s = f, l = 0, h = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(","); l < 9; )
                        (e = i[h[l++]]) ? (o(e.prototype, c, !0),
                            o(e.prototype, a, !0)) : s = !1;
                    n.exports = {
                        ABV: f,
                        CONSTR: s,
                        TYPED: c,
                        VIEW: a
                    }
                }
                    , {
                        124: 124,
                        40: 40,
                        42: 42
                    }],
                124: [function(t, n, r) {
                    var e = 0
                        , i = Math.random();
                    n.exports = function(t) {
                        return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++e + i).toString(36))
                    }
                }
                    , {}],
                125: [function(t, n, r) {
                    var e = t(51);
                    n.exports = function(t, n) {
                        if (!e(t) || t._t !== n)
                            throw TypeError("Incompatible receiver, " + n + " required!");
                        return t
                    }
                }
                    , {
                        51: 51
                    }],
                126: [function(t, n, r) {
                    var e = t(40)
                        , i = t(23)
                        , o = t(60)
                        , u = t(127)
                        , c = t(72).f;
                    n.exports = function(t) {
                        var n = i.Symbol || (i.Symbol = o ? {} : e.Symbol || {});
                        "_" == t.charAt(0) || t in n || c(n, t, {
                            value: u.f(t)
                        })
                    }
                }
                    , {
                        127: 127,
                        23: 23,
                        40: 40,
                        60: 60,
                        72: 72
                    }],
                127: [function(t, n, r) {
                    r.f = t(128)
                }
                    , {
                        128: 128
                    }],
                128: [function(t, n, r) {
                    var e = t(103)("wks")
                        , i = t(124)
                        , o = t(40).Symbol
                        , u = "function" == typeof o;
                    (n.exports = function(t) {
                            return e[t] || (e[t] = u && o[t] || (u ? o : i)("Symbol." + t))
                        }
                    ).store = e
                }
                    , {
                        103: 103,
                        124: 124,
                        40: 40
                    }],
                129: [function(t, n, r) {
                    var e = t(17)
                        , i = t(128)("iterator")
                        , o = t(58);
                    n.exports = t(23).getIteratorMethod = function(t) {
                        if (void 0 != t)
                            return t[i] || t["@@iterator"] || o[e(t)]
                    }
                }
                    , {
                        128: 128,
                        17: 17,
                        23: 23,
                        58: 58
                    }],
                130: [function(t, n, r) {
                    var e = t(33)
                        , i = t(95)(/[\\^$*+?.()|[\]{}]/g, "\\$&");
                    e(e.S, "RegExp", {
                        escape: function escape(t) {
                            return i(t)
                        }
                    })
                }
                    , {
                        33: 33,
                        95: 95
                    }],
                131: [function(t, n, r) {
                    var e = t(33);
                    e(e.P, "Array", {
                        copyWithin: t(8)
                    }),
                        t(5)("copyWithin")
                }
                    , {
                        33: 33,
                        5: 5,
                        8: 8
                    }],
                132: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(4);
                    e(e.P + e.F * !t(105)([].every, !0), "Array", {
                        every: function every(t) {
                            return i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        12: 12,
                        33: 33
                    }],
                133: [function(t, n, r) {
                    var e = t(33);
                    e(e.P, "Array", {
                        fill: t(9)
                    }),
                        t(5)("fill")
                }
                    , {
                        33: 33,
                        5: 5,
                        9: 9
                    }],
                134: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(2);
                    e(e.P + e.F * !t(105)([].filter, !0), "Array", {
                        filter: function filter(t) {
                            return i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        12: 12,
                        33: 33
                    }],
                135: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(6)
                        , o = "findIndex"
                        , u = !0;
                    o in [] && Array(1)[o](function() {
                        u = !1
                    }),
                        e(e.P + e.F * u, "Array", {
                            findIndex: function findIndex(t) {
                                return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
                            }
                        }),
                        t(5)(o)
                }
                    , {
                        12: 12,
                        33: 33,
                        5: 5
                    }],
                136: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(5)
                        , o = !0;
                    "find"in [] && Array(1).find(function() {
                        o = !1
                    }),
                        e(e.P + e.F * o, "Array", {
                            find: function find(t) {
                                return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
                            }
                        }),
                        t(5)("find")
                }
                    , {
                        12: 12,
                        33: 33,
                        5: 5
                    }],
                137: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(0)
                        , o = t(105)([].forEach, !0);
                    e(e.P + e.F * !o, "Array", {
                        forEach: function forEach(t) {
                            return i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        12: 12,
                        33: 33
                    }],
                138: [function(t, n, r) {
                    "use strict";
                    var e = t(25)
                        , i = t(33)
                        , o = t(119)
                        , u = t(53)
                        , c = t(48)
                        , a = t(118)
                        , f = t(24)
                        , s = t(129);
                    i(i.S + i.F * !t(56)(function(t) {
                        Array.from(t)
                    }), "Array", {
                        from: function from(t) {
                            var n, r, i, l, h = o(t), v = "function" == typeof this ? this : Array, p = arguments.length, d = p > 1 ? arguments[1] : void 0, y = void 0 !== d, g = 0, m = s(h);
                            if (y && (d = e(d, p > 2 ? arguments[2] : void 0, 2)),
                            void 0 == m || v == Array && c(m))
                                for (n = a(h.length),
                                         r = new v(n); n > g; g++)
                                    f(r, g, y ? d(h[g], g) : h[g]);
                            else
                                for (l = m.call(h),
                                         r = new v; !(i = l.next()).done; g++)
                                    f(r, g, y ? u(l, d, [i.value, g], !0) : i.value);
                            return r.length = g,
                                r
                        }
                    })
                }
                    , {
                        118: 118,
                        119: 119,
                        129: 129,
                        24: 24,
                        25: 25,
                        33: 33,
                        48: 48,
                        53: 53,
                        56: 56
                    }],
                139: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(11)(!1)
                        , o = [].indexOf
                        , u = !!o && 1 / [1].indexOf(1, -0) < 0;
                    e(e.P + e.F * (u || !t(105)(o)), "Array", {
                        indexOf: function indexOf(t) {
                            return u ? o.apply(this, arguments) || 0 : i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        11: 11,
                        33: 33
                    }],
                140: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Array", {
                        isArray: t(49)
                    })
                }
                    , {
                        33: 33,
                        49: 49
                    }],
                141: [function(t, n, r) {
                    "use strict";
                    var e = t(5)
                        , i = t(57)
                        , o = t(58)
                        , u = t(117);
                    n.exports = t(55)(Array, "Array", function(t, n) {
                        this._t = u(t),
                            this._i = 0,
                            this._k = n
                    }, function() {
                        var t = this._t
                            , n = this._k
                            , r = this._i++;
                        return !t || r >= t.length ? (this._t = void 0,
                            i(1)) : "keys" == n ? i(0, r) : "values" == n ? i(0, t[r]) : i(0, [r, t[r]])
                    }, "values"),
                        o.Arguments = o.Array,
                        e("keys"),
                        e("values"),
                        e("entries")
                }
                    , {
                        117: 117,
                        5: 5,
                        55: 55,
                        57: 57,
                        58: 58
                    }],
                142: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(117)
                        , o = [].join;
                    e(e.P + e.F * (t(47) != Object || !t(105)(o)), "Array", {
                        join: function join(t) {
                            return o.call(i(this), void 0 === t ? "," : t)
                        }
                    })
                }
                    , {
                        105: 105,
                        117: 117,
                        33: 33,
                        47: 47
                    }],
                143: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(117)
                        , o = t(116)
                        , u = t(118)
                        , c = [].lastIndexOf
                        , a = !!c && 1 / [1].lastIndexOf(1, -0) < 0;
                    e(e.P + e.F * (a || !t(105)(c)), "Array", {
                        lastIndexOf: function lastIndexOf(t) {
                            if (a)
                                return c.apply(this, arguments) || 0;
                            var n = i(this)
                                , r = u(n.length)
                                , e = r - 1;
                            for (arguments.length > 1 && (e = Math.min(e, o(arguments[1]))),
                                 e < 0 && (e = r + e); e >= 0; e--)
                                if (e in n && n[e] === t)
                                    return e || 0;
                            return -1
                        }
                    })
                }
                    , {
                        105: 105,
                        116: 116,
                        117: 117,
                        118: 118,
                        33: 33
                    }],
                144: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(1);
                    e(e.P + e.F * !t(105)([].map, !0), "Array", {
                        map: function map(t) {
                            return i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        12: 12,
                        33: 33
                    }],
                145: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(24);
                    e(e.S + e.F * t(35)(function() {
                        function F() {}
                        return !(Array.of.call(F)instanceof F)
                    }), "Array", {
                        of: function of() {
                            for (var t = 0, n = arguments.length, r = new ("function" == typeof this ? this : Array)(n); n > t; )
                                i(r, t, arguments[t++]);
                            return r.length = n,
                                r
                        }
                    })
                }
                    , {
                        24: 24,
                        33: 33,
                        35: 35
                    }],
                146: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(13);
                    e(e.P + e.F * !t(105)([].reduceRight, !0), "Array", {
                        reduceRight: function reduceRight(t) {
                            return i(this, t, arguments.length, arguments[1], !0)
                        }
                    })
                }
                    , {
                        105: 105,
                        13: 13,
                        33: 33
                    }],
                147: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(13);
                    e(e.P + e.F * !t(105)([].reduce, !0), "Array", {
                        reduce: function reduce(t) {
                            return i(this, t, arguments.length, arguments[1], !1)
                        }
                    })
                }
                    , {
                        105: 105,
                        13: 13,
                        33: 33
                    }],
                148: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(43)
                        , o = t(18)
                        , u = t(114)
                        , c = t(118)
                        , a = [].slice;
                    e(e.P + e.F * t(35)(function() {
                        i && a.call(i)
                    }), "Array", {
                        slice: function slice(t, n) {
                            var r = c(this.length)
                                , e = o(this);
                            if (n = void 0 === n ? r : n,
                            "Array" == e)
                                return a.call(this, t, n);
                            for (var i = u(t, r), f = u(n, r), s = c(f - i), l = Array(s), h = 0; h < s; h++)
                                l[h] = "String" == e ? this.charAt(i + h) : this[i + h];
                            return l
                        }
                    })
                }
                    , {
                        114: 114,
                        118: 118,
                        18: 18,
                        33: 33,
                        35: 35,
                        43: 43
                    }],
                149: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(12)(3);
                    e(e.P + e.F * !t(105)([].some, !0), "Array", {
                        some: function some(t) {
                            return i(this, t, arguments[1])
                        }
                    })
                }
                    , {
                        105: 105,
                        12: 12,
                        33: 33
                    }],
                150: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(3)
                        , o = t(119)
                        , u = t(35)
                        , c = [].sort
                        , a = [1, 2, 3];
                    e(e.P + e.F * (u(function() {
                        a.sort(void 0)
                    }) || !u(function() {
                        a.sort(null)
                    }) || !t(105)(c)), "Array", {
                        sort: function sort(t) {
                            return void 0 === t ? c.call(o(this)) : c.call(o(this), i(t))
                        }
                    })
                }
                    , {
                        105: 105,
                        119: 119,
                        3: 3,
                        33: 33,
                        35: 35
                    }],
                151: [function(t, n, r) {
                    t(100)("Array")
                }
                    , {
                        100: 100
                    }],
                152: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Date", {
                        now: function() {
                            return (new Date).getTime()
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                153: [function(t, n, r) {
                    var e = t(33)
                        , i = t(26);
                    e(e.P + e.F * (Date.prototype.toISOString !== i), "Date", {
                        toISOString: i
                    })
                }
                    , {
                        26: 26,
                        33: 33
                    }],
                154: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(119)
                        , o = t(120);
                    e(e.P + e.F * t(35)(function() {
                        return null !== new Date(NaN).toJSON() || 1 !== Date.prototype.toJSON.call({
                            toISOString: function() {
                                return 1
                            }
                        })
                    }), "Date", {
                        toJSON: function toJSON(t) {
                            var n = i(this)
                                , r = o(n);
                            return "number" != typeof r || isFinite(r) ? n.toISOString() : null
                        }
                    })
                }
                    , {
                        119: 119,
                        120: 120,
                        33: 33,
                        35: 35
                    }],
                155: [function(t, n, r) {
                    var e = t(128)("toPrimitive")
                        , i = Date.prototype;
                    e in i || t(42)(i, e, t(27))
                }
                    , {
                        128: 128,
                        27: 27,
                        42: 42
                    }],
                156: [function(t, n, r) {
                    var e = Date.prototype
                        , i = e.toString
                        , o = e.getTime;
                    new Date(NaN) + "" != "Invalid Date" && t(94)(e, "toString", function toString() {
                        var t = o.call(this);
                        return t === t ? i.call(this) : "Invalid Date"
                    })
                }
                    , {
                        94: 94
                    }],
                157: [function(t, n, r) {
                    var e = t(33);
                    e(e.P, "Function", {
                        bind: t(16)
                    })
                }
                    , {
                        16: 16,
                        33: 33
                    }],
                158: [function(t, n, r) {
                    "use strict";
                    var e = t(51)
                        , i = t(79)
                        , o = t(128)("hasInstance")
                        , u = Function.prototype;
                    o in u || t(72).f(u, o, {
                        value: function(t) {
                            if ("function" != typeof this || !e(t))
                                return !1;
                            if (!e(this.prototype))
                                return t instanceof this;
                            for (; t = i(t); )
                                if (this.prototype === t)
                                    return !0;
                            return !1
                        }
                    })
                }
                    , {
                        128: 128,
                        51: 51,
                        72: 72,
                        79: 79
                    }],
                159: [function(t, n, r) {
                    var e = t(72).f
                        , i = Function.prototype
                        , o = /^\s*function ([^ (]*)/;
                    "name"in i || t(29) && e(i, "name", {
                        configurable: !0,
                        get: function() {
                            try {
                                return ("" + this).match(o)[1]
                            } catch (t) {
                                return ""
                            }
                        }
                    })
                }
                    , {
                        29: 29,
                        72: 72
                    }],
                160: [function(t, n, r) {
                    "use strict";
                    var e = t(19)
                        , i = t(125);
                    n.exports = t(22)("Map", function(t) {
                        return function Map() {
                            return t(this, arguments.length > 0 ? arguments[0] : void 0)
                        }
                    }, {
                        get: function get(t) {
                            var n = e.getEntry(i(this, "Map"), t);
                            return n && n.v
                        },
                        set: function set(t, n) {
                            return e.def(i(this, "Map"), 0 === t ? 0 : t, n)
                        }
                    }, e, !0)
                }
                    , {
                        125: 125,
                        19: 19,
                        22: 22
                    }],
                161: [function(t, n, r) {
                    var e = t(33)
                        , i = t(63)
                        , o = Math.sqrt
                        , u = Math.acosh;
                    e(e.S + e.F * !(u && 710 == Math.floor(u(Number.MAX_VALUE)) && u(1 / 0) == 1 / 0), "Math", {
                        acosh: function acosh(t) {
                            return (t = +t) < 1 ? NaN : t > 94906265.62425156 ? Math.log(t) + Math.LN2 : i(t - 1 + o(t - 1) * o(t + 1))
                        }
                    })
                }
                    , {
                        33: 33,
                        63: 63
                    }],
                162: [function(t, n, r) {
                    function asinh(t) {
                        return isFinite(t = +t) && 0 != t ? t < 0 ? -asinh(-t) : Math.log(t + Math.sqrt(t * t + 1)) : t
                    }
                    var e = t(33)
                        , i = Math.asinh;
                    e(e.S + e.F * !(i && 1 / i(0) > 0), "Math", {
                        asinh: asinh
                    })
                }
                    , {
                        33: 33
                    }],
                163: [function(t, n, r) {
                    var e = t(33)
                        , i = Math.atanh;
                    e(e.S + e.F * !(i && 1 / i(-0) < 0), "Math", {
                        atanh: function atanh(t) {
                            return 0 == (t = +t) ? t : Math.log((1 + t) / (1 - t)) / 2
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                164: [function(t, n, r) {
                    var e = t(33)
                        , i = t(65);
                    e(e.S, "Math", {
                        cbrt: function cbrt(t) {
                            return i(t = +t) * Math.pow(Math.abs(t), 1 / 3)
                        }
                    })
                }
                    , {
                        33: 33,
                        65: 65
                    }],
                165: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        clz32: function clz32(t) {
                            return (t >>>= 0) ? 31 - Math.floor(Math.log(t + .5) * Math.LOG2E) : 32
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                166: [function(t, n, r) {
                    var e = t(33)
                        , i = Math.exp;
                    e(e.S, "Math", {
                        cosh: function cosh(t) {
                            return (i(t = +t) + i(-t)) / 2
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                167: [function(t, n, r) {
                    var e = t(33)
                        , i = t(61);
                    e(e.S + e.F * (i != Math.expm1), "Math", {
                        expm1: i
                    })
                }
                    , {
                        33: 33,
                        61: 61
                    }],
                168: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        fround: t(62)
                    })
                }
                    , {
                        33: 33,
                        62: 62
                    }],
                169: [function(t, n, r) {
                    var e = t(33)
                        , i = Math.abs;
                    e(e.S, "Math", {
                        hypot: function hypot(t, n) {
                            for (var r, e, o = 0, u = 0, c = arguments.length, a = 0; u < c; )
                                r = i(arguments[u++]),
                                    a < r ? (e = a / r,
                                        o = o * e * e + 1,
                                        a = r) : r > 0 ? (e = r / a,
                                        o += e * e) : o += r;
                            return a === 1 / 0 ? 1 / 0 : a * Math.sqrt(o)
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                170: [function(t, n, r) {
                    var e = t(33)
                        , i = Math.imul;
                    e(e.S + e.F * t(35)(function() {
                        return -5 != i(4294967295, 5) || 2 != i.length
                    }), "Math", {
                        imul: function imul(t, n) {
                            var r = +t
                                , e = +n
                                , i = 65535 & r
                                , o = 65535 & e;
                            return 0 | i * o + ((65535 & r >>> 16) * o + i * (65535 & e >>> 16) << 16 >>> 0)
                        }
                    })
                }
                    , {
                        33: 33,
                        35: 35
                    }],
                171: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        log10: function log10(t) {
                            return Math.log(t) * Math.LOG10E
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                172: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        log1p: t(63)
                    })
                }
                    , {
                        33: 33,
                        63: 63
                    }],
                173: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        log2: function log2(t) {
                            return Math.log(t) / Math.LN2
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                174: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        sign: t(65)
                    })
                }
                    , {
                        33: 33,
                        65: 65
                    }],
                175: [function(t, n, r) {
                    var e = t(33)
                        , i = t(61)
                        , o = Math.exp;
                    e(e.S + e.F * t(35)(function() {
                        return -2e-17 != !Math.sinh(-2e-17)
                    }), "Math", {
                        sinh: function sinh(t) {
                            return Math.abs(t = +t) < 1 ? (i(t) - i(-t)) / 2 : (o(t - 1) - o(-t - 1)) * (Math.E / 2)
                        }
                    })
                }
                    , {
                        33: 33,
                        35: 35,
                        61: 61
                    }],
                176: [function(t, n, r) {
                    var e = t(33)
                        , i = t(61)
                        , o = Math.exp;
                    e(e.S, "Math", {
                        tanh: function tanh(t) {
                            var n = i(t = +t)
                                , r = i(-t);
                            return n == 1 / 0 ? 1 : r == 1 / 0 ? -1 : (n - r) / (o(t) + o(-t))
                        }
                    })
                }
                    , {
                        33: 33,
                        61: 61
                    }],
                177: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        trunc: function trunc(t) {
                            return (t > 0 ? Math.floor : Math.ceil)(t)
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                178: [function(t, n, r) {
                    "use strict";
                    var e = t(40)
                        , i = t(41)
                        , o = t(18)
                        , u = t(45)
                        , c = t(120)
                        , a = t(35)
                        , f = t(77).f
                        , s = t(75).f
                        , l = t(72).f
                        , h = t(111).trim
                        , v = e.Number
                        , p = v
                        , d = v.prototype
                        , y = "Number" == o(t(71)(d))
                        , g = "trim"in String.prototype
                        , m = function(t) {
                        var n = c(t, !1);
                        if ("string" == typeof n && n.length > 2) {
                            n = g ? n.trim() : h(n, 3);
                            var r, e, i, o = n.charCodeAt(0);
                            if (43 === o || 45 === o) {
                                if (88 === (r = n.charCodeAt(2)) || 120 === r)
                                    return NaN
                            } else if (48 === o) {
                                switch (n.charCodeAt(1)) {
                                    case 66:
                                    case 98:
                                        e = 2,
                                            i = 49;
                                        break;
                                    case 79:
                                    case 111:
                                        e = 8,
                                            i = 55;
                                        break;
                                    default:
                                        return +n
                                }
                                for (var u, a = n.slice(2), f = 0, s = a.length; f < s; f++)
                                    if ((u = a.charCodeAt(f)) < 48 || u > i)
                                        return NaN;
                                return parseInt(a, e)
                            }
                        }
                        return +n
                    };
                    if (!v(" 0o1") || !v("0b1") || v("+0x1")) {
                        v = function Number(t) {
                            var n = arguments.length < 1 ? 0 : t
                                , r = this;
                            return r instanceof v && (y ? a(function() {
                                d.valueOf.call(r)
                            }) : "Number" != o(r)) ? u(new p(m(n)), r, v) : m(n)
                        }
                        ;
                        for (var b, x = t(29) ? f(p) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","), S = 0; x.length > S; S++)
                            i(p, b = x[S]) && !i(v, b) && l(v, b, s(p, b));
                        v.prototype = d,
                            d.constructor = v,
                            t(94)(e, "Number", v)
                    }
                }
                    , {
                        111: 111,
                        120: 120,
                        18: 18,
                        29: 29,
                        35: 35,
                        40: 40,
                        41: 41,
                        45: 45,
                        71: 71,
                        72: 72,
                        75: 75,
                        77: 77,
                        94: 94
                    }],
                179: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Number", {
                        EPSILON: Math.pow(2, -52)
                    })
                }
                    , {
                        33: 33
                    }],
                180: [function(t, n, r) {
                    var e = t(33)
                        , i = t(40).isFinite;
                    e(e.S, "Number", {
                        isFinite: function isFinite(t) {
                            return "number" == typeof t && i(t)
                        }
                    })
                }
                    , {
                        33: 33,
                        40: 40
                    }],
                181: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Number", {
                        isInteger: t(50)
                    })
                }
                    , {
                        33: 33,
                        50: 50
                    }],
                182: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Number", {
                        isNaN: function isNaN(t) {
                            return t != t
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                183: [function(t, n, r) {
                    var e = t(33)
                        , i = t(50)
                        , o = Math.abs;
                    e(e.S, "Number", {
                        isSafeInteger: function isSafeInteger(t) {
                            return i(t) && o(t) <= 9007199254740991
                        }
                    })
                }
                    , {
                        33: 33,
                        50: 50
                    }],
                184: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Number", {
                        MAX_SAFE_INTEGER: 9007199254740991
                    })
                }
                    , {
                        33: 33
                    }],
                185: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Number", {
                        MIN_SAFE_INTEGER: -9007199254740991
                    })
                }
                    , {
                        33: 33
                    }],
                186: [function(t, n, r) {
                    var e = t(33)
                        , i = t(86);
                    e(e.S + e.F * (Number.parseFloat != i), "Number", {
                        parseFloat: i
                    })
                }
                    , {
                        33: 33,
                        86: 86
                    }],
                187: [function(t, n, r) {
                    var e = t(33)
                        , i = t(87);
                    e(e.S + e.F * (Number.parseInt != i), "Number", {
                        parseInt: i
                    })
                }
                    , {
                        33: 33,
                        87: 87
                    }],
                188: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(116)
                        , o = t(4)
                        , u = t(110)
                        , c = 1..toFixed
                        , a = Math.floor
                        , f = [0, 0, 0, 0, 0, 0]
                        , s = "Number.toFixed: incorrect invocation!"
                        , l = function(t, n) {
                        for (var r = -1, e = n; ++r < 6; )
                            e += t * f[r],
                                f[r] = e % 1e7,
                                e = a(e / 1e7)
                    }
                        , h = function(t) {
                        for (var n = 6, r = 0; --n >= 0; )
                            r += f[n],
                                f[n] = a(r / t),
                                r = r % t * 1e7
                    }
                        , v = function() {
                        for (var t = 6, n = ""; --t >= 0; )
                            if ("" !== n || 0 === t || 0 !== f[t]) {
                                var r = String(f[t]);
                                n = "" === n ? r : n + u.call("0", 7 - r.length) + r
                            }
                        return n
                    }
                        , p = function(t, n, r) {
                        return 0 === n ? r : n % 2 == 1 ? p(t, n - 1, r * t) : p(t * t, n / 2, r)
                    }
                        , d = function(t) {
                        for (var n = 0, r = t; r >= 4096; )
                            n += 12,
                                r /= 4096;
                        for (; r >= 2; )
                            n += 1,
                                r /= 2;
                        return n
                    };
                    e(e.P + e.F * (!!c && ("0.000" !== 8e-5.toFixed(3) || "1" !== .9.toFixed(0) || "1.25" !== 1.255.toFixed(2) || "1000000000000000128" !== (0xde0b6b3a7640080).toFixed(0)) || !t(35)(function() {
                        c.call({})
                    })), "Number", {
                        toFixed: function toFixed(t) {
                            var n, r, e, c, a = o(this, s), f = i(t), y = "", g = "0";
                            if (f < 0 || f > 20)
                                throw RangeError(s);
                            if (a != a)
                                return "NaN";
                            if (a <= -1e21 || a >= 1e21)
                                return String(a);
                            if (a < 0 && (y = "-",
                                a = -a),
                            a > 1e-21)
                                if (n = d(a * p(2, 69, 1)) - 69,
                                    r = n < 0 ? a * p(2, -n, 1) : a / p(2, n, 1),
                                    r *= 4503599627370496,
                                (n = 52 - n) > 0) {
                                    for (l(0, r),
                                             e = f; e >= 7; )
                                        l(1e7, 0),
                                            e -= 7;
                                    for (l(p(10, e, 1), 0),
                                             e = n - 1; e >= 23; )
                                        h(1 << 23),
                                            e -= 23;
                                    h(1 << e),
                                        l(1, 1),
                                        h(2),
                                        g = v()
                                } else
                                    l(0, r),
                                        l(1 << -n, 0),
                                        g = v() + u.call("0", f);
                            return f > 0 ? (c = g.length,
                                g = y + (c <= f ? "0." + u.call("0", f - c) + g : g.slice(0, c - f) + "." + g.slice(c - f))) : g = y + g,
                                g
                        }
                    })
                }
                    , {
                        110: 110,
                        116: 116,
                        33: 33,
                        35: 35,
                        4: 4
                    }],
                189: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(35)
                        , o = t(4)
                        , u = 1..toPrecision;
                    e(e.P + e.F * (i(function() {
                        return "1" !== u.call(1, void 0)
                    }) || !i(function() {
                        u.call({})
                    })), "Number", {
                        toPrecision: function toPrecision(t) {
                            var n = o(this, "Number#toPrecision: incorrect invocation!");
                            return void 0 === t ? u.call(n) : u.call(n, t)
                        }
                    })
                }
                    , {
                        33: 33,
                        35: 35,
                        4: 4
                    }],
                190: [function(t, n, r) {
                    var e = t(33);
                    e(e.S + e.F, "Object", {
                        assign: t(70)
                    })
                }
                    , {
                        33: 33,
                        70: 70
                    }],
                191: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Object", {
                        create: t(71)
                    })
                }
                    , {
                        33: 33,
                        71: 71
                    }],
                192: [function(t, n, r) {
                    var e = t(33);
                    e(e.S + e.F * !t(29), "Object", {
                        defineProperties: t(73)
                    })
                }
                    , {
                        29: 29,
                        33: 33,
                        73: 73
                    }],
                193: [function(t, n, r) {
                    var e = t(33);
                    e(e.S + e.F * !t(29), "Object", {
                        defineProperty: t(72).f
                    })
                }
                    , {
                        29: 29,
                        33: 33,
                        72: 72
                    }],
                194: [function(t, n, r) {
                    var e = t(51)
                        , i = t(66).onFreeze;
                    t(83)("freeze", function(t) {
                        return function freeze(n) {
                            return t && e(n) ? t(i(n)) : n
                        }
                    })
                }
                    , {
                        51: 51,
                        66: 66,
                        83: 83
                    }],
                195: [function(t, n, r) {
                    var e = t(117)
                        , i = t(75).f;
                    t(83)("getOwnPropertyDescriptor", function() {
                        return function getOwnPropertyDescriptor(t, n) {
                            return i(e(t), n)
                        }
                    })
                }
                    , {
                        117: 117,
                        75: 75,
                        83: 83
                    }],
                196: [function(t, n, r) {
                    t(83)("getOwnPropertyNames", function() {
                        return t(76).f
                    })
                }
                    , {
                        76: 76,
                        83: 83
                    }],
                197: [function(t, n, r) {
                    var e = t(119)
                        , i = t(79);
                    t(83)("getPrototypeOf", function() {
                        return function getPrototypeOf(t) {
                            return i(e(t))
                        }
                    })
                }
                    , {
                        119: 119,
                        79: 79,
                        83: 83
                    }],
                198: [function(t, n, r) {
                    var e = t(51);
                    t(83)("isExtensible", function(t) {
                        return function isExtensible(n) {
                            return !!e(n) && (!t || t(n))
                        }
                    })
                }
                    , {
                        51: 51,
                        83: 83
                    }],
                199: [function(t, n, r) {
                    var e = t(51);
                    t(83)("isFrozen", function(t) {
                        return function isFrozen(n) {
                            return !e(n) || !!t && t(n)
                        }
                    })
                }
                    , {
                        51: 51,
                        83: 83
                    }],
                200: [function(t, n, r) {
                    var e = t(51);
                    t(83)("isSealed", function(t) {
                        return function isSealed(n) {
                            return !e(n) || !!t && t(n)
                        }
                    })
                }
                    , {
                        51: 51,
                        83: 83
                    }],
                201: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Object", {
                        is: t(96)
                    })
                }
                    , {
                        33: 33,
                        96: 96
                    }],
                202: [function(t, n, r) {
                    var e = t(119)
                        , i = t(81);
                    t(83)("keys", function() {
                        return function keys(t) {
                            return i(e(t))
                        }
                    })
                }
                    , {
                        119: 119,
                        81: 81,
                        83: 83
                    }],
                203: [function(t, n, r) {
                    var e = t(51)
                        , i = t(66).onFreeze;
                    t(83)("preventExtensions", function(t) {
                        return function preventExtensions(n) {
                            return t && e(n) ? t(i(n)) : n
                        }
                    })
                }
                    , {
                        51: 51,
                        66: 66,
                        83: 83
                    }],
                204: [function(t, n, r) {
                    var e = t(51)
                        , i = t(66).onFreeze;
                    t(83)("seal", function(t) {
                        return function seal(n) {
                            return t && e(n) ? t(i(n)) : n
                        }
                    })
                }
                    , {
                        51: 51,
                        66: 66,
                        83: 83
                    }],
                205: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Object", {
                        setPrototypeOf: t(99).set
                    })
                }
                    , {
                        33: 33,
                        99: 99
                    }],
                206: [function(t, n, r) {
                    "use strict";
                    var e = t(17)
                        , i = {};
                    i[t(128)("toStringTag")] = "z",
                    i + "" != "[object z]" && t(94)(Object.prototype, "toString", function toString() {
                        return "[object " + e(this) + "]"
                    }, !0)
                }
                    , {
                        128: 128,
                        17: 17,
                        94: 94
                    }],
                207: [function(t, n, r) {
                    var e = t(33)
                        , i = t(86);
                    e(e.G + e.F * (parseFloat != i), {
                        parseFloat: i
                    })
                }
                    , {
                        33: 33,
                        86: 86
                    }],
                208: [function(t, n, r) {
                    var e = t(33)
                        , i = t(87);
                    e(e.G + e.F * (parseInt != i), {
                        parseInt: i
                    })
                }
                    , {
                        33: 33,
                        87: 87
                    }],
                209: [function(t, n, r) {
                    "use strict";
                    var e, i, o, u, c = t(60), a = t(40), f = t(25), s = t(17), l = t(33), h = t(51), v = t(3), p = t(6), d = t(39), y = t(104), g = t(113).set, m = t(68)(), b = t(69), x = t(90), S = t(91), w = a.TypeError, _ = a.process, E = a.Promise, O = "process" == s(_), P = function() {}, M = i = b.f, F = !!function() {
                        try {
                            var n = E.resolve(1)
                                , r = (n.constructor = {})[t(128)("species")] = function(t) {
                                    t(P, P)
                                }
                            ;
                            return (O || "function" == typeof PromiseRejectionEvent) && n.then(P)instanceof r
                        } catch (t) {}
                    }(), I = c ? function(t, n) {
                            return t === n || t === E && n === u
                        }
                        : function(t, n) {
                            return t === n
                        }
                        , A = function(t) {
                        var n;
                        return !(!h(t) || "function" != typeof (n = t.then)) && n
                    }, k = function(t, n) {
                        if (!t._n) {
                            t._n = !0;
                            var r = t._c;
                            m(function() {
                                for (var e = t._v, i = 1 == t._s, o = 0; r.length > o; )
                                    !function(n) {
                                        var r, o, u = i ? n.ok : n.fail, c = n.resolve, a = n.reject, f = n.domain;
                                        try {
                                            u ? (i || (2 == t._h && T(t),
                                                t._h = 1),
                                                !0 === u ? r = e : (f && f.enter(),
                                                    r = u(e),
                                                f && f.exit()),
                                                r === n.promise ? a(w("Promise-chain cycle")) : (o = A(r)) ? o.call(r, c, a) : c(r)) : a(e)
                                        } catch (t) {
                                            a(t)
                                        }
                                    }(r[o++]);
                                t._c = [],
                                    t._n = !1,
                                n && !t._h && N(t)
                            })
                        }
                    }, N = function(t) {
                        g.call(a, function() {
                            var n, r, e, i = t._v, o = j(t);
                            if (o && (n = x(function() {
                                O ? _.emit("unhandledRejection", i, t) : (r = a.onunhandledrejection) ? r({
                                    promise: t,
                                    reason: i
                                }) : (e = a.console) && e.error && e.error("Unhandled promise rejection", i)
                            }),
                                t._h = O || j(t) ? 2 : 1),
                                t._a = void 0,
                            o && n.e)
                                throw n.v
                        })
                    }, j = function(t) {
                        if (1 == t._h)
                            return !1;
                        for (var n, r = t._a || t._c, e = 0; r.length > e; )
                            if (n = r[e++],
                            n.fail || !j(n.promise))
                                return !1;
                        return !0
                    }, T = function(t) {
                        g.call(a, function() {
                            var n;
                            O ? _.emit("rejectionHandled", t) : (n = a.onrejectionhandled) && n({
                                promise: t,
                                reason: t._v
                            })
                        })
                    }, R = function(t) {
                        var n = this;
                        n._d || (n._d = !0,
                            n = n._w || n,
                            n._v = t,
                            n._s = 2,
                        n._a || (n._a = n._c.slice()),
                            k(n, !0))
                    }, L = function(t) {
                        var n, r = this;
                        if (!r._d) {
                            r._d = !0,
                                r = r._w || r;
                            try {
                                if (r === t)
                                    throw w("Promise can't be resolved itself");
                                (n = A(t)) ? m(function() {
                                    var e = {
                                        _w: r,
                                        _d: !1
                                    };
                                    try {
                                        n.call(t, f(L, e, 1), f(R, e, 1))
                                    } catch (t) {
                                        R.call(e, t)
                                    }
                                }) : (r._v = t,
                                    r._s = 1,
                                    k(r, !1))
                            } catch (t) {
                                R.call({
                                    _w: r,
                                    _d: !1
                                }, t)
                            }
                        }
                    };
                    F || (E = function Promise(t) {
                            p(this, E, "Promise", "_h"),
                                v(t),
                                e.call(this);
                            try {
                                t(f(L, this, 1), f(R, this, 1))
                            } catch (t) {
                                R.call(this, t)
                            }
                        }
                            ,
                            e = function Promise(t) {
                                this._c = [],
                                    this._a = void 0,
                                    this._s = 0,
                                    this._d = !1,
                                    this._v = void 0,
                                    this._h = 0,
                                    this._n = !1
                            }
                            ,
                            e.prototype = t(93)(E.prototype, {
                                then: function then(t, n) {
                                    var r = M(y(this, E));
                                    return r.ok = "function" != typeof t || t,
                                        r.fail = "function" == typeof n && n,
                                        r.domain = O ? _.domain : void 0,
                                        this._c.push(r),
                                    this._a && this._a.push(r),
                                    this._s && k(this, !1),
                                        r.promise
                                },
                                catch: function(t) {
                                    return this.then(void 0, t)
                                }
                            }),
                            o = function() {
                                var t = new e;
                                this.promise = t,
                                    this.resolve = f(L, t, 1),
                                    this.reject = f(R, t, 1)
                            }
                            ,
                            b.f = M = function(t) {
                                return I(E, t) ? new o(t) : i(t)
                            }
                    ),
                        l(l.G + l.W + l.F * !F, {
                            Promise: E
                        }),
                        t(101)(E, "Promise"),
                        t(100)("Promise"),
                        u = t(23).Promise,
                        l(l.S + l.F * !F, "Promise", {
                            reject: function reject(t) {
                                var n = M(this);
                                return (0,
                                    n.reject)(t),
                                    n.promise
                            }
                        }),
                        l(l.S + l.F * (c || !F), "Promise", {
                            resolve: function resolve(t) {
                                return t instanceof E && I(t.constructor, this) ? t : S(this, t)
                            }
                        }),
                        l(l.S + l.F * !(F && t(56)(function(t) {
                            E.all(t).catch(P)
                        })), "Promise", {
                            all: function all(t) {
                                var n = this
                                    , r = M(n)
                                    , e = r.resolve
                                    , i = r.reject
                                    , o = x(function() {
                                    var r = []
                                        , o = 0
                                        , u = 1;
                                    d(t, !1, function(t) {
                                        var c = o++
                                            , a = !1;
                                        r.push(void 0),
                                            u++,
                                            n.resolve(t).then(function(t) {
                                                a || (a = !0,
                                                    r[c] = t,
                                                --u || e(r))
                                            }, i)
                                    }),
                                    --u || e(r)
                                });
                                return o.e && i(o.v),
                                    r.promise
                            },
                            race: function race(t) {
                                var n = this
                                    , r = M(n)
                                    , e = r.reject
                                    , i = x(function() {
                                    d(t, !1, function(t) {
                                        n.resolve(t).then(r.resolve, e)
                                    })
                                });
                                return i.e && e(i.v),
                                    r.promise
                            }
                        })
                }
                    , {
                        100: 100,
                        101: 101,
                        104: 104,
                        113: 113,
                        128: 128,
                        17: 17,
                        23: 23,
                        25: 25,
                        3: 3,
                        33: 33,
                        39: 39,
                        40: 40,
                        51: 51,
                        56: 56,
                        6: 6,
                        60: 60,
                        68: 68,
                        69: 69,
                        90: 90,
                        91: 91,
                        93: 93
                    }],
                210: [function(t, n, r) {
                    var e = t(33)
                        , i = t(3)
                        , o = t(7)
                        , u = (t(40).Reflect || {}).apply
                        , c = Function.apply;
                    e(e.S + e.F * !t(35)(function() {
                        u(function() {})
                    }), "Reflect", {
                        apply: function apply(t, n, r) {
                            var e = i(t)
                                , a = o(r);
                            return u ? u(e, n, a) : c.call(e, n, a)
                        }
                    })
                }
                    , {
                        3: 3,
                        33: 33,
                        35: 35,
                        40: 40,
                        7: 7
                    }],
                211: [function(t, n, r) {
                    var e = t(33)
                        , i = t(71)
                        , o = t(3)
                        , u = t(7)
                        , c = t(51)
                        , a = t(35)
                        , f = t(16)
                        , s = (t(40).Reflect || {}).construct
                        , l = a(function() {
                        function F() {}
                        return !(s(function() {}, [], F)instanceof F)
                    })
                        , h = !a(function() {
                        s(function() {})
                    });
                    e(e.S + e.F * (l || h), "Reflect", {
                        construct: function construct(t, n) {
                            o(t),
                                u(n);
                            var r = arguments.length < 3 ? t : o(arguments[2]);
                            if (h && !l)
                                return s(t, n, r);
                            if (t == r) {
                                switch (n.length) {
                                    case 0:
                                        return new t;
                                    case 1:
                                        return new t(n[0]);
                                    case 2:
                                        return new t(n[0],n[1]);
                                    case 3:
                                        return new t(n[0],n[1],n[2]);
                                    case 4:
                                        return new t(n[0],n[1],n[2],n[3])
                                }
                                var e = [null];
                                return e.push.apply(e, n),
                                    new (f.apply(t, e))
                            }
                            var a = r.prototype
                                , v = i(c(a) ? a : Object.prototype)
                                , p = Function.apply.call(t, v, n);
                            return c(p) ? p : v
                        }
                    })
                }
                    , {
                        16: 16,
                        3: 3,
                        33: 33,
                        35: 35,
                        40: 40,
                        51: 51,
                        7: 7,
                        71: 71
                    }],
                212: [function(t, n, r) {
                    var e = t(72)
                        , i = t(33)
                        , o = t(7)
                        , u = t(120);
                    i(i.S + i.F * t(35)(function() {
                        Reflect.defineProperty(e.f({}, 1, {
                            value: 1
                        }), 1, {
                            value: 2
                        })
                    }), "Reflect", {
                        defineProperty: function defineProperty(t, n, r) {
                            o(t),
                                n = u(n, !0),
                                o(r);
                            try {
                                return e.f(t, n, r),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                    })
                }
                    , {
                        120: 120,
                        33: 33,
                        35: 35,
                        7: 7,
                        72: 72
                    }],
                213: [function(t, n, r) {
                    var e = t(33)
                        , i = t(75).f
                        , o = t(7);
                    e(e.S, "Reflect", {
                        deleteProperty: function deleteProperty(t, n) {
                            var r = i(o(t), n);
                            return !(r && !r.configurable) && delete t[n]
                        }
                    })
                }
                    , {
                        33: 33,
                        7: 7,
                        75: 75
                    }],
                214: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(7)
                        , o = function(t) {
                        this._t = i(t),
                            this._i = 0;
                        var n, r = this._k = [];
                        for (n in t)
                            r.push(n)
                    };
                    t(54)(o, "Object", function() {
                        var t, n = this, r = n._k;
                        do {
                            if (n._i >= r.length)
                                return {
                                    value: void 0,
                                    done: !0
                                }
                        } while (!((t = r[n._i++])in n._t));
                        return {
                            value: t,
                            done: !1
                        }
                    }),
                        e(e.S, "Reflect", {
                            enumerate: function enumerate(t) {
                                return new o(t)
                            }
                        })
                }
                    , {
                        33: 33,
                        54: 54,
                        7: 7
                    }],
                215: [function(t, n, r) {
                    var e = t(75)
                        , i = t(33)
                        , o = t(7);
                    i(i.S, "Reflect", {
                        getOwnPropertyDescriptor: function getOwnPropertyDescriptor(t, n) {
                            return e.f(o(t), n)
                        }
                    })
                }
                    , {
                        33: 33,
                        7: 7,
                        75: 75
                    }],
                216: [function(t, n, r) {
                    var e = t(33)
                        , i = t(79)
                        , o = t(7);
                    e(e.S, "Reflect", {
                        getPrototypeOf: function getPrototypeOf(t) {
                            return i(o(t))
                        }
                    })
                }
                    , {
                        33: 33,
                        7: 7,
                        79: 79
                    }],
                217: [function(t, n, r) {
                    function get(t, n) {
                        var r, u, f = arguments.length < 3 ? t : arguments[2];
                        return a(t) === f ? t[n] : (r = e.f(t, n)) ? o(r, "value") ? r.value : void 0 !== r.get ? r.get.call(f) : void 0 : c(u = i(t)) ? get(u, n, f) : void 0
                    }
                    var e = t(75)
                        , i = t(79)
                        , o = t(41)
                        , u = t(33)
                        , c = t(51)
                        , a = t(7);
                    u(u.S, "Reflect", {
                        get: get
                    })
                }
                    , {
                        33: 33,
                        41: 41,
                        51: 51,
                        7: 7,
                        75: 75,
                        79: 79
                    }],
                218: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Reflect", {
                        has: function has(t, n) {
                            return n in t
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                219: [function(t, n, r) {
                    var e = t(33)
                        , i = t(7)
                        , o = Object.isExtensible;
                    e(e.S, "Reflect", {
                        isExtensible: function isExtensible(t) {
                            return i(t),
                            !o || o(t)
                        }
                    })
                }
                    , {
                        33: 33,
                        7: 7
                    }],
                220: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Reflect", {
                        ownKeys: t(85)
                    })
                }
                    , {
                        33: 33,
                        85: 85
                    }],
                221: [function(t, n, r) {
                    var e = t(33)
                        , i = t(7)
                        , o = Object.preventExtensions;
                    e(e.S, "Reflect", {
                        preventExtensions: function preventExtensions(t) {
                            i(t);
                            try {
                                return o && o(t),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                    })
                }
                    , {
                        33: 33,
                        7: 7
                    }],
                222: [function(t, n, r) {
                    var e = t(33)
                        , i = t(99);
                    i && e(e.S, "Reflect", {
                        setPrototypeOf: function setPrototypeOf(t, n) {
                            i.check(t, n);
                            try {
                                return i.set(t, n),
                                    !0
                            } catch (t) {
                                return !1
                            }
                        }
                    })
                }
                    , {
                        33: 33,
                        99: 99
                    }],
                223: [function(t, n, r) {
                    function set(t, n, r) {
                        var c, l, h = arguments.length < 4 ? t : arguments[3], v = i.f(f(t), n);
                        if (!v) {
                            if (s(l = o(t)))
                                return set(l, n, r, h);
                            v = a(0)
                        }
                        return u(v, "value") ? !(!1 === v.writable || !s(h)) && (c = i.f(h, n) || a(0),
                            c.value = r,
                            e.f(h, n, c),
                            !0) : void 0 !== v.set && (v.set.call(h, r),
                            !0)
                    }
                    var e = t(72)
                        , i = t(75)
                        , o = t(79)
                        , u = t(41)
                        , c = t(33)
                        , a = t(92)
                        , f = t(7)
                        , s = t(51);
                    c(c.S, "Reflect", {
                        set: set
                    })
                }
                    , {
                        33: 33,
                        41: 41,
                        51: 51,
                        7: 7,
                        72: 72,
                        75: 75,
                        79: 79,
                        92: 92
                    }],
                224: [function(t, n, r) {
                    var e = t(40)
                        , i = t(45)
                        , o = t(72).f
                        , u = t(77).f
                        , c = t(52)
                        , a = t(37)
                        , f = e.RegExp
                        , s = f
                        , l = f.prototype
                        , h = /a/g
                        , v = /a/g
                        , p = new f(h) !== h;
                    if (t(29) && (!p || t(35)(function() {
                        return v[t(128)("match")] = !1,
                        f(h) != h || f(v) == v || "/a/i" != f(h, "i")
                    }))) {
                        f = function RegExp(t, n) {
                            var r = this instanceof f
                                , e = c(t)
                                , o = void 0 === n;
                            return !r && e && t.constructor === f && o ? t : i(p ? new s(e && !o ? t.source : t,n) : s((e = t instanceof f) ? t.source : t, e && o ? a.call(t) : n), r ? this : l, f)
                        }
                        ;
                        for (var d = u(s), y = 0; d.length > y; )
                            !function(t) {
                                t in f || o(f, t, {
                                    configurable: !0,
                                    get: function() {
                                        return s[t]
                                    },
                                    set: function(n) {
                                        s[t] = n
                                    }
                                })
                            }(d[y++]);
                        l.constructor = f,
                            f.prototype = l,
                            t(94)(e, "RegExp", f)
                    }
                    t(100)("RegExp")
                }
                    , {
                        100: 100,
                        128: 128,
                        29: 29,
                        35: 35,
                        37: 37,
                        40: 40,
                        45: 45,
                        52: 52,
                        72: 72,
                        77: 77,
                        94: 94
                    }],
                225: [function(t, n, r) {
                    t(29) && "g" != /./g.flags && t(72).f(RegExp.prototype, "flags", {
                        configurable: !0,
                        get: t(37)
                    })
                }
                    , {
                        29: 29,
                        37: 37,
                        72: 72
                    }],
                226: [function(t, n, r) {
                    t(36)("match", 1, function(t, n, r) {
                        return [function match(r) {
                            "use strict";
                            var e = t(this)
                                , i = void 0 == r ? void 0 : r[n];
                            return void 0 !== i ? i.call(r, e) : new RegExp(r)[n](String(e))
                        }
                            , r]
                    })
                }
                    , {
                        36: 36
                    }],
                227: [function(t, n, r) {
                    t(36)("replace", 2, function(t, n, r) {
                        return [function replace(e, i) {
                            "use strict";
                            var o = t(this)
                                , u = void 0 == e ? void 0 : e[n];
                            return void 0 !== u ? u.call(e, o, i) : r.call(String(o), e, i)
                        }
                            , r]
                    })
                }
                    , {
                        36: 36
                    }],
                228: [function(t, n, r) {
                    t(36)("search", 1, function(t, n, r) {
                        return [function search(r) {
                            "use strict";
                            var e = t(this)
                                , i = void 0 == r ? void 0 : r[n];
                            return void 0 !== i ? i.call(r, e) : new RegExp(r)[n](String(e))
                        }
                            , r]
                    })
                }
                    , {
                        36: 36
                    }],
                229: [function(t, n, r) {
                    t(36)("split", 2, function(n, r, e) {
                        "use strict";
                        var i = t(52)
                            , o = e
                            , u = [].push
                            , c = "length";
                        if ("c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1)[c] || 2 != "ab".split(/(?:ab)*/)[c] || 4 != ".".split(/(.?)(.?)/)[c] || ".".split(/()()/)[c] > 1 || "".split(/.?/)[c]) {
                            var a = void 0 === /()??/.exec("")[1];
                            e = function(t, n) {
                                var r = String(this);
                                if (void 0 === t && 0 === n)
                                    return [];
                                if (!i(t))
                                    return o.call(r, t, n);
                                var e, f, s, l, h, v = [], p = (t.ignoreCase ? "i" : "") + (t.multiline ? "m" : "") + (t.unicode ? "u" : "") + (t.sticky ? "y" : ""), d = 0, y = void 0 === n ? 4294967295 : n >>> 0, g = new RegExp(t.source,p + "g");
                                for (a || (e = new RegExp("^" + g.source + "$(?!\\s)",p)); (f = g.exec(r)) && !((s = f.index + f[0][c]) > d && (v.push(r.slice(d, f.index)),
                                !a && f[c] > 1 && f[0].replace(e, function() {
                                    for (h = 1; h < arguments[c] - 2; h++)
                                        void 0 === arguments[h] && (f[h] = void 0)
                                }),
                                f[c] > 1 && f.index < r[c] && u.apply(v, f.slice(1)),
                                    l = f[0][c],
                                    d = s,
                                v[c] >= y)); )
                                    g.lastIndex === f.index && g.lastIndex++;
                                return d === r[c] ? !l && g.test("") || v.push("") : v.push(r.slice(d)),
                                    v[c] > y ? v.slice(0, y) : v
                            }
                        } else
                            "0".split(void 0, 0)[c] && (e = function(t, n) {
                                    return void 0 === t && 0 === n ? [] : o.call(this, t, n)
                                }
                            );
                        return [function split(t, i) {
                            var o = n(this)
                                , u = void 0 == t ? void 0 : t[r];
                            return void 0 !== u ? u.call(t, o, i) : e.call(String(o), t, i)
                        }
                            , e]
                    })
                }
                    , {
                        36: 36,
                        52: 52
                    }],
                230: [function(t, n, r) {
                    "use strict";
                    t(225);
                    var e = t(7)
                        , i = t(37)
                        , o = t(29)
                        , u = /./.toString
                        , c = function(n) {
                        t(94)(RegExp.prototype, "toString", n, !0)
                    };
                    t(35)(function() {
                        return "/a/b" != u.call({
                            source: "a",
                            flags: "b"
                        })
                    }) ? c(function toString() {
                        var t = e(this);
                        return "/".concat(t.source, "/", "flags"in t ? t.flags : !o && t instanceof RegExp ? i.call(t) : void 0)
                    }) : "toString" != u.name && c(function toString() {
                        return u.call(this)
                    })
                }
                    , {
                        225: 225,
                        29: 29,
                        35: 35,
                        37: 37,
                        7: 7,
                        94: 94
                    }],
                231: [function(t, n, r) {
                    "use strict";
                    var e = t(19)
                        , i = t(125);
                    n.exports = t(22)("Set", function(t) {
                        return function Set() {
                            return t(this, arguments.length > 0 ? arguments[0] : void 0)
                        }
                    }, {
                        add: function add(t) {
                            return e.def(i(this, "Set"), t = 0 === t ? 0 : t, t)
                        }
                    }, e)
                }
                    , {
                        125: 125,
                        19: 19,
                        22: 22
                    }],
                232: [function(t, n, r) {
                    "use strict";
                    t(108)("anchor", function(t) {
                        return function anchor(n) {
                            return t(this, "a", "name", n)
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                233: [function(t, n, r) {
                    "use strict";
                    t(108)("big", function(t) {
                        return function big() {
                            return t(this, "big", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                234: [function(t, n, r) {
                    "use strict";
                    t(108)("blink", function(t) {
                        return function blink() {
                            return t(this, "blink", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                235: [function(t, n, r) {
                    "use strict";
                    t(108)("bold", function(t) {
                        return function bold() {
                            return t(this, "b", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                236: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(106)(!1);
                    e(e.P, "String", {
                        codePointAt: function codePointAt(t) {
                            return i(this, t)
                        }
                    })
                }
                    , {
                        106: 106,
                        33: 33
                    }],
                237: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(118)
                        , o = t(107)
                        , u = "".endsWith;
                    e(e.P + e.F * t(34)("endsWith"), "String", {
                        endsWith: function endsWith(t) {
                            var n = o(this, t, "endsWith")
                                , r = arguments.length > 1 ? arguments[1] : void 0
                                , e = i(n.length)
                                , c = void 0 === r ? e : Math.min(i(r), e)
                                , a = String(t);
                            return u ? u.call(n, a, c) : n.slice(c - a.length, c) === a
                        }
                    })
                }
                    , {
                        107: 107,
                        118: 118,
                        33: 33,
                        34: 34
                    }],
                238: [function(t, n, r) {
                    "use strict";
                    t(108)("fixed", function(t) {
                        return function fixed() {
                            return t(this, "tt", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                239: [function(t, n, r) {
                    "use strict";
                    t(108)("fontcolor", function(t) {
                        return function fontcolor(n) {
                            return t(this, "font", "color", n)
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                240: [function(t, n, r) {
                    "use strict";
                    t(108)("fontsize", function(t) {
                        return function fontsize(n) {
                            return t(this, "font", "size", n)
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                241: [function(t, n, r) {
                    var e = t(33)
                        , i = t(114)
                        , o = String.fromCharCode
                        , u = String.fromCodePoint;
                    e(e.S + e.F * (!!u && 1 != u.length), "String", {
                        fromCodePoint: function fromCodePoint(t) {
                            for (var n, r = [], e = arguments.length, u = 0; e > u; ) {
                                if (n = +arguments[u++],
                                i(n, 1114111) !== n)
                                    throw RangeError(n + " is not a valid code point");
                                r.push(n < 65536 ? o(n) : o(55296 + ((n -= 65536) >> 10), n % 1024 + 56320))
                            }
                            return r.join("")
                        }
                    })
                }
                    , {
                        114: 114,
                        33: 33
                    }],
                242: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(107);
                    e(e.P + e.F * t(34)("includes"), "String", {
                        includes: function includes(t) {
                            return !!~i(this, t, "includes").indexOf(t, arguments.length > 1 ? arguments[1] : void 0)
                        }
                    })
                }
                    , {
                        107: 107,
                        33: 33,
                        34: 34
                    }],
                243: [function(t, n, r) {
                    "use strict";
                    t(108)("italics", function(t) {
                        return function italics() {
                            return t(this, "i", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                244: [function(t, n, r) {
                    "use strict";
                    var e = t(106)(!0);
                    t(55)(String, "String", function(t) {
                        this._t = String(t),
                            this._i = 0
                    }, function() {
                        var t, n = this._t, r = this._i;
                        return r >= n.length ? {
                            value: void 0,
                            done: !0
                        } : (t = e(n, r),
                            this._i += t.length,
                            {
                                value: t,
                                done: !1
                            })
                    })
                }
                    , {
                        106: 106,
                        55: 55
                    }],
                245: [function(t, n, r) {
                    "use strict";
                    t(108)("link", function(t) {
                        return function link(n) {
                            return t(this, "a", "href", n)
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                246: [function(t, n, r) {
                    var e = t(33)
                        , i = t(117)
                        , o = t(118);
                    e(e.S, "String", {
                        raw: function raw(t) {
                            for (var n = i(t.raw), r = o(n.length), e = arguments.length, u = [], c = 0; r > c; )
                                u.push(String(n[c++])),
                                c < e && u.push(String(arguments[c]));
                            return u.join("")
                        }
                    })
                }
                    , {
                        117: 117,
                        118: 118,
                        33: 33
                    }],
                247: [function(t, n, r) {
                    var e = t(33);
                    e(e.P, "String", {
                        repeat: t(110)
                    })
                }
                    , {
                        110: 110,
                        33: 33
                    }],
                248: [function(t, n, r) {
                    "use strict";
                    t(108)("small", function(t) {
                        return function small() {
                            return t(this, "small", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                249: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(118)
                        , o = t(107)
                        , u = "".startsWith;
                    e(e.P + e.F * t(34)("startsWith"), "String", {
                        startsWith: function startsWith(t) {
                            var n = o(this, t, "startsWith")
                                , r = i(Math.min(arguments.length > 1 ? arguments[1] : void 0, n.length))
                                , e = String(t);
                            return u ? u.call(n, e, r) : n.slice(r, r + e.length) === e
                        }
                    })
                }
                    , {
                        107: 107,
                        118: 118,
                        33: 33,
                        34: 34
                    }],
                250: [function(t, n, r) {
                    "use strict";
                    t(108)("strike", function(t) {
                        return function strike() {
                            return t(this, "strike", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                251: [function(t, n, r) {
                    "use strict";
                    t(108)("sub", function(t) {
                        return function sub() {
                            return t(this, "sub", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                252: [function(t, n, r) {
                    "use strict";
                    t(108)("sup", function(t) {
                        return function sup() {
                            return t(this, "sup", "", "")
                        }
                    })
                }
                    , {
                        108: 108
                    }],
                253: [function(t, n, r) {
                    "use strict";
                    t(111)("trim", function(t) {
                        return function trim() {
                            return t(this, 3)
                        }
                    })
                }
                    , {
                        111: 111
                    }],
                254: [function(t, n, r) {
                    "use strict";
                    var e = t(40)
                        , i = t(41)
                        , o = t(29)
                        , u = t(33)
                        , c = t(94)
                        , a = t(66).KEY
                        , f = t(35)
                        , s = t(103)
                        , l = t(101)
                        , h = t(124)
                        , v = t(128)
                        , p = t(127)
                        , d = t(126)
                        , y = t(59)
                        , g = t(32)
                        , m = t(49)
                        , b = t(7)
                        , x = t(117)
                        , S = t(120)
                        , w = t(92)
                        , _ = t(71)
                        , E = t(76)
                        , O = t(75)
                        , P = t(72)
                        , M = t(81)
                        , F = O.f
                        , I = P.f
                        , A = E.f
                        , k = e.Symbol
                        , N = e.JSON
                        , j = N && N.stringify
                        , T = v("_hidden")
                        , R = v("toPrimitive")
                        , L = {}.propertyIsEnumerable
                        , G = s("symbol-registry")
                        , D = s("symbols")
                        , C = s("op-symbols")
                        , W = Object.prototype
                        , U = "function" == typeof k
                        , B = e.QObject
                        , V = !B || !B.prototype || !B.prototype.findChild
                        , z = o && f(function() {
                        return 7 != _(I({}, "a", {
                            get: function() {
                                return I(this, "a", {
                                    value: 7
                                }).a
                            }
                        })).a
                    }) ? function(t, n, r) {
                            var e = F(W, n);
                            e && delete W[n],
                                I(t, n, r),
                            e && t !== W && I(W, n, e)
                        }
                        : I
                        , q = function(t) {
                        var n = D[t] = _(k.prototype);
                        return n._k = t,
                            n
                    }
                        , K = U && "symbol" == typeof k.iterator ? function(t) {
                            return "symbol" == typeof t
                        }
                        : function(t) {
                            return t instanceof k
                        }
                        , Y = function defineProperty(t, n, r) {
                        return t === W && Y(C, n, r),
                            b(t),
                            n = S(n, !0),
                            b(r),
                            i(D, n) ? (r.enumerable ? (i(t, T) && t[T][n] && (t[T][n] = !1),
                                r = _(r, {
                                    enumerable: w(0, !1)
                                })) : (i(t, T) || I(t, T, w(1, {})),
                                t[T][n] = !0),
                                z(t, n, r)) : I(t, n, r)
                    }
                        , J = function defineProperties(t, n) {
                        b(t);
                        for (var r, e = g(n = x(n)), i = 0, o = e.length; o > i; )
                            Y(t, r = e[i++], n[r]);
                        return t
                    }
                        , H = function create(t, n) {
                        return void 0 === n ? _(t) : J(_(t), n)
                    }
                        , X = function propertyIsEnumerable(t) {
                        var n = L.call(this, t = S(t, !0));
                        return !(this === W && i(D, t) && !i(C, t)) && (!(n || !i(this, t) || !i(D, t) || i(this, T) && this[T][t]) || n)
                    }
                        , $ = function getOwnPropertyDescriptor(t, n) {
                        if (t = x(t),
                            n = S(n, !0),
                        t !== W || !i(D, n) || i(C, n)) {
                            var r = F(t, n);
                            return !r || !i(D, n) || i(t, T) && t[T][n] || (r.enumerable = !0),
                                r
                        }
                    }
                        , Z = function getOwnPropertyNames(t) {
                        for (var n, r = A(x(t)), e = [], o = 0; r.length > o; )
                            i(D, n = r[o++]) || n == T || n == a || e.push(n);
                        return e
                    }
                        , Q = function getOwnPropertySymbols(t) {
                        for (var n, r = t === W, e = A(r ? C : x(t)), o = [], u = 0; e.length > u; )
                            !i(D, n = e[u++]) || r && !i(W, n) || o.push(D[n]);
                        return o
                    };
                    U || (k = function Symbol() {
                            if (this instanceof k)
                                throw TypeError("Symbol is not a constructor!");
                            var t = h(arguments.length > 0 ? arguments[0] : void 0)
                                , n = function(r) {
                                this === W && n.call(C, r),
                                i(this, T) && i(this[T], t) && (this[T][t] = !1),
                                    z(this, t, w(1, r))
                            };
                            return o && V && z(W, t, {
                                configurable: !0,
                                set: n
                            }),
                                q(t)
                        }
                            ,
                            c(k.prototype, "toString", function toString() {
                                return this._k
                            }),
                            O.f = $,
                            P.f = Y,
                            t(77).f = E.f = Z,
                            t(82).f = X,
                            t(78).f = Q,
                        o && !t(60) && c(W, "propertyIsEnumerable", X, !0),
                            p.f = function(t) {
                                return q(v(t))
                            }
                    ),
                        u(u.G + u.W + u.F * !U, {
                            Symbol: k
                        });
                    for (var tt = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), nt = 0; tt.length > nt; )
                        v(tt[nt++]);
                    for (var rt = M(v.store), et = 0; rt.length > et; )
                        d(rt[et++]);
                    u(u.S + u.F * !U, "Symbol", {
                        for: function(t) {
                            return i(G, t += "") ? G[t] : G[t] = k(t)
                        },
                        keyFor: function keyFor(t) {
                            if (K(t))
                                return y(G, t);
                            throw TypeError(t + " is not a symbol!")
                        },
                        useSetter: function() {
                            V = !0
                        },
                        useSimple: function() {
                            V = !1
                        }
                    }),
                        u(u.S + u.F * !U, "Object", {
                            create: H,
                            defineProperty: Y,
                            defineProperties: J,
                            getOwnPropertyDescriptor: $,
                            getOwnPropertyNames: Z,
                            getOwnPropertySymbols: Q
                        }),
                    N && u(u.S + u.F * (!U || f(function() {
                        var t = k();
                        return "[null]" != j([t]) || "{}" != j({
                            a: t
                        }) || "{}" != j(Object(t))
                    })), "JSON", {
                        stringify: function stringify(t) {
                            if (void 0 !== t && !K(t)) {
                                for (var n, r, e = [t], i = 1; arguments.length > i; )
                                    e.push(arguments[i++]);
                                return n = e[1],
                                "function" == typeof n && (r = n),
                                !r && m(n) || (n = function(t, n) {
                                        if (r && (n = r.call(this, t, n)),
                                            !K(n))
                                            return n
                                    }
                                ),
                                    e[1] = n,
                                    j.apply(N, e)
                            }
                        }
                    }),
                    k.prototype[R] || t(42)(k.prototype, R, k.prototype.valueOf),
                        l(k, "Symbol"),
                        l(Math, "Math", !0),
                        l(e.JSON, "JSON", !0)
                }
                    , {
                        101: 101,
                        103: 103,
                        117: 117,
                        120: 120,
                        124: 124,
                        126: 126,
                        127: 127,
                        128: 128,
                        29: 29,
                        32: 32,
                        33: 33,
                        35: 35,
                        40: 40,
                        41: 41,
                        42: 42,
                        49: 49,
                        59: 59,
                        60: 60,
                        66: 66,
                        7: 7,
                        71: 71,
                        72: 72,
                        75: 75,
                        76: 76,
                        77: 77,
                        78: 78,
                        81: 81,
                        82: 82,
                        92: 92,
                        94: 94
                    }],
                255: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(123)
                        , o = t(122)
                        , u = t(7)
                        , c = t(114)
                        , a = t(118)
                        , f = t(51)
                        , s = t(40).ArrayBuffer
                        , l = t(104)
                        , h = o.ArrayBuffer
                        , v = o.DataView
                        , p = i.ABV && s.isView
                        , d = h.prototype.slice
                        , y = i.VIEW;
                    e(e.G + e.W + e.F * (s !== h), {
                        ArrayBuffer: h
                    }),
                        e(e.S + e.F * !i.CONSTR, "ArrayBuffer", {
                            isView: function isView(t) {
                                return p && p(t) || f(t) && y in t
                            }
                        }),
                        e(e.P + e.U + e.F * t(35)(function() {
                            return !new h(2).slice(1, void 0).byteLength
                        }), "ArrayBuffer", {
                            slice: function slice(t, n) {
                                if (void 0 !== d && void 0 === n)
                                    return d.call(u(this), t);
                                for (var r = u(this).byteLength, e = c(t, r), i = c(void 0 === n ? r : n, r), o = new (l(this, h))(a(i - e)), f = new v(this), s = new v(o), p = 0; e < i; )
                                    s.setUint8(p++, f.getUint8(e++));
                                return o
                            }
                        }),
                        t(100)("ArrayBuffer")
                }
                    , {
                        100: 100,
                        104: 104,
                        114: 114,
                        118: 118,
                        122: 122,
                        123: 123,
                        33: 33,
                        35: 35,
                        40: 40,
                        51: 51,
                        7: 7
                    }],
                256: [function(t, n, r) {
                    var e = t(33);
                    e(e.G + e.W + e.F * !t(123).ABV, {
                        DataView: t(122).DataView
                    })
                }
                    , {
                        122: 122,
                        123: 123,
                        33: 33
                    }],
                257: [function(t, n, r) {
                    t(121)("Float32", 4, function(t) {
                        return function Float32Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                258: [function(t, n, r) {
                    t(121)("Float64", 8, function(t) {
                        return function Float64Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                259: [function(t, n, r) {
                    t(121)("Int16", 2, function(t) {
                        return function Int16Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                260: [function(t, n, r) {
                    t(121)("Int32", 4, function(t) {
                        return function Int32Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                261: [function(t, n, r) {
                    t(121)("Int8", 1, function(t) {
                        return function Int8Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                262: [function(t, n, r) {
                    t(121)("Uint16", 2, function(t) {
                        return function Uint16Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                263: [function(t, n, r) {
                    t(121)("Uint32", 4, function(t) {
                        return function Uint32Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                264: [function(t, n, r) {
                    t(121)("Uint8", 1, function(t) {
                        return function Uint8Array(n, r, e) {
                            return t(this, n, r, e)
                        }
                    })
                }
                    , {
                        121: 121
                    }],
                265: [function(t, n, r) {
                    t(121)("Uint8", 1, function(t) {
                        return function Uint8ClampedArray(n, r, e) {
                            return t(this, n, r, e)
                        }
                    }, !0)
                }
                    , {
                        121: 121
                    }],
                266: [function(t, n, r) {
                    "use strict";
                    var e, i = t(12)(0), o = t(94), u = t(66), c = t(70), a = t(21), f = t(51), s = t(35), l = t(125), h = u.getWeak, v = Object.isExtensible, p = a.ufstore, d = {}, y = function(t) {
                        return function WeakMap() {
                            return t(this, arguments.length > 0 ? arguments[0] : void 0)
                        }
                    }, g = {
                        get: function get(t) {
                            if (f(t)) {
                                var n = h(t);
                                return !0 === n ? p(l(this, "WeakMap")).get(t) : n ? n[this._i] : void 0
                            }
                        },
                        set: function set(t, n) {
                            return a.def(l(this, "WeakMap"), t, n)
                        }
                    }, m = n.exports = t(22)("WeakMap", y, g, a, !0, !0);
                    s(function() {
                        return 7 != (new m).set((Object.freeze || Object)(d), 7).get(d)
                    }) && (e = a.getConstructor(y, "WeakMap"),
                        c(e.prototype, g),
                        u.NEED = !0,
                        i(["delete", "has", "get", "set"], function(t) {
                            var n = m.prototype
                                , r = n[t];
                            o(n, t, function(n, i) {
                                if (f(n) && !v(n)) {
                                    this._f || (this._f = new e);
                                    var o = this._f[t](n, i);
                                    return "set" == t ? this : o
                                }
                                return r.call(this, n, i)
                            })
                        }))
                }
                    , {
                        12: 12,
                        125: 125,
                        21: 21,
                        22: 22,
                        35: 35,
                        51: 51,
                        66: 66,
                        70: 70,
                        94: 94
                    }],
                267: [function(t, n, r) {
                    "use strict";
                    var e = t(21)
                        , i = t(125);
                    t(22)("WeakSet", function(t) {
                        return function WeakSet() {
                            return t(this, arguments.length > 0 ? arguments[0] : void 0)
                        }
                    }, {
                        add: function add(t) {
                            return e.def(i(this, "WeakSet"), t, !0)
                        }
                    }, e, !1, !0)
                }
                    , {
                        125: 125,
                        21: 21,
                        22: 22
                    }],
                268: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(38)
                        , o = t(119)
                        , u = t(118)
                        , c = t(3)
                        , a = t(15);
                    e(e.P, "Array", {
                        flatMap: function flatMap(t) {
                            var n, r, e = o(this);
                            return c(t),
                                n = u(e.length),
                                r = a(e, 0),
                                i(r, e, e, n, 0, 1, t, arguments[1]),
                                r
                        }
                    }),
                        t(5)("flatMap")
                }
                    , {
                        118: 118,
                        119: 119,
                        15: 15,
                        3: 3,
                        33: 33,
                        38: 38,
                        5: 5
                    }],
                269: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(38)
                        , o = t(119)
                        , u = t(118)
                        , c = t(116)
                        , a = t(15);
                    e(e.P, "Array", {
                        flatten: function flatten() {
                            var t = arguments[0]
                                , n = o(this)
                                , r = u(n.length)
                                , e = a(n, 0);
                            return i(e, n, n, r, 0, void 0 === t ? 1 : c(t)),
                                e
                        }
                    }),
                        t(5)("flatten")
                }
                    , {
                        116: 116,
                        118: 118,
                        119: 119,
                        15: 15,
                        33: 33,
                        38: 38,
                        5: 5
                    }],
                270: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(11)(!0);
                    e(e.P, "Array", {
                        includes: function includes(t) {
                            return i(this, t, arguments.length > 1 ? arguments[1] : void 0)
                        }
                    }),
                        t(5)("includes")
                }
                    , {
                        11: 11,
                        33: 33,
                        5: 5
                    }],
                271: [function(t, n, r) {
                    var e = t(33)
                        , i = t(68)()
                        , o = t(40).process
                        , u = "process" == t(18)(o);
                    e(e.G, {
                        asap: function asap(t) {
                            var n = u && o.domain;
                            i(n ? n.bind(t) : t)
                        }
                    })
                }
                    , {
                        18: 18,
                        33: 33,
                        40: 40,
                        68: 68
                    }],
                272: [function(t, n, r) {
                    var e = t(33)
                        , i = t(18);
                    e(e.S, "Error", {
                        isError: function isError(t) {
                            return "Error" === i(t)
                        }
                    })
                }
                    , {
                        18: 18,
                        33: 33
                    }],
                273: [function(t, n, r) {
                    var e = t(33);
                    e(e.G, {
                        global: t(40)
                    })
                }
                    , {
                        33: 33,
                        40: 40
                    }],
                274: [function(t, n, r) {
                    t(97)("Map")
                }
                    , {
                        97: 97
                    }],
                275: [function(t, n, r) {
                    t(98)("Map")
                }
                    , {
                        98: 98
                    }],
                276: [function(t, n, r) {
                    var e = t(33);
                    e(e.P + e.R, "Map", {
                        toJSON: t(20)("Map")
                    })
                }
                    , {
                        20: 20,
                        33: 33
                    }],
                277: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        clamp: function clamp(t, n, r) {
                            return Math.min(r, Math.max(n, t))
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                278: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        DEG_PER_RAD: Math.PI / 180
                    })
                }
                    , {
                        33: 33
                    }],
                279: [function(t, n, r) {
                    var e = t(33)
                        , i = 180 / Math.PI;
                    e(e.S, "Math", {
                        degrees: function degrees(t) {
                            return t * i
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                280: [function(t, n, r) {
                    var e = t(33)
                        , i = t(64)
                        , o = t(62);
                    e(e.S, "Math", {
                        fscale: function fscale(t, n, r, e, u) {
                            return o(i(t, n, r, e, u))
                        }
                    })
                }
                    , {
                        33: 33,
                        62: 62,
                        64: 64
                    }],
                281: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        iaddh: function iaddh(t, n, r, e) {
                            var i = t >>> 0
                                , o = n >>> 0
                                , u = r >>> 0;
                            return o + (e >>> 0) + ((i & u | (i | u) & ~(i + u >>> 0)) >>> 31) | 0
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                282: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        imulh: function imulh(t, n) {
                            var r = +t
                                , e = +n
                                , i = 65535 & r
                                , o = 65535 & e
                                , u = r >> 16
                                , c = e >> 16
                                , a = (u * o >>> 0) + (i * o >>> 16);
                            return u * c + (a >> 16) + ((i * c >>> 0) + (65535 & a) >> 16)
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                283: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        isubh: function isubh(t, n, r, e) {
                            var i = t >>> 0
                                , o = n >>> 0
                                , u = r >>> 0;
                            return o - (e >>> 0) - ((~i & u | ~(i ^ u) & i - u >>> 0) >>> 31) | 0
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                284: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        RAD_PER_DEG: 180 / Math.PI
                    })
                }
                    , {
                        33: 33
                    }],
                285: [function(t, n, r) {
                    var e = t(33)
                        , i = Math.PI / 180;
                    e(e.S, "Math", {
                        radians: function radians(t) {
                            return t * i
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                286: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        scale: t(64)
                    })
                }
                    , {
                        33: 33,
                        64: 64
                    }],
                287: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        signbit: function signbit(t) {
                            return (t = +t) != t ? t : 0 == t ? 1 / t == 1 / 0 : t > 0
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                288: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "Math", {
                        umulh: function umulh(t, n) {
                            var r = +t
                                , e = +n
                                , i = 65535 & r
                                , o = 65535 & e
                                , u = r >>> 16
                                , c = e >>> 16
                                , a = (u * o >>> 0) + (i * o >>> 16);
                            return u * c + (a >>> 16) + ((i * c >>> 0) + (65535 & a) >>> 16)
                        }
                    })
                }
                    , {
                        33: 33
                    }],
                289: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(119)
                        , o = t(3)
                        , u = t(72);
                    t(29) && e(e.P + t(74), "Object", {
                        __defineGetter__: function __defineGetter__(t, n) {
                            u.f(i(this), t, {
                                get: o(n),
                                enumerable: !0,
                                configurable: !0
                            })
                        }
                    })
                }
                    , {
                        119: 119,
                        29: 29,
                        3: 3,
                        33: 33,
                        72: 72,
                        74: 74
                    }],
                290: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(119)
                        , o = t(3)
                        , u = t(72);
                    t(29) && e(e.P + t(74), "Object", {
                        __defineSetter__: function __defineSetter__(t, n) {
                            u.f(i(this), t, {
                                set: o(n),
                                enumerable: !0,
                                configurable: !0
                            })
                        }
                    })
                }
                    , {
                        119: 119,
                        29: 29,
                        3: 3,
                        33: 33,
                        72: 72,
                        74: 74
                    }],
                291: [function(t, n, r) {
                    var e = t(33)
                        , i = t(84)(!0);
                    e(e.S, "Object", {
                        entries: function entries(t) {
                            return i(t)
                        }
                    })
                }
                    , {
                        33: 33,
                        84: 84
                    }],
                292: [function(t, n, r) {
                    var e = t(33)
                        , i = t(85)
                        , o = t(117)
                        , u = t(75)
                        , c = t(24);
                    e(e.S, "Object", {
                        getOwnPropertyDescriptors: function getOwnPropertyDescriptors(t) {
                            for (var n, r, e = o(t), a = u.f, f = i(e), s = {}, l = 0; f.length > l; )
                                void 0 !== (r = a(e, n = f[l++])) && c(s, n, r);
                            return s
                        }
                    })
                }
                    , {
                        117: 117,
                        24: 24,
                        33: 33,
                        75: 75,
                        85: 85
                    }],
                293: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(119)
                        , o = t(120)
                        , u = t(79)
                        , c = t(75).f;
                    t(29) && e(e.P + t(74), "Object", {
                        __lookupGetter__: function __lookupGetter__(t) {
                            var n, r = i(this), e = o(t, !0);
                            do {
                                if (n = c(r, e))
                                    return n.get
                            } while (r = u(r))
                        }
                    })
                }
                    , {
                        119: 119,
                        120: 120,
                        29: 29,
                        33: 33,
                        74: 74,
                        75: 75,
                        79: 79
                    }],
                294: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(119)
                        , o = t(120)
                        , u = t(79)
                        , c = t(75).f;
                    t(29) && e(e.P + t(74), "Object", {
                        __lookupSetter__: function __lookupSetter__(t) {
                            var n, r = i(this), e = o(t, !0);
                            do {
                                if (n = c(r, e))
                                    return n.set
                            } while (r = u(r))
                        }
                    })
                }
                    , {
                        119: 119,
                        120: 120,
                        29: 29,
                        33: 33,
                        74: 74,
                        75: 75,
                        79: 79
                    }],
                295: [function(t, n, r) {
                    var e = t(33)
                        , i = t(84)(!1);
                    e(e.S, "Object", {
                        values: function values(t) {
                            return i(t)
                        }
                    })
                }
                    , {
                        33: 33,
                        84: 84
                    }],
                296: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(40)
                        , o = t(23)
                        , u = t(68)()
                        , c = t(128)("observable")
                        , a = t(3)
                        , f = t(7)
                        , s = t(6)
                        , l = t(93)
                        , h = t(42)
                        , v = t(39)
                        , p = v.RETURN
                        , d = function(t) {
                        return null == t ? void 0 : a(t)
                    }
                        , y = function(t) {
                        var n = t._c;
                        n && (t._c = void 0,
                            n())
                    }
                        , g = function(t) {
                        return void 0 === t._o
                    }
                        , m = function(t) {
                        g(t) || (t._o = void 0,
                            y(t))
                    }
                        , b = function(t, n) {
                        f(t),
                            this._c = void 0,
                            this._o = t,
                            t = new x(this);
                        try {
                            var r = n(t)
                                , e = r;
                            null != r && ("function" == typeof r.unsubscribe ? r = function() {
                                    e.unsubscribe()
                                }
                                : a(r),
                                this._c = r)
                        } catch (n) {
                            return void t.error(n)
                        }
                        g(this) && y(this)
                    };
                    b.prototype = l({}, {
                        unsubscribe: function unsubscribe() {
                            m(this)
                        }
                    });
                    var x = function(t) {
                        this._s = t
                    };
                    x.prototype = l({}, {
                        next: function next(t) {
                            var n = this._s;
                            if (!g(n)) {
                                var r = n._o;
                                try {
                                    var e = d(r.next);
                                    if (e)
                                        return e.call(r, t)
                                } catch (t) {
                                    try {
                                        m(n)
                                    } finally {
                                        throw t
                                    }
                                }
                            }
                        },
                        error: function error(t) {
                            var n = this._s;
                            if (g(n))
                                throw t;
                            var r = n._o;
                            n._o = void 0;
                            try {
                                var e = d(r.error);
                                if (!e)
                                    throw t;
                                t = e.call(r, t)
                            } catch (t) {
                                try {
                                    y(n)
                                } finally {
                                    throw t
                                }
                            }
                            return y(n),
                                t
                        },
                        complete: function complete(t) {
                            var n = this._s;
                            if (!g(n)) {
                                var r = n._o;
                                n._o = void 0;
                                try {
                                    var e = d(r.complete);
                                    t = e ? e.call(r, t) : void 0
                                } catch (t) {
                                    try {
                                        y(n)
                                    } finally {
                                        throw t
                                    }
                                }
                                return y(n),
                                    t
                            }
                        }
                    });
                    var S = function Observable(t) {
                        s(this, S, "Observable", "_f")._f = a(t)
                    };
                    l(S.prototype, {
                        subscribe: function subscribe(t) {
                            return new b(t,this._f)
                        },
                        forEach: function forEach(t) {
                            var n = this;
                            return new (o.Promise || i.Promise)(function(r, e) {
                                    a(t);
                                    var i = n.subscribe({
                                        next: function(n) {
                                            try {
                                                return t(n)
                                            } catch (t) {
                                                e(t),
                                                    i.unsubscribe()
                                            }
                                        },
                                        error: e,
                                        complete: r
                                    })
                                }
                            )
                        }
                    }),
                        l(S, {
                            from: function from(t) {
                                var n = "function" == typeof this ? this : S
                                    , r = d(f(t)[c]);
                                if (r) {
                                    var e = f(r.call(t));
                                    return e.constructor === n ? e : new n(function(t) {
                                            return e.subscribe(t)
                                        }
                                    )
                                }
                                return new n(function(n) {
                                        var r = !1;
                                        return u(function() {
                                            if (!r) {
                                                try {
                                                    if (v(t, !1, function(t) {
                                                        if (n.next(t),
                                                            r)
                                                            return p
                                                    }) === p)
                                                        return
                                                } catch (t) {
                                                    if (r)
                                                        throw t;
                                                    return void n.error(t)
                                                }
                                                n.complete()
                                            }
                                        }),
                                            function() {
                                                r = !0
                                            }
                                    }
                                )
                            },
                            of: function of() {
                                for (var t = 0, n = arguments.length, r = Array(n); t < n; )
                                    r[t] = arguments[t++];
                                return new ("function" == typeof this ? this : S)(function(t) {
                                        var n = !1;
                                        return u(function() {
                                            if (!n) {
                                                for (var e = 0; e < r.length; ++e)
                                                    if (t.next(r[e]),
                                                        n)
                                                        return;
                                                t.complete()
                                            }
                                        }),
                                            function() {
                                                n = !0
                                            }
                                    }
                                )
                            }
                        }),
                        h(S.prototype, c, function() {
                            return this
                        }),
                        e(e.G, {
                            Observable: S
                        }),
                        t(100)("Observable")
                }
                    , {
                        100: 100,
                        128: 128,
                        23: 23,
                        3: 3,
                        33: 33,
                        39: 39,
                        40: 40,
                        42: 42,
                        6: 6,
                        68: 68,
                        7: 7,
                        93: 93
                    }],
                297: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(23)
                        , o = t(40)
                        , u = t(104)
                        , c = t(91);
                    e(e.P + e.R, "Promise", {
                        finally: function(t) {
                            var n = u(this, i.Promise || o.Promise)
                                , r = "function" == typeof t;
                            return this.then(r ? function(r) {
                                    return c(n, t()).then(function() {
                                        return r
                                    })
                                }
                                : t, r ? function(r) {
                                    return c(n, t()).then(function() {
                                        throw r
                                    })
                                }
                                : t)
                        }
                    })
                }
                    , {
                        104: 104,
                        23: 23,
                        33: 33,
                        40: 40,
                        91: 91
                    }],
                298: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(69)
                        , o = t(90);
                    e(e.S, "Promise", {
                        try: function(t) {
                            var n = i.f(this)
                                , r = o(t);
                            return (r.e ? n.reject : n.resolve)(r.v),
                                n.promise
                        }
                    })
                }
                    , {
                        33: 33,
                        69: 69,
                        90: 90
                    }],
                299: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = e.key
                        , u = e.set;
                    e.exp({
                        defineMetadata: function defineMetadata(t, n, r, e) {
                            u(t, n, i(r), o(e))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7
                    }],
                300: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = e.key
                        , u = e.map
                        , c = e.store;
                    e.exp({
                        deleteMetadata: function deleteMetadata(t, n) {
                            var r = arguments.length < 3 ? void 0 : o(arguments[2])
                                , e = u(i(n), r, !1);
                            if (void 0 === e || !e.delete(t))
                                return !1;
                            if (e.size)
                                return !0;
                            var a = c.get(n);
                            return a.delete(r),
                            !!a.size || c.delete(n)
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7
                    }],
                301: [function(t, n, r) {
                    var e = t(231)
                        , i = t(10)
                        , o = t(67)
                        , u = t(7)
                        , c = t(79)
                        , a = o.keys
                        , f = o.key
                        , s = function(t, n) {
                        var r = a(t, n)
                            , o = c(t);
                        if (null === o)
                            return r;
                        var u = s(o, n);
                        return u.length ? r.length ? i(new e(r.concat(u))) : u : r
                    };
                    o.exp({
                        getMetadataKeys: function getMetadataKeys(t) {
                            return s(u(t), arguments.length < 2 ? void 0 : f(arguments[1]))
                        }
                    })
                }
                    , {
                        10: 10,
                        231: 231,
                        67: 67,
                        7: 7,
                        79: 79
                    }],
                302: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = t(79)
                        , u = e.has
                        , c = e.get
                        , a = e.key
                        , f = function(t, n, r) {
                        if (u(t, n, r))
                            return c(t, n, r);
                        var e = o(n);
                        return null !== e ? f(t, e, r) : void 0
                    };
                    e.exp({
                        getMetadata: function getMetadata(t, n) {
                            return f(t, i(n), arguments.length < 3 ? void 0 : a(arguments[2]))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7,
                        79: 79
                    }],
                303: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = e.keys
                        , u = e.key;
                    e.exp({
                        getOwnMetadataKeys: function getOwnMetadataKeys(t) {
                            return o(i(t), arguments.length < 2 ? void 0 : u(arguments[1]))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7
                    }],
                304: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = e.get
                        , u = e.key;
                    e.exp({
                        getOwnMetadata: function getOwnMetadata(t, n) {
                            return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2]))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7
                    }],
                305: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = t(79)
                        , u = e.has
                        , c = e.key
                        , a = function(t, n, r) {
                        if (u(t, n, r))
                            return !0;
                        var e = o(n);
                        return null !== e && a(t, e, r)
                    };
                    e.exp({
                        hasMetadata: function hasMetadata(t, n) {
                            return a(t, i(n), arguments.length < 3 ? void 0 : c(arguments[2]))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7,
                        79: 79
                    }],
                306: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = e.has
                        , u = e.key;
                    e.exp({
                        hasOwnMetadata: function hasOwnMetadata(t, n) {
                            return o(t, i(n), arguments.length < 3 ? void 0 : u(arguments[2]))
                        }
                    })
                }
                    , {
                        67: 67,
                        7: 7
                    }],
                307: [function(t, n, r) {
                    var e = t(67)
                        , i = t(7)
                        , o = t(3)
                        , u = e.key
                        , c = e.set;
                    e.exp({
                        metadata: function metadata(t, n) {
                            return function decorator(r, e) {
                                c(t, n, (void 0 !== e ? i : o)(r), u(e))
                            }
                        }
                    })
                }
                    , {
                        3: 3,
                        67: 67,
                        7: 7
                    }],
                308: [function(t, n, r) {
                    t(97)("Set")
                }
                    , {
                        97: 97
                    }],
                309: [function(t, n, r) {
                    t(98)("Set")
                }
                    , {
                        98: 98
                    }],
                310: [function(t, n, r) {
                    var e = t(33);
                    e(e.P + e.R, "Set", {
                        toJSON: t(20)("Set")
                    })
                }
                    , {
                        20: 20,
                        33: 33
                    }],
                311: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(106)(!0);
                    e(e.P, "String", {
                        at: function at(t) {
                            return i(this, t)
                        }
                    })
                }
                    , {
                        106: 106,
                        33: 33
                    }],
                312: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(28)
                        , o = t(118)
                        , u = t(52)
                        , c = t(37)
                        , a = RegExp.prototype
                        , f = function(t, n) {
                        this._r = t,
                            this._s = n
                    };
                    t(54)(f, "RegExp String", function next() {
                        var t = this._r.exec(this._s);
                        return {
                            value: t,
                            done: null === t
                        }
                    }),
                        e(e.P, "String", {
                            matchAll: function matchAll(t) {
                                if (i(this),
                                    !u(t))
                                    throw TypeError(t + " is not a regexp!");
                                var n = String(this)
                                    , r = "flags"in a ? String(t.flags) : c.call(t)
                                    , e = new RegExp(t.source,~r.indexOf("g") ? r : "g" + r);
                                return e.lastIndex = o(t.lastIndex),
                                    new f(e,n)
                            }
                        })
                }
                    , {
                        118: 118,
                        28: 28,
                        33: 33,
                        37: 37,
                        52: 52,
                        54: 54
                    }],
                313: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(109);
                    e(e.P, "String", {
                        padEnd: function padEnd(t) {
                            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !1)
                        }
                    })
                }
                    , {
                        109: 109,
                        33: 33
                    }],
                314: [function(t, n, r) {
                    "use strict";
                    var e = t(33)
                        , i = t(109);
                    e(e.P, "String", {
                        padStart: function padStart(t) {
                            return i(this, t, arguments.length > 1 ? arguments[1] : void 0, !0)
                        }
                    })
                }
                    , {
                        109: 109,
                        33: 33
                    }],
                315: [function(t, n, r) {
                    "use strict";
                    t(111)("trimLeft", function(t) {
                        return function trimLeft() {
                            return t(this, 1)
                        }
                    }, "trimStart")
                }
                    , {
                        111: 111
                    }],
                316: [function(t, n, r) {
                    "use strict";
                    t(111)("trimRight", function(t) {
                        return function trimRight() {
                            return t(this, 2)
                        }
                    }, "trimEnd")
                }
                    , {
                        111: 111
                    }],
                317: [function(t, n, r) {
                    t(126)("asyncIterator")
                }
                    , {
                        126: 126
                    }],
                318: [function(t, n, r) {
                    t(126)("observable")
                }
                    , {
                        126: 126
                    }],
                319: [function(t, n, r) {
                    var e = t(33);
                    e(e.S, "System", {
                        global: t(40)
                    })
                }
                    , {
                        33: 33,
                        40: 40
                    }],
                320: [function(t, n, r) {
                    t(97)("WeakMap")
                }
                    , {
                        97: 97
                    }],
                321: [function(t, n, r) {
                    t(98)("WeakMap")
                }
                    , {
                        98: 98
                    }],
                322: [function(t, n, r) {
                    t(97)("WeakSet")
                }
                    , {
                        97: 97
                    }],
                323: [function(t, n, r) {
                    t(98)("WeakSet")
                }
                    , {
                        98: 98
                    }],
                324: [function(t, n, r) {
                    for (var e = t(141), i = t(81), o = t(94), u = t(40), c = t(42), a = t(58), f = t(128), s = f("iterator"), l = f("toStringTag"), h = a.Array, v = {
                        CSSRuleList: !0,
                        CSSStyleDeclaration: !1,
                        CSSValueList: !1,
                        ClientRectList: !1,
                        DOMRectList: !1,
                        DOMStringList: !1,
                        DOMTokenList: !0,
                        DataTransferItemList: !1,
                        FileList: !1,
                        HTMLAllCollection: !1,
                        HTMLCollection: !1,
                        HTMLFormElement: !1,
                        HTMLSelectElement: !1,
                        MediaList: !0,
                        MimeTypeArray: !1,
                        NamedNodeMap: !1,
                        NodeList: !0,
                        PaintRequestList: !1,
                        Plugin: !1,
                        PluginArray: !1,
                        SVGLengthList: !1,
                        SVGNumberList: !1,
                        SVGPathSegList: !1,
                        SVGPointList: !1,
                        SVGStringList: !1,
                        SVGTransformList: !1,
                        SourceBufferList: !1,
                        StyleSheetList: !0,
                        TextTrackCueList: !1,
                        TextTrackList: !1,
                        TouchList: !1
                    }, p = i(v), d = 0; d < p.length; d++) {
                        var y, g = p[d], m = v[g], b = u[g], x = b && b.prototype;
                        if (x && (x[s] || c(x, s, h),
                        x[l] || c(x, l, g),
                            a[g] = h,
                            m))
                            for (y in e)
                                x[y] || o(x, y, e[y], !0)
                    }
                }
                    , {
                        128: 128,
                        141: 141,
                        40: 40,
                        42: 42,
                        58: 58,
                        81: 81,
                        94: 94
                    }],
                325: [function(t, n, r) {
                    var e = t(33)
                        , i = t(113);
                    e(e.G + e.B, {
                        setImmediate: i.set,
                        clearImmediate: i.clear
                    })
                }
                    , {
                        113: 113,
                        33: 33
                    }],
                326: [function(t, n, r) {
                    var e = t(40)
                        , i = t(33)
                        , o = t(46)
                        , u = t(88)
                        , c = e.navigator
                        , a = !!c && /MSIE .\./.test(c.userAgent)
                        , f = function(t) {
                        return a ? function(n, r) {
                                return t(o(u, [].slice.call(arguments, 2), "function" == typeof n ? n : Function(n)), r)
                            }
                            : t
                    };
                    i(i.G + i.B + i.F * a, {
                        setTimeout: f(e.setTimeout),
                        setInterval: f(e.setInterval)
                    })
                }
                    , {
                        33: 33,
                        40: 40,
                        46: 46,
                        88: 88
                    }],
                327: [function(t, n, r) {
                    t(254),
                        t(191),
                        t(193),
                        t(192),
                        t(195),
                        t(197),
                        t(202),
                        t(196),
                        t(194),
                        t(204),
                        t(203),
                        t(199),
                        t(200),
                        t(198),
                        t(190),
                        t(201),
                        t(205),
                        t(206),
                        t(157),
                        t(159),
                        t(158),
                        t(208),
                        t(207),
                        t(178),
                        t(188),
                        t(189),
                        t(179),
                        t(180),
                        t(181),
                        t(182),
                        t(183),
                        t(184),
                        t(185),
                        t(186),
                        t(187),
                        t(161),
                        t(162),
                        t(163),
                        t(164),
                        t(165),
                        t(166),
                        t(167),
                        t(168),
                        t(169),
                        t(170),
                        t(171),
                        t(172),
                        t(173),
                        t(174),
                        t(175),
                        t(176),
                        t(177),
                        t(241),
                        t(246),
                        t(253),
                        t(244),
                        t(236),
                        t(237),
                        t(242),
                        t(247),
                        t(249),
                        t(232),
                        t(233),
                        t(234),
                        t(235),
                        t(238),
                        t(239),
                        t(240),
                        t(243),
                        t(245),
                        t(248),
                        t(250),
                        t(251),
                        t(252),
                        t(152),
                        t(154),
                        t(153),
                        t(156),
                        t(155),
                        t(140),
                        t(138),
                        t(145),
                        t(142),
                        t(148),
                        t(150),
                        t(137),
                        t(144),
                        t(134),
                        t(149),
                        t(132),
                        t(147),
                        t(146),
                        t(139),
                        t(143),
                        t(131),
                        t(133),
                        t(136),
                        t(135),
                        t(151),
                        t(141),
                        t(224),
                    t(230),
                    t(225),
                    t(226),
                    t(227),
                    t(228),
                    t(229),
                    t(209),
                    t(160),
                    t(231),
                    t(266),
                    t(267),
                    t(255),
                    t(256),
                    t(261),
                    t(264),
                    t(265),
                    t(259),
                    t(262),
                    t(260),
                    t(263),
                    t(257),
                    t(258),
                    t(210),
                    t(211),
                    t(212),
                    t(213),
                    t(214),
                    t(217),
                    t(215),
                    t(216),
                    t(218),
                    t(219),
                    t(220),
                    t(221),
                    t(223),
                    t(222),
                    t(270),
                    t(268),
                    t(269),
                    t(311),
                    t(314),
                    t(313),
                    t(315),
                    t(316),
                    t(312),
                    t(317),
                    t(318),
                    t(292),
                    t(295),
                    t(291),
                    t(289),
                    t(290),
                    t(293),
                    t(294),
                    t(276),
                    t(310),
                    t(275),
                    t(309),
                    t(321),
                    t(323),
                    t(274),
                    t(308),
                    t(320),
                    t(322),
                    t(273),
                    t(319),
                    t(272),
                    t(277),
                    t(278),
                    t(279),
                    t(280),
                    t(281),
                    t(283),
                    t(282),
                    t(284),
                    t(285),
                    t(286),
                    t(288),
                    t(287),
                    t(297),
                    t(298),
                    t(299),
                    t(300),
                    t(302),
                    t(301),
                    t(304),
                    t(303),
                    t(305),
                    t(306),
                    t(307),
                    t(271),
                    t(296),
                    t(326),
                    t(325),
                    t(324),
                    n.exports = t(23)
                }
                    , {
                        131: 131,
                        132: 132,
                        133: 133,
                        134: 134,
                        135: 135,
                        136: 136,
                        137: 137,
                        138: 138,
                        139: 139,
                        140: 140,
                        141: 141,
                        142: 142,
                        143: 143,
                        144: 144,
                        145: 145,
                        146: 146,
                        147: 147,
                        148: 148,
                        149: 149,
                        150: 150,
                        151: 151,
                        152: 152,
                        153: 153,
                        154: 154,
                        155: 155,
                        156: 156,
                        157: 157,
                        158: 158,
                        159: 159,
                        160: 160,
                        161: 161,
                        162: 162,
                        163: 163,
                        164: 164,
                        165: 165,
                        166: 166,
                        167: 167,
                        168: 168,
                        169: 169,
                        170: 170,
                        171: 171,
                        172: 172,
                        173: 173,
                        174: 174,
                        175: 175,
                        176: 176,
                        177: 177,
                        178: 178,
                        179: 179,
                        180: 180,
                        181: 181,
                        182: 182,
                        183: 183,
                        184: 184,
                        185: 185,
                        186: 186,
                        187: 187,
                        188: 188,
                        189: 189,
                        190: 190,
                        191: 191,
                        192: 192,
                        193: 193,
                        194: 194,
                        195: 195,
                        196: 196,
                        197: 197,
                        198: 198,
                        199: 199,
                        200: 200,
                        201: 201,
                        202: 202,
                        203: 203,
                        204: 204,
                        205: 205,
                        206: 206,
                        207: 207,
                        208: 208,
                        209: 209,
                        210: 210,
                        211: 211,
                        212: 212,
                        213: 213,
                        214: 214,
                        215: 215,
                        216: 216,
                        217: 217,
                        218: 218,
                        219: 219,
                        220: 220,
                        221: 221,
                        222: 222,
                        223: 223,
                        224: 224,
                        225: 225,
                        226: 226,
                        227: 227,
                        228: 228,
                        229: 229,
                        23: 23,
                        230: 230,
                        231: 231,
                        232: 232,
                        233: 233,
                        234: 234,
                        235: 235,
                        236: 236,
                        237: 237,
                        238: 238,
                        239: 239,
                        240: 240,
                        241: 241,
                        242: 242,
                        243: 243,
                        244: 244,
                        245: 245,
                        246: 246,
                        247: 247,
                        248: 248,
                        249: 249,
                        250: 250,
                        251: 251,
                        252: 252,
                        253: 253,
                        254: 254,
                        255: 255,
                        256: 256,
                        257: 257,
                        258: 258,
                        259: 259,
                        260: 260,
                        261: 261,
                        262: 262,
                        263: 263,
                        264: 264,
                        265: 265,
                        266: 266,
                        267: 267,
                        268: 268,
                        269: 269,
                        270: 270,
                        271: 271,
                        272: 272,
                        273: 273,
                        274: 274,
                        275: 275,
                        276: 276,
                        277: 277,
                        278: 278,
                        279: 279,
                        280: 280,
                        281: 281,
                        282: 282,
                        283: 283,
                        284: 284,
                        285: 285,
                        286: 286,
                        287: 287,
                        288: 288,
                        289: 289,
                        290: 290,
                        291: 291,
                        292: 292,
                        293: 293,
                        294: 294,
                        295: 295,
                        296: 296,
                        297: 297,
                        298: 298,
                        299: 299,
                        300: 300,
                        301: 301,
                        302: 302,
                        303: 303,
                        304: 304,
                        305: 305,
                        306: 306,
                        307: 307,
                        308: 308,
                        309: 309,
                        310: 310,
                        311: 311,
                        312: 312,
                        313: 313,
                        314: 314,
                        315: 315,
                        316: 316,
                        317: 317,
                        318: 318,
                        319: 319,
                        320: 320,
                        321: 321,
                        322: 322,
                        323: 323,
                        324: 324,
                        325: 325,
                        326: 326
                    }],
                328: [function(t, n, r) {
                    (function(t) {
                            !function(t) {
                                "use strict";
                                function wrap(t, n, r, e) {
                                    var i = n && n.prototype instanceof Generator ? n : Generator
                                        , o = Object.create(i.prototype)
                                        , u = new Context(e || []);
                                    return o._invoke = makeInvokeMethod(t, r, u),
                                        o
                                }
                                function tryCatch(t, n, r) {
                                    try {
                                        return {
                                            type: "normal",
                                            arg: t.call(n, r)
                                        }
                                    } catch (t) {
                                        return {
                                            type: "throw",
                                            arg: t
                                        }
                                    }
                                }
                                function Generator() {}
                                function GeneratorFunction() {}
                                function GeneratorFunctionPrototype() {}
                                function defineIteratorMethods(t) {
                                    ["next", "throw", "return"].forEach(function(n) {
                                        t[n] = function(t) {
                                            return this._invoke(n, t)
                                        }
                                    })
                                }
                                function AsyncIterator(n) {
                                    function invoke(t, r, e, o) {
                                        var u = tryCatch(n[t], n, r);
                                        if ("throw" !== u.type) {
                                            var c = u.arg
                                                , a = c.value;
                                            return a && "object" == typeof a && i.call(a, "__await") ? Promise.resolve(a.__await).then(function(t) {
                                                invoke("next", t, e, o)
                                            }, function(t) {
                                                invoke("throw", t, e, o)
                                            }) : Promise.resolve(a).then(function(t) {
                                                c.value = t,
                                                    e(c)
                                            }, o)
                                        }
                                        o(u.arg)
                                    }
                                    function enqueue(t, n) {
                                        function callInvokeWithMethodAndArg() {
                                            return new Promise(function(r, e) {
                                                    invoke(t, n, r, e)
                                                }
                                            )
                                        }
                                        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg()
                                    }
                                    "object" == typeof t.process && t.process.domain && (invoke = t.process.domain.bind(invoke));
                                    var r;
                                    this._invoke = enqueue
                                }
                                function makeInvokeMethod(t, n, r) {
                                    var e = l;
                                    return function invoke(i, o) {
                                        if (e === v)
                                            throw new Error("Generator is already running");
                                        if (e === p) {
                                            if ("throw" === i)
                                                throw o;
                                            return doneResult()
                                        }
                                        for (r.method = i,
                                                 r.arg = o; ; ) {
                                            var u = r.delegate;
                                            if (u) {
                                                var c = maybeInvokeDelegate(u, r);
                                                if (c) {
                                                    if (c === d)
                                                        continue;
                                                    return c
                                                }
                                            }
                                            if ("next" === r.method)
                                                r.sent = r._sent = r.arg;
                                            else if ("throw" === r.method) {
                                                if (e === l)
                                                    throw e = p,
                                                        r.arg;
                                                r.dispatchException(r.arg)
                                            } else
                                                "return" === r.method && r.abrupt("return", r.arg);
                                            e = v;
                                            var a = tryCatch(t, n, r);
                                            if ("normal" === a.type) {
                                                if (e = r.done ? p : h,
                                                a.arg === d)
                                                    continue;
                                                return {
                                                    value: a.arg,
                                                    done: r.done
                                                }
                                            }
                                            "throw" === a.type && (e = p,
                                                r.method = "throw",
                                                r.arg = a.arg)
                                        }
                                    }
                                }
                                function maybeInvokeDelegate(t, n) {
                                    var e = t.iterator[n.method];
                                    if (e === r) {
                                        if (n.delegate = null,
                                        "throw" === n.method) {
                                            if (t.iterator.return && (n.method = "return",
                                                n.arg = r,
                                                maybeInvokeDelegate(t, n),
                                            "throw" === n.method))
                                                return d;
                                            n.method = "throw",
                                                n.arg = new TypeError("The iterator does not provide a 'throw' method")
                                        }
                                        return d
                                    }
                                    var i = tryCatch(e, t.iterator, n.arg);
                                    if ("throw" === i.type)
                                        return n.method = "throw",
                                            n.arg = i.arg,
                                            n.delegate = null,
                                            d;
                                    var o = i.arg;
                                    return o ? o.done ? (n[t.resultName] = o.value,
                                        n.next = t.nextLoc,
                                    "return" !== n.method && (n.method = "next",
                                        n.arg = r),
                                        n.delegate = null,
                                        d) : o : (n.method = "throw",
                                        n.arg = new TypeError("iterator result is not an object"),
                                        n.delegate = null,
                                        d)
                                }
                                function pushTryEntry(t) {
                                    var n = {
                                        tryLoc: t[0]
                                    };
                                    1 in t && (n.catchLoc = t[1]),
                                    2 in t && (n.finallyLoc = t[2],
                                        n.afterLoc = t[3]),
                                        this.tryEntries.push(n)
                                }
                                function resetTryEntry(t) {
                                    var n = t.completion || {};
                                    n.type = "normal",
                                        delete n.arg,
                                        t.completion = n
                                }
                                function Context(t) {
                                    this.tryEntries = [{
                                        tryLoc: "root"
                                    }],
                                        t.forEach(pushTryEntry, this),
                                        this.reset(!0)
                                }
                                function values(t) {
                                    if (t) {
                                        var n = t[u];
                                        if (n)
                                            return n.call(t);
                                        if ("function" == typeof t.next)
                                            return t;
                                        if (!isNaN(t.length)) {
                                            var e = -1
                                                , o = function next() {
                                                for (; ++e < t.length; )
                                                    if (i.call(t, e))
                                                        return next.value = t[e],
                                                            next.done = !1,
                                                            next;
                                                return next.value = r,
                                                    next.done = !0,
                                                    next
                                            };
                                            return o.next = o
                                        }
                                    }
                                    return {
                                        next: doneResult
                                    }
                                }
                                function doneResult() {
                                    return {
                                        value: r,
                                        done: !0
                                    }
                                }
                                var r, e = Object.prototype, i = e.hasOwnProperty, o = "function" == typeof Symbol ? Symbol : {}, u = o.iterator || "@@iterator", c = o.asyncIterator || "@@asyncIterator", a = o.toStringTag || "@@toStringTag", f = "object" == typeof n, s = t.regeneratorRuntime;
                                if (s)
                                    return void (f && (n.exports = s));
                                s = t.regeneratorRuntime = f ? n.exports : {},
                                    s.wrap = wrap;
                                var l = "suspendedStart"
                                    , h = "suspendedYield"
                                    , v = "executing"
                                    , p = "completed"
                                    , d = {}
                                    , y = {};
                                y[u] = function() {
                                    return this
                                }
                                ;
                                var g = Object.getPrototypeOf
                                    , m = g && g(g(values([])));
                                m && m !== e && i.call(m, u) && (y = m);
                                var b = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(y);
                                GeneratorFunction.prototype = b.constructor = GeneratorFunctionPrototype,
                                    GeneratorFunctionPrototype.constructor = GeneratorFunction,
                                    GeneratorFunctionPrototype[a] = GeneratorFunction.displayName = "GeneratorFunction",
                                    s.isGeneratorFunction = function(t) {
                                        var n = "function" == typeof t && t.constructor;
                                        return !!n && (n === GeneratorFunction || "GeneratorFunction" === (n.displayName || n.name))
                                    }
                                    ,
                                    s.mark = function(t) {
                                        return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype,
                                        a in t || (t[a] = "GeneratorFunction")),
                                            t.prototype = Object.create(b),
                                            t
                                    }
                                    ,
                                    s.awrap = function(t) {
                                        return {
                                            __await: t
                                        }
                                    }
                                    ,
                                    defineIteratorMethods(AsyncIterator.prototype),
                                    AsyncIterator.prototype[c] = function() {
                                        return this
                                    }
                                    ,
                                    s.AsyncIterator = AsyncIterator,
                                    s.async = function(t, n, r, e) {
                                        var i = new AsyncIterator(wrap(t, n, r, e));
                                        return s.isGeneratorFunction(n) ? i : i.next().then(function(t) {
                                            return t.done ? t.value : i.next()
                                        })
                                    }
                                    ,
                                    defineIteratorMethods(b),
                                    b[a] = "Generator",
                                    b[u] = function() {
                                        return this
                                    }
                                    ,
                                    b.toString = function() {
                                        return "[object Generator]"
                                    }
                                    ,
                                    s.keys = function(t) {
                                        var n = [];
                                        for (var r in t)
                                            n.push(r);
                                        return n.reverse(),
                                            function next() {
                                                for (; n.length; ) {
                                                    var r = n.pop();
                                                    if (r in t)
                                                        return next.value = r,
                                                            next.done = !1,
                                                            next
                                                }
                                                return next.done = !0,
                                                    next
                                            }
                                    }
                                    ,
                                    s.values = values,
                                    Context.prototype = {
                                        constructor: Context,
                                        reset: function(t) {
                                            if (this.prev = 0,
                                                this.next = 0,
                                                this.sent = this._sent = r,
                                                this.done = !1,
                                                this.delegate = null,
                                                this.method = "next",
                                                this.arg = r,
                                                this.tryEntries.forEach(resetTryEntry),
                                                !t)
                                                for (var n in this)
                                                    "t" === n.charAt(0) && i.call(this, n) && !isNaN(+n.slice(1)) && (this[n] = r)
                                        },
                                        stop: function() {
                                            this.done = !0;
                                            var t = this.tryEntries[0]
                                                , n = t.completion;
                                            if ("throw" === n.type)
                                                throw n.arg;
                                            return this.rval
                                        },
                                        dispatchException: function(t) {
                                            function handle(e, i) {
                                                return u.type = "throw",
                                                    u.arg = t,
                                                    n.next = e,
                                                i && (n.method = "next",
                                                    n.arg = r),
                                                    !!i
                                            }
                                            if (this.done)
                                                throw t;
                                            for (var n = this, e = this.tryEntries.length - 1; e >= 0; --e) {
                                                var o = this.tryEntries[e]
                                                    , u = o.completion;
                                                if ("root" === o.tryLoc)
                                                    return handle("end");
                                                if (o.tryLoc <= this.prev) {
                                                    var c = i.call(o, "catchLoc")
                                                        , a = i.call(o, "finallyLoc");
                                                    if (c && a) {
                                                        if (this.prev < o.catchLoc)
                                                            return handle(o.catchLoc, !0);
                                                        if (this.prev < o.finallyLoc)
                                                            return handle(o.finallyLoc)
                                                    } else if (c) {
                                                        if (this.prev < o.catchLoc)
                                                            return handle(o.catchLoc, !0)
                                                    } else {
                                                        if (!a)
                                                            throw new Error("try statement without catch or finally");
                                                        if (this.prev < o.finallyLoc)
                                                            return handle(o.finallyLoc)
                                                    }
                                                }
                                            }
                                        },
                                        abrupt: function(t, n) {
                                            for (var r = this.tryEntries.length - 1; r >= 0; --r) {
                                                var e = this.tryEntries[r];
                                                if (e.tryLoc <= this.prev && i.call(e, "finallyLoc") && this.prev < e.finallyLoc) {
                                                    var o = e;
                                                    break
                                                }
                                            }
                                            o && ("break" === t || "continue" === t) && o.tryLoc <= n && n <= o.finallyLoc && (o = null);
                                            var u = o ? o.completion : {};
                                            return u.type = t,
                                                u.arg = n,
                                                o ? (this.method = "next",
                                                    this.next = o.finallyLoc,
                                                    d) : this.complete(u)
                                        },
                                        complete: function(t, n) {
                                            if ("throw" === t.type)
                                                throw t.arg;
                                            return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg,
                                                this.method = "return",
                                                this.next = "end") : "normal" === t.type && n && (this.next = n),
                                                d
                                        },
                                        finish: function(t) {
                                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                                var r = this.tryEntries[n];
                                                if (r.finallyLoc === t)
                                                    return this.complete(r.completion, r.afterLoc),
                                                        resetTryEntry(r),
                                                        d
                                            }
                                        },
                                        catch: function(t) {
                                            for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                                                var r = this.tryEntries[n];
                                                if (r.tryLoc === t) {
                                                    var e = r.completion;
                                                    if ("throw" === e.type) {
                                                        var i = e.arg;
                                                        resetTryEntry(r)
                                                    }
                                                    return i
                                                }
                                            }
                                            throw new Error("illegal catch attempt")
                                        },
                                        delegateYield: function(t, n, e) {
                                            return this.delegate = {
                                                iterator: values(t),
                                                resultName: n,
                                                nextLoc: e
                                            },
                                            "next" === this.method && (this.arg = r),
                                                d
                                        }
                                    }
                            }("object" == typeof t ? t : "object" == typeof window ? window : "object" == typeof self ? self : this)
                        }
                    ).call(this, "undefined" != typeof global ? global : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {})
                }
                    , {}]
            }, {}, [1]);
        }
        ;if (!window.postscribe) {
            /**
             * @file postscribe
             * @description Asynchronously write javascript, even with document.write.
             * @version v2.0.8
             * @see {@link https://krux.github.io/postscribe}
             * @license MIT
             * @author Derek Brans
             * @copyright 2016 Krux Digital, Inc
             */
            !function(t, e) {
                "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports["postscribe"] = e() : t["postscribe"] = e()
            }(this, function() {
                return function(t) {
                    function e(n) {
                        if (r[n])
                            return r[n].exports;
                        var o = r[n] = {
                            "exports": {},
                            "id": n,
                            "loaded": !1
                        };
                        return t[n].call(o.exports, o, o.exports, e),
                            o.loaded = !0,
                            o.exports
                    }
                    var r = {};
                    return e.m = t,
                        e.c = r,
                        e.p = "",
                        e(0)
                }([function(t, e, r) {
                    "use strict";
                    function n(t) {
                        return t && t.__esModule ? t : {
                            "default": t
                        }
                    }
                    var o = r(1)
                        , i = n(o);
                    t.exports = i["default"]
                }
                    , function(t, e, r) {
                        "use strict";
                        function n(t) {
                            if (t && t.__esModule)
                                return t;
                            var e = {};
                            if (null != t)
                                for (var r in t)
                                    Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                            return e["default"] = t,
                                e
                        }
                        function o(t) {
                            return t && t.__esModule ? t : {
                                "default": t
                            }
                        }
                        function i() {}
                        function a() {
                            var t = m.shift();
                            if (t) {
                                var e = h.last(t);
                                e.afterDequeue(),
                                    t.stream = s.apply(void 0, t),
                                    e.afterStreamStart()
                            }
                        }
                        function s(t, e, r) {
                            function n(t) {
                                t = r.beforeWrite(t),
                                    g.write(t),
                                    r.afterWrite(t)
                            }
                            g = new p["default"](t,r),
                                g.id = y++,
                                g.name = r.name || g.id,
                                u.streams[g.name] = g;
                            var o = t.ownerDocument
                                , s = {
                                "close": o.close,
                                "open": o.open,
                                "write": o.write,
                                "writeln": o.writeln
                            };
                            c(o, {
                                "close": i,
                                "open": i,
                                "write": function() {
                                    for (var t = arguments.length, e = Array(t), r = 0; r < t; r++)
                                        e[r] = arguments[r];
                                    return n(e.join(""))
                                },
                                "writeln": function() {
                                    for (var t = arguments.length, e = Array(t), r = 0; r < t; r++)
                                        e[r] = arguments[r];
                                    return n(e.join("") + "\n")
                                }
                            });
                            var l = g.win.onerror || i;
                            return g.win.onerror = function(t, e, n) {
                                r.error({
                                    "msg": t + " - " + e + ": " + n
                                }),
                                    l.apply(g.win, [t, e, n])
                            }
                                ,
                                g.write(e, function() {
                                    c(o, s),
                                        g.win.onerror = l,
                                        r.done(),
                                        g = null,
                                        a()
                                }),
                                g
                        }
                        function u(t, e, r) {
                            if (h.isFunction(r))
                                r = {
                                    "done": r
                                };
                            else if ("clear" === r)
                                return m = [],
                                    g = null,
                                    void (y = 0);
                            r = h.defaults(r, d),
                                t = /^#/.test(t) ? window.document.getElementById(t.substr(1)) : t.jquery ? t[0] : t;
                            var n = [t, e, r];
                            return t.postscribe = {
                                "cancel": function() {
                                    n.stream ? n.stream.abort() : n[1] = i
                                }
                            },
                                r.beforeEnqueue(n),
                                m.push(n),
                            g || a(),
                                t.postscribe
                        }
                        e.__esModule = !0;
                        var c = Object.assign || function(t) {
                                for (var e = 1; e < arguments.length; e++) {
                                    var r = arguments[e];
                                    for (var n in r)
                                        Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n])
                                }
                                return t
                            }
                        ;
                        e["default"] = u;
                        var l = r(2)
                            , p = o(l)
                            , f = r(4)
                            , h = n(f)
                            , d = {
                            "afterAsync": i,
                            "afterDequeue": i,
                            "afterStreamStart": i,
                            "afterWrite": i,
                            "autoFix": !0,
                            "beforeEnqueue": i,
                            "beforeWriteToken": function(t) {
                                return t
                            },
                            "beforeWrite": function(t) {
                                return t
                            },
                            "done": i,
                            "error": function(t) {
                                throw new Error(t.msg)
                            },
                            "releaseAsync": !1
                        }
                            , y = 0
                            , m = []
                            , g = null;
                        c(u, {
                            "streams": {},
                            "queue": m,
                            "WriteStream": p["default"]
                        })
                    }
                    , function(t, e, r) {
                        "use strict";
                        function n(t) {
                            if (t && t.__esModule)
                                return t;
                            var e = {};
                            if (null != t)
                                for (var r in t)
                                    Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                            return e["default"] = t,
                                e
                        }
                        function o(t) {
                            return t && t.__esModule ? t : {
                                "default": t
                            }
                        }
                        function i(t, e) {
                            if (!(t instanceof e))
                                throw new TypeError("Cannot call a class as a function")
                        }
                        function a(t, e) {
                            var r = d + e
                                , n = t.getAttribute(r);
                            return f.existy(n) ? String(n) : n
                        }
                        function s(t, e) {
                            var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null
                                , n = d + e;
                            f.existy(r) && "" !== r ? t.setAttribute(n, r) : t.removeAttribute(n)
                        }
                        e.__esModule = !0;
                        var u = Object.assign || function(t) {
                            for (var e = 1; e < arguments.length; e++) {
                                var r = arguments[e];
                                for (var n in r)
                                    Object.prototype.hasOwnProperty.call(r, n) && (t[n] = r[n])
                            }
                            return t
                        }
                            , c = r(3)
                            , l = o(c)
                            , p = r(4)
                            , f = n(p)
                            , h = !1
                            , d = "data-ps-"
                            , y = "ps-style"
                            , m = "ps-script"
                            , g = function() {
                            function t(e) {
                                var r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                i(this, t),
                                    this.root = e,
                                    this.options = r,
                                    this.doc = e.ownerDocument,
                                    this.win = this.doc.defaultView || this.doc.parentWindow,
                                    this.parser = new l["default"]("",{
                                        "autoFix": r.autoFix
                                    }),
                                    this.actuals = [e],
                                    this.proxyHistory = "",
                                    this.proxyRoot = this.doc.createElement(e.nodeName),
                                    this.scriptStack = [],
                                    this.writeQueue = [],
                                    s(this.proxyRoot, "proxyof", 0)
                            }
                            return t.prototype.write = function() {
                                var t;
                                for ((t = this.writeQueue).push.apply(t, arguments); !this.deferredRemote && this.writeQueue.length; ) {
                                    var e = this.writeQueue.shift();
                                    f.isFunction(e) ? this._callFunction(e) : this._writeImpl(e)
                                }
                            }
                                ,
                                t.prototype._callFunction = function(t) {
                                    var e = {
                                        "type": "function",
                                        "value": t.name || t.toString()
                                    };
                                    this._onScriptStart(e),
                                        t.call(this.win, this.doc),
                                        this._onScriptDone(e)
                                }
                                ,
                                t.prototype._writeImpl = function(t) {
                                    this.parser.append(t);
                                    for (var e = void 0, r = void 0, n = void 0, o = []; (e = this.parser.readToken()) && !(r = f.isScript(e)) && !(n = f.isStyle(e)); )
                                        e = this.options.beforeWriteToken(e),
                                        e && o.push(e);
                                    o.length > 0 && this._writeStaticTokens(o),
                                    r && this._handleScriptToken(e),
                                    n && this._handleStyleToken(e)
                                }
                                ,
                                t.prototype._writeStaticTokens = function(t) {
                                    var e = this._buildChunk(t);
                                    return e.actual ? (e.html = this.proxyHistory + e.actual,
                                        this.proxyHistory += e.proxy,
                                        this.proxyRoot.innerHTML = e.html,
                                    h && (e.proxyInnerHTML = this.proxyRoot.innerHTML),
                                        this._walkChunk(),
                                    h && (e.actualInnerHTML = this.root.innerHTML),
                                        e) : null
                                }
                                ,
                                t.prototype._buildChunk = function(t) {
                                    for (var e = this.actuals.length, r = [], n = [], o = [], i = t.length, a = 0; a < i; a++) {
                                        var s = t[a]
                                            , u = s.toString();
                                        if (r.push(u),
                                            s.attrs) {
                                            if (!/^noscript$/i.test(s.tagName)) {
                                                var c = e++;
                                                n.push(u.replace(/(\/?>)/, " " + d + "id=" + c + " $1")),
                                                s.attrs.id !== m && s.attrs.id !== y && o.push("atomicTag" === s.type ? "" : "<" + s.tagName + " " + d + "proxyof=" + c + (s.unary ? " />" : ">"))
                                            }
                                        } else
                                            n.push(u),
                                                o.push("endTag" === s.type ? u : "")
                                    }
                                    return {
                                        "tokens": t,
                                        "raw": r.join(""),
                                        "actual": n.join(""),
                                        "proxy": o.join("")
                                    }
                                }
                                ,
                                t.prototype._walkChunk = function() {
                                    for (var t = void 0, e = [this.proxyRoot]; f.existy(t = e.shift()); ) {
                                        var r = 1 === t.nodeType
                                            , n = r && a(t, "proxyof");
                                        if (!n) {
                                            r && (this.actuals[a(t, "id")] = t,
                                                s(t, "id"));
                                            var o = t.parentNode && a(t.parentNode, "proxyof");
                                            o && this.actuals[o].appendChild(t)
                                        }
                                        e.unshift.apply(e, f.toArray(t.childNodes))
                                    }
                                }
                                ,
                                t.prototype._handleScriptToken = function(t) {
                                    var e = this
                                        , r = this.parser.clear();
                                    r && this.writeQueue.unshift(r),
                                        t.src = t.attrs.src || t.attrs.SRC,
                                        t = this.options.beforeWriteToken(t),
                                    t && (t.src && this.scriptStack.length ? this.deferredRemote = t : this._onScriptStart(t),
                                        this._writeScriptToken(t, function() {
                                            e._onScriptDone(t)
                                        }))
                                }
                                ,
                                t.prototype._handleStyleToken = function(t) {
                                    var e = this.parser.clear();
                                    e && this.writeQueue.unshift(e),
                                        t.type = t.attrs.type || t.attrs.TYPE || "text/css",
                                        t = this.options.beforeWriteToken(t),
                                    t && this._writeStyleToken(t),
                                    e && this.write()
                                }
                                ,
                                t.prototype._writeStyleToken = function(t) {
                                    var e = this._buildStyle(t);
                                    this._insertCursor(e, y),
                                    t.content && (e.styleSheet && !e.sheet ? e.styleSheet.cssText = t.content : e.appendChild(this.doc.createTextNode(t.content)))
                                }
                                ,
                                t.prototype._buildStyle = function(t) {
                                    var e = this.doc.createElement(t.tagName);
                                    return e.setAttribute("type", t.type),
                                        f.eachKey(t.attrs, function(t, r) {
                                            e.setAttribute(t, r)
                                        }),
                                        e
                                }
                                ,
                                t.prototype._insertCursor = function(t, e) {
                                    this._writeImpl('<span id="' + e + '"/>');
                                    var r = this.doc.getElementById(e);
                                    r && r.parentNode.replaceChild(t, r)
                                }
                                ,
                                t.prototype._onScriptStart = function(t) {
                                    t.outerWrites = this.writeQueue,
                                        this.writeQueue = [],
                                        this.scriptStack.unshift(t)
                                }
                                ,
                                t.prototype._onScriptDone = function(t) {
                                    return t !== this.scriptStack[0] ? void this.options.error({
                                        "msg": "Bad script nesting or script finished twice"
                                    }) : (this.scriptStack.shift(),
                                        this.write.apply(this, t.outerWrites),
                                        void (!this.scriptStack.length && this.deferredRemote && (this._onScriptStart(this.deferredRemote),
                                            this.deferredRemote = null)))
                                }
                                ,
                                t.prototype._writeScriptToken = function(t, e) {
                                    var r = this._buildScript(t)
                                        , n = this._shouldRelease(r)
                                        , o = this.options.afterAsync;
                                    t.src && (r.src = t.src,
                                        this._scriptLoadHandler(r, n ? o : function() {
                                                e(),
                                                    o()
                                            }
                                        ));
                                    try {
                                        this._insertCursor(r, m),
                                        r.src && !n || e()
                                    } catch (t) {
                                        this.options.error(t),
                                            e()
                                    }
                                }
                                ,
                                t.prototype._buildScript = function(t) {
                                    var e = this.doc.createElement(t.tagName);
                                    return f.eachKey(t.attrs, function(t, r) {
                                        e.setAttribute(t, r)
                                    }),
                                    t.content && (e.text = t.content),
                                        e
                                }
                                ,
                                t.prototype._scriptLoadHandler = function(t, e) {
                                    function r() {
                                        t = t.onload = t.onreadystatechange = t.onerror = null
                                    }
                                    function n() {
                                        r(),
                                        null != e && e(),
                                            e = null
                                    }
                                    function o(t) {
                                        r(),
                                            a(t),
                                        null != e && e(),
                                            e = null
                                    }
                                    function i(t, e) {
                                        var r = t["on" + e];
                                        null != r && (t["_on" + e] = r)
                                    }
                                    var a = this.options.error;
                                    i(t, "load"),
                                        i(t, "error"),
                                        u(t, {
                                            "onload": function() {
                                                if (t._onload)
                                                    try {
                                                        t._onload.apply(this, Array.prototype.slice.call(arguments, 0))
                                                    } catch (e) {
                                                        o({
                                                            "msg": "onload handler failed " + e + " @ " + t.src
                                                        })
                                                    }
                                                n()
                                            },
                                            "onerror": function() {
                                                if (t._onerror)
                                                    try {
                                                        t._onerror.apply(this, Array.prototype.slice.call(arguments, 0))
                                                    } catch (e) {
                                                        return void o({
                                                            "msg": "onerror handler failed " + e + " @ " + t.src
                                                        })
                                                    }
                                                o({
                                                    "msg": "remote script failed " + t.src
                                                })
                                            },
                                            "onreadystatechange": function() {
                                                /^(loaded|complete)$/.test(t.readyState) && n()
                                            }
                                        })
                                }
                                ,
                                t.prototype._shouldRelease = function(t) {
                                    var e = /^script$/i.test(t.nodeName);
                                    return !e || !!(this.options.releaseAsync && t.src && t.hasAttribute("async"))
                                }
                                ,
                                t
                        }();
                        e["default"] = g
                    }
                    , function(t, e, r) {
                        !function(e, r) {
                            t.exports = r()
                        }(this, function() {
                            return function(t) {
                                function e(n) {
                                    if (r[n])
                                        return r[n].exports;
                                    var o = r[n] = {
                                        "exports": {},
                                        "id": n,
                                        "loaded": !1
                                    };
                                    return t[n].call(o.exports, o, o.exports, e),
                                        o.loaded = !0,
                                        o.exports
                                }
                                var r = {};
                                return e.m = t,
                                    e.c = r,
                                    e.p = "",
                                    e(0)
                            }([function(t, e, r) {
                                "use strict";
                                function n(t) {
                                    return t && t.__esModule ? t : {
                                        "default": t
                                    }
                                }
                                var o = r(1)
                                    , i = n(o);
                                t.exports = i["default"]
                            }
                                , function(t, e, r) {
                                    "use strict";
                                    function n(t) {
                                        return t && t.__esModule ? t : {
                                            "default": t
                                        }
                                    }
                                    function o(t) {
                                        if (t && t.__esModule)
                                            return t;
                                        var e = {};
                                        if (null != t)
                                            for (var r in t)
                                                Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);
                                        return e["default"] = t,
                                            e
                                    }
                                    function i(t, e) {
                                        if (!(t instanceof e))
                                            throw new TypeError("Cannot call a class as a function")
                                    }
                                    e.__esModule = !0;
                                    var a = r(2)
                                        , s = o(a)
                                        , u = r(3)
                                        , c = o(u)
                                        , l = r(6)
                                        , p = n(l)
                                        , f = r(5)
                                        , h = {
                                        "comment": /^<!--/,
                                        "endTag": /^<\//,
                                        "atomicTag": /^<\s*(script|style|noscript|iframe|textarea)[\s\/>]/i,
                                        "startTag": /^</,
                                        "chars": /^[^<]/
                                    }
                                        , d = function() {
                                        function t() {
                                            var e = this
                                                , r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ""
                                                , n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                            i(this, t),
                                                this.stream = r;
                                            var o = !1
                                                , a = {};
                                            for (var u in s)
                                                s.hasOwnProperty(u) && (n.autoFix && (a[u + "Fix"] = !0),
                                                    o = o || a[u + "Fix"]);
                                            o ? (this._readToken = (0,
                                                p["default"])(this, a, function() {
                                                return e._readTokenImpl()
                                            }),
                                                this._peekToken = (0,
                                                    p["default"])(this, a, function() {
                                                    return e._peekTokenImpl()
                                                })) : (this._readToken = this._readTokenImpl,
                                                this._peekToken = this._peekTokenImpl)
                                        }
                                        return t.prototype.append = function(t) {
                                            this.stream += t
                                        }
                                            ,
                                            t.prototype.prepend = function(t) {
                                                this.stream = t + this.stream
                                            }
                                            ,
                                            t.prototype._readTokenImpl = function() {
                                                var t = this._peekTokenImpl();
                                                if (t)
                                                    return this.stream = this.stream.slice(t.length),
                                                        t
                                            }
                                            ,
                                            t.prototype._peekTokenImpl = function() {
                                                for (var t in h)
                                                    if (h.hasOwnProperty(t) && h[t].test(this.stream)) {
                                                        var e = c[t](this.stream);
                                                        if (e)
                                                            return "startTag" === e.type && /script|style/i.test(e.tagName) ? null : (e.text = this.stream.substr(0, e.length),
                                                                e)
                                                    }
                                            }
                                            ,
                                            t.prototype.peekToken = function() {
                                                return this._peekToken()
                                            }
                                            ,
                                            t.prototype.readToken = function() {
                                                return this._readToken()
                                            }
                                            ,
                                            t.prototype.readTokens = function(t) {
                                                for (var e = void 0; e = this.readToken(); )
                                                    if (t[e.type] && t[e.type](e) === !1)
                                                        return
                                            }
                                            ,
                                            t.prototype.clear = function() {
                                                var t = this.stream;
                                                return this.stream = "",
                                                    t
                                            }
                                            ,
                                            t.prototype.rest = function() {
                                                return this.stream
                                            }
                                            ,
                                            t
                                    }();
                                    e["default"] = d,
                                        d.tokenToString = function(t) {
                                            return t.toString()
                                        }
                                        ,
                                        d.escapeAttributes = function(t) {
                                            var e = {};
                                            for (var r in t)
                                                t.hasOwnProperty(r) && (e[r] = (0,
                                                    f.escapeQuotes)(t[r], null));
                                            return e
                                        }
                                        ,
                                        d.supports = s;
                                    for (var y in s)
                                        s.hasOwnProperty(y) && (d.browserHasFlaw = d.browserHasFlaw || !s[y] && y)
                                }
                                , function(t, e) {
                                    "use strict";
                                    e.__esModule = !0;
                                    var r = !1
                                        , n = !1
                                        , o = window.document.createElement("div");
                                    try {
                                        var i = "<P><I></P></I>";
                                        o.innerHTML = i,
                                            e.tagSoup = r = o.innerHTML !== i
                                    } catch (t) {
                                        e.tagSoup = r = !1
                                    }
                                    try {
                                        o.innerHTML = "<P><i><P></P></i></P>",
                                            e.selfClose = n = 2 === o.childNodes.length
                                    } catch (t) {
                                        e.selfClose = n = !1
                                    }
                                    o = null,
                                        e.tagSoup = r,
                                        e.selfClose = n
                                }
                                , function(t, e, r) {
                                    "use strict";
                                    function n(t) {
                                        var e = t.indexOf("-->");
                                        if (e >= 0)
                                            return new c.CommentToken(t.substr(4, e - 1),e + 3)
                                    }
                                    function o(t) {
                                        var e = t.indexOf("<");
                                        return new c.CharsToken(e >= 0 ? e : t.length)
                                    }
                                    function i(t) {
                                        var e = t.indexOf(">");
                                        if (e !== -1) {
                                            var r = t.match(l.startTag);
                                            if (r) {
                                                var n = function() {
                                                    var t = {}
                                                        , e = {}
                                                        , n = r[2];
                                                    return r[2].replace(l.attr, function(r, o) {
                                                        arguments[2] || arguments[3] || arguments[4] || arguments[5] ? arguments[5] ? (t[arguments[5]] = "",
                                                            e[arguments[5]] = !0) : t[o] = arguments[2] || arguments[3] || arguments[4] || l.fillAttr.test(o) && o || "" : t[o] = "",
                                                            n = n.replace(r, "")
                                                    }),
                                                        {
                                                            "v": new c.StartTagToken(r[1],r[0].length,t,e,(!!r[3]),n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, ""))
                                                        }
                                                }();
                                                if ("object" === ("undefined" == typeof n ? "undefined" : u(n)))
                                                    return n.v
                                            }
                                        }
                                    }
                                    function a(t) {
                                        var e = i(t);
                                        if (e) {
                                            var r = t.slice(e.length);
                                            if (r.match(new RegExp("</\\s*" + e.tagName + "\\s*>","i"))) {
                                                var n = r.match(new RegExp("([\\s\\S]*?)</\\s*" + e.tagName + "\\s*>","i"));
                                                if (n)
                                                    return new c.AtomicTagToken(e.tagName,n[0].length + e.length,e.attrs,e.booleanAttrs,n[1])
                                            }
                                        }
                                    }
                                    function s(t) {
                                        var e = t.match(l.endTag);
                                        if (e)
                                            return new c.EndTagToken(e[1],e[0].length)
                                    }
                                    e.__esModule = !0;
                                    var u = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                                            return typeof t
                                        }
                                        : function(t) {
                                            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                                        }
                                    ;
                                    e.comment = n,
                                        e.chars = o,
                                        e.startTag = i,
                                        e.atomicTag = a,
                                        e.endTag = s;
                                    var c = r(4)
                                        , l = {
                                        "startTag": /^<([\-A-Za-z0-9_]+)((?:\s+[\w\-]+(?:\s*=?\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)>/,
                                        "endTag": /^<\/([\-A-Za-z0-9_]+)[^>]*>/,
                                        "attr": /(?:([\-A-Za-z0-9_]+)\s*=\s*(?:(?:"((?:\\.|[^"])*)")|(?:'((?:\\.|[^'])*)')|([^>\s]+)))|(?:([\-A-Za-z0-9_]+)(\s|$)+)/g,
                                        "fillAttr": /^(checked|compact|declare|defer|disabled|ismap|multiple|nohref|noresize|noshade|nowrap|readonly|selected)$/i
                                    }
                                }
                                , function(t, e, r) {
                                    "use strict";
                                    function n(t, e) {
                                        if (!(t instanceof e))
                                            throw new TypeError("Cannot call a class as a function")
                                    }
                                    e.__esModule = !0,
                                        e.EndTagToken = e.AtomicTagToken = e.StartTagToken = e.TagToken = e.CharsToken = e.CommentToken = e.Token = void 0;
                                    var o = r(5)
                                        , i = (e.Token = function t(e, r) {
                                        n(this, t),
                                            this.type = e,
                                            this.length = r,
                                            this.text = ""
                                    }
                                        ,
                                        e.CommentToken = function() {
                                            function t(e, r) {
                                                n(this, t),
                                                    this.type = "comment",
                                                    this.length = r || (e ? e.length : 0),
                                                    this.text = "",
                                                    this.content = e
                                            }
                                            return t.prototype.toString = function() {
                                                return "<!--" + this.content
                                            }
                                                ,
                                                t
                                        }(),
                                        e.CharsToken = function() {
                                            function t(e) {
                                                n(this, t),
                                                    this.type = "chars",
                                                    this.length = e,
                                                    this.text = ""
                                            }
                                            return t.prototype.toString = function() {
                                                return this.text
                                            }
                                                ,
                                                t
                                        }(),
                                        e.TagToken = function() {
                                            function t(e, r, o, i, a) {
                                                n(this, t),
                                                    this.type = e,
                                                    this.length = o,
                                                    this.text = "",
                                                    this.tagName = r,
                                                    this.attrs = i,
                                                    this.booleanAttrs = a,
                                                    this.unary = !1,
                                                    this.html5Unary = !1
                                            }
                                            return t.formatTag = function(t) {
                                                var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null
                                                    , r = "<" + t.tagName;
                                                for (var n in t.attrs)
                                                    if (t.attrs.hasOwnProperty(n)) {
                                                        r += " " + n;
                                                        var i = t.attrs[n];
                                                        "undefined" != typeof t.booleanAttrs && "undefined" != typeof t.booleanAttrs[n] || (r += '="' + (0,
                                                            o.escapeQuotes)(i) + '"')
                                                    }
                                                return t.rest && (r += " " + t.rest),
                                                    r += t.unary && !t.html5Unary ? "/>" : ">",
                                                void 0 !== e && null !== e && (r += e + "</" + t.tagName + ">"),
                                                    r
                                            }
                                                ,
                                                t
                                        }());
                                    e.StartTagToken = function() {
                                        function t(e, r, o, i, a, s) {
                                            n(this, t),
                                                this.type = "startTag",
                                                this.length = r,
                                                this.text = "",
                                                this.tagName = e,
                                                this.attrs = o,
                                                this.booleanAttrs = i,
                                                this.html5Unary = !1,
                                                this.unary = a,
                                                this.rest = s
                                        }
                                        return t.prototype.toString = function() {
                                            return i.formatTag(this)
                                        }
                                            ,
                                            t
                                    }(),
                                        e.AtomicTagToken = function() {
                                            function t(e, r, o, i, a) {
                                                n(this, t),
                                                    this.type = "atomicTag",
                                                    this.length = r,
                                                    this.text = "",
                                                    this.tagName = e,
                                                    this.attrs = o,
                                                    this.booleanAttrs = i,
                                                    this.unary = !1,
                                                    this.html5Unary = !1,
                                                    this.content = a
                                            }
                                            return t.prototype.toString = function() {
                                                return i.formatTag(this, this.content)
                                            }
                                                ,
                                                t
                                        }(),
                                        e.EndTagToken = function() {
                                            function t(e, r) {
                                                n(this, t),
                                                    this.type = "endTag",
                                                    this.length = r,
                                                    this.text = "",
                                                    this.tagName = e
                                            }
                                            return t.prototype.toString = function() {
                                                return "</" + this.tagName + ">"
                                            }
                                                ,
                                                t
                                        }()
                                }
                                , function(t, e) {
                                    "use strict";
                                    function r(t) {
                                        var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
                                        return t ? t.replace(/([^"]*)"/g, function(t, e) {
                                            return /\\/.test(e) ? e + '"' : e + '\\"'
                                        }) : e
                                    }
                                    e.__esModule = !0,
                                        e.escapeQuotes = r
                                }
                                , function(t, e) {
                                    "use strict";
                                    function r(t) {
                                        return t && "startTag" === t.type && (t.unary = s.test(t.tagName) || t.unary,
                                            t.html5Unary = !/\/>$/.test(t.text)),
                                            t
                                    }
                                    function n(t, e) {
                                        var n = t.stream
                                            , o = r(e());
                                        return t.stream = n,
                                            o
                                    }
                                    function o(t, e) {
                                        var r = e.pop();
                                        t.prepend("</" + r.tagName + ">")
                                    }
                                    function i() {
                                        var t = [];
                                        return t.last = function() {
                                            return this[this.length - 1]
                                        }
                                            ,
                                            t.lastTagNameEq = function(t) {
                                                var e = this.last();
                                                return e && e.tagName && e.tagName.toUpperCase() === t.toUpperCase()
                                            }
                                            ,
                                            t.containsTagName = function(t) {
                                                for (var e, r = 0; e = this[r]; r++)
                                                    if (e.tagName === t)
                                                        return !0;
                                                return !1
                                            }
                                            ,
                                            t
                                    }
                                    function a(t, e, a) {
                                        function s() {
                                            var e = n(t, a);
                                            e && l[e.type] && l[e.type](e)
                                        }
                                        var c = i()
                                            , l = {
                                            "startTag": function(r) {
                                                var n = r.tagName;
                                                "TR" === n.toUpperCase() && c.lastTagNameEq("TABLE") ? (t.prepend("<TBODY>"),
                                                    s()) : e.selfCloseFix && u.test(n) && c.containsTagName(n) ? c.lastTagNameEq(n) ? o(t, c) : (t.prepend("</" + r.tagName + ">"),
                                                    s()) : r.unary || c.push(r)
                                            },
                                            "endTag": function(r) {
                                                var n = c.last();
                                                n ? e.tagSoupFix && !c.lastTagNameEq(r.tagName) ? o(t, c) : c.pop() : e.tagSoupFix && (a(),
                                                    s())
                                            }
                                        };
                                        return function() {
                                            return s(),
                                                r(a())
                                        }
                                    }
                                    e.__esModule = !0,
                                        e["default"] = a;
                                    var s = /^(AREA|BASE|BASEFONT|BR|COL|FRAME|HR|IMG|INPUT|ISINDEX|LINK|META|PARAM|EMBED)$/i
                                        , u = /^(COLGROUP|DD|DT|LI|OPTIONS|P|TD|TFOOT|TH|THEAD|TR)$/i
                                }
                            ])
                        })
                    }
                    , function(t, e) {
                        "use strict";
                        function r(t) {
                            return void 0 !== t && null !== t
                        }
                        function n(t) {
                            return "function" == typeof t
                        }
                        function o(t, e, r) {
                            var n = void 0
                                , o = t && t.length || 0;
                            for (n = 0; n < o; n++)
                                e.call(r, t[n], n)
                        }
                        function i(t, e, r) {
                            for (var n in t)
                                t.hasOwnProperty(n) && e.call(r, n, t[n])
                        }
                        function a(t, e) {
                            return t = t || {},
                                i(e, function(e, n) {
                                    r(t[e]) || (t[e] = n)
                                }),
                                t
                        }
                        function s(t) {
                            try {
                                return Array.prototype.slice.call(t)
                            } catch (r) {
                                var e = function() {
                                    var e = [];
                                    return o(t, function(t) {
                                        e.push(t)
                                    }),
                                        {
                                            "v": e
                                        }
                                }();
                                if ("object" === ("undefined" == typeof e ? "undefined" : f(e)))
                                    return e.v
                            }
                        }
                        function u(t) {
                            return t[t.length - 1]
                        }
                        function c(t, e) {
                            return !(!t || "startTag" !== t.type && "atomicTag" !== t.type || !("tagName"in t)) && !!~t.tagName.toLowerCase().indexOf(e)
                        }
                        function l(t) {
                            return c(t, "script")
                        }
                        function p(t) {
                            return c(t, "style")
                        }
                        e.__esModule = !0;
                        var f = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
                                return typeof t
                            }
                            : function(t) {
                                return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
                            }
                        ;
                        e.existy = r,
                            e.isFunction = n,
                            e.each = o,
                            e.eachKey = i,
                            e.defaults = a,
                            e.toArray = s,
                            e.last = u,
                            e.isTag = c,
                            e.isScript = l,
                            e.isStyle = p
                    }
                ])
            });
        }
        ;!function(a, b, c) {
            "use strict";
            var d = function(a) {
                var b = c(a, a.document);
                return b.noConflict = function() {
                    return b
                }
                    ,
                    b
            };
            if ("function" == typeof define && define.amd)
                define([], function() {
                    return d
                });
            else if ("object" == typeof exports)
                module.exports = function(a) {
                    return d(a)
                }
                ;
            else {
                var e = a[b]
                    , f = c(a, a.document);
                a[b] = f,
                    a[b].noConflict = function() {
                        return a[b] = e,
                            f
                    }
            }
        }(this, "VisSense", function(a, b, c) {
            "use strict";
            function d(a, b) {
                return function() {
                    var d = arguments;
                    return g(function() {
                        a.apply(c, d)
                    }, b || 0)
                }
            }
            function e(a, b) {
                var c = q;
                return function() {
                    var d = this
                        , e = arguments;
                    c(),
                        c = g(function() {
                            a.apply(d, e)
                        }, b)
                }
            }
            function f(a, b) {
                var d = p(b)
                    , e = p(a);
                return d || e ? d && e ? (j(Object.keys(b), function(d) {
                    a[d] === c && (a[d] = b[d])
                }),
                    a) : d ? b : a : b
            }
            function g(a, b) {
                var c = setTimeout(function() {
                    a()
                }, b || 0);
                return function() {
                    clearTimeout(c)
                }
            }
            function h(a, b) {
                return function() {
                    return (o(a) ? a() : a) ? b() : c
                }
            }
            function i(a, b, c) {
                for (var d = -1, e = Object.keys(b), f = e.length, g = o(c); ++d < f; ) {
                    var h = e[d];
                    a[h] = g ? c(a[h], b[h], h, a, b) : b[h]
                }
                return a
            }
            function j(a, b, d) {
                for (var e = 0, f = a.length; f > e; e++) {
                    var g = b.call(d, a[e], e, a);
                    if (g !== c)
                        return g
                }
            }
            function k(a) {
                return a
            }
            function l(a) {
                return a !== c
            }
            function m(a) {
                return a && "object" == typeof a && "number" == typeof a.length && "[object Array]" === Object.prototype.toString.call(a) || !1
            }
            function n(a) {
                return a && 1 === a.nodeType || !1
            }
            function o(a) {
                return "function" == typeof a || !1
            }
            function p(a) {
                var b = typeof a;
                return "function" === b || a && "object" === b || !1
            }
            function q() {}
            function r() {
                return (new Date).getTime()
            }
            function s(a) {
                var b, d = !1;
                return function() {
                    return d || (b = a.apply(c, arguments),
                        d = !0),
                        b
                }
            }
            function t(a, b, c) {
                var d = q
                    , e = !1;
                return function() {
                    var f = r()
                        , h = arguments
                        , i = function() {
                        e = f,
                            a.apply(c, h)
                    };
                    e && e + b > f ? (d(),
                        d = g(i, b)) : (e = f,
                        g(i, 0))
                }
            }
            function u(b) {
                var c = b || a;
                return {
                    height: c.innerHeight,
                    width: c.innerWidth
                }
            }
            function v(b, c) {
                return (c || a).getComputedStyle(b, null)
            }
            function w(a, b) {
                return a.getPropertyValue(b)
            }
            function x(a, b) {
                b || (b = v(a));
                var c = w(b, "display");
                if ("none" === c)
                    return !1;
                var d = a.parentNode;
                return n(d) ? x(d) : !0
            }
            function y(b, c) {
                if (b === (c || a).document)
                    return !0;
                if (!b || !b.parentNode)
                    return !1;
                var d = v(b, c)
                    , e = w(d, "visibility");
                return "hidden" === e || "collapse" === e ? !1 : x(b, d)
            }
            function z(a, b) {
                return !a || a.width <= 0 || a.height <= 0 ? !1 : a.bottom > 0 && a.right > 0 && a.top < b.height && a.left < b.width
            }
            function A(a, b) {
                var c = a.getBoundingClientRect()
                    , d = u(b);
                if (!z(c, d) || !y(a))
                    return 0;
                var e = 0
                    , f = 0;
                return c.top >= 0 ? e = Math.min(c.height, d.height - c.top) : c.bottom > 0 && (e = Math.min(d.height, c.bottom)),
                    c.left >= 0 ? f = Math.min(c.width, d.width - c.left) : c.right > 0 && (f = Math.min(d.width, c.right)),
                e * f / (c.height * c.width)
            }
            function B(b) {
                return !F(b || a).isHidden()
            }
            function C(b, c) {
                if (!(this instanceof C))
                    return new C(b,c);
                if (!n(b))
                    throw new Error("not an element node");
                this._element = b,
                    this._config = f(c, {
                        fullyvisible: 1,
                        hidden: 0,
                        referenceWindow: a,
                        percentageHook: A,
                        precision: 3,
                        visibilityHooks: []
                    });
                var d = this._config.precision <= 0 ? 1 : Math.pow(10, this._config.precision || 3);
                this._round = function(a) {
                    return Math.round(a * d) / d
                }
                ;
                var e = F(this._config.referenceWindow);
                this._config.visibilityHooks.push(function() {
                    return !e.isHidden()
                })
            }
            function D(a, b) {
                var c = a.state()
                    , d = c.percentage;
                return b && d === b.percentage && b.percentage === b.previous.percentage ? b : c.hidden ? C.VisState.hidden(d, b) : c.fullyvisible ? C.VisState.fullyvisible(d, b) : C.VisState.visible(d, b)
            }
            function E(a, b) {
                var c = f(b, {
                    strategy: [new E.Strategy.PollingStrategy, new E.Strategy.EventStrategy],
                    async: !1
                });
                this._visobj = a,
                    this._state = {},
                    this._started = !1;
                var d = "*#" + r();
                this._pubsub = new G({
                    async: c.async,
                    anyTopicName: d
                }),
                    this._events = [d, "start", "stop", "update", "hidden", "visible", "fullyvisible", "percentagechange", "visibilitychange"],
                    this._strategy = new E.Strategy.CompositeStrategy(c.strategy),
                    this._strategy.init(this),
                    this._pubsub.on("update", function(a) {
                        var b = a._state.percentage
                            , c = a._state.previous.percentage;
                        b !== c && a._pubsub.publish("percentagechange", [a, b, c])
                    }),
                    this._pubsub.on("update", function(a) {
                        a._state.code !== a._state.previous.code && a._pubsub.publish("visibilitychange", [a])
                    }),
                    this._pubsub.on("visibilitychange", function(a) {
                        a._state.visible && !a._state.previous.visible && a._pubsub.publish("visible", [a])
                    }),
                    this._pubsub.on("visibilitychange", function(a) {
                        a._state.fullyvisible && a._pubsub.publish("fullyvisible", [a])
                    }),
                    this._pubsub.on("visibilitychange", function(a) {
                        a._state.hidden && a._pubsub.publish("hidden", [a])
                    }),
                    j(this._events, function(a) {
                        o(c[a]) && this.on(a, c[a])
                    }, this)
            }
            var F = function(b) {
                return function(a, b) {
                    var c = function(a, b) {
                        return {
                            property: a,
                            event: b
                        }
                    }
                        , d = "visibilitychange"
                        , e = [c("webkitHidden", "webkit" + d), c("msHidden", "ms" + d), c("mozHidden", "moz" + d), c("hidden", d)]
                        , f = j(e, function(c) {
                        return a[c.property] !== b ? {
                            isHidden: function() {
                                return !!a[c.property] || !1
                            },
                            onVisibilityChange: function(b) {
                                return a.addEventListener(c.event, b, !1),
                                    function() {
                                        a.removeEventListener(c.event, b, !1)
                                    }
                            }
                        } : void 0
                    });
                    return f || {
                        isHidden: function() {
                            return !1
                        },
                        onVisibilityChange: function() {
                            return q
                        }
                    }
                }((b || a).document)
            }
                , G = function(a) {
                function b(a) {
                    this._cache = {},
                        this._onAnyCache = [],
                        this._config = f(a, {
                            async: !1,
                            anyTopicName: "*"
                        })
                }
                var c = function(a, b) {
                    j(a, function(a) {
                        a(b)
                    })
                };
                return b.prototype.on = function(b, c) {
                    if (!o(c))
                        return q;
                    var e = function(b) {
                        return c.apply(a, b || [])
                    }
                        , f = this._config.async ? d(e) : e
                        , g = function(a, b, c) {
                        return function() {
                            var c = b.indexOf(a);
                            return c > -1 ? (b.splice(c, 1),
                                !0) : !1
                        }
                    };
                    return b === this._config.anyTopicName ? (this._onAnyCache.push(f),
                        g(f, this._onAnyCache, "*")) : (this._cache[b] || (this._cache[b] = []),
                        this._cache[b].push(f),
                        g(f, this._cache[b], b))
                }
                    ,
                    b.prototype.publish = function(a, b) {
                        var e = (this._cache[a] || []).concat(a === this._config.anyTopicName ? [] : this._onAnyCache)
                            , f = !!this._config.async
                            , g = f ? d(c) : function(a, b) {
                                return c(a, b),
                                    q
                            }
                        ;
                        return g(e, b || [])
                    }
                    ,
                    b
            }();
            C.prototype.state = function() {
                var a = j(this._config.visibilityHooks, function(a) {
                    return a(this._element) ? void 0 : C.VisState.hidden(0)
                }, this);
                return a || function(a, b, c) {
                    var d = a._round(c.percentageHook(b, c.referenceWindow));
                    return d <= c.hidden ? C.VisState.hidden(d) : d >= c.fullyvisible ? C.VisState.fullyvisible(d) : C.VisState.visible(d)
                }(this, this._element, this._config)
            }
                ,
                C.prototype.percentage = function() {
                    return this.state().percentage
                }
                ,
                C.prototype.element = function() {
                    return this._element
                }
                ,
                C.prototype.referenceWindow = function() {
                    return this._config.referenceWindow
                }
                ,
                C.prototype.isFullyVisible = function() {
                    return this.state().fullyvisible
                }
                ,
                C.prototype.isVisible = function() {
                    return this.state().visible
                }
                ,
                C.prototype.isHidden = function() {
                    return this.state().hidden
                }
                ,
                C.fn = C.prototype,
                C.of = function(a, b) {
                    return new C(a,b)
                }
            ;
            var H = {
                HIDDEN: [0, "hidden"],
                VISIBLE: [1, "visible"],
                FULLY_VISIBLE: [2, "fullyvisible"]
            };
            return C.VisState = function() {
                function a(a, b, c) {
                    return c && delete c.previous,
                        {
                            code: a[0],
                            state: a[1],
                            percentage: b,
                            previous: c || {},
                            fullyvisible: a[0] === H.FULLY_VISIBLE[0],
                            visible: a[0] === H.VISIBLE[0] || a[0] === H.FULLY_VISIBLE[0],
                            hidden: a[0] === H.HIDDEN[0]
                        }
                }
                return {
                    hidden: function(b, c) {
                        return a(H.HIDDEN, b, c)
                    },
                    visible: function(b, c) {
                        return a(H.VISIBLE, b, c)
                    },
                    fullyvisible: function(b, c) {
                        return a(H.FULLY_VISIBLE, b, c)
                    }
                }
            }(),
                E.prototype.visobj = function() {
                    return this._visobj
                }
                ,
                E.prototype.publish = function(a, b) {
                    var c = this._events.indexOf(a) >= 0;
                    if (c)
                        throw new Error('Cannot publish internal event "' + a + '" from external scope.');
                    return this._pubsub.publish(a, b)
                }
                ,
                E.prototype.state = function() {
                    return this._state
                }
                ,
                E.prototype.start = function(a) {
                    if (this._started)
                        return this;
                    var b = f(a, {
                        async: !1
                    });
                    return this._cancelAsyncStart && this._cancelAsyncStart(),
                        b.async ? this.startAsync() : (this._started = !0,
                            this.update(),
                            this._pubsub.publish("start", [this]),
                            this._strategy.start(this),
                            this)
                }
                ,
                E.prototype.startAsync = function(a) {
                    this._cancelAsyncStart && this._cancelAsyncStart();
                    var b = this
                        , c = g(function() {
                        b.start(i(f(a, {}), {
                            async: !1
                        }))
                    });
                    return this._cancelAsyncStart = function() {
                        c(),
                            b._cancelAsyncStart = null
                    }
                        ,
                        this
                }
                ,
                E.prototype.stop = function() {
                    this._cancelAsyncStart && this._cancelAsyncStart(),
                    this._started && (this._strategy.stop(this),
                        this._pubsub.publish("stop", [this])),
                        this._started = !1
                }
                ,
                E.prototype.update = function() {
                    this._started && (this._state = D(this._visobj, this._state),
                        this._pubsub.publish("update", [this]))
                }
                ,
                E.prototype.on = function(a, b) {
                    return this._pubsub.on(a, b)
                }
                ,
                E.Builder = function() {
                    var a = function(a, b) {
                        var c = null
                            , d = a.strategy === !1
                            , e = !d && (a.strategy || b.length > 0);
                        if (e) {
                            var f = !!a.strategy
                                , g = m(a.strategy)
                                , h = f ? g ? a.strategy : [a.strategy] : [];
                            c = h.concat(b)
                        } else
                            c = d ? [] : a.strategy;
                        return c
                    };
                    return function(b) {
                        var c = {}
                            , d = []
                            , e = []
                            , f = !1
                            , g = null;
                        return {
                            set: function(a, b) {
                                return c[a] = b,
                                    this
                            },
                            strategy: function(a) {
                                return d.push(a),
                                    this
                            },
                            on: function(a, b) {
                                return e.push([a, b]),
                                    this
                            },
                            build: function(h) {
                                var i = function() {
                                    var h = a(c, d);
                                    c.strategy = h;
                                    var i = b.monitor(c);
                                    return j(e, function(a) {
                                        i.on(a[0], a[1])
                                    }),
                                        f = !0,
                                        g = i
                                }
                                    , k = f ? g : i();
                                return o(h) ? h(k) : k
                            }
                        }
                    }
                }(),
                E.Strategy = function() {}
                ,
                E.Strategy.prototype.init = q,
                E.Strategy.prototype.start = q,
                E.Strategy.prototype.stop = q,
                E.Strategy.CompositeStrategy = function(a) {
                    this._strategies = m(a) ? a : [a]
                }
                ,
                E.Strategy.CompositeStrategy.prototype = Object.create(E.Strategy.prototype),
                E.Strategy.CompositeStrategy.prototype.init = function(a) {
                    j(this._strategies, function(b) {
                        o(b.init) && b.init(a)
                    })
                }
                ,
                E.Strategy.CompositeStrategy.prototype.start = function(a) {
                    j(this._strategies, function(b) {
                        o(b.start) && b.start(a)
                    })
                }
                ,
                E.Strategy.CompositeStrategy.prototype.stop = function(a) {
                    j(this._strategies, function(b) {
                        o(b.stop) && b.stop(a)
                    })
                }
                ,
                E.Strategy.PollingStrategy = function(a) {
                    this._config = f(a, {
                        interval: 1e3
                    }),
                        this._started = !1
                }
                ,
                E.Strategy.PollingStrategy.prototype = Object.create(E.Strategy.prototype),
                E.Strategy.PollingStrategy.prototype.start = function(a) {
                    return this._started || (this._clearInterval = function(b) {
                        var c = setInterval(function() {
                            a.update()
                        }, b);
                        return function() {
                            clearInterval(c)
                        }
                    }(this._config.interval),
                        this._started = !0),
                        this._started
                }
                ,
                E.Strategy.PollingStrategy.prototype.stop = function() {
                    return this._started ? (this._clearInterval(),
                        this._started = !1,
                        !0) : !1
                }
                ,
                E.Strategy.EventStrategy = function(a) {
                    this._config = f(a, {
                        throttle: 50
                    }),
                    this._config.debounce > 0 && (this._config.throttle = +this._config.debounce),
                        this._started = !1
                }
                ,
                E.Strategy.EventStrategy.prototype = Object.create(E.Strategy.prototype),
                E.Strategy.EventStrategy.prototype.start = function(a) {
                    return this._started || (this._removeEventListeners = function(b) {
                        var c = a.visobj().referenceWindow()
                            , d = F(c)
                            , e = d.onVisibilityChange(b);
                        return c.addEventListener("scroll", b, !1),
                            c.addEventListener("resize", b, !1),
                            c.addEventListener("touchmove", b, !1),
                            function() {
                                c.removeEventListener("touchmove", b, !1),
                                    c.removeEventListener("resize", b, !1),
                                    c.removeEventListener("scroll", b, !1),
                                    e()
                            }
                    }(t(function() {
                        a.update()
                    }, this._config.throttle)),
                        this._started = !0),
                        this._started
                }
                ,
                E.Strategy.EventStrategy.prototype.stop = function() {
                    return this._started ? (this._removeEventListeners(),
                        this._started = !1,
                        !0) : !1
                }
                ,
                C.VisMon = E,
                C.PubSub = G,
                C.fn.monitor = function(a) {
                    return new E(this,a)
                }
                ,
                C.Utils = {
                    async: d,
                    debounce: e,
                    defaults: f,
                    defer: g,
                    extend: i,
                    forEach: j,
                    fireIf: h,
                    identity: k,
                    isArray: m,
                    isDefined: l,
                    isElement: n,
                    isFunction: o,
                    isObject: p,
                    isPageVisible: B,
                    isVisibleByStyling: y,
                    noop: q,
                    now: r,
                    once: s,
                    throttle: t,
                    percentage: A,
                    VisibilityApi: F(),
                    createVisibilityApi: F,
                    _viewport: u,
                    _isInViewport: z,
                    _isDisplayed: x,
                    _computedStyle: v,
                    _styleProperty: w
                },
                C
        });
        ;(function() {
                var VAST_PLAYER_SCRIPT = "<!doctype html><html><head><title>Google IMA Caroda Ad Loader</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif}.player{width:100%;height:100%;background:#111}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0;background:#000}.caroda-ad-container>div:not(.progress-bar):not(.muted-button):not(.thumbnail):not(.fullscreen-button){position:absolute!important;top:0!important;left:0!important;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div>iframe,.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px);height:calc(100% + .5px)}.caroda-ad-container.companion>video{pointer-events:none}.caroda-ad-container>div{z-index:1}.caroda-ad-container>div.companion-container{background:#000;pointer-events:none;opacity:.99}.caroda-ad-container>div.companion-container .companion{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.caroda-ad-container>div.companion-container .fake-skip-button,.caroda-ad-container>div.companion-container .fake-skip-counter{position:absolute;right:0;z-index:100000;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.4);border-right:0;pointer-events:none;font-size:18px;bottom:37px;text-align:center;padding:8px;min-width:88px;color:#ccc}@media screen and (min-width:800px){.caroda-ad-container>div.companion-container .fake-skip-button,.caroda-ad-container>div.companion-container .fake-skip-counter{padding:10px;min-width:196px}}.caroda-ad-container>div.companion-container .fake-skip-counter{background:#000;font-size:10px;border:1px solid #000}.caroda-ad-container.lang-cs>div.companion-container .fake-skip-button,.caroda-ad-container.lang-cs>div.companion-container .fake-skip-counter{min-width:169px}@media screen and (min-width:800px){.caroda-ad-container.lang-cs>div.companion-container .fake-skip-button,.caroda-ad-container.lang-cs>div.companion-container .fake-skip-counter{min-width:196px}}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e905\"}.caroda-ad-container.outstream>div.muted-button{top:7px;right:0}.caroda-ad-container.mobile.outstream>div.muted-button{top:25px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container:not(.muted)>div.muted-button:before{content:\"\\e906\"}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:\"\";background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.caroda-ad-container.fullscreen>.fullscreen-button{width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container.fullscreen>.fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e902\"}.caroda-ad-container.instream.fullscreen>div.muted-button{right:40px}@media (max-width:455px){.caroda-ad-container.instream.skippable>div.muted-button{transition:bottom .3s;bottom:60px}.caroda-ad-container.instream.skippable>.fullscreen-button{transition:bottom .3s;bottom:60px}}lima-video[src*=\"teads.tv\"],video[src*=\"teads.tv\"]{height:auto!important}</style></head><body><div class=\"player\"></div><script src=\"https://imasdk.googleapis.com/js/sdkloader/ima3.js\"></script><script>function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var o=n[i];o.__calling||(o.__calling=!0,o.call(this,t),o.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var i=t.bind(this);return n&&!1===n.init||i(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&i(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},i=!1;for(var o in e)this._differs(e[o],t[o])&&(n[o]=i=!0);i&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var i=e.duration-e.currentTime;if(i<0)return\"\";var o=Math.floor(i/60),r=Math.floor(i)%60;return o+\":\"+(r>9?\"\":\"0\")+r}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function data(){return{time:Date.now(),progress:{currentTime:0,duration:0,skipTimeLeft:0,isSkippable:!1},isMobile:!1,isMuted:!0,isLoading:!0,isFullscreen:!1,companionContent:null,companionWidth:0,companionHeight:0,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,i,o,r,a,s,c,u=!t.hideCarodaUI&&create_if_block(e,t),l=t.companionContent&&create_if_block_1(e,t),d=t.thumbnailUrl&&t.instream&&create_if_block_5(e,t),p=!t.hideCarodaUI&&create_if_block_6(e,t);return{c:function(){n=createElement(\"div\"),i=createElement(\"canvas\"),o=createText(\"\\n    \"),u&&u.c(),r=createText(\"\\n    \"),l&&l.c(),a=createText(\"\\n    \"),d&&d.c(),s=createText(\"\\n    \"),p&&p.c(),this.h()},h:function(){i.className=\"caroda-canvas\",n.className=c=\"caroda-ad-container\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+t.language+\"\\n    \"+(t.companionContent?\"companion\":\"\")+\"\\n    \"+(t.skippable?\"skippable\":\"\")},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(o,n),u&&u.m(n,null),appendNode(r,n),l&&l.m(n,null),appendNode(a,n),d&&d.m(n,null),appendNode(s,n),p&&p.m(n,null)},p:function(t,i){i.hideCarodaUI?u&&(u.u(),u.d(),u=null):u||((u=create_if_block(e,i)).c(),u.m(n,r)),i.companionContent?l?l.p(t,i):((l=create_if_block_1(e,i)).c(),l.m(n,a)):l&&(l.u(),l.d(),l=null),i.thumbnailUrl&&i.instream?d?d.p(t,i):((d=create_if_block_5(e,i)).c(),d.m(n,s)):d&&(d.u(),d.d(),d=null),i.hideCarodaUI?p&&(p.u(),p.d(),p=null):p?p.p(t,i):((p=create_if_block_6(e,i)).c(),p.m(n,null)),(t.isMuted||t.isMobile||t.instream||t.isFullscreen||t.language||t.companionContent||t.skippable)&&c!==(c=\"caroda-ad-container\\n    \"+(i.isMuted?\"muted\":\"\")+\"\\n    \"+(i.isMobile?\"mobile\":\"\")+\"\\n    \"+(i.instream?\"instream\":\"outstream\")+\"\\n    \"+(i.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+i.language+\"\\n    \"+(i.companionContent?\"companion\":\"\")+\"\\n    \"+(i.skippable?\"skippable\":\"\"))&&(n.className=c)},u:function(){detachNode(n),u&&u.u(),l&&l.u(),d&&d.u(),p&&p.u()},d:function(){u&&u.d(),l&&l.d(),d&&d.d(),p&&p.d()}}}function create_if_block(e,t){var n;function i(t){e.fire(\"toggle-audio\")}return{c:function(){n=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",i),n.className=\"muted-button\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function create_if_block_3(e,t){var n,i,o=t.strings[t.language].skip;return{c:function(){n=createElement(\"div\"),i=createText(o),this.h()},h:function(){n.className=\"fake-skip-button\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].skip)&&(i.data=o)},u:function(){detachNode(n)},d:noop}}function create_if_block_4(e,t){var n,i;return{c:function(){n=createElement(\"div\"),i=createText(t.skipCounterLabel),this.h()},h:function(){n.className=\"fake-skip-counter\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){e.skipCounterLabel&&(i.data=t.skipCounterLabel)},u:function(){detachNode(n)},d:noop}}function create_if_block_2(e,t){var n,i,o=!t.progress.skipTimeLeft&&create_if_block_3(e,t),r=t.progress.skipTimeLeft&&create_if_block_4(e,t);return{c:function(){o&&o.c(),n=createText(\"\\n            \"),r&&r.c(),i=createComment()},m:function(e,t){o&&o.m(e,t),insertNode(n,e,t),r&&r.m(e,t),insertNode(i,e,t)},p:function(t,a){a.progress.skipTimeLeft?o&&(o.u(),o.d(),o=null):o?o.p(t,a):((o=create_if_block_3(e,a)).c(),o.m(n.parentNode,n)),a.progress.skipTimeLeft?r?r.p(t,a):((r=create_if_block_4(e,a)).c(),r.m(i.parentNode,i)):r&&(r.u(),r.d(),r=null)},u:function(){o&&o.u(),detachNode(n),r&&r.u(),detachNode(i)},d:function(){o&&o.d(),r&&r.d()}}}function create_if_block_1(e,t){var n,i,o,r=t.progress.isSkippable&&create_if_block_2(e,t);return{c:function(){n=createElement(\"div\"),i=createElement(\"div\"),o=createText(\"\\n        \"),r&&r.c(),this.h()},h:function(){i.className=\"companion\",setStyle(i,\"width\",t.companionWidth+\"px\"),setStyle(i,\"height\",t.companionHeight+\"px\"),n.className=\"companion-container\"},m:function(e,a){insertNode(n,e,a),appendNode(i,n),i.innerHTML=t.companionContent,appendNode(o,n),r&&r.m(n,null)},p:function(t,o){t.companionContent&&(i.innerHTML=o.companionContent),t.companionWidth&&setStyle(i,\"width\",o.companionWidth+\"px\"),t.companionHeight&&setStyle(i,\"height\",o.companionHeight+\"px\"),o.progress.isSkippable?r?r.p(t,o):((r=create_if_block_2(e,o)).c(),r.m(n,null)):r&&(r.u(),r.d(),r=null)},u:function(){i.innerHTML=\"\",detachNode(n),r&&r.u()},d:function(){r&&r.d()}}}function create_if_block_5(e,t){var n,i,o,r=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),i=createElement(\"span\"),o=createText(r),this.h()},h:function(){i.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(o,i)},p:function(e,t){(e.strings||e.language)&&r!==(r=t.strings[t.language].instreamContinue)&&(o.data=r),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_7(e,t){var n;function i(t){e.fire(\"unfullscreen\")}return{c:function(){n=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",i),n.className=\"fullscreen-button\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function create_if_block_6(e,t){var n,i,o,r,a,s,c=t.isFullscreen&&create_if_block_7(e,t);return{c:function(){c&&c.c(),n=createText(\"\\n        \"),i=createElement(\"span\"),o=createText(t.progressLabel),r=createText(\"\\n        \"),a=createElement(\"div\"),s=createElement(\"div\"),this.h()},h:function(){i.className=\"label\",s.className=\"progress\",setStyle(s,\"width\",t.progressWidth),a.className=\"progress-bar\"},m:function(e,t){c&&c.m(e,t),insertNode(n,e,t),insertNode(i,e,t),appendNode(o,i),insertNode(r,e,t),insertNode(a,e,t),appendNode(s,a)},p:function(t,i){i.isFullscreen?c||((c=create_if_block_7(e,i)).c(),c.m(n.parentNode,n)):c&&(c.u(),c.d(),c=null),t.progressLabel&&(o.data=i.progressLabel),t.progressWidth&&setStyle(s,\"width\",i.progressWidth)},u:function(){c&&c.u(),detachNode(n),detachNode(i),detachNode(r),detachNode(a)},d:function(){c&&c.d()}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMuted:1,isMobile:1,instream:1,isFullscreen:1,companionContent:1,skippable:1,hideCarodaUI:1,companionWidth:1,companionHeight:1,skipCounterLabel:1,thumbnailUrl:1,progressLabel:1,progressWidth:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0))};\n;var bundle=function(e){\"use strict\";function t(e,t){if(!e)throw new Error(t)}var n=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},A=function(){function e(e,t){for(var n=0;n<t.length;n++){var A=t[n];A.enumerable=A.enumerable||!1,A.configurable=!0,\"value\"in A&&(A.writable=!0),Object.defineProperty(e,A.key,A)}}return function(t,n,A){return n&&e(t.prototype,n),A&&e(t,A),t}}(),a={MAX_REDIRECTS:10,PLAYER_NAME:\"caroda-ima\",PLAYER_VERSION:\"1.0.0\"},i={STARTED:[\"impression\",\"start\",\"creative_view\"],SKIPPED:[\"skip\"],CLICK:[\"click_tracking\"],VOLUME_MUTED:[\"mute\"],VOLUME_CHANGED:[\"unmute\"],RESUMED:[\"resume\"],PAUSED:[\"pause\"],COMPLETE:[\"complete\"],FIRST_QUARTILE:[\"first_quartile\"],MIDPOINT:[\"midpoint\"],THIRD_QUARTILE:[\"third_quartile\"]},r=function(){function e(A){var i=this;n(this,e),t(A.vast,\"opts.vast is mandatory\"),t(A.containerElement,\"opts.containerElement is mandatory\"),A.language=A.language||\"en\",google.ima.settings.setLocale(A.language.toUpperCase()),this.isPlaying=!0,this.startMuted=!1!==A.startMuted,this.lastUnmutedVolume=A.volume||1,this.pendingActions=[],this.eventHandlers={},this.maxRemainingTime=0,this.adDisplayContainer=new google.ima.AdDisplayContainer(A.containerElement),this.adsLoader=new google.ima.AdsLoader(this.adDisplayContainer),this.adsLoader.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),this.adsLoader.getSettings().setLocale(A.language.toUpperCase()),this.adsLoader.getSettings().setNumRedirects(a.MAX_REDIRECTS),this.adsLoader.getSettings().setPlayerType(a.PLAYER_NAME),this.adsLoader.getSettings().setPlayerVersion(a.PLAYER_VERSION),this.adsLoader.getSettings().setAutoPlayAdBreaks(!0),this.adsLoader.getSettings().setVpaidAllowed(!0),this.adsRequest=new google.ima.AdsRequest,this.adsRequest.forceNonLinearFullSlot=!0;var r=/<VASTAdTagURI><!\\[CDATA\\[([^\\]]+doubleclick[^\\]]+)/i;A.vast.match(/<AdSystem>Caroda<\\/AdSystem>/i)&&A.vast.match(r)?this.adsRequest.adTagUrl=A.vast.match(r)[1]:this.adsRequest.adsResponse=A.vast,this.adsRequest.linearAdSlotWidth=A.containerElement.getBoundingClientRect().width,this.adsRequest.linearAdSlotHeight=Math.ceil(9*this.adsRequest.linearAdSlotWidth/16),this.adsRequest.nonLinearAdSlotWidth=this.adsRequest.linearAdSlotWidth,this.adsRequest.nonLinearAdSlotHeight=Math.ceil(this.adsRequest.linearAdSlotHeight/3),this.adsLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return i.initAdsManager(e)},!1),this.adsLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\"),!1),this.adsLoader.requestAds(this.adsRequest),this.progressInterval=setInterval(function(){if(i.currentAd&&i.adsManager){var e=i.adsManager.getRemainingTime(),t=i.currentAd.getDuration();i.maxRemainingTime=Math.max(i.maxRemainingTime,e),t=Math.max(t,i.maxRemainingTime);var n=Math.max(t-e,0),A=Math.max(0,i.currentAd.getSkipTimeOffset()-n),a=i.currentAd.isSkippable();i.handleEventAs(\"progress\")({currentTime:n,duration:t,skipTimeLeft:A,isSkippable:a}),i.isPlaying&&i.adsManager.resume()}else i.handleEventAs(\"progress\")({currentTime:0,duration:0,skipTimeLeft:0,isSkippable:!1})},500)}return A(e,[{key:\"initAdsManager\",value:function(e){var t=this;try{this.addEventListener(\"adError\",function(){return t.destroy()});var n=new google.ima.AdsRenderingSettings;n.useStyledLinearAds=!1,n.uiElements=[],n.enablePreloading=!0,/Google Inc/.test(window.navigator.vendor)&&(n.bitrate=this.getBitrateKbps()),this.adsManager=e.getAdsManager(document.createElement(\"video\"),n),this.adDisplayContainer.initialize(),this.adsManager.init(this.adsRequest.linearAdSlotWidth,this.adsRequest.linearAdSlotHeight,google.ima.ViewMode.NORMAL),this.adsManager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.handleEventAs(\"adError\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.STARTED,function(e){t.initAd(e),t.handleEventAs(\"adStarted\")(t.currentAd),t.handleEventAs(\"adPlaying\")()}),this.adsManager.addEventListener(google.ima.AdEvent.Type.PAUSED,this.handleEventAs(\"adPaused\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.RESUMED,this.handleEventAs(\"adPlaying\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.LOADED,function(e){return setTimeout(function(){return t.handleEventAs(\"adCanPlay\")(e)},300)}),this.adsManager.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.handleEventAs(\"adEnded\")),this.adsManager.addEventListener(google.ima.AdEvent.Type.VOLUME_CHANGED,function(){t.handleEventAs(\"volumeChanged\")(t.adsManager.getVolume())}),this.registerTracking(),this.mute()}catch(e){this.handleEventAs(\"adError\")(e)}}},{key:\"unfreeze\",value:function(){this.adsManager&&this.adsManager.start(),this.mute(),this.startMuted||this.unmute()}},{key:\"initAd\",value:function(e){this.currentAd=e.getAd()}},{key:\"imageCompanionAd\",value:function(){if(this.currentAd)return Object.values(this.currentAd).filter(function(e){return e.mediaUrl&&e.mediaUrl.match(/\\.mp3$/)&&e.companions}).map(function(e){return e.companions.find(function(e){return\"Image\"===e.contentType})}).find(function(e){return!!e})}},{key:\"registerTracking\",value:function(){t(this.adsManager,\"adsManager not initialized\"),this.hasMuted=!1,this.hasUnmuted=!1;var e=!0,n=!1,A=void 0;try{for(var a,r=Object.keys(i)[Symbol.iterator]();!(e=(a=r.next()).done);e=!0){var s=a.value,o=google.ima.AdEvent.Type[s],d=i[s],u=!0,l=!1,h=void 0;try{for(var m,c=d[Symbol.iterator]();!(u=(m=c.next()).done);u=!0){var v=m.value;this.adsManager.addEventListener(o,this.registerTrackingEventAs(v))}}catch(e){l=!0,h=e}finally{try{!u&&c.return&&c.return()}finally{if(l)throw h}}}}catch(e){n=!0,A=e}finally{try{!e&&r.return&&r.return()}finally{if(n)throw A}}}},{key:\"playAds\",value:function(){this.adsManager&&(this.hasStarted?this.adsManager.resume():(this.unfreeze(),this.hasStarted=!0),this.isPlaying=!0)}},{key:\"pauseAds\",value:function(){this.adsManager&&this.currentAd&&(this.adsManager.pause(),this.isPlaying=!1)}},{key:\"mute\",value:function(){this.setVolume(0)}},{key:\"unmute\",value:function(){this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(e){this.adsManager&&this.adsManager.setVolume(e),this.lastUnmutedVolume=e>0?e:this.lastUnmutedVolume}},{key:\"getVolume\",value:function(){if(this.adsManager)return this.adsManager.getVolume()}},{key:\"addEventListener\",value:function(e,t){this.eventHandlers[e]=this.eventHandlers[e]||[],this.eventHandlers[e].push(t)}},{key:\"handleEventAs\",value:function(e){var t=this;return function(n){(t.eventHandlers[e]||[]).forEach(function(e){return e(n)})}}},{key:\"registerTrackingEventAs\",value:function(e){var t=this;return function(){if(\"unmute\"===e){if(!t.adsManager.getVolume()||t.hasUnmuted)return;t.hasUnmuted=!0}if(\"mute\"===e){if(t.hasMuted)return;t.hasMuted=!0}t.handleEventAs(\"tracking\")({eventName:e})}}},{key:\"destroy\",value:function(){this.adsManager&&this.adsManager.destroy(),clearInterval(this.progressInterval)}},{key:\"getBitrateKbps\",value:function(){var e=this.adsRequest.linearAdSlotWidth*this.adsRequest.linearAdSlotHeight*21*.1,t=Math.floor(e/1e3);return Math.min(t,2e3)}}]),e}(),s={type:\"video/mp4\",base64:\"AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAAu1tZGF0AAACrQYF//+p3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE1NSByMjkwMSA3ZDBmZjIyIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxOCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTMgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MzoweDExMyBtZT1oZXggc3VibWU9NyBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0xIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MSA4eDhkY3Q9MSBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0tMiB0aHJlYWRzPTMgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTIga2V5aW50PTI1MCBrZXlpbnRfbWluPTEgc2NlbmVjdXQ9NDAgaW50cmFfcmVmcmVzaD0wIHJjX2xvb2thaGVhZD00MCByYz1jcmYgbWJ0cmVlPTEgY3JmPTI4LjAgcWNvbXA9MC42MCBxcG1pbj0wIHFwbWF4PTY5IHFwc3RlcD00IGlwX3JhdGlvPTEuNDAgYXE9MToxLjAwAIAAAAAwZYiEAD//8m+P5OXfBeLGOfKE3xkODvFZuBflHv/+VwJIta6cbpIo4ABLoKBaYTkTAAAC7m1vb3YAAABsbXZoZAAAAAAAAAAAAAAAAAAAA+gAAAPoAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAIYdHJhawAAAFx0a2hkAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAPoAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAACgAAAAWgAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAAD6AAAAAAAAQAAAAABkG1kaWEAAAAgbWRoZAAAAAAAAAAAAAAAAAAAQAAAAEAAVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAATttaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAD7c3RibAAAAJdzdHNkAAAAAAAAAAEAAACHYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAACgAFoASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADFhdmNDAWQACv/hABhnZAAKrNlCjfkhAAADAAEAAAMAAg8SJZYBAAZo6+JLIsAAAAAYc3R0cwAAAAAAAAABAAAAAQAAQAAAAAAcc3RzYwAAAAAAAAABAAAAAQAAAAEAAAABAAAAFHN0c3oAAAAAAAAC5QAAAAEAAAAUc3RjbwAAAAAAAAABAAAAMAAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTguMTIuMTAw\"},o=function(){function e(){n(this,e),this.videoElement=document.createElement(\"video\"),this.videoElement.setAttribute(\"src\",\"data:\"+s.type+\";base64,\"+s.base64),this.videoElement.setAttribute(\"playsinline\",!0)}return A(e,[{key:\"getAutoplayStatus\",value:function(){var e=this,t=this.videoElement.play();return t?t.then(function(){return{autoplayAllowed:!0,autoplayRequiresMuted:!1}}).catch(function(){return e.onAutoplayWithSoundFailed()}).then(function(t){return e.videoElement.pause(),t}):Promise.resolve({autoplayAllowed:!1})}},{key:\"onAutoplayWithSoundFailed\",value:function(){this.videoElement.volume=0,this.videoElement.muted=!0;var e=this.videoElement.play();return e?e.then(function(){return{autoplayAllowed:!0,autoplayRequiresMuted:!0}}).catch(function(){return{autoplayAllowed:!1}}):Promise.resolve({autoplayAllowed:!1})}}]),e}();var d=-1!==navigator.userAgent.toLowerCase().indexOf(\"safari/\");var u=function(){function e(t){var A=this;n(this,e),this.startTime=Date.now();var a=t.language&&t.language.toLowerCase()||\"en\",i=t.instream||!1,r=t.thumbnailUrl;this.language=a,this.instream=i,this.vast=t.vast,this.target=t.target,this.component=new Player({target:t.target,data:this.data}),this.startMuted=t.startMuted,this.volume=t.startMuted?0:t.volume,this.eventHandlers=[],this.hadImpression=!1,this.adEnded=!1,this.adError=!1,window.$=this.component,this.id=t.id,this.$=this.component,this.$.set({language:a,instream:i,thumbnailUrl:r,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideCarodaUI:!!t.hideCarodaUI,isMuted:this.isMuted()}),this.$.on(\"setVolume\",function(e){return A.setVolume(e)}),this.$.on(\"toggle-audio\",function(){return A.$.get(\"isMuted\")?A.unmute():A.mute()}),this.$.on(\"unfullscreen\",function(){if(A.event({type:\"unfullscreen\"}),!d){window.parent.document.querySelector(\".fs-\"+A.id);document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()}}),this.initializeIma(),this.listenToChromeHeavyAdIntervention()}return A(e,null,[{key:\"autoplayRequiresMuted\",value:function(){return(new o).getAutoplayStatus().then(function(e){var t=e.autoplayAllowed,n=e.autoplayRequiresMuted;if(!t)throw new Error(\"Autoplay is not allowed!\");return n})}}]),A(e,[{key:\"initializeIma\",value:function(){var e=this,t=0;this.ima=new r({vast:this.vast,language:this.language,containerElement:document.querySelector(\".caroda-ad-container\"),startMuted:this.isMuted(),isOutstream:!this.instream,volume:this.volume}),this.ima.addEventListener(\"tracking\",function(t){var n=t.eventName;e.hadImpression=e.hadImpression||\"impression\"===n}),this.ima.addEventListener(\"adCanPlay\",function(){var t=e.ima.adsManager.getCurrentAd();e.event({type:\"adCanPlay\",currentAd:t})}),this.ima.addEventListener(\"adStarted\",function(t){e.$.set({skippable:t.isSkippable()}),e.prepareRenderLastFrame()}),this.ima.addEventListener(\"adPaused\",function(){return e.notifyPlayStatus(!1)}),this.ima.addEventListener(\"adPlaying\",function(){return e.notifyPlayStatus(!0)}),this.ima.addEventListener(\"tracking\",function(t){return e.event({type:\"tracking\",eventName:t.eventName})}),this.ima.addEventListener(\"progress\",function(n){n.currentTime-=n.duration-e.ima.maxRemainingTime,n.duration=e.ima.maxRemainingTime,n.currentTime<t&&e.end(),t=n.currentTime,e.$.set({progress:n}),e.event({type:\"progress\",duration:n.duration,currentTime:n.currentTime});var A=e.ima.getVolume();void 0!==A&&A!==e.volume&&(e.event({type:\"volumeChanged\",volume:A}),e.$.set({isMuted:0===A}),e.volume=A)}),this.ima.addEventListener(\"adError\",function(t){return e.errorEvent(t.message||t.getError&&t.getError()||t)}),this.ima.addEventListener(\"adEnded\",function(){e.hadImpression?e.end():e.errorEvent(\"no impression\")}),this.ima.addEventListener(\"volumeChanged\",function(t){e.event({type:\"volumeChanged\",volume:t}),e.volume=t}),this.registerMessageHandler(),this.companionInterval=setInterval(function(){var t=e.ima.imageCompanionAd();t&&(e.log(t),e.$.set({companionHeight:t.size.height,companionWidth:t.size.width,companionContent:t.content}),clearInterval(e.companionInterval))},500),this.muteInterval=setInterval(function(){e.isMuted()?e.mute():e.unmute()},500),this.event({type:\"volumeChanged\",volume:this.volume}),this.$.set({isMuted:this.isMuted()})}},{key:\"playingVideoElement\",value:function(){return this._adVideoElement||(this._adVideoElement=[].slice.call(document.querySelectorAll(\"video\")).find(function(e){return e.currentTime>0}))}},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"errorEvent\",value:function(e){this.adError=!0,this.event({type:\"adError\",error:e})}},{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var n=t.data.match(/^([^:]+):\\/\\/(.*)$/),A=JSON.parse(n[2]);e.eventHandlers.filter(function(e){return e.type===A.type}).forEach(function(e){return e.handler(A)})}catch(t){e.log(\"registerMessageHandler\",t)}})}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"playAd\",value:function(){this.ima.playAds()}},{key:\"pauseAd\",value:function(){this.ima.pauseAds()}},{key:\"mute\",value:function(){this.ima.mute(),this.$.set({isMuted:!0})}},{key:\"unmute\",value:function(){this.ima.unmute(),this.$.set({isMuted:!1})}},{key:\"setVolume\",value:function(e){this.ima.setVolume(e),this.$.set({isMuted:0===e})}},{key:\"log\",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+t.map(function(e){if(\"string\"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e.toString()}}).join(\" :: \")})}},{key:\"end\",value:function(){this.adEnded=!0,this.companionInterval&&clearInterval(this.companionInterval),this.muteInterval&&clearInterval(this.muteInterval),this.event({type:\"adEnded\"}),this.ima&&this.ima.destroy()}},{key:\"prepareRenderLastFrame\",value:function(){var e=this,t=this.playingVideoElement();if(!t)return setTimeout(function(){return e.prepareRenderLastFrame()},250);var n=document.querySelector(\".caroda-canvas\");n.width=t.offsetWidth,n.height=t.offsetHeight;var A=n.getContext(\"2d\");t.addEventListener(\"ended\",function(){return A.drawImage(t,0,0,n.width,n.height)})}},{key:\"setFullscreen\",value:function(e){this.$.set({isFullscreen:e})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var e=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(t,n){var A=t.some(function(e){return\"intervention\"===e.type});e.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",A),A&&e.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){e.adEnded||e.adError||e.event({type:\"adError\",message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.event({type:\"adError\",message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(e){this.event({type:\"playingStatus\",isPlaying:e})}},{key:\"isMuted\",value:function(){return 0===this.volume}}]),e}();return e.AdController=u,e}({});</script><script>function initController(opts) {\n        return getStartMuted(opts).then(function(startMuted) {\n            opts.startMuted = startMuted\n            window.controller = window.controller || new bundle.AdController(opts)\n        })\n    }\n\n    function getStartMuted(opts) {\n        var startMuted = opts.startMuted !== false || opts.os === 'iOS'\n        if (startMuted) {\n            return Promise.resolve(startMuted)\n        }\n        return bundle.AdController.autoplayRequiresMuted()\n    }\n\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = 'AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var css = '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n                .then(function() {\n                    window.addEventListener('message', function(evt) {\n                        if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) { return }\n                        var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n                        if (msg.type === 'visibility') {\n                            if (msg.value) {\n                                window.controller.playAd()\n                            } else {\n                                window.controller.pauseAd()\n                            }\n                        }\n                        if (msg.type === 'method') {\n                            window.controller[msg.name].apply(window.controller, msg.args)\n                        }\n                        if (msg.type === 'end') {\n                            window.controller && window.controller.end()\n                        }\n                        if (msg.type === 'fullscreen' && window.controller) {\n                            window.controller.setFullscreen(msg.value)\n                        }\n                    })\n                })\n                .catch(function(err) {\n                    window.parent.postMessage(\n                        `${opts.id}://${JSON.stringify({ type: 'log', message: err.message })}`,\n                        '*'\n                    )\n                    window.parent.postMessage(`${opts.id}://${JSON.stringify({ type: 'adEnded' })}`, '*')\n                })\n            if (!window.google) {\n                throw new Error('AdBlocker detected')\n            }\n        } catch(e) {\n            window.parent.postMessage(`${opts.id}://${JSON.stringify({\n                type: 'adError',\n                message: e.message\n            })}`, '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></html>";
                var exports = window;
                "use strict";
                function assert(e, t) {
                    if (!e)
                        throw new Error(t)
                }
                function isFullscreen() {
                    var e = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                    return !!e && (e.classList.contains("caroda-player-ima") || !!e.querySelector(".caroda-player-ima"))
                }
                function requestUnFullscreen() {
                    document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen()
                }
                ;var classCallCheck = function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                    , createClass = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var i = t[n];
                                i.enumerable = i.enumerable || !1,
                                    i.configurable = !0,
                                "value"in i && (i.writable = !0),
                                    Object.defineProperty(e, i.key, i)
                            }
                        }
                        return function(t, n, i) {
                            return n && e(t.prototype, n),
                            i && e(t, i),
                                t
                        }
                    }();
                function isInViewport(e) {
                    if (isFullscreen())
                        return !0;
                    var t = e.getBoundingClientRect();
                    return !(!t.width && !t.height) && (t.top >= -t.height / 2 && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) + t.height / 2 && "hidden" !== document.visibilityState)
                }
                var styleElem = document.createElement("style");
                styleElem.innerHTML = "\n    .caroda-ima-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",
                    document.head.appendChild(styleElem);
                var PlayerEvents = ["tracking", "log", "adError", "adCanPlay", "adEnded", "unfullscreen", "volumeChanged", "heavyAd", "progress", "playingStatus"]
                    , VastPlayerIma = function() {
                    function e(t) {
                        var n = this;
                        classCallCheck(this, e),
                            assert(t, "opts required"),
                            assert(t.vast, "opts.vast required"),
                            assert(t.container, "opts.container required");
                        var i = t.container;
                        delete t.container,
                            this.id = t.id = "caroda-container-" + Math.floor(1e6 * Math.random()),
                            this.isFrozen = !0,
                            this.hasEnded = !1,
                            this.userAdPaused = !1,
                            this.fullscreenClassName = "fs-" + this.id,
                            this.fullScreenContainer = t.fullScreenContainer || i,
                            this.fullScreenContainer.classList.add(this.fullscreenClassName),
                            this.disablePauseWhenOutOfView = Boolean(t.disablePauseWhenOutOfView),
                            delete t.fullScreenContainer;
                        var s = document.createElement("DIV");
                        s.style.width = "100%",
                            s.style.paddingBottom = "56.25%",
                            s.style.position = "relative",
                            s.className = "caroda-player-ima";
                        var r = VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */", function() {
                            return JSON.stringify(Object.assign({}, t, {
                                os: window.carodaTargetingProfile.os
                            }))
                        })
                            , a = document.createElement("IFRAME");
                        setTimeout(function() {
                            var e = a.contentWindow.document;
                            e.open("text/html", "replace"),
                                e.write(r),
                                e.close()
                        }, 0),
                            a.setAttribute("allow", "autoplay"),
                            a.setAttribute("border", 0),
                            a.style.position = "absolute",
                            a.style.top = "0",
                            a.style.left = "0",
                            a.style.width = "100%",
                            a.style.height = "100%",
                            a.style.border = "0",
                            a.style.paddingTop = "0",
                            a.style.paddingBottom = "0",
                            a.style.paddingLeft = "0",
                            a.style.paddingRight = "0";
                        ["allowfullscreen", "webkitallowfullscreen", "mozallowfullscreen"].forEach(function(e) {
                            return a.setAttribute(e, !0)
                        }),
                            s.appendChild(a),
                            i.appendChild(s),
                            this.iframe = a,
                            this.container = s,
                            this.refreshVisibility(),
                            this.visibleInterval = setInterval(function() {
                                n.refreshVisibility(),
                                    n.refreshFullscreen()
                            }, 200),
                            this.handlers = {},
                            this.trackingUrls = {},
                            this.windowEventHandler = function(e) {
                                return n.handleWindowEvent(e)
                            }
                            ,
                            window.addEventListener("message", this.windowEventHandler),
                            this.addEventListener("adEnded", function() {
                                return n.clear()
                            }),
                            this.addEventListener("adError", function() {
                                return n.clear(!0)
                            }),
                            this.addEventListener("heavyAd", function() {
                                return console.log("CARODA :: skipped ad due to heavy ad restriction")
                            }),
                            this.addEventListener("unfullscreen", function(e) {
                                isFullscreen() && (requestUnFullscreen(),
                                    n.sendMessage({
                                        type: "fullscreen",
                                        value: !1
                                    }))
                            });
                        var l = void 0;
                        this.duration = new Promise(function(e) {
                                l = e
                            }
                        ),
                            this.currentTime = NaN,
                            this.addEventListener("progress", function(e) {
                                var t = e.duration
                                    , i = e.currentTime;
                                t && l && (l(t),
                                    l = void 0),
                                    n.currentTime = i
                            }),
                            this.playing = !1,
                            this.addEventListener("playingStatus", function(e) {
                                var t = e.isPlaying;
                                n.playing = t
                            })
                    }
                    return createClass(e, [{
                        key: "handleWindowEvent",
                        value: function(e) {
                            var t = this;
                            if ("string" == typeof e.data && 0 === e.data.indexOf(this.id)) {
                                var n = JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//, ""));
                                "tracking" === n.type && (n.trackingUrls = this.trackingUrls[n.eventName] || []),
                                "trackingEvents" === n.type && n.values.forEach(function(e) {
                                    return t.addTrackingUrl(e[0], e[1])
                                }),
                                this.handlers[n.type] && this.handlers[n.type].forEach(function(e) {
                                    return e(n)
                                })
                            }
                        }
                    }, {
                        key: "refreshFullscreen",
                        value: function() {
                            var e = isFullscreen();
                            this.sendMessage({
                                type: "fullscreen",
                                value: e
                            }),
                                e ? this.container.classList.add("caroda-ima-fullscreen") : this.container.classList.remove("caroda-ima-fullscreen")
                        }
                    }, {
                        key: "addTrackingUrl",
                        value: function(e, t) {
                            this.trackingUrls[e] = this.trackingUrls[e] || [],
                                this.trackingUrls[e].push(t)
                        }
                    }, {
                        key: "addEventListener",
                        value: function(e, t) {
                            assert(~PlayerEvents.indexOf(e), "eventName must be one of " + PlayerEvents.join(", ")),
                                this.handlers[e] = this.handlers[e] || [],
                                this.handlers[e].push(t)
                        }
                    }, {
                        key: "refreshVisibility",
                        value: function() {
                            if (!this.userAdPaused) {
                                var e = !this.isFrozen && (this.disablePauseWhenOutOfView || isInViewport(this.container));
                                this.sendMessage({
                                    type: "visibility",
                                    value: e
                                })
                            }
                        }
                    }, {
                        key: "sendMessage",
                        value: function(e) {
                            this.iframe && this.iframe.contentWindow && this.iframe.contentWindow.postMessage("caroda-ad-player://" + JSON.stringify(e), "*")
                        }
                    }, {
                        key: "freeze",
                        value: function() {
                            this.isFrozen = !0,
                                this.refreshVisibility()
                        }
                    }, {
                        key: "unfreeze",
                        value: function() {
                            this.isFrozen = !1,
                                this.refreshVisibility()
                        }
                    }, {
                        key: "mute",
                        value: function() {
                            this.sendMessage({
                                type: "method",
                                name: "mute",
                                args: []
                            })
                        }
                    }, {
                        key: "unmute",
                        value: function() {
                            this.sendMessage({
                                type: "method",
                                name: "unmute",
                                args: []
                            })
                        }
                    }, {
                        key: "setVolume",
                        value: function(e) {
                            this.sendMessage({
                                type: "method",
                                name: "setVolume",
                                args: [e]
                            })
                        }
                    }, {
                        key: "reject",
                        value: function() {
                            this.handleWindowEvent({
                                data: this.id + '://{"type":"adError","message":"creative rejected"}'
                            })
                        }
                    }, {
                        key: "clear",
                        value: function() {
                            var e = this
                                , t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                            this.hasEnded || (clearInterval(this.visibleInterval),
                                window.removeEventListener("message", this.windowEventHandler),
                                this.sendMessage({
                                    type: "end"
                                }),
                            t && (this.container.style.display = "none"),
                                this.hasEnded = !0,
                                setTimeout(function() {
                                    return e.container.parentElement.removeChild(e.container)
                                }, 1e3))
                        }
                    }, {
                        key: "getAdDuration",
                        value: function() {
                            return this.duration
                        }
                    }, {
                        key: "getAdProgress",
                        value: function() {
                            return this.currentTime
                        }
                    }, {
                        key: "userAdPlay",
                        value: function() {
                            this.userAdPaused = !1,
                                this.sendMessage({
                                    type: "method",
                                    name: "playAd",
                                    args: []
                                })
                        }
                    }, {
                        key: "userAdPause",
                        value: function() {
                            this.userAdPaused = !0,
                                this.sendMessage({
                                    type: "method",
                                    name: "pauseAd",
                                    args: []
                                })
                        }
                    }, {
                        key: "isPlaying",
                        value: function() {
                            return this.playing
                        }
                    }]),
                        e
                }();
                exports.VastPlayerIma = VastPlayerIma;
            }
        )();
        (function() {
                var VAST_PLAYER_SCRIPT = "<!doctype html><html><head><title>Vast Vpaid Caroda Ad Loader</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><meta content=\"text/html;charset=utf-8\" http-equiv=\"Content-Type\"><style>@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif;background:rgba(0,0,0,0)!important}.player{width:100%;height:100%;background:rgba(0,0,0,0)!important}*{outline:0}.caroda-ad-container{position:relative;width:100%;height:100%;padding-top:0;background:rgba(0,0,0,0)!important}.caroda-ad-container>video{position:absolute;top:0;left:0;width:calc(100% + .5px)!important;height:calc(100% + .5px)!important}.caroda-ad-container>div{z-index:1}.caroda-ad-container>div.companion-container{background:#000;pointer-events:none}.caroda-ad-container>div.companion-container .companion{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.caroda-ad-container>div.poster{position:absolute;pointer-events:none;width:100%;height:100%;left:0;top:0}.caroda-ad-container>span.label{position:absolute;left:10px;bottom:10px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:14px}.caroda-ad-container>div.muted-button{width:30px;height:25px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container>div.muted-button:before{color:#fff;font-size:24px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e905\"}.caroda-ad-container>div.skip-button{position:absolute;z-index:100000;background:rgba(0,0,0,.8);border:1px solid rgba(255,255,255,.4);font-size:18px;bottom:37px;text-align:center;padding:8px;min-width:88px;color:#ccc;cursor:pointer}.caroda-ad-container>div.skip-button:hover{background:#000;color:#eee;border:1px solid rgba(255,255,255,.8)}.caroda-ad-container>div.skip-button{right:0;border-right:0}.caroda-ad-container>div.skip-button:hover{border-right:0}.caroda-ad-container.mobile>div.skip-button{bottom:15px;padding:5px}.caroda-ad-container.outstream>div.muted-button{left:auto;top:6px;right:2px}.caroda-ad-container.outstream.hide-skip>div.muted-button{top:auto;bottom:10px}.caroda-ad-container.instream>div.muted-button{bottom:11px;right:10px;width:22px;height:17px}.caroda-ad-container.instream>div.muted-button:before{font-size:16px}.caroda-ad-container.instream>.thumbnail{position:absolute;top:7px;left:10px;width:48px;height:27px;background-color:#000}.caroda-ad-container.instream>.thumbnail>.thumbnail-info{position:absolute;left:56px;top:6px;color:#eef;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;z-index:1;font-family:arial,sans-serif;font-size:12px;width:100vw;max-width:600px}.caroda-ad-container.fullscreen>div.muted-button{right:40px}.caroda-ad-container.fullscreen>.fullscreen-button{width:22px;height:17px;bottom:11px;right:10px;font-family:Caroda;position:absolute;z-index:10;cursor:pointer}.caroda-ad-container.fullscreen>.fullscreen-button:before{color:#fff;font-size:16px;text-shadow:0 0 2px #000,1px 1px 2px #000,0 0 3px #000;content:\"\\e902\"}.caroda-ad-container:not(.muted)>div.muted-button:before{content:\"\\e906\"}.caroda-ad-container>div.progress-bar{background:#5e8791;height:4px;position:absolute;left:0;right:0;bottom:0;top:auto}.caroda-ad-container>div.progress-bar .progress{background:#f5a03e;color:#f5a03e;height:4px;position:absolute;left:0;bottom:0;transition:all .5s linear}.caroda-ad-container>div.progress-bar .progress::before{content:\"\";background:#f5a03e;position:absolute;height:8px;width:8px;top:-2px;right:-4px;border-radius:50%}.mol-vast-skip-control{display:none}.doubleverify .mol-video-ad-container>div:not([style*=font]),.doubleverify .mol-video-ad-container>div>div:not([style*=font]){width:100%!important;height:100%!important}.no-select{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}</style></head><body><div class=\"player\"></div><script>function noop(){}function assign(e,t){for(var n in t)e[n]=t[n];return e}function appendNode(e,t){t.appendChild(e)}function insertNode(e,t,n){t.insertBefore(e,n)}function detachNode(e){e.parentNode.removeChild(e)}function createElement(e){return document.createElement(e)}function createText(e){return document.createTextNode(e)}function createComment(){return document.createComment(\"\")}function addListener(e,t,n){e.addEventListener(t,n,!1)}function removeListener(e,t,n){e.removeEventListener(t,n,!1)}function setAttribute(e,t,n){e.setAttribute(t,n)}function setStyle(e,t,n){e.style.setProperty(t,n)}function blankObject(){return Object.create(null)}function destroy(e){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==e&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(e,t){return e!=e?t==t:e!==t||e&&\"object\"==typeof e||\"function\"==typeof e}function fire(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var i=0;i<n.length;i+=1){var r=n[i];r.__calling||(r.__calling=!0,r.call(this,t),r.__calling=!1)}}function get(e){return e?this._state[e]:this._state}function init(e,t){e._handlers=blankObject(),e._bind=t._bind,e.options=t,e.root=t.root||e,e.store=e.root.store||t.store}function observe(e,t,n){var i=t.bind(this);return n&&!1===n.init||i(this.get()[e],void 0),this.on(n&&n.defer?\"update\":\"state\",function(t){t.changed[e]&&i(t.current[e],t.previous&&t.previous[e])})}function on(e,t){if(\"teardown\"===e)return this.on(\"destroy\",t);var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}}function set(e){this._set(assign({},e)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(e){var t=this._state,n={},i=!1;for(var r in e)this._differs(e[r],t[r])&&(n[r]=i=!0);i&&(this._state=assign(assign({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:t})))}function callAll(e){for(;e&&e.length;)e.shift()()}function _mount(e,t){this._fragment[this._fragment.i?\"i\":\"m\"](e,t||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function progressWidth(e){return(100*e.currentTime/e.duration).toFixed(2)+\"%\"}function progressLabel(e,t,n){var i=e.duration-e.currentTime;if(i<=0)return\"\";if(isNaN(i))return\"\";var r=Math.floor(i/60),o=Math.floor(i)%60;return r+\":\"+(o>9?\"\":\"0\")+o}function skipCounterLabel(e,t,n){return t[n].skipCounter.replace(/#/g,Math.ceil(e.skipTimeLeft))}function data(){return{time:Date.now(),progress:{hideSkipButton:!1,currentTime:0,duration:0,skipTimeLeft:0,isSkippable:!1},hideControls:!1,isMobile:!1,isMuted:!0,isLoading:!0,companionContent:null,companionWidth:0,companionHeight:0,poster:null,strings:{en:{advertising:\"Advertising\",learn:\"Learn More\",skip:\"Skip Ad\",skipCounter:\"You can skip this ad in #\",instreamContinue:\"The video will continue after the ad\"},cs:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zjistit%20v%C3%ADce\"),skip:decodeURIComponent(\"P%C5%99esko%C4%8Dit\"),skipCounter:decodeURIComponent(\"P%C5%99esko%C4%8Dit%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dovat%20po%20reklam%C4%9B\")},sk:{advertising:\"Reklama\",learn:decodeURIComponent(\"Zisti%20viac\"),skip:decodeURIComponent(\"Presko%C4%8D%20reklamu\"),skipCounter:decodeURIComponent(\"M%C3%B4%C5%BEete%20presko%C4%8Di%C5%A5%20reklamu%20za%20%23\"),instreamContinue:decodeURIComponent(\"Video%20bude%20pokra%C4%8Dova%C5%A5%20po%20reklame\")}},language:\"en\",hideCarodaUI:!1}}function oncreate(){var e=this;this.interval=setInterval(function(){return e.set({time:Date.now()})},500)}function create_main_fragment(e,t){var n,i,r,o,s,a,c,u=t.poster&&create_if_block(e,t),d=!t.hideControls&&create_if_block_1(e,t);return{c:function(){n=createElement(\"div\"),i=createElement(\"video\"),r=createText(\"\\n    \"),o=createElement(\"div\"),s=createText(\"\\n    \"),u&&u.c(),a=createText(\"\\n    \"),d&&d.c(),this.h()},h:function(){i.id=\"caroda-video\",i.autoplay=!0,setAttribute(i,\"playsinline\",!0),i.muted=!0,i.preload=\"auto\",o.id=\"caroda-slot\",n.className=c=\"caroda-ad-container\\n    \"+(t.isMobile?\"mobile\":\"\")+\"\\n    \"+(t.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(t.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(t.isMuted?\"muted\":\"\")+\"\\n    \"+(t.instream?\"instream\":\"outstream\")+\"\\n    \"+(t.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+t.language},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,n),appendNode(o,n),appendNode(s,n),u&&u.m(n,null),appendNode(a,n),d&&d.m(n,null)},p:function(t,i){i.poster?u?u.p(t,i):((u=create_if_block(e,i)).c(),u.m(n,a)):u&&(u.u(),u.d(),u=null),i.hideControls?d&&(d.u(),d.d(),d=null):d?d.p(t,i):((d=create_if_block_1(e,i)).c(),d.m(n,null)),(t.isMobile||t.isDoubleVerify||t.progress||t.isMuted||t.instream||t.isFullscreen||t.language)&&c!==(c=\"caroda-ad-container\\n    \"+(i.isMobile?\"mobile\":\"\")+\"\\n    \"+(i.isDoubleVerify?\"doubleverify\":\"\")+\"\\n    \"+(i.progress.hideSkipButton?\"hide-skip\":\"\")+\"\\n    \"+(i.isMuted?\"muted\":\"\")+\"\\n    \"+(i.instream?\"instream\":\"outstream\")+\"\\n    \"+(i.isFullscreen?\"fullscreen\":\"\")+\"\\n    lang-\"+i.language)&&(n.className=c)},u:function(){detachNode(n),u&&u.u(),d&&d.u()},d:function(){u&&u.d(),d&&d.d()}}}function create_if_block(e,t){var n;return{c:function(){n=createElement(\"div\"),this.h()},h:function(){n.className=\"poster\",setStyle(n,\"background\",\"url(\"+t.poster+\")\"),setStyle(n,\"background-size\",\"cover\"),setStyle(n,\"background-position\",\"center\")},m:function(e,t){insertNode(n,e,t)},p:function(e,t){e.poster&&setStyle(n,\"background\",\"url(\"+t.poster+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_2(e,t){var n;function i(t){e.fire(\"toggle-audio\")}return{c:function(){n=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",i),n.className=\"muted-button\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function create_if_block_3(e,t){var n,i,r=t.strings[t.language].skip;function o(t){e.fire(\"skip\")}return{c:function(){n=createElement(\"div\"),i=createText(r),this.h()},h:function(){addListener(n,\"click\",o),n.className=\"skip-button no-select\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){(e.strings||e.language)&&r!==(r=t.strings[t.language].skip)&&(i.data=r)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",o)}}}function create_if_block_5(e,t){var n,i,r,o=t.strings[t.language].instreamContinue;return{c:function(){n=createElement(\"div\"),i=createElement(\"span\"),r=createText(o),this.h()},h:function(){i.className=\"thumbnail-info\",n.className=\"thumbnail\",setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\"),setStyle(n,\"background-size\",\"cover\")},m:function(e,t){insertNode(n,e,t),appendNode(i,n),appendNode(r,i)},p:function(e,t){(e.strings||e.language)&&o!==(o=t.strings[t.language].instreamContinue)&&(r.data=o),e.thumbnailUrl&&setStyle(n,\"background\",\"url(\"+t.thumbnailUrl+\")\")},u:function(){detachNode(n)},d:noop}}function create_if_block_4(e,t){var n,i=t.thumbnailUrl&&create_if_block_5(e,t);return{c:function(){i&&i.c(),n=createComment()},m:function(e,t){i&&i.m(e,t),insertNode(n,e,t)},p:function(t,r){r.thumbnailUrl?i?i.p(t,r):((i=create_if_block_5(e,r)).c(),i.m(n.parentNode,n)):i&&(i.u(),i.d(),i=null)},u:function(){i&&i.u(),detachNode(n)},d:function(){i&&i.d()}}}function create_if_block_7(e,t){var n;function i(t){e.fire(\"unfullscreen\")}return{c:function(){n=createElement(\"div\"),this.h()},h:function(){addListener(n,\"click\",i),n.className=\"fullscreen-button\"},m:function(e,t){insertNode(n,e,t)},u:function(){detachNode(n)},d:function(){removeListener(n,\"click\",i)}}}function create_if_block_8(e,t){var n,i;return{c:function(){n=createElement(\"div\"),i=createElement(\"div\"),this.h()},h:function(){i.className=\"progress\",setStyle(i,\"width\",t.progressWidth),n.className=\"progress-bar\"},m:function(e,t){insertNode(n,e,t),appendNode(i,n)},p:function(e,t){e.progressWidth&&setStyle(i,\"width\",t.progressWidth)},u:function(){detachNode(n)},d:noop}}function create_if_block_6(e,t){var n,i,r,o,s,a=t.progress.skipTimeLeft<=0?t.progressLabel:t.skipCounterLabel,c=t.isFullscreen&&create_if_block_7(e,t),u=t.progressLabel&&create_if_block_8(e,t);return{c:function(){c&&c.c(),n=createText(\"\\n            \"),i=createElement(\"span\"),r=createText(a),o=createText(\"\\n            \"),u&&u.c(),s=createComment(),this.h()},h:function(){i.className=\"label\"},m:function(e,t){c&&c.m(e,t),insertNode(n,e,t),insertNode(i,e,t),appendNode(r,i),insertNode(o,e,t),u&&u.m(e,t),insertNode(s,e,t)},p:function(t,i){i.isFullscreen?c||((c=create_if_block_7(e,i)).c(),c.m(n.parentNode,n)):c&&(c.u(),c.d(),c=null),(t.progress||t.progressLabel||t.skipCounterLabel)&&a!==(a=i.progress.skipTimeLeft<=0?i.progressLabel:i.skipCounterLabel)&&(r.data=a),i.progressLabel?u?u.p(t,i):((u=create_if_block_8(e,i)).c(),u.m(s.parentNode,s)):u&&(u.u(),u.d(),u=null)},u:function(){c&&c.u(),detachNode(n),detachNode(i),detachNode(o),u&&u.u(),detachNode(s)},d:function(){c&&c.d(),u&&u.d()}}}function create_if_block_1(e,t){var n,i,r,o,s=!t.hideCarodaUI&&create_if_block_2(e,t),a=t.progress.isSkippable&&t.progress.skipTimeLeft<0&&create_if_block_3(e,t),c=t.instream&&create_if_block_4(e,t),u=!t.hideCarodaUI&&create_if_block_6(e,t);return{c:function(){s&&s.c(),n=createText(\"\\n        \"),a&&a.c(),i=createText(\"\\n        \"),c&&c.c(),r=createText(\"\\n        \"),u&&u.c(),o=createComment()},m:function(e,t){s&&s.m(e,t),insertNode(n,e,t),a&&a.m(e,t),insertNode(i,e,t),c&&c.m(e,t),insertNode(r,e,t),u&&u.m(e,t),insertNode(o,e,t)},p:function(t,d){d.hideCarodaUI?s&&(s.u(),s.d(),s=null):s||((s=create_if_block_2(e,d)).c(),s.m(n.parentNode,n)),d.progress.isSkippable&&d.progress.skipTimeLeft<0?a?a.p(t,d):((a=create_if_block_3(e,d)).c(),a.m(i.parentNode,i)):a&&(a.u(),a.d(),a=null),d.instream?c?c.p(t,d):((c=create_if_block_4(e,d)).c(),c.m(r.parentNode,r)):c&&(c.u(),c.d(),c=null),d.hideCarodaUI?u&&(u.u(),u.d(),u=null):u?u.p(t,d):((u=create_if_block_6(e,d)).c(),u.m(o.parentNode,o))},u:function(){s&&s.u(),detachNode(n),a&&a.u(),detachNode(i),c&&c.u(),detachNode(r),u&&u.u(),detachNode(o)},d:function(){s&&s.d(),a&&a.d(),c&&c.d(),u&&u.d()}}}function Player(e){init(this,e),this._state=assign(data(),e.data),this._recompute({progress:1,strings:1,language:1},this._state);var t=this;e.root||(this._oncreate=[]),this._fragment=create_main_fragment(this,this._state),this.root._oncreate.push(function(){oncreate.call(t),t.fire(\"update\",{changed:{progress:1,strings:1,language:1,isMobile:1,isDoubleVerify:1,isMuted:1,instream:1,isFullscreen:1,poster:1,hideControls:1,hideCarodaUI:1,thumbnailUrl:1,progressLabel:1,skipCounterLabel:1,progressWidth:1},current:t._state})}),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),callAll(this._oncreate))}assign(Player.prototype,proto),Player.prototype._recompute=function(e,t){e.progress&&this._differs(t.progressWidth,t.progressWidth=progressWidth(t.progress))&&(e.progressWidth=!0),(e.progress||e.strings||e.language)&&(this._differs(t.progressLabel,t.progressLabel=progressLabel(t.progress,t.strings,t.language))&&(e.progressLabel=!0),this._differs(t.skipCounterLabel,t.skipCounterLabel=skipCounterLabel(t.progress,t.strings,t.language))&&(e.skipCounterLabel=!0))};\n;var bundle=function(e){\"use strict\";var t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};var r,n,i=(function(e,r){Object.defineProperty(r,\"__esModule\",{value:!0});var n=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:void 0!==t?t:\"undefined\"!=typeof self?self:{};var i=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t){var r,n=Object.prototype,i=n.hasOwnProperty,o=\"function\"==typeof Symbol?Symbol:{},a=o.iterator||\"@@iterator\",u=o.asyncIterator||\"@@asyncIterator\",s=o.toStringTag||\"@@toStringTag\",c=t.regeneratorRuntime;if(c)e.exports=c;else{(c=t.regeneratorRuntime=e.exports).wrap=w;var l=\"suspendedStart\",d=\"suspendedYield\",f=\"executing\",h=\"completed\",p={},v={};v[a]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==n&&i.call(y,a)&&(v=y);var g=A.prototype=E.prototype=Object.create(v);k.prototype=g.constructor=A,A.constructor=k,A[s]=k.displayName=\"GeneratorFunction\",c.isGeneratorFunction=function(e){var t=\"function\"==typeof e&&e.constructor;return!!t&&(t===k||\"GeneratorFunction\"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,A):(e.__proto__=A,s in e||(e[s]=\"GeneratorFunction\")),e.prototype=Object.create(g),e},c.awrap=function(e){return{__await:e}},x(C.prototype),C.prototype[u]=function(){return this},c.AsyncIterator=C,c.async=function(e,t,r,n){var i=new C(w(e,t,r,n));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},x(g),g[s]=\"Generator\",g[a]=function(){return this},g.toString=function(){return\"[object Generator]\"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method=\"next\",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)\"t\"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if(\"throw\"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return u.type=\"throw\",u.arg=e,t.next=n,i&&(t.method=\"next\",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if(\"root\"===a.tryLoc)return n(\"end\");if(a.tryLoc<=this.prev){var s=i.call(a,\"catchLoc\"),c=i.call(a,\"finallyLoc\");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error(\"try statement without catch or finally\");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,\"finallyLoc\")&&this.prev<n.finallyLoc){var o=n;break}}o&&(\"break\"===e||\"continue\"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method=\"next\",this.next=o.finallyLoc,p):this.complete(a)},complete:function(e,t){if(\"throw\"===e.type)throw e.arg;return\"break\"===e.type||\"continue\"===e.type?this.next=e.arg:\"return\"===e.type?(this.rval=this.arg=e.arg,this.method=\"return\",this.next=\"end\"):\"normal\"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if(\"throw\"===n.type){var i=n.arg;I(r)}return i}}throw new Error(\"illegal catch attempt\")},delegateYield:function(e,t,n){return this.delegate={iterator:L(e),resultName:t,nextLoc:n},\"next\"===this.method&&(this.arg=r),p}}}function w(e,t,r,n){var i=t&&t.prototype instanceof E?t:E,o=Object.create(i.prototype),a=new S(n||[]);return o._invoke=function(e,t,r){var n=l;return function(i,o){if(n===f)throw new Error(\"Generator is already running\");if(n===h){if(\"throw\"===i)throw o;return O()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var u=T(a,r);if(u){if(u===p)continue;return u}}if(\"next\"===r.method)r.sent=r._sent=r.arg;else if(\"throw\"===r.method){if(n===l)throw n=h,r.arg;r.dispatchException(r.arg)}else\"return\"===r.method&&r.abrupt(\"return\",r.arg);n=f;var s=b(e,t,r);if(\"normal\"===s.type){if(n=r.done?h:d,s.arg===p)continue;return{value:s.arg,done:r.done}}\"throw\"===s.type&&(n=h,r.method=\"throw\",r.arg=s.arg)}}}(e,r,a),o}function b(e,t,r){try{return{type:\"normal\",arg:e.call(t,r)}}catch(e){return{type:\"throw\",arg:e}}}function E(){}function k(){}function A(){}function x(e){[\"next\",\"throw\",\"return\"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function C(e){var t;this._invoke=function(r,n){function o(){return new Promise(function(t,o){!function t(r,n,o,a){var u=b(e[r],e,n);if(\"throw\"!==u.type){var s=u.arg,c=s.value;return c&&\"object\"==typeof c&&i.call(c,\"__await\")?Promise.resolve(c.__await).then(function(e){t(\"next\",e,o,a)},function(e){t(\"throw\",e,o,a)}):Promise.resolve(c).then(function(e){s.value=e,o(s)},a)}a(u.arg)}(r,n,t,o)})}return t=t?t.then(o,o):o()}}function T(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,\"throw\"===t.method){if(e.iterator.return&&(t.method=\"return\",t.arg=r,T(e,t),\"throw\"===t.method))return p;t.method=\"throw\",t.arg=new TypeError(\"The iterator does not provide a 'throw' method\")}return p}var i=b(n,e.iterator,t.arg);if(\"throw\"===i.type)return t.method=\"throw\",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,\"return\"!==t.method&&(t.method=\"next\",t.arg=r),t.delegate=null,p):o:(t.method=\"throw\",t.arg=new TypeError(\"iterator result is not an object\"),t.delegate=null,p)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type=\"normal\",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:\"root\"}],e.forEach(P,this),this.reset(!0)}function L(e){if(e){var t=e[a];if(t)return t.call(e);if(\"function\"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:O}}function O(){return{value:r,done:!0}}}(function(){return this}()||Function(\"return this\")())}),o=function(){return this}()||Function(\"return this\")(),a=o.regeneratorRuntime&&Object.getOwnPropertyNames(o).indexOf(\"regeneratorRuntime\")>=0,u=a&&o.regeneratorRuntime;o.regeneratorRuntime=void 0;var s=i;if(a)o.regeneratorRuntime=u;else try{delete o.regeneratorRuntime}catch(e){o.regeneratorRuntime=void 0}var c,l,d,f,h=s,p={clickThrough:\"clickThrough\",closeLinear:\"closeLinear\",complete:\"complete\",error:\"error\",exitFullscreen:\"exitFullscreen\",firstQuartile:\"firstQuartile\",fullscreen:\"fullscreen\",iconClick:\"iconClick\",iconView:\"iconView\",impression:\"impression\",midpoint:\"midpoint\",mute:\"mute\",otherAdInteraction:\"otherAdInteraction\",pause:\"pause\",playerCollapse:\"playerCollapse\",playerExpand:\"playerExpand\",progress:\"progress\",resume:\"resume\",rewind:\"rewind\",skip:\"skip\",start:\"start\",thirdQuartile:\"thirdQuartile\",timeSpentViewing:\"timeSpentViewing\",unmute:\"unmute\"},v=\"acceptInvitation\",m=\"adCollapse\",y=\"creativeView\",g={acceptInvitation:v,adCollapse:m,close:\"close\",creativeView:y},w=[new RegExp(\"^<h3[^>]*>This page contains the following errors:</h3><div[^>]*>(.+?)\\n?</div>\"),new RegExp(\"^(.+)\\n\")],b=function(e){var t,r,n,i,o=(t=e,r=new XMLSerializer,Array.prototype.map.call(t.childNodes,function(e){return r.serializeToString(e)}).join(\"\"));for(n=0;n<w.length;n++)if(i=w[n].exec(o))return i[1]},E=function(e){return function(e){var t;if(null===e)throw new Error(\"Parse error\");var r=function(e){return\"parsererror\"===e.documentElement.tagName&&\"http://www.mozilla.org/newlayout/xml/parsererror.xml\"===e.documentElement.namespaceURI?e.documentElement:(\"xml\"===e.documentElement.tagName||\"html\"===e.documentElement.tagName)&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"parsererror\"===e.documentElement.childNodes[0].nodeName?e.documentElement.childNodes[0]:\"html\"===e.documentElement.tagName&&e.documentElement.childNodes&&e.documentElement.childNodes.length>0&&\"body\"===e.documentElement.childNodes[0].nodeName&&e.documentElement.childNodes[0].childNodes&&e.documentElement.childNodes[0].childNodes.length&&\"parsererror\"===e.documentElement.childNodes[0].childNodes[0].nodeName?e.documentElement.childNodes[0].childNodes[0]:void 0}(e);if(void 0!==r)throw t=b(r)||\"Parse error\",new Error(t)}(e),e},k=\"document\",A=\"element\",x=\"text\",C=function e(t){var r=function(e){if(1===e.nodeType)return A;if(3===e.nodeType||4===e.nodeType)return x;if(9===e.nodeType)return k;throw new Error(\"Unsupported element type\")}(t),n={type:r};if(r===A){if(n.name=t.nodeName.toLowerCase(),t.attributes.length>0){n.attributes={};var i=!0,o=!1,a=void 0;try{for(var u,s=Array.from(t.attributes)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value;n.attributes[c.nodeName]=c.nodeValue}}catch(e){o=!0,a=e}finally{try{!i&&s.return&&s.return()}finally{if(o)throw a}}}}else r===x&&(n.text=t.nodeValue.replace(\"<![CDATA[\",\"\").replace(\"]]>\",\"\").trim());if(t.hasChildNodes()){var l=Array.from(t.childNodes).filter(function(e){return[1,3,4].includes(e.nodeType)}),d=[];n.elements=d;var f=!0,h=!1,p=void 0;try{for(var v,m=l[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=e(v.value);(y.type!==x||y.text.length>0)&&d.push(y)}}catch(e){h=!0,p=e}finally{try{!f&&m.return&&m.return()}finally{if(h)throw p}}}return n},T=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).elements;return void 0===e?[]:e},P=function(e,t){return T(e).find(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})},I=function(e,t){return\"string\"==typeof t?function(e,t){return T(e).filter(function(e){var r=e.name;return(void 0===r?\"\":r).toUpperCase()===t.toUpperCase()})}(e,t):T(e)},S=function(e){return T(e)[0]||null},L=function(e){var t=e&&S(e);return t&&t.text||null},O=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).attributes;return void 0===e?{}:e},F=function(e,t){return O(e)[t]},R=new DOMParser,V=function(e){return function(e,t){var r=e.parseFromString(t,\"application/xml\");return E(r),C(r)}(R,e)},U=function(e){if(\"string\"==typeof e){var t=e.match(/(\\d\\d):(\\d\\d):(\\d\\d)(\\.(\\d\\d\\d))?/);if(t){var r=(o=t[1],60*parseInt(o,10)*60*1e3+(i=t[2],60*parseInt(i,10)*1e3)+(n=t[3],1e3*parseInt(n,10))+parseInt(t[5]||0,10));if(!isNaN(r))return r}}var n,i,o;return null},_=function(e){return function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)}(e)?e:U(e)},B=function(e){var t=S(e),r=t&&P(t,\"creatives\");return r&&I(r).find(function(e){return P(e,\"linear\")})||null},M=function(e,t){var r=e&&B(e);if(r){var n=P(r,\"Linear\"),i=n&&P(n,\"TrackingEvents\"),o=i&&I(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){var t=O(e),r=t.event,n=t.offset,i=L(e);return{event:r,offset:n&&_(n),uri:i}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},j=function(e,t){var r=e&&B(e);if(r){var n=P(r,\"NonLinearAds\"),i=n&&P(n,\"TrackingEvents\"),o=i&&I(i,\"Tracking\");if(o&&o.length>0){var a=o.map(function(e){return{event:O(e).event,uri:L(e)}});if(!t)return a;var u=a.filter(function(e){return e.event===t});if(u.length>0)return u}}return null},N=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},D=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},W=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),H=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q=function e(t,r,n){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,r);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,r,n)}if(\"value\"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},$=function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},X=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t},Q=function(e){return Array.isArray(e)?e:Array.from(e)},G=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},K=function(e){var t=(\"\"+e).match(/\\d+/g);return parseInt(t[0],10)},J=function(e){return/\\d+/.test(e)?K(e):e},Y=function(e){var t=e&&B(e),r=t&&P(t,\"linear\"),n=r&&P(r,\"Icons\"),i=n&&I(n,\"Icon\");return i&&i.length>0?i.map(function(e){return z({},function(e){var t=O(e),r=t.duration,n=t.height,i=t.offset,o=t.program,a=t.pxratio,u=t.width,s=t.xPosition,c=void 0===s?\"right\":s,l=t.yPosition,d=void 0===l?\"top\":l;return{duration:r&&U(r),height:n&&K(n),offset:i&&U(i),program:o,pxratio:a&&parseInt(a,10),width:u&&K(u),xPosition:c&&J(c),yPosition:d&&J(d)}}(e),function(e){var t=P(e,\"StaticResource\"),r=P(e,\"HTMLResource\"),n=P(e,\"IFrameResource\");return t?{staticResource:L(t)}:r?{htmlResource:L(r)}:n?{iFrameResource:L(n)}:{staticResource:L(e)}}(e),function(e){var t=I(e,\"IconViewTracking\").map(function(e){return L(e)});return 0===t.length?{}:{iconViewTracking:t}}(e),function(e){var t=P(e,\"IconClicks\"),r=t&&P(t,\"IconClickThrough\"),n=t&&I(t,\"IconClickTracking\").map(function(e){return L(e)});return{iconClickThrough:r&&L(r),iconClickTracking:n&&n.length>0?n:void 0}}(e))}):null},Z=function(e){return\"string\"==typeof e?\"true\"===e:Boolean(e)},ee=function(e,t){var r=parseInt(F(e,\"sequence\"),10),n=parseInt(F(t,\"sequence\"),10);return r<n?-1:r>n?1:0},te=function(e){var t=e&&P(e,\"VAST\"),r=t&&I(t,\"Ad\");return r&&r.length>0?r:[]},re=function(e){var t=e&&P(e,\"VAST\");if(t){var r=P(t,\"Error\");if(r)return L(r)}return null},ne=function(e){var t=parseInt(F(e,\"sequence\"),10);return\"number\"!=typeof t||isNaN(t)?null:t},ie=function(e){return Boolean(ne(e))},oe=function(e){var t=te(e);return Array.isArray(t)&&t.filter(ie).length>1},ae=function(e){var t=te(e);return Array.isArray(t)&&t.length>0?oe(e)?t.filter(ie).sort(ee)[0]:t[0]:null},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Boolean(P(e||{},\"Wrapper\"))},se=function(e){return Boolean(P(e||{},\"Inline\"))},ce=function(e){var t=P(e,\"Wrapper\"),r=t&&P(t,\"VastAdTagUri\");return r&&L(r)||null},le=function(e){var t=O(P(e,\"Wrapper\")),r=t.allowMultipleAds,n=t.fallbackOnNoAd,i=t.followAdditionalWrappers,o={};return r&&(o.allowMultipleAds=Z(r)),n&&(o.fallbackOnNoAd=Z(n)),i&&(o.followAdditionalWrappers=Z(i)),o},de=function(e){var t=e&&S(e);if(t){var r=P(t,\"Error\");if(r)return L(r)}return null},fe=function(e){var t=e&&S(e);if(t){var r=P(t,\"Impression\");if(r)return L(r)}return null},he=function(e){var t=e&&B(e);if(t){var r=P(t,\"UniversalAdId\"),n=r&&L(r)||null,i=P(t,\"Linear\"),o=P(i,\"MediaFiles\"),a=o&&I(o,\"MediaFile\");if(a&&a.length>0)return a.map(function(e){var t=L(e),r=O(e),i=r.apiFramework,o=r.bitrate,a=r.codec,u=r.delivery,s=r.height,c=r.id,l=r.maintainAspectRatio,d=r.maxBitrate,f=r.minBitrate,h=r.scalable,p=r.type,v=r.width;return{apiFramework:i,bitrate:o,codec:a,delivery:u,height:s,id:c,maintainAspectRatio:l,maxBitrate:d,minBitrate:f,scalable:h,src:t,type:p,universalAdId:n,width:v}})}return null},pe=function(e){var t=e&&B(e);if(t){var r=P(t,\"Linear\"),n=P(r,\"MediaFiles\"),i=n&&I(n,\"InteractiveCreativeFile\");if(i&&i.length>0)return i.map(function(e){var t=O(e),r=t.apiFramework,n=t.type;return{apiFramework:r,src:L(e),type:n}})}return null},ve=function(e){var t=pe(e);if(t)return t;var r=he(e);return r&&(t=r.filter(function(e){var t=e.apiFramework;return\"vpaid\"===(void 0===t?\"\":t).toLowerCase()}).map(function(e){return{apiFramework:e.apiFramework,src:e.src,type:e.type}})).length>0?t:null},me=function(e){var t=e&&B(e),r=t&&P(t,\"Linear\"),n=r&&P(r,\"VideoClicks\");return n||null},ye=function(e){var t=me(e),r=t&&P(t,\"ClickThrough\");return r?L(r):null},ge=function(e){var t=me(e),r=t&&I(t,\"ClickTracking\");return r&&r.length>0?r.map(function(e){return L(e)}):null},we=function(e){var t=me(e),r=t&&I(t,\"CustomClick\");return r&&r.length>0?r.map(function(e){return L(e)}):null},be=function(e){var t=e&&B(e),r=t&&P(t,\"Linear\"),n=r&&F(r,\"skipoffset\");return n?_(n):null},Ee=function(e){var t=function(e){var t=/<Linear([\\s\\S]*)<\\/Linear/gm.exec(e);return t&&t[1]}(e);return{AdParameters:t&&function(e){var t=/<AdParameters[\\s\\w=\"]*>([\\s\\S]*)<\\/AdParameters>/gm.exec(e);return t&&t[1].replace(/[\\n\\s]*<!\\[CDATA\\[[\\n\\s]*/,\"\").replace(/[\\n\\s]*\\]\\]>[\\n\\s]*$/,\"\").replace(/\\]\\]\\]\\]><!\\[CDATA\\[>/,\"]]>\").trim()}(t),xmlEncoded:t&&function(e){var t=/<AdParameters[\\s]*xmlEncoded=\"(.*?)\">/gim.exec(e);return Boolean(t)&&\"true\"===t[1]}(t)}},ke=Object.freeze({getAds:te,getVastErrorURI:re,getPodAdSequence:ne,isPodAd:ie,hasAdPod:oe,isAdPod:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return e.parsedXML}).some(oe)},getFirstAd:ae,isWrapper:ue,isInline:se,getVASTAdTagURI:ce,getWrapperOptions:le,getAdErrorURI:de,getImpressionUri:fe,getMediaFiles:he,getInteractiveCreativeFiles:pe,getInteractiveFiles:ve,getClickThrough:ye,getClickTracking:ge,getCustomClick:we,getSkipOffset:be,getCreativeData:Ee,getIcons:Y,getLinearTrackingEvents:M,getNonLinearTrackingEvents:j}),Ae=function(e){var t,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e,o=(t=n,r={},Object.keys(t).forEach(function(e){r[e.toUpperCase()]=t[e]}),r);return Boolean(o.CACHEBUSTING)||(o.CACHEBUSTING=Math.round(1e10*Math.random())),Boolean(o.TIMESTAMP)||(o.TIMESTAMP=(new Date).toISOString()),Object.keys(o).forEach(function(e){var t=encodeURIComponent(o[e]);i=i.replace(new RegExp(\"\\\\[\"+e+\"\\\\]\",\"gm\"),t)}),i},xe=function(e,t){var r=new Image;return r.src=Ae(e,t),r},Ce=function(e,t){var r=t.errorCode,n=t.tracker,i=void 0===n?xe:n;e.forEach(function(e){var t=e.ad,n=e.parsedXML,o=de(t)||re(n);Boolean(o)&&i(o,{errorCode:r})})},Te=function(e){return function(t,r){var n=r.data,i=r.tracker,o=void 0===i?xe:i;t.forEach(function(t){var r=t.ad,i=e(r);if(Boolean(i))switch(!0){case\"string\"==typeof i:o(i,n);break;case Array.isArray(i):i.map(function(e){var t=e.uri;return o(t,n)})}})}},Pe=function(e){return function(t){return M(t,e)}},Ie=(H(c={},\"clickThrough\",Te(function(e){var t=[],r=ge(e),n=we(e);return Array.isArray(r)&&r.length>0&&t.push.apply(t,G(r.map(function(e){return{uri:e}}))),Array.isArray(n)&&n.length>0&&t.push.apply(t,G(n.map(function(e){return{uri:e}}))),t})),H(c,\"closeLinear\",Te(Pe(\"closeLinear\"))),H(c,\"complete\",Te(Pe(\"complete\"))),H(c,\"error\",Ce),H(c,\"exitFullscreen\",Te(Pe(\"exitFullscreen\"))),H(c,\"firstQuartile\",Te(Pe(\"firstQuartile\"))),H(c,\"fullscreen\",Te(Pe(\"fullscreen\"))),H(c,\"iconClick\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.iconClickTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,z({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),H(c,\"iconView\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.iconViewTracking;if(Array.isArray(o)){var a=!0,u=!1,s=void 0;try{for(var c,l=o[Symbol.iterator]();!(a=(c=l.next()).done);a=!0)i(c.value,z({},r))}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}}}),H(c,\"impression\",Te(fe)),H(c,\"midpoint\",Te(Pe(\"midpoint\"))),H(c,\"mute\",Te(Pe(\"mute\"))),H(c,\"pause\",Te(Pe(\"pause\"))),H(c,\"playerCollapse\",Te(Pe(\"playerCollapse\"))),H(c,\"playerExpand\",Te(Pe(\"playerExpand\"))),H(c,\"progress\",function(e,t){var r=t.data,n=t.tracker,i=void 0===n?xe:n,o=r.progressUri;Boolean(o)&&i(o,z({},r))}),H(c,\"resume\",Te(Pe(\"resume\"))),H(c,\"rewind\",Te(Pe(\"rewind\"))),H(c,\"skip\",Te(Pe(\"skip\"))),H(c,\"start\",Te(Pe(\"start\"))),H(c,\"thirdQuartile\",Te(Pe(\"thirdQuartile\"))),H(c,\"unmute\",Te(Pe(\"unmute\"))),c),Se=function(e){return function(t){return j(t,e)}},Le=(H(l={},v,Te(Se(v))),H(l,m,Te(Se(m))),H(l,\"close\",Te(Se(\"close\"))),H(l,y,Te(Se(y))),l),Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.async,n=void 0!==r&&r,i=t.defer,o=void 0!==i&&i,a=t.type,u=void 0===a?\"text/javascript\":a,s=t.placeholder;if(!e)throw new TypeError('Missing required \"src\" parameter');return new Promise(function(t,r){var i=document.createElement(\"script\"),a=s;i.type=u,i.async=n,i.defer=o,i.onerror=function(){return r(new URIError(\"The script \"+e+\" is not accessible.\"))},i.onload=function(){return t(i)},a||(a=document.currentScript?document.currentScript.parentNode:document.head),i.src=e,a.appendChild(i)})},Fe=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:document).createElement(\"VIDEO\");return e.style.width=\"100%\",e.style.height=\"100%\",e},Re=function(){var e=document.createElement(\"DIV\");return e.classList.add(\"mol-video-ad-container\"),e.style.width=\"100%\",e.style.height=\"100%\",e},Ve=function(e){return e.contentDocument||e.contentWindow&&e.contentWindow.document},Ue=\"srcdoc\"in document.createElement(\"iframe\"),_e=function(){var e=document.createElement(\"IFRAME\");return e.sandbox=\"allow-forms allow-popups allow-scripts allow-same-origin\",e.style.margin=\"0\",e.style.padding=\"0\",e.style.border=\"none\",e.style.width=\"0\",e.style.height=\"0\",e.style.position=\"absolute\",e},Be=function(e,t){return new Promise(function(r,n){var i,o=function(e,t){return\"<!DOCTYPE html>\\n<html>\\n  <head><meta charset='UTF-8'></head>\\n  <body style='margin:0;padding:0'>\\n  <script type='text/javascript'>window.parent.postMessage('\"+e+\"_ready', '\"+t+\"');<\\/script>\\n  </body>\\n</html>\"}(t,(i=window.location).origin?i.origin:i.protocol+\"//\"+i.hostname+(i.port?\":\"+i.port:\"\")),a=void 0;try{(a=_e()).src=\"about:blank\",e.appendChild(a),Ve(a).write(o)}catch(t){e.removeChild(a),Ue?((a=_e()).src=\"about:srcdoc\",a.srcdoc=o,e.appendChild(a)):n(t)}window.addEventListener(\"message\",function e(n){n.data===t+\"_ready\"&&(window.removeEventListener(\"message\",e),r(a))},!1)})},Me=(d=\"videoAdContainer\",f=-1,function(){return d+\"_\"+ ++f}),je=Symbol(\"hidden\"),Ne=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(D(this,e),this[je]={destroyed:!1,iframe:null,readyPromise:null},!(t instanceof Element))throw new TypeError(\"placeholder is not an Element\");this[je].id=Me(),this.element=Re(),this.executionContext=null,this.isOriginalVideoElement=Boolean(r),r?this.videoElement=r:(this.videoElement=Fe(),this.element.appendChild(this.videoElement)),t.appendChild(this.element)}return W(e,[{key:\"addScript\",value:function(){var e=N(h.mark(function e(t){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isDestroyed()){e.next=2;break}throw new Error(\"VideoAdContainer has been destroyed\");case 2:if(this[je].iframe){e.next=7;break}return e.next=5,Be(this.element,this[je].id);case 5:this[je].iframe=e.sent,this.executionContext=this[je].iframe.contentWindow;case 7:return r=Ve(this[je].iframe).body,e.abrupt(\"return\",Oe(t,z({placeholder:r},n)));case 9:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"destroy\",value:function(){this.element.parentNode.removeChild(this.element),this[je].destroyed=!0}},{key:\"isDestroyed\",value:function(){return this[je].destroyed}}]),e}(),De=function(e,t){if(!e)throw new TypeError(\"placeholder is required\");return new Ne(e,t)},We=function(e,t){var r=t.src,n=t.type;return e.canPlayType(n||function(e){var t=e.match(/\\.([^./?]+)(\\?[^/]+)?$/i),r=t&&t[1];return{\"3gp\":\"video/3gpp\",avi:\"video/x-msvideo\",flv:\"video/x-flv\",m3u8:\"application/x-mpegURL\",m4v:\"video/mp4\",mov:\"video/quicktime\",mp4:\"video/mp4\",mpd:\"application/dash+xml\",ogv:\"video/ogg\",ts:\"video/MP2T\",webm:\"video/webm\",wmv:\"video/x-ms-wmv\"}[r]||\"video/\"+r}(r))},He=function(e,t,r){var n=r.getBoundingClientRect(),i=he(e);return i?function(e,t){var r=t.width;return e.slice(0).sort(function(e,t){return Math.abs(r-(e.width||0))-Math.abs(r-(t.width||0))})}(i.filter(function(e){return We(t,e)}),n)[0]:null},ze=function(e,t,r){var n=function n(){return e.removeEventListener(t,n),r.apply(void 0,arguments)};return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}},qe=p.progress,$e=function(e,t){return function(){try{e.apply(void 0,arguments)}catch(e){t&&t.error(e)}}},Xe=p.fullscreen,Qe=p.exitFullscreen,Ge=p.playerCollapse,Ke=p.playerExpand,Je=p.pause,Ye=p.resume,Ze=p.rewind,et=p.skip,tt=function(){var e=document.createElement(\"BUTTON\");return e.classList.add(\"mol-vast-skip-control\"),e.type=\"button\",e.innerHTML=\"skip\",e.style.position=\"absolute\",e.style.bottom=\"15px\",e.style.right=\"15px\",e},rt=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.skipoffset,i=r.createSkipControl,o=void 0===i?tt:i;if(!Boolean(n))return function(){};var a=void 0,u=e.videoElement,s=e.element,c=function e(){var r=1e3*u.currentTime;!Boolean(a)&&r>=n&&((a=o()).onclick=function(e){return void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),t(et),!1},s.appendChild(a),u.removeEventListener(\"timeupdate\",e))};return u.addEventListener(\"timeupdate\",c),function(){u.removeEventListener(\"timeupdate\",c),Boolean(a)&&s.removeChild(a)}},nt=p.error,it=\"volumeChanged\",ot=\"finish\",at=\"adProgress\",ut=p.complete,st=p.firstQuartile,ct=p.midpoint,lt=p.start,dt=p.thirdQuartile,ft=function(e,t){return 100*e/t},ht=function(e,t){return ft(e,t)>=99},pt=p.mute,vt=p.unmute,mt=function(e){return e.muted||0===e.volume},yt=p.impression,gt=function(e,t){for(var r=String(e);r.length<t;)r=\"0\"+r;return r},wt=p.progress,bt=function(e){return 1e3*e},Et=function(e){var t=e.offset,r=e.uri,n=\"number\"==typeof t||function(e){return/^\\d+(\\.\\d+)?%$/g.test(e)&&!isNaN(parseFloat(e))}(t),i=\"string\"==typeof r&&r.length>0;return n&&i},kt=p.clickThrough,At=[function(e,t){var r=e.videoElement,n=e.element,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).clickThroughUrl,o=n||r.parentNode,a=document.createElement(\"A\");return a.classList.add(\"mol-vast-clickthrough\"),a.style.width=\"100%\",a.style.height=\"100%\",a.style.position=\"absolute\",a.style.left=0,a.style.top=0,i&&(a.href=i,a.target=\"_blank\"),a.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),r.paused?r.play():(r.pause(),t(kt))},o.appendChild(a),function(){return o.removeChild(a)}},function(e,t){var r=e.videoElement,n=function(){t(nt,r.error)};return r.addEventListener(\"error\",n),function(){r.removeEventListener(\"error\",n)}},function(e,t){var r=e.videoElement,n=[\"webkitfullscreenchange\",\"mozfullscreenchange\",\"fullscreenchange\",\"MSFullscreenChange\"],i=!1,o=function(){(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||null)===r?(i=!0,t(Ke),t(Xe)):i&&(i=!1,t(Ge),t(Qe))},a=!0,u=!1,s=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var d=c.value;document.addEventListener(d,o)}}catch(e){u=!0,s=e}finally{try{!a&&l.return&&l.return()}finally{if(u)throw s}}return function(){var e=!0,t=!1,r=void 0;try{for(var i,a=n[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var u=i.value;document.removeEventListener(u,o)}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}}},function(e,t){var r=e.videoElement,n=function e(){r.currentTime>=2&&(t(yt),r.removeEventListener(\"timeupdate\",e))};return r.addEventListener(\"timeupdate\",n),function(){r.removeEventListener(\"timeupdate\",n)}},function(e,t){var r=e.videoElement,n=!1,i=!0,o=function(){n?i&&(i=!1,t(Ye)):(n=!0,i=!1)},a=function(){i||(i=!0,t(Je))};return r.addEventListener(\"play\",o),r.addEventListener(\"pause\",a),function(){r.removeEventListener(\"play\",o),r.removeEventListener(\"pause\",a)}},function(e,t){var r=e.videoElement,n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).progressEvents,i=void 0===n?[]:n,o=r.duration,a=bt(o),u=0,s=bt(r.currentTime),c=i.filter(Et).map(function(e){var t=e.offset,r=e.uri;return{offset:function(e,t){return\"number\"==typeof e?e:parseFloat(e)/100*t}(t,a),uri:r}}),l=function e(){var n=r.currentTime,i=Math.abs(n-s);u+=bt(i),s=n;var o=c.reduce(function(e,t){var r=t.offset;return u>=r?e.toCall.push(t):e.stillPending.push(t),e},{stillPending:[],toCall:[]}),a=o.stillPending,l=o.toCall;c=a,l.forEach(function(e){var r,n,i,o,a,s=e.uri;t(wt,{contentplayhead:(r=u,n=Math.floor(r/36e5),i=Math.floor(r/6e4%60),o=Math.floor(r/1e3%60),a=r%1e3,gt(n,2)+\":\"+gt(i,2)+\":\"+gt(o,2)+\".\"+gt(a,3)),progressUri:s})}),0===c.length&&r.removeEventListener(\"timeupdate\",e)};return c.length>0&&r.addEventListener(\"timeupdate\",l),function(){r.removeEventListener(\"timeupdate\",l)}},function(e,t){var r=e.videoElement,n=r.currentTime,i=function(){var e=r.currentTime-n;e<0&&Math.abs(e)>=1&&t(Ze),n=r.currentTime};return r.addEventListener(\"timeupdate\",i),function(){r.removeEventListener(\"timeupdate\",i)}},rt,function(e,t){var r=e.videoElement,n=!1,i=!1,o=!1,a=!1,u=!1,s=function(){var e=r.duration,s=r.currentTime;!n&&s>0?(n=!0,t(lt)):i?o?a?u||ht(s,e)&&(u=!0,t(ut)):function(e,t){return ft(e,t)>=75}(s,e)&&(a=!0,t(dt)):function(e,t){return ft(e,t)>=50}(s,e)&&(o=!0,t(ct)):function(e,t){return ft(e,t)>=25}(s,e)&&(i=!0,t(st)),t(at)},c=function e(){var n=r.duration,i=r.currentTime;!u&&ht(i,n)&&(u=!0,t(ut)),r.removeEventListener(\"ended\",e),r.removeEventListener(\"timeupdate\",s)};return r.addEventListener(\"timeupdate\",s),r.addEventListener(\"ended\",c),function(){r.removeEventListener(\"timeupdate\",s),r.removeEventListener(\"ended\",c)}},function(e,t){var r=e.videoElement,n=mt(r),i=function(){t(it),n&&!mt(r)?t(vt):!n&&mt(r)&&t(pt),n=mt(r)};return r.addEventListener(\"volumechange\",i),function(){r.removeEventListener(\"volumechange\",i)}}],xt=function(e,t){var r=e.vastChain,n=e.videoAdContainer,i=e.hooks,o=r[0].ad,a=be(o),u=ye(o),s=function(e){return e.map(function(e){return e.ad}).reduce(function(e,t){var r=M(t,qe)||[];return[].concat(G(e),G(r))},[]).map(function(e){return{offset:e.offset,uri:e.uri}})}(r),c=z({clickThroughUrl:u,progressEvents:s,skipoffset:a},i),l=At.map(function(e){return $e(e(n,t,c))});return function(){return l.forEach(function(e){return e()})}},Ct=function(e,t){return new Promise(function(r){var n={currentTime:e.currentTime,playing:!e.paused};n.playing&&e.pause(),e.src=t.src,e.load(),ze(e,\"loadeddata\",function(){e.currentTime=n.currentTime,n.playing&&e.play(),r()})})},Tt=\"Expected a function\",Pt=NaN,It=\"[object Symbol]\",St=/^\\s+|\\s+$/g,Lt=/^[-+]0x[0-9a-f]+$/i,Ot=/^0b[01]+$/i,Ft=/^0o[0-7]+$/i,Rt=parseInt,Vt=\"object\"==typeof n&&n&&n.Object===Object&&n,Ut=\"object\"==typeof self&&self&&self.Object===Object&&self,_t=Vt||Ut||Function(\"return this\")(),Bt=Object.prototype.toString,Mt=Math.max,jt=Math.min,Nt=function(){return _t.Date.now()};function Dt(e){var t=typeof e;return!!e&&(\"object\"==t||\"function\"==t)}function Wt(e){if(\"number\"==typeof e)return e;if(function(e){return\"symbol\"==typeof e||function(e){return!!e&&\"object\"==typeof e}(e)&&Bt.call(e)==It}(e))return Pt;if(Dt(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=Dt(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(St,\"\");var r=Ot.test(e);return r||Ft.test(e)?Rt(e.slice(2),r?2:8):Lt.test(e)?Pt:+e}var Ht=function(e,t,r){var n,i,o,a,u,s,c=0,l=!1,d=!1,f=!0;if(\"function\"!=typeof e)throw new TypeError(Tt);function h(t){var r=n,o=i;return n=i=void 0,c=t,a=e.apply(o,r)}function p(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-c>=o}function v(){var e=Nt();if(p(e))return m(e);u=setTimeout(v,function(e){var r=t-(e-s);return d?jt(r,o-(e-c)):r}(e))}function m(e){return u=void 0,f&&n?h(e):(n=i=void 0,a)}function y(){var e=Nt(),r=p(e);if(n=arguments,i=this,s=e,r){if(void 0===u)return function(e){return c=e,u=setTimeout(v,t),l?h(e):a}(s);if(d)return u=setTimeout(v,t),h(s)}return void 0===u&&(u=setTimeout(v,t)),a}return t=Wt(t)||0,Dt(r)&&(l=!!r.leading,o=(d=\"maxWait\"in r)?Mt(Wt(r.maxWait)||0,t):o,f=\"trailing\"in r?!!r.trailing:f),y.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=s=i=u=void 0},y.flush=function(){return void 0===u?a:m(Nt())},y},zt=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,qt=function(){},$t=[\"style\",\"clientWidth\",\"clientHeight\"],Xt=Symbol(\"mutationHandlers\"),Qt=Symbol(\"mutationObserver\"),Gt=function(e,t){if(!e[Xt]){e[Xt]=[];e[Qt]=function(e,t){var r=new zt(function(e){for(var r=0;r<e.length;r++){var n=e[r].attributeName;$t.includes(n)&&t()}});return r.observe(e,{attributes:!0,characterData:!1,childList:!0}),r}(e,function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Xt]&&e[Xt].forEach(function(e){return e.apply(void 0,r)})})}return e[Xt].push(t),function(){e[Xt]=e[Xt].filter(function(e){return e!==t}),0===e[Xt].length&&(e[Qt].disconnect(),delete e[Xt],delete e[Qt])}},Kt=Symbol(\"resizeHandlers\"),Jt=Symbol(\"resizeObj\"),Yt=function(e,t){if(!e[Kt]){e[Kt]=[];e[Jt]=function(e){var t=document.createElement(\"object\");return t.setAttribute(\"style\",\"display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;\"),t.onload=function(){this.contentWindow&&this.contentWindow.addEventListener(\"resize\",e)},t.type=\"text/html\",t.data=\"about:blank\",t}(function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];e[Kt]&&e[Kt].forEach(function(e){return e.apply(void 0,r)})}),\"static\"===getComputedStyle(e).position&&(e.style.position=\"relative\"),e.appendChild(e[Jt])}return e[Kt].push(t),function(){e[Kt]=e[Kt].filter(function(e){return e!==t}),0===e[Kt].length&&(e.removeChild(e[Jt]),delete e[Kt],delete e[Jt])}},Zt=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).threshold,n=void 0===r?20:r;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var i=function(e){var t=e.style,r=e.clientHeight,n=e.clientWidth;return[t.width,t.height,n,r].join(\".\")},o=i(e),a=Ht(function(){var r=i(e);r!==o&&(o=r,t())},n),u=Boolean(zt)?Gt(e,a):qt,s=Yt(e,a);return function(){u(),s()}},er=[],tr=function(e){var t=e.element,r=e.callback,n=e.lastInViewport,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=e.getBoundingClientRect(),n=r.height,i=r.width,o=r.top,a=r.right,u=r.bottom,s=r.left;if(!n||!i)return!1;var c=n*(1-t),l=i*(1-t),d=window.innerHeight||document.documentElement.clientHeight,f=window.innerWidth||document.documentElement.clientWidth;return!document.hidden&&o+c>=0&&u-c<=d&&s+l>=0&&a-l<=f}(t,e.viewportOffset);i!==n&&(e.lastInViewport=i,r(i))},rr=function(){var e=!0,t=!1,r=void 0;try{for(var n,i=er[Symbol.iterator]();!(e=(n=i.next()).done);e=!0){var o=n.value;tr(o)}}catch(e){t=!0,r=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw r}}},nr=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.threshold,i=void 0===n?100:n,o=r.scrollableElement,a=void 0===o?window:o,u=r.viewabilityOffset,s=void 0===u?.4:u;!function(e,t){if(!(e instanceof Element))throw new TypeError(\"Target is not an Element node\");if(!(t instanceof Function))throw new TypeError(\"Callback is not a function\")}(e,t);var c=i>0?Ht(rr):rr,l={callback:t,element:e,lastInViewport:!1,scrollableElement:a,viewabilityOffset:s};return tr(l),er.push(l),a.addEventListener(\"scroll\",c),1===er.length&&(window.addEventListener(\"resize\",c),window.addEventListener(\"orientationchange\",c),document.addEventListener(\"visibilitychange\",c)),function(){0===(er=er.filter(function(e){return e!==l})).length&&(window.removeEventListener(\"resize\",c),window.removeEventListener(\"orientationchange\",c),document.removeEventListener(\"visibilitychange\",c)),er.every(function(e){return e.scrollableElement!==a})&&a.removeEventListener(\"scroll\",c)}},ir=function(e){var t=0,r=0,n=function(){e.duration-t>3&&(e.pause(),e.play(),e.currentTime=t)},i=function(){var n=e.currentTime;Math.abs(n-t)>3?((r+=1)>=2&&e.pause(),e.currentTime=t):t=n};return e.addEventListener(\"timeupdate\",i),e.addEventListener(\"ended\",n),function(){e.removeEventListener(\"timeupdate\",i),e.removeEventListener(\"ended\",n)}},or=function(){function e(t){D(this,e),this.evts={},this.logger=t||console}return W(e,[{key:\"on\",value:function(e,t){var r=this.evts;return(r[e]||(r[e]=[])).push(t),this}},{key:\"removeListener\",value:function(e,t){var r=this.evts,n=r[e]||(r[e]=[]);return r[e]=n.filter(function(e){return e!==t&&e._!==t}),this}},{key:\"removeAllListeners\",value:function(e){return e?this.evts[e]=null:this.evts={},this}},{key:\"once\",value:function(e,t){var r=this,n=function n(){r.removeListener(e,n),t.apply(void 0,arguments)};return n._=t,this.on(e,n)}},{key:\"emit\",value:function(e){for(var t=this,r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var o=this.evts,a=o[e]||(o[e]=[]),u=a.length>0;return a.forEach(function(e){try{e.apply(void 0,n)}catch(e){t.logger.error(e,e.stack)}}),u}}]),e}(),ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.staticResource,r=e.htmlResource,n=e.iFrameResource;return t||r||n},ur=function(e){return 1===e.length?e[0]:function(e){var t=window.devicePixelRatio||0;return e.slice(0).sort(function(e,r){return Math.abs(t-(e.pxratio||0))-Math.abs(t-(r.pxratio||0))})}(e)[0]},sr=function(e){var t=e.map(function(e){return e.ad}).reduce(function(e,t){return[].concat(G(e),G(Y(t)||[]))},[]);return t.length>0?function(e){var t=function(e){return e.reduce(function(e,t){var r=t.program,n=void 0===r?\"UNKNOWN\":r;return e[n]||(e[n]=[]),e[n].push(t),e},{})}(e);return Object.keys(t).reduce(function(e,r){return[].concat(G(e),\"UNKNOWN\"===r?G(t.UNKNOWN):[ur(t[r])])},[])}(function(e){return t=ar,r={},e.filter(function(e){var n=t(e);return!r.hasOwnProperty(n)&&(r[n]=!0,!0)});var t,r}(t)):null},cr=function(e,t){var r=!0,n=new function e(){var t=this;D(this,e),this.promise=new Promise(function(e,r){t.resolve=e,t.reject=r})},i=n.promise,o=n.reject,a=n.resolve,u=ze(e,t,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];r=!1,a(t)});return{cancel:function(){r&&(r=!1,u(),o(new Error(\"waitFor was canceled\")))},promise:i}};!function(e){if(!e.fetch){var t={searchParams:\"URLSearchParams\"in e,iterable:\"Symbol\"in e&&\"iterator\"in Symbol,blob:\"FileReader\"in e&&\"Blob\"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:\"FormData\"in e,arrayBuffer:\"ArrayBuffer\"in e};if(t.arrayBuffer)var r=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],n=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=u(e),t=s(t);var r=this.map[e];this.map[e]=r?r+\",\"+t:t},l.prototype.delete=function(e){delete this.map[u(e)]},l.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},l.prototype.set=function(e,t){this.map[u(e)]=s(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=[\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"POST\",\"PUT\"];m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},v.call(m.prototype),v.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:\"\"});return e.type=\"error\",e};var a=[301,302,303,307,308];g.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError(\"Invalid status code\");return new g(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=m,e.Response=g,e.fetch=function(e,r){return new Promise(function(n,i){var o=new m(e,r),a=new XMLHttpRequest;a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||\"\",t=new l,e.replace(/\\r?\\n[\\t ]+/g,\" \").split(/\\r?\\n/).forEach(function(e){var r=e.split(\":\"),n=r.shift().trim();if(n){var i=r.join(\":\").trim();t.append(n,i)}}),t)};r.url=\"responseURL\"in a?a.responseURL:r.headers.get(\"X-Request-URL\");var i=\"response\"in a?a.response:a.responseText;n(new g(i,r))},a.onerror=function(){i(new TypeError(\"Network request failed\"))},a.ontimeout=function(){i(new TypeError(\"Network request failed\"))},a.open(o.method,o.url,!0),\"include\"===o.credentials?a.withCredentials=!0:\"omit\"===o.credentials&&(a.withCredentials=!1),\"responseType\"in a&&t.blob&&(a.responseType=\"blob\"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function u(e){if(\"string\"!=typeof e&&(e=String(e)),/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(e))throw new TypeError(\"Invalid character in header field name\");return e.toLowerCase()}function s(e){return\"string\"!=typeof e&&(e=String(e)),e}function c(e){var r={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(r[Symbol.iterator]=function(){return r}),r}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function d(e){if(e.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));e.bodyUsed=!0}function f(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if(\"string\"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&n(e))this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error(\"unsupported BodyInit type\");this._bodyArrayBuffer=p(e)}else this._bodyText=\"\";this.headers.get(\"content-type\")||(\"string\"==typeof e?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},t.blob&&(this.blob=function(){var e=d(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,r,n=d(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=f(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join(\"\")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function m(e,t){var r,n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw new TypeError(\"Already read\");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||\"omit\",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=t.method||this.method||\"GET\",n=r.toUpperCase(),o.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.referrer=null,(\"GET\"===this.method||\"HEAD\"===this.method)&&i)throw new TypeError(\"Body not allowed for GET or HEAD requests\");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split(\"&\").forEach(function(e){if(e){var r=e.split(\"=\"),n=r.shift().replace(/\\+/g,\" \"),i=r.join(\"=\").replace(/\\+/g,\" \");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function g(e,t){t||(t={}),this.type=\"default\",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=\"statusText\"in t?t.statusText:\"OK\",this.headers=new l(t.headers),this.url=t.url||\"\",this._initBody(e)}}(\"undefined\"!=typeof self?self:void 0);var lr,dr,fr,hr,pr=function(e){var t=e.toLowerCase();return[\"text/plain\",\"text/html\"].some(function(e){return t.includes(e)})},vr=(lr=N(h.mark(function e(t){var r,n,i,o;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(r=e.sent,n=r.headers.get(\"Content-Type\"),!(r.status>=400)){e.next=8;break}throw(i=new Error(r.statusText)).response=r,i;case 8:if(pr(n)){e.next=12;break}throw(o=new Error(\"fetchHtml error, invalid Content-Type \"+n)).response=r,o;case 12:return e.abrupt(\"return\",r.text());case 13:case\"end\":return e.stop()}},e,void 0)})),function(e){return lr.apply(this,arguments)}),mr=function(e,t){var r=t.staticResource,n=t.htmlResource,i=t.iFrameResource;return Boolean(r)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IMG\");return o&&(a.width=o),i&&(a.height=i),a.src=e,a}(r,{data:t,document:e}):Boolean(n)?function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"DIV\");return o&&(a.style.width=o+\"px\"),i&&(a.style.height=i+\"px\"),vr(e).then(function(e){a.innerHTML=e,a.dispatchEvent(new CustomEvent(\"load\"))}).catch(function(){a.dispatchEvent(new CustomEvent(\"error\"))}),a}(n,{data:t,document:e}):function(e,t){var r=t.document,n=t.data,i=n.height,o=n.width,a=r.createElement(\"IFRAME\");return a.src=e,a.sandbox=\"allow-forms allow-popups allow-scripts\",o&&(a.width=o),i&&(a.height=i),a.src=e,a.frameBorder=0,a.style.border=\"none\",a}(i,{data:t,document:e})},yr=function(){},gr=function(e,t){var r=t.document,n=t.placeholder;return new Promise(function(t,i){try{var o=mr(r,e),a=cr(o,\"error\"),u=cr(o,\"load\"),s=function(){n.contains(o)&&(n.removeChild(o),o.style.zIndex=0)};a.promise.then(function(){u.cancel(),s(),i(new Error(\"Error loading resource\"))}).catch(yr),u.promise.then(function(){a.cancel(),s(),t(o)}).catch(yr),o.style.zIndex=-9999,n.appendChild(o)}catch(e){i(e)}})},wr=function(e,t,r){var n,i,o,a=r.drawnIcons,u=r.placeholder,s=e.signature,c=t.getBoundingClientRect(),l=u.getBoundingClientRect(),d=e.width||c.width,f=e.height||c.height,h=e.xPosition||\"right\",p=e.yPosition||\"top\",v=void 0,m=void 0;if(function(e){return![\"left\",\"right\"].includes(String(e).toLowerCase())}(h))v=h;else{var y=a.filter(function(e){return e.xPosition===h&&e.yPosition===p});v=function(e,t,r,n){var i=r.reduce(function(e,t){return e+t.width+1},0);return\"left\"===e?i:n-i-t}(h,d,y,l.width)}!function(e){return![\"top\",\"bottom\"].includes(String(e).toLowerCase())}(p)?(n=p,i=f,o=l.height,m=\"top\"===n?0:o-i):m=p;var g=v+\"-\"+m+\"_\"+d+\"x\"+f;return Object.assign(e,{height:f,left:v,signature:g,top:m,updated:s!==g,width:d})},br=function(e){return e.height*e.width},Er=function(e){return e.left+e.width},kr=function(e){var t=e.left;return t},Ar=function(e){var t=e.top;return t},xr=function(e){return e.top+e.height},Cr=function(e,t){return!t.drawnIcons.some(function(t){return function(e,t){return!(kr(e)>Er(t)||Er(e)<kr(t)||xr(e)<Ar(t)||Ar(e)>xr(t))}(e,t)})},Tr=function(e,t){var r=function(e,t){var r=t.drawnIcons,n=t.placeholder,i=br(n.getBoundingClientRect());return br(e)+r.reduce(function(e,t){return e+br(t)},0)<=.35*i}(e,t),n=function(e,t){var r=t.placeholder.getBoundingClientRect();return e.left>=0&&e.left+e.width<=r.width&&e.top>=0&&e.top+e.height<=r.height}(e,t),i=Cr(e,t);return r&&n&&i},Pr=function(){},Ir=function(e,t){var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).onIconClick,n=void 0===r?Pr:r,i=document.createElement(\"A\");return t.iconClickthrough&&(i.href=t.iconClickthrough,i.target=\"_blank\"),Boolean(t.iFrameResource)&&(e.style.pointerEvents=\"none\"),i.onclick=function(e){void 0!==Event.prototype.stopPropagation&&e.stopPropagation(),n(t)},i.appendChild(e),i},Sr=(dr=N(h.mark(function e(t,r){var n;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.element){e.next=9;break}return e.next=3,gr(t,r);case 3:(n=e.sent).width=\"100%\",n.height=\"100%\",n.style.height=\"100%\",n.style.width=\"100%\",t.element=Ir(n,t,r);case 9:return e.abrupt(\"return\",t.element);case 10:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return dr.apply(this,arguments)}),Lr=function(e,t){var r=t.height,n=t.width,i=t.left,o=t.top,a=t.yPosition;return e.height=r,e.width=n,e.style.position=\"absolute\",e.style.left=i+\"px\",\"bottom\"===a?e.style.bottom=\"0\":e.style.top=o+\"px\",e.style.height=r+\"px\",e.style.width=n+\"px\",e},Or=(fr=N(h.mark(function e(t,r){var n,i,o;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.placeholder,e.next=3,Sr(t,r);case 3:if(i=e.sent,o=wr(t,i,r),!Tr(o,r)){e.next=9;break}i.parentNode&&!t.updated||n.appendChild(Lr(i,o)),e.next=11;break;case 9:throw i.parentNode&&i.parentNode.removeChild(i),new Error(\"Icon can't be rendered\");case 11:return e.abrupt(\"return\",o);case 12:case\"end\":return e.stop()}},e,void 0)})),function(e,t){return fr.apply(this,arguments)}),Fr=function(e,t){var r=t.onIconClick,n=t.videoAdContainer,i=t.logger,o=n.element,a=n.videoElement,u=[],s=e.reduce(function(e,t){return!function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.offset||0,o=e.duration||n;return i<=r&&r-i<=o}(t,a)?e.otherIcons.push(t):e.iconsToShow.push(t),e},{iconsToShow:[],otherIcons:[]}),c=s.iconsToShow;return s.otherIcons.forEach(function(e){var t=e.element;t&&t.parentNode&&t.parentNode.removeChild(t)}),c.reduce(function(e,t){return e.then(function(){return Or(t,{document:document,drawnIcons:u,onIconClick:r,placeholder:o})}).then(function(e){return u.push(e)}).catch(function(e){return i.log(e)})},Promise.resolve(u)).then(function(){return u})},Rr=Symbol(\"firstRenderPending\"),Vr=function(){},Ur=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.videoAdContainer,i=r.onIconView,o=void 0===i?Vr:i,a=r.onIconClick,u=void 0===a?Vr:a,s=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(r,[\"videoAdContainer\",\"onIconView\",\"onIconClick\"]),c=n.videoElement,l=n.element,d=(t=N(h.mark(function t(){var r;return h.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Fr(e,z({onIconClick:u,videoAdContainer:n},s));case 2:r=t.sent,l.dispatchEvent(new CustomEvent(\"iconsDrawn\")),r.forEach(function(e){e[Rr]&&(o(e),e[Rr]=!1)});case 5:case\"end\":return t.stop()}},t,void 0)})),function(){return t.apply(this,arguments)});return e.forEach(function(e){e[Rr]=!0}),{drawIcons:d,hasPendingIconRedraws:function(){return function(e,t){var r=1e3*t.currentTime,n=1e3*t.duration,i=e.filter(function(e){return!e.offset||e.offset<r}),o=e.filter(function(e){return e.duration&&e.duration<n});return i.length>0||o.length>0}(e,c)},removeIcons:function(){return function(e){return e.filter(function(e){var t=e.element;return Boolean(t)&&Boolean(t.parentNode)}).forEach(function(e){var t=e.element;return t.parentNode.removeChild(t)})}(e)}}},_r=function(e,t){return e+100>innerWidth&&t+100>innerHeight?\"fullscreen\":e<400?\"thumbnail\":\"normal\"},Br=p.start,Mr=p.iconClick,jr=p.iconView,Nr=Symbol(\"_protected\"),Dr=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.viewability,o=void 0!==i&&i,a=n.responsive,u=void 0!==a&&a,s=n.logger,c=void 0===s?console:s;D(this,t);var l=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c));l[Nr]={finish:function(){l[Nr].finished=!0,l[Nr].onFinishCallbacks.forEach(function(e){return e()}),l.emit(ot,{adUnit:l,type:ot})},finished:!1,onErrorCallbacks:[],onFinishCallbacks:[],started:!1,throwIfCalled:function(){throw new Error(\"VideoAdUnit method must be implemented on child class\")},throwIfFinished:function(){if(l.isFinished())throw new Error(\"VideoAdUnit is finished\")}},l.type=null,l.error=null,l.errorCode=null;var d=l[Nr].onFinishCallbacks;if(l.vastChain=e,l.videoAdContainer=r,l.icons=sr(e),d.push(ir(l.videoAdContainer.videoElement)),l.icons){var f=Ur(l.icons,{logger:c,onIconClick:function(e){return l.emit(Mr,{adUnit:l,data:e,type:Mr})},onIconView:function(e){return l.emit(jr,{adUnit:l,data:e,type:jr})},videoAdContainer:r}),h=f.drawIcons,p=f.hasPendingIconRedraws,v=f.removeIcons;l[Nr].drawIcons=h,l[Nr].removeIcons=v,l[Nr].hasPendingIconRedraws=p,d.push(v)}return o&&l.once(Br,function(){var e=nr(l.videoAdContainer.element,function(e){l.isFinished()||(e?l.resume():l.pause())});d.push(e)}),u&&l.once(Br,function(){var e=l.videoAdContainer.element;l[Nr].size={height:e.clientHeight,viewmode:_r(e.clientWidth,e.clientHeight),width:e.clientWidth};var t=Zt(e,function(){if(!l.isFinished()){var t=l[Nr].size,r=e.clientHeight,n=e.clientWidth;r===t.height&&n===t.width||l.resize(n,r,_r(n,r))}});d.push(t)}),l}return $(t,or),W(t,[{key:\"start\",value:function(){this[Nr].throwIfCalled()}},{key:\"resume\",value:function(){this[Nr].throwIfCalled()}},{key:\"pause\",value:function(){this[Nr].throwIfCalled()}},{key:\"setVolume\",value:function(e){this[Nr].throwIfCalled()}},{key:\"getVolume\",value:function(){this[Nr].throwIfCalled()}},{key:\"cancel\",value:function(){this[Nr].throwIfCalled()}},{key:\"duration\",value:function(){this[Nr].throwIfCalled()}},{key:\"paused\",value:function(){this[Nr].throwIfCalled()}},{key:\"currentTime\",value:function(){this[Nr].throwIfCalled()}},{key:\"onFinish\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Nr].onFinishCallbacks.push($e(e,this.logger))}},{key:\"onError\",value:function(e){if(\"function\"!=typeof e)throw new TypeError(\"Expected a callback function\");this[Nr].onErrorCallbacks.push($e(e,this.logger))}},{key:\"isFinished\",value:function(){return this[Nr].finished}},{key:\"isStarted\",value:function(){return this[Nr].started}},{key:\"resize\",value:function(){var e=N(h.mark(function e(t,r,n){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].size={height:r,viewmode:n,width:t},!this.isStarted()||this.isFinished()||!this.icons){e.next=6;break}return e.next=4,this[Nr].removeIcons();case 4:return e.next=6,this[Nr].drawIcons();case 6:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Wr=p.complete,Hr=p.error,zr=p.skip,qr=Symbol(\"_private\"),$r=function(e){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t);var i=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,n));i[qr]={handleMetric:function(e,t){switch(e){case Wr:i[Nr].finish();break;case Hr:i.error=t,i.errorCode=i.error&&i.error.code?i.error.code:405,i[Nr].onErrorCallbacks.forEach(function(e){return e(i.error,{adUnit:i,vastChain:i.vastChain})}),i[Nr].finish();break;case zr:i.cancel()}i.emit(e,{adUnit:i,type:e})}},i.assetUri=null,i.type=\"VAST\";var o=i[Nr].onFinishCallbacks,a=i[qr].handleMetric;i.hooks=n.hooks||{};var u=xt({hooks:i.hooks,vastChain:i.vastChain,videoAdContainer:i.videoAdContainer},a);return o.push(u),i}return $(t,Dr),W(t,[{key:\"start\",value:function(){var e=N(h.mark(function e(){var t,r,n,i,o,a,u,s=this;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VastAdUnit already started\");case 3:if(t=this.vastChain[0].ad,r=this.videoAdContainer,n=r.videoElement,i=r.element,o=He(t,n,i),!Boolean(o)){e.next=16;break}if(!this.icons){e.next=11;break}return a=function(){var e=N(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,s[Nr].drawIcons();case 4:s[Nr].hasPendingIconRedraws()&&!s.isFinished()&&ze(n,\"timeupdate\",a);case 5:case\"end\":return e.stop()}},e,s)}));return function(){return e.apply(this,arguments)}}(),e.next=11,a();case 11:n.src=o.src,this.assetUri=o.src,n.play(),e.next=19;break;case 16:(u=new Error(\"Can't find a suitable media to play\")).code=403,this[qr].handleMetric(Hr,u);case 19:this[Nr].started=!0;case 20:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){return this.videoAdContainer.videoElement.play()}},{key:\"pause\",value:function(){this.videoAdContainer.videoElement.pause()}},{key:\"paused\",value:function(){return this.videoAdContainer.videoElement.paused}},{key:\"setVolume\",value:function(e){this.videoAdContainer.videoElement.volume=e}},{key:\"getVolume\",value:function(){return this.videoAdContainer.videoElement.volume}},{key:\"cancel\",value:function(){this[Nr].throwIfFinished(),this.videoAdContainer.videoElement.pause(),this[Nr].finish()}},{key:\"duration\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.duration:0}},{key:\"currentTime\",value:function(){return this.isStarted()?this.videoAdContainer.videoElement.currentTime:0}},{key:\"resize\",value:function(){var e=N(h.mark(function e(r,n,i){var o,a,u,s,c;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:this.isStarted()&&!this.isFinished()&&(o=this.vastChain[0].ad,a=this.videoAdContainer,u=a.videoElement,s=a.element,c=He(o,u,s),Boolean(c)&&u.src!==c.src&&Ct(u,c));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),Xr=[\"text/javascript\",\"text/javascript1.0\",\"text/javascript1.2\",\"text/javascript1.4\",\"text/jscript\",\"application/javascript\",\"application/x-javascript\",\"text/ecmascript\",\"text/ecmascript1.0\",\"text/ecmascript1.2\",\"text/ecmascript1.4\",\"text/livescript\",\"application/ecmascript\",\"application/x-ecmascript\"],Qr=function(e){var t=e.type;return Xr.some(function(e){return e===t})},Gr=function(){var e=N(h.mark(function e(t,r){var n,i,o,a;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(ve(t[0].ad)||[]).filter(Qr)[0]){e.next=3;break}throw new TypeError(\"VastChain does not contain a supported vpaid creative\");case 3:return i=n.src,o=n.type,e.next=6,r.addScript(i,{type:o});case 6:return a=r.executionContext,e.abrupt(\"return\",a.getVPAIDAd());case 8:case\"end\":return e.stop()}},e,void 0)}));return function(t,r){return e.apply(this,arguments)}}(),Kr=\"AdStarted\",Jr=\"AdStopped\",Yr=\"AdSkipped\",Zr=\"AdDurationChange\",en=\"AdRemainingTimeChange\",tn=\"AdVolumeChange\",rn=\"AdImpression\",nn=\"AdVideoStart\",on=\"AdVideoFirstQuartile\",an=\"AdVideoMidpoint\",un=\"AdVideoThirdQuartile\",sn=\"AdVideoComplete\",cn=\"AdClickThru\",ln=\"AdUserAcceptInvitation\",dn=\"AdUserMinimize\",fn=\"AdUserClose\",hn=\"AdPaused\",pn=\"AdPlaying\",vn=\"AdError\",mn=function(e,t,r){return new Promise(function(n,i){var o=void 0,a=function i(){\"number\"==typeof r&&clearTimeout(o),e.unsubscribe(i,t),n()};\"number\"==typeof r&&(o=setTimeout(function(){e.unsubscribe(a,t),i(new Error(\"Timeout waiting for event '\"+t+\"'\"))},r)),e.subscribe(a,t)})},yn=function(e,t,r){for(var n=arguments.length,i=Array(n>3?n-3:0),o=3;o<n;o++)i[o-3]=arguments[o];var a=mn(e,r,5e3);return e[t].apply(e,i),a},gn=function(e){var t=e.split(\".\");return parseInt(t[0],10)},wn=function(e,t){var r=e.handshakeVersion(t);if(!function(e,t){var r=gn(t);return!(r<1)&&r<=gn(e)}(t,r))throw new Error(\"Creative Version '\"+r+\"' not supported\");return r},bn=function(e,t,r){var n=t.element,i=n.getBoundingClientRect(),o=i.width,a=i.height,u=_r(o,a),s={slot:function(e,t,r){var n=document.createElement(\"DIV\");return Object.assign(n.style,{border:\"0px\",cursor:\"pointer\",height:r+\"px\",left:\"0px\",margin:\"0px\",padding:\"0px\",position:\"absolute\",top:\"0px\",width:t+\"px\"}),e.appendChild(n),n}(n,o,a),videoSlot:t.videoElement,videoSlotCanAutoPlay:t.isOriginalVideoElement},c=Ee(r[0].XML);e.initAd(o,a,u,-1,c,s)},En=p.complete,kn=p.mute,An=p.unmute,xn=p.skip,Cn=p.start,Tn=p.firstQuartile,Pn=p.pause,In=p.resume,Sn=p.impression,Ln=p.midpoint,On=p.thirdQuartile,Fn=p.clickThrough,Rn=p.error,Vn=p.closeLinear,Un=[\"AdLoaded\",Kr,Jr,Yr,\"AdSkippableStateChange\",\"AdSizeChange\",\"AdLinearChange\",Zr,\"AdExpandedChange\",en,tn,rn,nn,on,an,un,sn,cn,\"AdInteraction\",ln,dn,fn,hn,pn,\"AdLog\",vn].filter(function(e){return\"AdLoaded\"!==e}),_n=Symbol(\"_private\"),Bn=function(e){var t=e instanceof Error&&e||\"string\"==typeof e&&new Error(e)||new Error(\"VPAID general error\");return t.payload=e,t.code||(t.code=901),t},Mn=function(e){function t(e,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,t);var o=X(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r,i));return o[_n]={evtHandler:(n={},H(n,cn,function(e,t,r){if(r)if(o.paused())o.resume();else{var n=\"string\"==typeof e&&e.length>0?e:ye(o.vastChain[0].ad);o.pause(),window.open(n,\"_blank\")}o.emit(Fn,{adUnit:o,type:Fn})}),H(n,Zr,function(){o.emit(at,{adUnit:o,type:at})}),H(n,vn,function(e){o.error=Bn(e),o.errorCode=o.error.code,o[Nr].onErrorCallbacks.forEach(function(e){return e(o.error,{adUnit:o,vastChain:o.vastChain})}),o[Nr].finish(),o.emit(Rn,{adUnit:o,type:Rn})}),H(n,rn,function(){o[_n].videoStart||o[_n].handleVpaidEvt(nn),o.emit(Sn,{adUnit:o,type:Sn})}),H(n,hn,function(){o[_n].paused=!0,o.emit(Pn,{adUnit:o,type:Pn})}),H(n,pn,function(){o[_n].paused=!1,o.emit(In,{adUnit:o,type:In})}),H(n,en,function(){o.emit(at,{adUnit:o,type:at})}),H(n,Yr,function(){o.cancel(),o.emit(xn,{adUnit:o,type:xn})}),H(n,Kr,function(){o.emit(y,{adUnit:o,type:y})}),H(n,Jr,function(){o.emit(Jr,{adUnit:o,type:Jr}),o[Nr].finish()}),H(n,ln,function(){o.emit(v,{adUnit:o,type:v})}),H(n,fn,function(){o.emit(Vn,{adUnit:o,type:Vn}),o[Nr].finish()}),H(n,dn,function(){o.emit(m,{adUnit:o,type:m})}),H(n,sn,function(){o.emit(En,{adUnit:o,type:En}),o[Nr].finish()}),H(n,on,function(){o.emit(Tn,{adUnit:o,type:Tn})}),H(n,an,function(){o.emit(Ln,{adUnit:o,type:Ln})}),H(n,nn,function(){o[_n].videoStart||(o[_n].videoStart=!0,o[_n].paused=!1,o.emit(Cn,{adUnit:o,type:Cn}))}),H(n,un,function(){o.emit(On,{adUnit:o,type:On})}),H(n,tn,function(){var e=o.getVolume();o.emit(it,{adUnit:o,type:it}),0!==e||o[_n].muted||(o[_n].muted=!0,o.emit(kn,{adUnit:o,type:kn})),e>0&&o[_n].muted&&(o[_n].muted=!1,o.emit(An,{adUnit:o,type:An}))}),n),handleVpaidEvt:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=o[_n].evtHandler[e];i&&i.apply(void 0,r),o.emit(e,{adUnit:o,type:e})},muted:!1,paused:!0},o.type=\"VPAID\",o.creativeAd=null,o[_n].loadCreativePromise=Gr(e,r),o}return $(t,Dr),W(t,[{key:\"start\",value:function(){var e=N(h.mark(function e(){var t,r,n,i,o,a,u,s,c,l=this;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this[Nr].throwIfFinished(),!this.isStarted()){e.next=3;break}throw new Error(\"VpaidAdUnit already started\");case 3:return e.prev=3,e.next=6,this[_n].loadCreativePromise;case 6:for(this.creativeAd=e.sent,t=mn(this.creativeAd,\"AdLoaded\"),r=!0,n=!1,i=void 0,e.prev=11,o=Un[Symbol.iterator]();!(r=(a=o.next()).done);r=!0)u=a.value,this.creativeAd.subscribe(this[_n].handleVpaidEvt.bind(this,u),u);e.next=19;break;case 15:e.prev=15,e.t0=e.catch(11),n=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&o.return&&o.return();case 22:if(e.prev=22,!n){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:return this.creativeAd.getAdIcons&&!this.creativeAd.getAdIcons()&&(this.icons=null),wn(this.creativeAd,\"2.0\"),bn(this.creativeAd,this.videoAdContainer,this.vastChain),e.next=32,t;case 32:if(this.videoAdContainer.isDestroyed()){e.next=48;break}return e.prev=33,(s=this.videoAdContainer.videoElement).muted?(this[_n].muted=!0,this.setVolume(0)):this.setVolume(s.volume),e.next=38,yn(this.creativeAd,\"startAd\",Kr);case 38:if(!this.icons){e.next=42;break}return c=function(){var e=N(h.mark(function e(){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isFinished()){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,l[Nr].drawIcons();case 4:l[Nr].hasPendingIconRedraws()&&!l.isFinished()&&setTimeout(c,500);case 5:case\"end\":return e.stop()}},e,l)}));return function(){return e.apply(this,arguments)}}(),e.next=42,c();case 42:this[Nr].started=!0,e.next=48;break;case 45:e.prev=45,e.t1=e.catch(33),this.cancel();case 48:return e.abrupt(\"return\",this);case 51:throw e.prev=51,e.t2=e.catch(3),this[_n].handleVpaidEvt(vn,e.t2),e.t2;case 55:case\"end\":return e.stop()}},e,this,[[3,51],[11,15,19,27],[20,,22,26],[33,45]])}));return function(){return e.apply(this,arguments)}}()},{key:\"resume\",value:function(){this.creativeAd.resumeAd()}},{key:\"pause\",value:function(){this.creativeAd.pauseAd()}},{key:\"paused\",value:function(){return this.isFinished()||this[_n].paused}},{key:\"setVolume\",value:function(e){this.creativeAd.setAdVolume(e)}},{key:\"getVolume\",value:function(){return this.creativeAd.getAdVolume()}},{key:\"cancel\",value:function(){var e=N(h.mark(function e(){var t;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this[Nr].throwIfFinished(),e.prev=1,t=mn(this.creativeAd,Jr,3e3),this.creativeAd.stopAd(),e.next=6,t;case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this[Nr].finish();case 11:case\"end\":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:\"duration\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdDuration();return e<0?0:e}},{key:\"currentTime\",value:function(){if(!this.creativeAd)return 0;var e=this.creativeAd.getAdRemainingTime();return e<0?0:this.duration()-e}},{key:\"resize\",value:function(){var e=N(h.mark(function e(r,n,i){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),\"resize\",this).call(this,r,n,i);case 2:return e.abrupt(\"return\",yn(this.creativeAd,\"resizeAd\",\"AdSizeChange\",r,n,i));case 3:case\"end\":return e.stop()}},e,this)}));return function(t,r,n){return e.apply(this,arguments)}}()}]),t}(),jn=function(e,t,r){var n=r.tracker,i=\"VPAID\"===r.type?new Mn(e,t,r):new $r(e,t,r);return Object.values(p).forEach(function(t){return i.on(t,function(t){var r=t.type,o={data:t.data,errorCode:i.errorCode,tracker:n};!function(e,t,r){var n=r.data,i=r.errorCode,o=r.tracker,a=void 0===o?xe:o,u=r.logger,s=void 0===u?console:u,c=Ie[e];c?c(t,{data:z({},n,{errorCode:i}),errorCode:i,tracker:a}):s.error(\"Event '\"+e+\"' cannot be tracked\")}(r,e,o)})}),Object.values(g).forEach(function(t){return i.on(t,function(t){var r={data:t.data,tracker:n};!function(e,t,r){var n=r.data,i=r.tracker,o=void 0===i?xe:i,a=r.logger,u=void 0===a?console:a,s=Le[e];s?s(t,{data:z({},n),tracker:o}):u.error(\"Event '\"+e+\"' cannot be tracked\")}(t.type,e,r)})}),i},Nn=function(e,t){if(!Array.isArray(e)||0===e.length)throw new TypeError(\"Invalid vastChain\");if(!(t instanceof Ne))throw new TypeError(\"Invalid VideoAdContainer\")},Dn=function(e,t){var r=he(e);return!!r&&r.some(function(e){return We(t,e)})},Wn=function(e,t){var r=t.onAdReady;return new Promise(function(t,n){var i=function(e){return function(){return n(new Error(\"Ad unit start rejected due to event '\"+e+\"'\"))}};e.onError(n),e.on(\"start\",function(){return t(e)}),e.on(fn,i(fn)),e.on(\"closeLinear\",i(\"closeLinear\")),e.on(Jr,i(Jr)),r(e),e.start()})},Hn=function(e,t,r){if(n=e[0].ad,!Boolean(ve(n)))throw new Error(\"No valid creative found in the passed VAST chain\");var n,i=jn(e,t,z({},r,{type:\"VPAID\"}));return Wn(i,r)},zn=function(e,t,r){var n=jn(e,t,z({},r,{type:\"VAST\"}));return Wn(n,r)},qn=function(){var e=N(h.mark(function e(t,r,n){return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Nn(t,r),e.prev=1,e.next=4,Hn(t,r,n);case 4:return e.abrupt(\"return\",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!Dn(t[0].ad,r.videoElement)){e.next=11;break}return e.abrupt(\"return\",zn(t,r,n));case 11:throw e.t0;case 12:case\"end\":return e.stop()}},e,void 0,[[1,7]])}));return function(t,r,n){return e.apply(this,arguments)}}(),$n=function(){var e=N(h.mark(function e(t,r,n){var i,o,a,u,s,c,l;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=void 0,e.prev=1,o=n.timeout,i=De(r,n.videoElement),a=qn(t,i,n),\"number\"==typeof o&&(u=!1,s=void 0,c=new Promise(function(e,r){s=setTimeout(function(){var e=n.tracker;Ce(t,{errorCode:402,tracker:e}),u=!0,r(new Error(\"Timeout while starting the ad\"))},n.timeout)}),a=Promise.race([a.then(function(e){return u?e.isStarted()&&e.cancel():clearTimeout(s),e}),c])),e.next=8,a;case 8:return(l=e.sent).onFinish(function(){i.destroy()}),e.abrupt(\"return\",l);case 13:throw e.prev=13,e.t0=e.catch(1),i&&i.destroy(),e.t0;case 17:case\"end\":return e.stop()}},e,void 0,[[1,13]])}));return function(t,r,n){return e.apply(this,arguments)}}(),Xn=function(){var e=N(h.mark(function e(t){var r,n,i,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={credentials:\"include\"},n=Object.assign({},r,a),e.next=4,window.fetch(t,n);case 4:if(!((i=e.sent).status>=400)){e.next=9;break}throw(o=new Error(i.statusText)).response=i,o;case 9:return e.abrupt(\"return\",i);case 10:case\"end\":return e.stop()}},e,void 0)}));return function(t){return e.apply(this,arguments)}}(),Qn=Symbol(\"requested\"),Gn=function(e){e[Qn]=!0},Kn=function(e,t){var r=t.wrapperLimit,n=void 0===r?5:r;if(e.length>n){var i=new Error(\"Wrapper Limit reached\");throw i.code=304,i}},Jn=function(){var e=N(h.mark(function e(t,r){var n,i;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xn(t,r);case 3:return n=e.sent,e.next=6,n.text();case 6:return i=e.sent,e.abrupt(\"return\",i);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.code=502,e.t0;case 14:case\"end\":return e.stop()}},e,void 0,[[0,10]])}));return function(t,r){return e.apply(this,arguments)}}(),Yn=function(e){try{return V(e)}catch(e){throw e.code=100,e}},Zn=function(e){try{var t=ae(e);if(Boolean(t))return Gn(t),t;throw new Error(\"No Ad\")}catch(e){throw e.code=303,e}},ei=function(e,t){var r=e.ad,n=e.parsedXML,i=t.allowMultipleAds,o=void 0===i||i,a=t.followAdditionalWrappers,u=void 0===a||a;if(!ue(r)&&!se(r)){var s=new Error(\"Invalid VAST, ad contains neither Wrapper nor Inline\");throw s.code=101,s}if(oe(n)&&!o){var c=new Error(\"Multiple ads are not allowed\");throw c.code=203,c}if(ue(r)&&!u){var l=new Error(\"To follow additional wrappers is not allowed\");throw l.code=200,l}},ti=function(e,t){var r=e[0],n=Boolean(r)&&ue(r.ad)?le(r.ad):{};return z({},n,t)},ri=(hr=N(h.mark(function e(t,r){var n,i,o,a,u,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={ad:null,errorCode:null,parsedXML:null,requestTag:t,XML:null},i=void 0,o=void 0,a=void 0,e.prev=4,i=ti(s,r),Kn(s,i),u=Jn(t,i),\"number\"==typeof i.timeout&&(a=i.timeout,o=Date.now(),u=Promise.race([u,new Promise(function(e,t){setTimeout(function(){var e=new Error(\"RequestAd timeout\");e.code=301,t(e)},a)})])),e.next=11,u;case 11:if(n.XML=e.sent,n.parsedXML=Yn(n.XML),n.ad=Zn(n.parsedXML),ei(n,i),!ue(n.ad)){e.next=18;break}return o&&(a-=Date.now()-o),e.abrupt(\"return\",ri(ce(n.ad),z({},i,{timeout:a}),[n].concat(G(s))));case 18:return e.abrupt(\"return\",[n].concat(G(s)));case 21:return e.prev=21,e.t0=e.catch(4),Number.isInteger(e.t0.code)||(e.t0.code=900),n.errorCode=e.t0.code,n.error=e.t0,e.abrupt(\"return\",[n].concat(G(s)));case 27:case\"end\":return e.stop()}},e,void 0,[[4,21]])})),function(e,t){return hr.apply(this,arguments)}),ni=function(e,t){var r=e.ad,n=e.parsedXML,i=t.fallbackOnNoAd,o=void 0===i||i,a=t.useAdBuffet,u=void 0!==a&&a,s=te(n).filter(function(e){return!Boolean(e[Qn])}),c=null;return oe(n)?(u&&(c=s.filter(function(e){return!ie(e)})[0]),c||(c=function(e,t){var r=ne(e)+1;return t.find(function(e){return ne(e)===r})||null}(r,s))):s.length>0&&o&&(c=s[0]),c},ii=function e(t,r){!function(e){if(!Array.isArray(e))throw new TypeError(\"Invalid VAST chain\");if(0===e.length)throw new Error(\"No next ad to request\")}(t);var n=t[0],i=ni(n,r);if(Boolean(i)){var o=[Object.assign({},n,{ad:i})].concat(G(t.slice(1)));return Gn(i),ue(i)?ri(ce(i),r,o):Promise.resolve(o)}return e(t.slice(1),r)},oi=function(e,t){if(!e||0===e.length)throw new Error(\"Invalid VastChain\");var r=e[0];if(!t.vpaidEnabled&&function(e){return Boolean(ve(e[0].ad))}(e)){var n=new Error(\"VPAID ads are not supported by the current player\");n.code=200,r.errorCode=200,r.error=n}if(Boolean(r.error))throw r.error;t.hooks&&\"function\"==typeof t.hooks.validateVastResponse&&t.hooks.validateVastResponse(e)},ai=function(e){return function(){\"function\"==typeof e&&e.apply(void 0,arguments)}},ui=function(e,t){return e&&e[0]&&e[0].errorCode||t.code},si=function(e,t){var r=t.hooks;return r&&\"function\"==typeof r.transformVastResponse?r.transformVastResponse(e):e},ci=function(){var e=N(h.mark(function e(t,r,n,i){var o,a,u,s,c,l,d,f,p,v;return h.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0,a=void 0,u=void 0,s=z({},n),c=s.onAdStart,l=s.onError,d=s.onRunFinish,e.prev=5,\"number\"==typeof s.timeout&&(a=Date.now()),e.next=9,t();case 9:if(o=e.sent,!i()){e.next=13;break}return d(),e.abrupt(\"return\");case 13:return a&&(f=Date.now(),s.timeout-=f-a,a=f),oi(o,s),e.next=17,$n(si(o,s),r,z({},s));case 17:if(u=e.sent,!i()){e.next=22;break}return u.cancel(),d(),e.abrupt(\"return\");case 22:u.onError(l),u.onFinish(d),c(u),e.next=38;break;case 27:if(e.prev=27,e.t0=e.catch(5),p=ui(o,e.t0),Boolean(p)&&(v=n.tracker,Ce(o,{errorCode:p,tracker:v})),l(e.t0,{adUnit:u,vastChain:o}),!o||i()){e.next=37;break}if(a&&(s.timeout-=Date.now()-a),a&&!(s.timeout>0)){e.next=37;break}return ci(function(){return ii(o,s)},r,z({},s),i),e.abrupt(\"return\");case 37:d();case 38:case\"end\":return e.stop()}},e,void 0,[[5,27]])}));return function(t,r,n,i){return e.apply(this,arguments)}}(),li=function(e,t){var r=e&&P(e,t);if(r)return L(r)},di=function e(t){var r=function(e){var t=S(e);return t&&P(t,\"Pricing\")}(t[0].ad);return r?{pricing:L(r),pricingCurrency:F(r,\"currency\"),pricingModel:F(r,\"model\")}:t.length>1?e(t.slice(1)):{}};r.getDetails=function(e){var t,r,n,i,o,a=e.map(function(e){var t=e.ad;return F(t,\"id\")}),u=e.map(function(e){return function(e){var t=S(e),r=t&&P(t,\"AdSystem\");if(r)return L(r)}(e.ad)}),s=e.map(function(e){var t=e.ad;return B(t)}).filter(function(e){return Boolean(e)}),c=s.map(function(e){return F(e,\"id\")}),l=s.map(function(e){return F(e,\"adId\")}),d=di(e),f=d.pricing,h=d.pricingCurrency,p=d.pricingModel,v=(t=e[0].ad,r=P(t,\"InLine\"),(n=r&&P(r,\"Category\"))?{category:L(n),categoryAuthority:F(n,\"authority\")}:{}),m=v.category,y=v.categoryAuthority,g=S(e[0].ad),w=B(e[0].ad),b=w&&P(w,\"Linear\"),E=li(g,\"AdServingId\"),k=(i=e[0].parsedXML,(o=i&&P(i,\"VAST\"))?F(o,\"version\"):\"unknown\"),A=li(g,\"Advertiser\"),x=li(g,\"AdTitle\"),C=li(g,\"Description\"),T=li(b,\"Duration\"),I=T&&U(T),O=void 0,R=[],V=void 0,_=[],M=void 0,j=[],N=void 0,D=[],W=void 0,H=void 0,z=void 0,q=void 0,$=[],X=void 0,G=void 0,K=void 0,J=void 0;if(se(e[0].ad)){var Y=Q(a);O=Y[0],R=Y.slice(1);var Z=Q(u);V=Z[0],_=Z.slice(1);var ee=Q(c);M=ee[0],j=ee.slice(1);var te=Q(l);N=te[0],D=te.slice(1),W=ye(e[0].ad),H=Ee(e[0].XML);var re=P(w,\"UniversalAdId\");z=L(re),q=F(re,\"idRegistry\"),$=he(e[0].ad),X=Boolean(ve(e[0].ad)),K=F(b,\"skipoffset\"),J=U(K),G=Boolean(K)}else ue(e[0].ad)&&(R=a,_=u,j=c,D=l);return{adId:O,adServingId:E,adSystem:V,adTitle:x,advertiser:A,adWrapperCreativeAdIds:D,adWrapperCreativeIds:j,adWrapperIds:R,adWrapperSystems:_,category:m,categoryAuthority:y,clickThroughUrl:W,creativeAdId:N,creativeData:H,creativeId:M,description:C,duration:T,durationInMs:I,mediaFiles:$,pricing:f,pricingCurrency:h,pricingModel:p,skipOffset:K,skipOffsetInMs:J,skippable:G,universalAdId:z,universalAdIdRegistry:q,vastVersion:k,vpaid:X}},r.run=$n,r.runWaterfall=function(e,t,r){var n=!1,i=null,o=ai(r.onAdStart),a=z({vpaidEnabled:!0},r,{onAdReady:ai(r.onAdReady),onAdStart:function(e){o(i=e)},onError:ai(r.onError),onRunFinish:ai(r.onRunFinish)});return r.videoElement&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&r.videoElement.load(),ci(function(){return ri(e,a)},t,a,function(){return n}),function(){n=!0,i&&!i.isFinished()&&i.cancel()}},r.requestAd=ri,r.requestNextAd=ii,r.vastSelectors=ke,e.exports.addOnSkipWrapper=function(e){At[At.indexOf(rt)]=e(rt),rt=e(rt)}}(r={exports:{}},r.exports),r.exports),o=(n=i)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,\"default\")?n.default:n;i.getDetails,i.run,i.runWaterfall,i.requestAd,i.requestNextAd,i.vastSelectors,i.addOnSkipWrapper;var a=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){return function n(i,o){try{var a=t[i](o),u=a.value}catch(e){return void r(e)}if(!a.done)return Promise.resolve(u).then(function(e){n(\"next\",e)},function(e){n(\"throw\",e)});e(u)}(\"next\")})}},u=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)};function l(){var e;window.carodaDebugVideoElementProxy&&(e=console).log.apply(e,arguments)}function d(e,t,r){if(!r)return[];var n=t<=0?Object.keys(e):[],i=Object.getPrototypeOf(e);return[].concat(c(n),c(i?d(i,t-1,r-1):[]))}function f(e,t){var r=d(e,3,100),n=d(e,0,3),i=document.createElement(\"video\");return e.parentElement.insertBefore(i,e),function(e,t,r,n,i){l(e,t);var o=function(e){\"function\"==typeof r[e]?r[e]=function(){var r=arguments;if(l(\"method1\",e,arguments),\"requestFullscreen\"===e)return Promise.resolve();var o=i[e].apply(i,arguments);return\"setAttribute\"===e&&t.some(function(e){return e.toLowerCase()===r[0].toLowerCase()})?o:n[e].apply(n,arguments)}:Object.defineProperty(r,e,{get:function(){return l(\"get1\",e),n[e]},set:function(t){l(\"set1\",e,t),n[e]=t,i[e]=t}})},a=!0,u=!1,s=void 0;try{for(var c,d=e[Symbol.iterator]();!(a=(c=d.next()).done);a=!0)o(c.value)}catch(e){u=!0,s=e}finally{try{!a&&d.return&&d.return()}finally{if(u)throw s}}var f=function(e){\"function\"==typeof r[e]?r[e]=function(){return l(\"method2\",e,arguments),i[e].apply(i,arguments)}:Object.defineProperty(r,e,{get:function(){return l(\"get2\",e),i[e]},set:function(t){l(\"set2\",e,t),i[e]=t}})},h=!0,p=!1,v=void 0;try{for(var m,y=t[Symbol.iterator]();!(h=(m=y.next()).done);h=!0)f(m.value)}catch(e){p=!0,v=e}finally{try{!h&&y.return&&y.return()}finally{if(p)throw v}}}(r,n,i,e,t),i}o.addOnSkipWrapper(function(e){return function(t,r,n){return window.molSkipOffsetInMs=n.skipoffset,e.apply(this,arguments)}}),window.recentPauseEvents=[],window.nativeOpen=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(e,t,r){return t=t.replace(/^\\/\\//,\"https://\"),window.nativeOpen.call(this,e,t,r)};var h=-1!==navigator.userAgent.toLowerCase().indexOf(\"safari/\"),p=!!window.chrome,v=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);function m(e){e&&(\"mediafiles\"===e.name&&e.elements?e.elements=e.elements.filter(function(e){return!e.attributes||!e.attributes.type||!e.attributes.type.match(/3gp/)}):\"trackingevents\"===e.name&&e.elements?e.elements=e.elements.filter(function(e){return e.elements&&e.elements.length&&\"text\"===e.elements[0].type&&e.elements[0].text.length>0}):Array.isArray(e)?e.forEach(m):Array.isArray(e.elements)&&m(e.elements))}var y=function(){function e(t){var r=this;u(this,e),this.log(\"AdController\",\".constructor\",t),this.errorCount=0,window.onerror=function(e){return r.log(\"window error\",e),r.errorCount++,r.errorCount>10&&r.errorEvent({message:\"too many window errors: \"+e,vast:r.vast}),!0};var n=t.language&&t.language.toLowerCase()||\"en\",i=t.instream||!1,o=t.thumbnailUrl;this.isDoubleVerify=-1!==t.vast.indexOf(\"vpaid.doubleverify.com/js/vpaid-transformer\"),this.vast=t.vast,this.target=t.target,this.billboardMode=t.billboardMode||!1,this.hideSkipButton=t.hideSkipButton||this.billboardMode,this.fixedSkipOffset=t.fixedSkipOffset,this.topFrameVideoId=t.topFrameVideoId,this.component=new Player({target:t.target,data:this.data}),this.startMuted=!1!==t.startMuted||this.billboardMode,this.lastUnmutedVolume=t.volume||1,this.eventHandlers=[],this.isSkippable=!1,this.adError=!1,this.adEnded=!1,window.$=this.component,this.id=t.id,this.playAdErrorCount=0,this.$=this.component,this.$.set({isDoubleVerify:this.isDoubleVerify,language:n,instream:i,thumbnailUrl:o,isMobile:!!navigator.userAgent.match(/iPhone|iPad|Android/i),hideControls:this.billboardMode,hideCarodaUI:!!t.hideCarodaUI}),this.$.on(\"ad-click\",function(){return r.adClick()}),this.$.on(\"setVolume\",function(e){return r.setVolume(e)}),this.$.on(\"skip\",function(){return r.skip()}),this.$.on(\"toggle-audio\",function(){return r.$.get(\"isMuted\")?r.unmute():r.mute()}),this.$.on(\"unfullscreen\",function(){r.event({type:\"unfullscreen\"}),h||(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen())}),this.startTime=Date.now(),this.durationNotified=!1,this.currentTime=0,this.startAd(),this.onProgress(),this.listenToChromeHeavyAdIntervention()}return s(e,[{key:\"log\",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this.event({type:\"log\",message:(.001*(Date.now()-this.startTime)).toFixed(2)+\"s :: \"+t.map(function(e){if(\"string\"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e.toString()}}).join(\" :: \")})}},{key:\"startAd\",value:function(){var e=a(regeneratorRuntime.mark(function e(){var t,r,n,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.log(\"AdController\",\".startAd\"),this.adPlayer=null,t=new Blob([this.vast],{type:\"text/xml\"}),r=window.URL.createObjectURL(t),e.next=7,o.requestAd(r,{});case 7:n=e.sent;try{m(n[0].ad)}catch(e){this.log(\"warn\",\"AdController\",\".startAd\",\"can not remove invalid elements\",e.message,e.stack)}return this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout start\"),this.waitForAdReadyTimeout=setTimeout(function(){return i.errorEvent({message:\"Ad ready timeout\"})},3e3),e.next=13,o.run(n,this.target.children[0],{onAdReady:this.onAdReady.bind(this),videoElement:this.videoElement()});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),this.errorEvent({message:e.t0.message,vast:this.vast});case 18:case\"end\":return e.stop()}},e,this,[[0,15]])}));return function(){return e.apply(this,arguments)}}()},{key:\"vastAdSystem\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"adsystem\"===e.name}).elements.find(function(e){return\"text\"===e.type}).text}catch(e){return this.log(\"AdController\",\".vastAdSystem\",\"Could not fetch ad system info\",e.message,e.stack),\"unknown\"}}},{key:\"vastMediaFiles\",value:function(){try{return this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"creatives\"===e.name}).elements.find(function(e){return\"creative\"===e.name}).elements.find(function(e){return\"linear\"===e.name}).elements.find(function(e){return\"mediafiles\"===e.name}).elements.map(function(e){return Object.assign(e.attributes,{innerText:e.elements.find(function(e){return\"text\"===e.type}).text})})}catch(e){return this.log(\"AdController\",\".vastMediaFiles\",\"Could not fetch vast media file info\",e.message,e.stack),[]}}},{key:\"carodaPosterExtension\",value:function(){try{var e=this.adPlayer.vastChain[0].ad.elements.find(function(e){return\"inline\"===e.name}).elements.find(function(e){return\"extensions\"===e.name}).elements.find(function(e){return\"extension\"===e.name&&e.attributes&&\"caroda-poster\"===e.attributes.type}).elements[0].text,t=window.innerWidth-window.innerWidth%10;return e.replace(\"{{PLAYER_WIDTH}}\",t)}catch(e){return this.log(\"AdController\",\".carodaPosterExtension\",\"Could not fetch poster\",e.message),null}}},{key:\"trackVideoStart\",value:function(){var e=a(regeneratorRuntime.mark(function e(){var t,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log(\"AdController\",\".trackVideoStart\"),t=setInterval(function(){var e=r.videoElement();if(e.duration>1&&e.currentTime>0){r.log(\"AdController\",\".trackVideoStart\",\"video element found\"),r.event({type:\"adCanPlay\"});var n=r.vastMediaFiles(),i=n.find(function(t){return t.innerText===e.src}),o=e.videoWidth||i&&+i.width||16,a=e.videoHeight||i&&+i.height||9,u=o/a;r.log(\"AdController\",\".trackVideoStart\",{mediaFile:i,mediaFiles:n,width:o,height:a,aspectRatio:u});var s=[[16/9,\"horizontal\"],[9/16,\"vertical\"],[1,\"square\"],[4/3,\"horizontal-4-3\"],[.75,\"vertical-3-4\"]].reduce(function(e,t){return Math.abs(t[0]-u)>Math.abs(e[0]-u)?e:t},[0,\"\"])[1];r.log(\"AdController\",\".trackVideoStart\",{format:s}),r.event({type:\"adVideoStart\",format:s}),clearInterval(t)}},200);case 2:case\"end\":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:\"initPoster\",value:function(){this.vastMediaFiles().find(function(e){return e.innerText.match(/\\.mp3$/)}),this.vastAdSystem();var e=this.carodaPosterExtension();e&&(this.log(\"AdController\",\".initPoster\",\"using poster\",e),this.$.set({poster:e}))}},{key:\"onAdReady\",value:function(){var e=a(regeneratorRuntime.mark(function e(t){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.log(\"AdController\",\".onAdReady\"),this.adPlayer=t,this.startMuted?this.mute():this.unmute(),this.adPlayer.on(\"adProgress\",function(){return r.onProgress()}),setInterval(function(){return r.onProgress()},500),[\"impression\",\"pause\",\"resume\",\"skip\",\"start\",\"thirdQuartile\",\"firstQuartile\",\"midpoint\",\"unmute\",\"mute\",\"complete\",\"clickThrough\"].forEach(function(e){return r.adPlayer.on(e,function(){return r.triggerTrackingEvent(e.replace(/[A-Z]/g,function(e){return\"_\"+e.toLowerCase()}))})}),this.adPlayer.on(\"skip\",function(){return r.endedEvent()}),this.adPlayer.on(\"complete\",function(){return r.endedEvent()}),this.adPlayer.on(\"error\",function(e){return r.errorEvent({message:e.adUnit.error.message,stack:e.adUnit.error.stack})}),this.adPlayer.on(\"pause\",function(){return r.notifyPlayStatus(!1)}),this.adPlayer.on(\"resume\",function(){return r.notifyPlayStatus(!0)}),this.adPlayer.on(\"start\",function(){return r.notifyPlayStatus(!0)}),this.initPoster(),this.trackVideoStart(),this.log(\"AdController\",\".startAd\",\"waitForAdReadyTimeout end\"),clearTimeout(this.waitForAdReadyTimeout);case 17:case\"end\":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:\"onProgress\",value:function(){this.adPlayer&&this.adPlayer.creativeAd&&this.adPlayer.creativeAd.startAd&&!this.videoElement().src&&!this.adPlayer.creativeAd.forceStarted&&(this.adPlayer.creativeAd.startAd(),this.adPlayer.creativeAd.forceStarted=!0);var e=this.videoElement().currentTime;if(e&&e<this.currentTime)return this.errorEvent({message:\"Current time \"+e+\" when previously it was \"+this.currentTime});this.currentTime=e;var t=this.hideSkipButton,r=!!this.defaultSkipButton()&&!this.hideSkipButton,n=Number.isSafeInteger(this.fixedSkipOffset)?this.fixedSkipOffset:(window.molSkipOffsetInMs||0)/1e3,i=this.hideSkipButton?0:n-e;this.$.set({progress:{hideSkipButton:t,currentTime:e,duration:this.videoElement().duration,skipTimeLeft:i,isSkippable:r}});var o=this.videoElement().duration;o&&!this.durationNotified&&(this.durationNotified=!0,this.event({type:\"duration\",message:o})),e&&this.event({type:\"timeupdate\",message:e})}},{key:\"adClick\",value:function(){this.log(\"AdController\",\".adClick\")(document.querySelector(\".mol-vast-clickthrough\")||this.videoElement()).click()}},{key:\"videoElement\",value:function(){return this._videoElement||(this._videoElement=this.initializeVideoElement()),this._videoElement}},{key:\"initializeVideoElement\",value:function(){var e=this.target.querySelector(\"#caroda-video\");if(!p||v)return e;try{return f(e,window.parent.document.getElementById(this.topFrameVideoId))}catch(t){return this.log(\"initializeVideoElement\",t),e}}},{key:\"defaultSkipButton\",value:function(){return this.target.querySelector(\".mol-vast-skip-control\")}},{key:\"triggerTrackingEvent\",value:function(e){this.log(\"AdController\",\".triggerTrackingEvent\",e),\"click_through\"===e&&this.triggerTrackingEvent(\"click_tracking\"),\"impression\"===e&&this.triggerTrackingEvent(\"creative_view\"),\"pause\"===e&&(window.recentPauseEvents=window.recentPauseEvents.filter(function(e){return e.ts>Date.now()-1e3}),window.recentPauseEvents.push({ts:Date.now()}),window.recentPauseEvents.length>=4&&this.errorEvent()),this.event({type:\"tracking\",eventName:e})}},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"errorEvent\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adError=!0,this.event(Object.assign({},e,{type:\"adError\"}))}},{key:\"endedEvent\",value:function(){this.adEnded=!0,this.event({type:\"adEnded\"})}},{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var r=t.data.match(/^([^:]+):\\/\\/(.*)$/),n=JSON.parse(r[2]);e.eventHandlers.filter(function(e){return e.type===n.type}).forEach(function(e){return e.handler(n)})}catch(e){console.error(e)}})}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"playAd\",value:function(){var e=a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.adPlayer||!this.adPlayer.paused()){e.next=11;break}return e.prev=1,e.next=4,Promise.resolve(this.adPlayer.resume());case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),this.log(\"AdController\",\".playAd\",Object.assign({message:e.t0.message,stack:e.t0.stack},e.t0)),this.playAdErrorCount++,this.playAdErrorCount>10?this.errorEvent({message:\"too many playAd errors: \"+e.t0.message,vast:this.vast}):this.mute();case 11:case\"end\":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}()},{key:\"pauseAd\",value:function(){4===this.videoElement().readyState&&this.adPlayer&&!this.adPlayer.paused()&&(this.adPlayer.pause(),this.notifyPlayStatus(!1))}},{key:\"skip\",value:function(){var e=this.defaultSkipButton();this.log(\"AdController\",\".skip\",!!this.el),e&&e.click()}},{key:\"mute\",value:function(){this.log(\"AdController\",\".mute\",!!this.adPlayer),this.setVolume(0)}},{key:\"unmute\",value:function(){this.log(\"AdController\",\".unmute\",!!this.adPlayer),this.setVolume(this.lastUnmutedVolume)}},{key:\"setVolume\",value:function(e){this.log(\"AdController\",\".setVolume\",e,!!this.adPlayer),!!this.videoElement().src&&this.adPlayer&&this.adPlayer.setVolume(e),this.videoElement().muted=0===e,this.$.set({isMuted:0===e}),this.lastUnmutedVolume=e>0?e:this.lastUnmutedVolume,this.event({type:\"volumeChanged\",message:e})}},{key:\"setFullscreen\",value:function(e){this.$.set({isFullscreen:e})}},{key:\"listenToChromeHeavyAdIntervention\",value:function(){var e=this;this.log(\"AdController\",\"listenToChromeHeavyAdIntervention\"),window.ReportingObserver&&(new ReportingObserver(function(t,r){var n=t.some(function(e){return\"intervention\"===e.type});e.log(\"AdController\",\"listenToChromeHeavyAdIntervention\",\"reports\",n,t),n&&e.notifyHeavyAdInterventionToMainFrame()},{buffered:!0}).observe(),window.addEventListener(\"pagehide\",function(){e.adEnded||e.adError||e.errorEvent({message:\"frame interrupted\"})}))}},{key:\"notifyHeavyAdInterventionToMainFrame\",value:function(){this.event({type:\"heavyAd\"}),this.errorEvent({message:\"heavy ad reported\"})}},{key:\"notifyPlayStatus\",value:function(e){this.event({type:\"playingStatus\",message:e})}}]),e}();return e.AdController=y,e}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.AdController(opts)\n    }\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = 'AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var css = '\\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n            window.addEventListener('message', function(evt) {\n                if (!evt.data.match || !evt.data.match(/^caroda-ad-player:/)) { return }\n                var msg = JSON.parse(evt.data.replace(/^caroda-ad-player:\\/\\//, ''))\n                if (msg.type === 'visibility') {\n                    if (window.controller) {\n                        if (msg.value) {\n                            window.controller.playAd()\n                        } else {\n                            window.controller.pauseAd()\n                        }\n                    }\n                }\n                if (msg.type === 'fullscreen') {\n                    window.controller.setFullscreen(msg.value)\n                }\n                if (msg.type === 'method') {\n                    window.controller[msg.name].apply(window.controller, msg.args)\n                }\n            })\n        } catch(e) {\n            window.parent.postMessage(`${opts.id}://${JSON.stringify({\n                type: 'adError',\n                message: e.message\n            })}`, '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></html>";
                var exports = window;
                "use strict";
                function assert(e, t) {
                    if (!e)
                        throw new Error(t)
                }
                function isFullscreen() {
                    var e = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement;
                    return !!e && (e.classList.contains("caroda-player-vast-vpaid") || !!e.querySelector(".caroda-player-vast-vpaid"))
                }
                function requestUnFullscreen() {
                    document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen()
                }
                ;var classCallCheck = function(e, t) {
                    if (!(e instanceof t))
                        throw new TypeError("Cannot call a class as a function")
                }
                    , createClass = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var i = t[n];
                                i.enumerable = i.enumerable || !1,
                                    i.configurable = !0,
                                "value"in i && (i.writable = !0),
                                    Object.defineProperty(e, i.key, i)
                            }
                        }
                        return function(t, n, i) {
                            return n && e(t.prototype, n),
                            i && e(t, i),
                                t
                        }
                    }();
                function isInViewport(e) {
                    var t = e.getBoundingClientRect();
                    return !(!t.width && !t.height) && (t.top >= -t.height / 2 && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) + t.height / 2 && "hidden" !== document.visibilityState)
                }
                function addIframeCss(e) {
                    var t = document.createElement("style");
                    t.innerHTML = "\n        #" + e + " {\n            position: absolute !important;\n            top: 0 !important;\n            left: 0 !important;\n            width: 100% !important;\n            height: 100% !important;\n            border: 0 !important;\n            padding-top: 0 !important;\n            padding-bottom: 0 !important;\n            padding-left: 0 !important;\n            padding-right: 0 !important;\n            margin-top: 0 !important;\n            margin-bottom: 0 !important;\n            margin-left: 0 !important;\n            margin-right: 0 !important;\n        }\n    ",
                        document.head.appendChild(t)
                }
                var PlayerEvents = ["tracking", "adError", "adCanPlay", "adVideoStart", "adEnded", "log", "volumeChanged", "unfullscreen", "heavyAd", "duration", "timeupdate", "playingStatus"]
                    , styleElem = document.createElement("style");
                styleElem.innerHTML = "\n    .caroda-vv-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",
                    document.head.appendChild(styleElem);
                var VastVpaidPlayer = function() {
                    function e(t) {
                        var n = this;
                        classCallCheck(this, e),
                            assert(t, "opts required"),
                            assert(t.vast, "opts.vast required"),
                            assert(t.container, "opts.container required");
                        var i = t.container;
                        delete t.container,
                            this.id = t.id = "caroda-container-" + Math.floor(1e6 * Math.random()),
                            this.hasStarted = !1,
                            this.hasEnded = !1,
                            this.isFrozen = Boolean(t.isFrozen),
                            this.userAdPaused = !1,
                            this.disablePauseWhenOutOfView = Boolean(t.disablePauseWhenOutOfView),
                            this.preload = t.preload;
                        var a = document.createElement("DIV");
                        a.style.width = "100%",
                            a.style.paddingBottom = "56.25%",
                            a.style.position = "relative",
                            a.className = "caroda-player-vast-vpaid";
                        var s = this.createVideoElement();
                        a.appendChild(s),
                            t.topFrameVideoId = s.id,
                            t.startMuted = t.startMuted || this.isFrozen;
                        var r = VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */", function() {
                            return JSON.stringify(t)
                        })
                            , o = document.createElement("IFRAME");
                        setTimeout(function() {
                            var e = o.contentWindow.document;
                            e.open("text/html", "replace"),
                                e.write(r),
                                e.close()
                        }, 0),
                            o.setAttribute("border", 0),
                            o.setAttribute("sandbox", ["allow-forms", "allow-popups", "allow-popups-to-escape-sandbox", "allow-same-origin", "allow-scripts"].join(" ")),
                            o.setAttribute("allowfullscreen", !1),
                            o.setAttribute("allow", "autoplay"),
                            o.setAttribute("id", this.id + "-vv"),
                            addIframeCss(this.id + "-vv"),
                            a.appendChild(o),
                            i.appendChild(a),
                            this.iframe = o,
                            this.container = a,
                            this.refreshVisibility(),
                            this.visibleInterval = setInterval(function() {
                                n.refreshVisibility(),
                                    n.refreshFullscreen(),
                                    n.sendTracking()
                            }, 100),
                            this.handlers = {},
                            this.trackingUrls = {},
                            this.trackingEventQueue = [],
                            this.hasStarted = !1,
                            this.hasImpression = !1;
                        var d = t.timeoutInMs || 5e3;
                        this.timeout = setTimeout(function() {
                            return n.reject("timeout")
                        }, d),
                            this.windowEventHandler = function(e) {
                                return n.handleWindowEvent(e)
                            }
                            ,
                            window.addEventListener("message", this.windowEventHandler),
                            this.addEventListener("adEnded", function() {
                                return n.clear()
                            }),
                            this.addEventListener("adError", function() {
                                return n.clear(!0)
                            }),
                            this.addEventListener("heavyAd", function() {
                                return console.log("CARODA :: skipped ad due to heavy ad restriction")
                            }),
                            this.addEventListener("adVideoStart", function(e) {
                                n.hasStarted = !0,
                                    clearTimeout(n.timeout),
                                t.instream || (t.forceAspectRatio ? a.style.paddingBottom = (1 / t.forceAspectRatio * 100).toFixed(2) + "%" : ("vertical" === e.format && (a.style.paddingBottom = "177.78%"),
                                "vertical-3-4" === e.format && (a.style.paddingBottom = "133.33%"),
                                "square" === e.format && (a.style.paddingBottom = "100%"),
                                "horizontal-4-3" === e.format && (a.style.paddingBottom = "75%")))
                            }),
                            this.addEventListener("unfullscreen", function(e) {
                                isFullscreen() && (requestUnFullscreen(),
                                    n.sendMessage({
                                        type: "fullscreen",
                                        value: !1
                                    }))
                            });
                        var l = void 0;
                        this.durationPromise = new Promise(function(e) {
                                l = e
                            }
                        ),
                            this.addEventListener("duration", function(e) {
                                var t = e.message;
                                l(t)
                            }),
                            this.currentTime = NaN,
                            this.addEventListener("timeupdate", function(e) {
                                var t = e.message;
                                n.currentTime = t
                            }),
                            this.playing = !1,
                            this.addEventListener("playingStatus", function(e) {
                                var t = e.message;
                                n.playing = t
                            })
                    }
                    return createClass(e, [{
                        key: "refreshFullscreen",
                        value: function() {
                            var e = isFullscreen();
                            this.sendMessage({
                                type: "fullscreen",
                                value: e
                            }),
                                e ? this.container.classList.add("caroda-vv-fullscreen") : this.container.classList.remove("caroda-vv-fullscreen")
                        }
                    }, {
                        key: "handleWindowEvent",
                        value: function(e) {
                            var t = this;
                            if ("string" == typeof e.data && 0 === e.data.indexOf(this.id)) {
                                var n = JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//, ""));
                                if ("tracking" !== n.type)
                                    "trackingEvents" === n.type && n.values.forEach(function(e) {
                                        return t.addTrackingUrl(e[0], e[1])
                                    }),
                                    this.handlers[n.type] && this.handlers[n.type].forEach(function(e) {
                                        return e(n)
                                    });
                                else {
                                    if (n.trackingUrls = this.trackingUrls[n.eventName] || [],
                                    "impression" === n.eventName && (this.hasImpression = !0),
                                    ("pause" === n.eventName || "resume" === n.eventName) && !this.hasImpression)
                                        return;
                                    this.trackingEventQueue.push(n)
                                }
                            }
                        }
                    }, {
                        key: "addTrackingUrl",
                        value: function(e, t) {
                            this.trackingUrls[e] = this.trackingUrls[e] || [],
                                this.trackingUrls[e].push(t)
                        }
                    }, {
                        key: "addEventListener",
                        value: function(e, t) {
                            assert(~PlayerEvents.indexOf(e), "eventName " + e + " not part of " + PlayerEvents.join(", ")),
                                this.handlers[e] = this.handlers[e] || [],
                                this.handlers[e].push(t)
                        }
                    }, {
                        key: "refreshVisibility",
                        value: function() {
                            if (!this.userAdPaused) {
                                var e = this.disablePauseWhenOutOfView || isInViewport(this.container);
                                this.isFrozen && this.hasStarted && (e = !1),
                                this.isFrozen && !this.hasStarted && (e = !0),
                                    this.sendMessage({
                                        type: "visibility",
                                        value: e
                                    })
                            }
                        }
                    }, {
                        key: "sendTracking",
                        value: function() {
                            var e = this;
                            !this.isFrozen && this.hasStarted && (this.trackingEventQueue.forEach(function(t) {
                                return e.handlers[t.type] && e.handlers[t.type].forEach(function(e) {
                                    return e(t)
                                })
                            }),
                                this.trackingEventQueue = [])
                        }
                    }, {
                        key: "sendMessage",
                        value: function(e) {
                            this.iframe && this.iframe.contentWindow && this.iframe.contentWindow.postMessage("caroda-ad-player://" + JSON.stringify(e), "*")
                        }
                    }, {
                        key: "freeze",
                        value: function() {
                            this.isFrozen = !0,
                                this.refreshVisibility()
                        }
                    }, {
                        key: "unfreeze",
                        value: function() {
                            this.isFrozen = !1,
                                this.refreshVisibility()
                        }
                    }, {
                        key: "mute",
                        value: function() {
                            this.sendMessage({
                                type: "method",
                                name: "mute",
                                args: []
                            })
                        }
                    }, {
                        key: "unmute",
                        value: function() {
                            this.sendMessage({
                                type: "method",
                                name: "unmute",
                                args: []
                            })
                        }
                    }, {
                        key: "setVolume",
                        value: function(e) {
                            this.sendMessage({
                                type: "method",
                                name: "setVolume",
                                args: [e]
                            })
                        }
                    }, {
                        key: "reject",
                        value: function(e) {
                            this.handleWindowEvent({
                                data: this.id + "://" + JSON.stringify({
                                    type: "adError",
                                    message: "creative rejected. reason: " + (e || "unknown")
                                })
                            })
                        }
                    }, {
                        key: "clear",
                        value: function() {
                            var e = this
                                , t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                            this.hasEnded || (clearInterval(this.visibleInterval),
                                window.removeEventListener("message", this.windowEventHandler),
                                this.sendTracking(),
                                this.sendMessage({
                                    type: "end"
                                }),
                                this.hasEnded = !0,
                            t && (this.container.style.display = "none"),
                                setTimeout(function() {
                                    e.container.parentElement.removeChild(e.container)
                                }, 1e3))
                        }
                    }, {
                        key: "getAdDuration",
                        value: function() {
                            return this.durationPromise
                        }
                    }, {
                        key: "getAdProgress",
                        value: function() {
                            return this.currentTime
                        }
                    }, {
                        key: "userAdPlay",
                        value: function() {
                            this.userAdPaused = !1,
                                this.sendMessage({
                                    type: "method",
                                    name: "playAd",
                                    args: []
                                })
                        }
                    }, {
                        key: "userAdPause",
                        value: function() {
                            this.userAdPaused = !0,
                                this.sendMessage({
                                    type: "method",
                                    name: "pauseAd",
                                    args: []
                                })
                        }
                    }, {
                        key: "isPlaying",
                        value: function() {
                            return this.playing
                        }
                    }, {
                        key: "createVideoElement",
                        value: function() {
                            var e = document.createElement("video");
                            return e.id = "carodaTopFrameVideo-" + Math.floor(1e9 * Math.random()),
                                e.style.background = "#000",
                                e.style.position = "absolute",
                                e.style.top = "0",
                                e.style.left = "0",
                                e.style.width = "100%",
                                e.style.height = "100%",
                            this.preload && e.setAttribute("preload", "auto"),
                                e
                        }
                    }]),
                        e
                }();
                exports.VastVpaidPlayer = VastVpaidPlayer;
            }
        )();

        window._Hls = window.Hls
        window._MediaSource = window.MediaSource
        window._SourceBuffer = window.SourceBuffer;
        (function() {
                (function webpackUniversalModuleDefinition(root, factory) {
                        if (typeof exports === 'object' && typeof module === 'object')
                            module.exports = factory();
                        else if (typeof define === 'function' && define.amd)
                            define([], factory);
                        else if (typeof exports === 'object')
                            exports["Hls"] = factory();
                        else
                            root["Hls"] = factory();
                    }
                )(this, function() {
                    return function(modules) {
                        var installedModules = {};
                        function __webpack_require__(moduleId) {
                            if (installedModules[moduleId]) {
                                return installedModules[moduleId].exports;
                            }
                            var module = installedModules[moduleId] = {
                                i: moduleId,
                                l: false,
                                exports: {}
                            };
                            modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
                            module.l = true;
                            return module.exports;
                        }
                        __webpack_require__.m = modules;
                        __webpack_require__.c = installedModules;
                        __webpack_require__.d = function(exports, name, getter) {
                            if (!__webpack_require__.o(exports, name)) {
                                Object.defineProperty(exports, name, {
                                    configurable: false,
                                    enumerable: true,
                                    get: getter
                                });
                            }
                        }
                        ;
                        __webpack_require__.n = function(module) {
                            var getter = module && module.__esModule ? function getDefault() {
                                    return module['default'];
                                }
                                : function getModuleExports() {
                                    return module;
                                }
                            ;
                            __webpack_require__.d(getter, 'a', getter);
                            return getter;
                        }
                        ;
                        __webpack_require__.o = function(object, property) {
                            return Object.prototype.hasOwnProperty.call(object, property);
                        }
                        ;
                        __webpack_require__.p = "/dist/";
                        return __webpack_require__(__webpack_require__.s = 10);
                    }([function(module, __webpack_exports__, __webpack_require__) {
                        "use strict";
                        __webpack_require__.d(__webpack_exports__, "a", function() {
                            return enableLogs;
                        });
                        __webpack_require__.d(__webpack_exports__, "b", function() {
                            return logger;
                        });
                        var __WEBPACK_IMPORTED_MODULE_0__get_self_scope__ = __webpack_require__(4);
                        var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                                return typeof obj;
                            }
                            : function(obj) {
                                return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
                            }
                        ;
                        function noop() {}
                        var fakeLogger = {
                            trace: noop,
                            debug: noop,
                            log: noop,
                            warn: noop,
                            info: noop,
                            error: noop
                        };
                        var exportedLogger = fakeLogger;
                        function formatMsg(type, msg) {
                            msg = '[' + type + '] > ' + msg;
                            return msg;
                        }
                        var global = Object(__WEBPACK_IMPORTED_MODULE_0__get_self_scope__["a"])();
                        function consolePrintFn(type) {
                            var func = global.console[type];
                            if (func) {
                                return function() {
                                    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
                                        args[_key] = arguments[_key];
                                    }
                                    if (args[0]) {
                                        args[0] = formatMsg(type, args[0]);
                                    }
                                    func.apply(global.console, args);
                                }
                                    ;
                            }
                            return noop;
                        }
                        function exportLoggerFunctions(debugConfig) {
                            for (var _len2 = arguments.length, functions = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                                functions[_key2 - 1] = arguments[_key2];
                            }
                            functions.forEach(function(type) {
                                exportedLogger[type] = debugConfig[type] ? debugConfig[type].bind(debugConfig) : consolePrintFn(type);
                            });
                        }
                        var enableLogs = function enableLogs(debugConfig) {
                            if (debugConfig === true || (typeof debugConfig === 'undefined' ? 'undefined' : _typeof(debugConfig)) === 'object') {
                                exportLoggerFunctions(debugConfig, 'debug', 'log', 'info', 'warn', 'error');
                                try {
                                    exportedLogger.log();
                                } catch (e) {
                                    exportedLogger = fakeLogger;
                                }
                            } else {
                                exportedLogger = fakeLogger;
                            }
                        };
                        var logger = exportedLogger;
                    }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            var HlsEvents = {
                                MEDIA_ATTACHING: 'hlsMediaAttaching',
                                MEDIA_ATTACHED: 'hlsMediaAttached',
                                MEDIA_DETACHING: 'hlsMediaDetaching',
                                MEDIA_DETACHED: 'hlsMediaDetached',
                                BUFFER_RESET: 'hlsBufferReset',
                                BUFFER_CODECS: 'hlsBufferCodecs',
                                BUFFER_CREATED: 'hlsBufferCreated',
                                BUFFER_APPENDING: 'hlsBufferAppending',
                                BUFFER_APPENDED: 'hlsBufferAppended',
                                BUFFER_EOS: 'hlsBufferEos',
                                BUFFER_FLUSHING: 'hlsBufferFlushing',
                                BUFFER_FLUSHED: 'hlsBufferFlushed',
                                MANIFEST_LOADING: 'hlsManifestLoading',
                                MANIFEST_LOADED: 'hlsManifestLoaded',
                                MANIFEST_PARSED: 'hlsManifestParsed',
                                LEVEL_SWITCHING: 'hlsLevelSwitching',
                                LEVEL_SWITCHED: 'hlsLevelSwitched',
                                LEVEL_LOADING: 'hlsLevelLoading',
                                LEVEL_LOADED: 'hlsLevelLoaded',
                                LEVEL_UPDATED: 'hlsLevelUpdated',
                                LEVEL_PTS_UPDATED: 'hlsLevelPtsUpdated',
                                AUDIO_TRACKS_UPDATED: 'hlsAudioTracksUpdated',
                                AUDIO_TRACK_SWITCHING: 'hlsAudioTrackSwitching',
                                AUDIO_TRACK_SWITCHED: 'hlsAudioTrackSwitched',
                                AUDIO_TRACK_LOADING: 'hlsAudioTrackLoading',
                                AUDIO_TRACK_LOADED: 'hlsAudioTrackLoaded',
                                SUBTITLE_TRACKS_UPDATED: 'hlsSubtitleTracksUpdated',
                                SUBTITLE_TRACK_SWITCH: 'hlsSubtitleTrackSwitch',
                                SUBTITLE_TRACK_LOADING: 'hlsSubtitleTrackLoading',
                                SUBTITLE_TRACK_LOADED: 'hlsSubtitleTrackLoaded',
                                SUBTITLE_FRAG_PROCESSED: 'hlsSubtitleFragProcessed',
                                INIT_PTS_FOUND: 'hlsInitPtsFound',
                                FRAG_LOADING: 'hlsFragLoading',
                                FRAG_LOAD_PROGRESS: 'hlsFragLoadProgress',
                                FRAG_LOAD_EMERGENCY_ABORTED: 'hlsFragLoadEmergencyAborted',
                                FRAG_LOADED: 'hlsFragLoaded',
                                FRAG_DECRYPTED: 'hlsFragDecrypted',
                                FRAG_PARSING_INIT_SEGMENT: 'hlsFragParsingInitSegment',
                                FRAG_PARSING_USERDATA: 'hlsFragParsingUserdata',
                                FRAG_PARSING_METADATA: 'hlsFragParsingMetadata',
                                FRAG_PARSING_DATA: 'hlsFragParsingData',
                                FRAG_PARSED: 'hlsFragParsed',
                                FRAG_BUFFERED: 'hlsFragBuffered',
                                FRAG_CHANGED: 'hlsFragChanged',
                                FPS_DROP: 'hlsFpsDrop',
                                FPS_DROP_LEVEL_CAPPING: 'hlsFpsDropLevelCapping',
                                ERROR: 'hlsError',
                                DESTROYING: 'hlsDestroying',
                                KEY_LOADING: 'hlsKeyLoading',
                                KEY_LOADED: 'hlsKeyLoaded',
                                STREAM_STATE_TRANSITION: 'hlsStreamStateTransition'
                            };
                            __webpack_exports__["a"] = HlsEvents;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            __webpack_require__.d(__webpack_exports__, "b", function() {
                                return ErrorTypes;
                            });
                            __webpack_require__.d(__webpack_exports__, "a", function() {
                                return ErrorDetails;
                            });
                            var ErrorTypes = {
                                NETWORK_ERROR: 'networkError',
                                MEDIA_ERROR: 'mediaError',
                                KEY_SYSTEM_ERROR: 'keySystemError',
                                MUX_ERROR: 'muxError',
                                OTHER_ERROR: 'otherError'
                            };
                            var ErrorDetails = {
                                KEY_SYSTEM_NO_KEYS: 'keySystemNoKeys',
                                KEY_SYSTEM_NO_ACCESS: 'keySystemNoAccess',
                                KEY_SYSTEM_NO_SESSION: 'keySystemNoSession',
                                KEY_SYSTEM_LICENSE_REQUEST_FAILED: 'keySystemLicenseRequestFailed',
                                MANIFEST_LOAD_ERROR: 'manifestLoadError',
                                MANIFEST_LOAD_TIMEOUT: 'manifestLoadTimeOut',
                                MANIFEST_PARSING_ERROR: 'manifestParsingError',
                                MANIFEST_INCOMPATIBLE_CODECS_ERROR: 'manifestIncompatibleCodecsError',
                                LEVEL_LOAD_ERROR: 'levelLoadError',
                                LEVEL_LOAD_TIMEOUT: 'levelLoadTimeOut',
                                LEVEL_SWITCH_ERROR: 'levelSwitchError',
                                AUDIO_TRACK_LOAD_ERROR: 'audioTrackLoadError',
                                AUDIO_TRACK_LOAD_TIMEOUT: 'audioTrackLoadTimeOut',
                                FRAG_LOAD_ERROR: 'fragLoadError',
                                FRAG_LOAD_TIMEOUT: 'fragLoadTimeOut',
                                FRAG_DECRYPT_ERROR: 'fragDecryptError',
                                FRAG_PARSING_ERROR: 'fragParsingError',
                                REMUX_ALLOC_ERROR: 'remuxAllocError',
                                KEY_LOAD_ERROR: 'keyLoadError',
                                KEY_LOAD_TIMEOUT: 'keyLoadTimeOut',
                                BUFFER_ADD_CODEC_ERROR: 'bufferAddCodecError',
                                BUFFER_APPEND_ERROR: 'bufferAppendError',
                                BUFFER_APPENDING_ERROR: 'bufferAppendingError',
                                BUFFER_STALLED_ERROR: 'bufferStalledError',
                                BUFFER_FULL_ERROR: 'bufferFullError',
                                BUFFER_SEEK_OVER_HOLE: 'bufferSeekOverHole',
                                BUFFER_NUDGE_ON_STALL: 'bufferNudgeOnStall',
                                INTERNAL_EXCEPTION: 'internalException'
                            };
                        }
                        , function(module, exports) {
                            module.exports = void 0;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            __webpack_exports__["a"] = getSelfScope;
                            function getSelfScope() {
                                if (typeof window === 'undefined') {
                                    return self;
                                } else {
                                    return window;
                                }
                            }
                        }
                        , function(module, exports, __webpack_require__) {
                            (function(root) {
                                    var URL_REGEX = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/\;?#]*)?(.*?)??(;.*?)?(\?.*?)?(#.*?)?$/;
                                    var FIRST_SEGMENT_REGEX = /^([^\/;?#]*)(.*)$/;
                                    var SLASH_DOT_REGEX = /(?:\/|^)\.(?=\/)/g;
                                    var SLASH_DOT_DOT_REGEX = /(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g;
                                    var URLToolkit = {
                                        buildAbsoluteURL: function(baseURL, relativeURL, opts) {
                                            opts = opts || {};
                                            baseURL = baseURL.trim();
                                            relativeURL = relativeURL.trim();
                                            if (!relativeURL) {
                                                if (!opts.alwaysNormalize) {
                                                    return baseURL;
                                                }
                                                var basePartsForNormalise = this.parseURL(baseURL);
                                                if (!baseParts) {
                                                    throw new Error('Error trying to parse base URL.');
                                                }
                                                basePartsForNormalise.path = URLToolkit.normalizePath(basePartsForNormalise.path);
                                                return URLToolkit.buildURLFromParts(basePartsForNormalise);
                                            }
                                            var relativeParts = this.parseURL(relativeURL);
                                            if (!relativeParts) {
                                                throw new Error('Error trying to parse relative URL.');
                                            }
                                            if (relativeParts.scheme) {
                                                if (!opts.alwaysNormalize) {
                                                    return relativeURL;
                                                }
                                                relativeParts.path = URLToolkit.normalizePath(relativeParts.path);
                                                return URLToolkit.buildURLFromParts(relativeParts);
                                            }
                                            var baseParts = this.parseURL(baseURL);
                                            if (!baseParts) {
                                                throw new Error('Error trying to parse base URL.');
                                            }
                                            if (!baseParts.netLoc && baseParts.path && baseParts.path[0] !== '/') {
                                                var pathParts = FIRST_SEGMENT_REGEX.exec(baseParts.path);
                                                baseParts.netLoc = pathParts[1];
                                                baseParts.path = pathParts[2];
                                            }
                                            if (baseParts.netLoc && !baseParts.path) {
                                                baseParts.path = '/';
                                            }
                                            var builtParts = {
                                                scheme: baseParts.scheme,
                                                netLoc: relativeParts.netLoc,
                                                path: null,
                                                params: relativeParts.params,
                                                query: relativeParts.query,
                                                fragment: relativeParts.fragment
                                            };
                                            if (!relativeParts.netLoc) {
                                                builtParts.netLoc = baseParts.netLoc;
                                                if (relativeParts.path[0] !== '/') {
                                                    if (!relativeParts.path) {
                                                        builtParts.path = baseParts.path;
                                                        if (!relativeParts.params) {
                                                            builtParts.params = baseParts.params;
                                                            if (!relativeParts.query) {
                                                                builtParts.query = baseParts.query;
                                                            }
                                                        }
                                                    } else {
                                                        var baseURLPath = baseParts.path;
                                                        var newPath = baseURLPath.substring(0, baseURLPath.lastIndexOf('/') + 1) + relativeParts.path;
                                                        builtParts.path = URLToolkit.normalizePath(newPath);
                                                    }
                                                }
                                            }
                                            if (builtParts.path === null) {
                                                builtParts.path = opts.alwaysNormalize ? URLToolkit.normalizePath(relativeParts.path) : relativeParts.path;
                                            }
                                            return URLToolkit.buildURLFromParts(builtParts);
                                        },
                                        parseURL: function(url) {
                                            var parts = URL_REGEX.exec(url);
                                            if (!parts) {
                                                return null;
                                            }
                                            return {
                                                scheme: parts[1] || '',
                                                netLoc: parts[2] || '',
                                                path: parts[3] || '',
                                                params: parts[4] || '',
                                                query: parts[5] || '',
                                                fragment: parts[6] || ''
                                            };
                                        },
                                        normalizePath: function(path) {
                                            path = path.split('').reverse().join('').replace(SLASH_DOT_REGEX, '');
                                            while (path.length !== (path = path.replace(SLASH_DOT_DOT_REGEX, '')).length) {}
                                            return path.split('').reverse().join('');
                                        },
                                        buildURLFromParts: function(parts) {
                                            return parts.scheme + parts.netLoc + parts.path + parts.params + parts.query + parts.fragment;
                                        }
                                    };
                                    if (true)
                                        module.exports = URLToolkit;
                                    else if (typeof define === 'function' && define.amd)
                                        define([], function() {
                                            return URLToolkit;
                                        });
                                    else if (typeof exports === 'object')
                                        exports["URLToolkit"] = URLToolkit;
                                    else
                                        root["URLToolkit"] = URLToolkit;
                                }
                            )(this);
                        }
                        , function(module, exports) {
                            function EventEmitter() {
                                this._events = this._events || {};
                                this._maxListeners = this._maxListeners || undefined;
                            }
                            module.exports = EventEmitter;
                            EventEmitter.EventEmitter = EventEmitter;
                            EventEmitter.prototype._events = undefined;
                            EventEmitter.prototype._maxListeners = undefined;
                            EventEmitter.defaultMaxListeners = 10;
                            EventEmitter.prototype.setMaxListeners = function(n) {
                                if (!isNumber(n) || n < 0 || isNaN(n))
                                    throw TypeError('n must be a positive number');
                                this._maxListeners = n;
                                return this;
                            }
                            ;
                            EventEmitter.prototype.emit = function(type) {
                                var er, handler, len, args, i, listeners;
                                if (!this._events)
                                    this._events = {};
                                if (type === 'error') {
                                    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {
                                        er = arguments[1];
                                        if (er instanceof Error) {
                                            throw er;
                                        } else {
                                            var err = new Error('Uncaught, unspecified "error" event. (' + er + ')');
                                            err.context = er;
                                            throw err;
                                        }
                                    }
                                }
                                handler = this._events[type];
                                if (isUndefined(handler))
                                    return false;
                                if (isFunction(handler)) {
                                    switch (arguments.length) {
                                        case 1:
                                            handler.call(this);
                                            break;
                                        case 2:
                                            handler.call(this, arguments[1]);
                                            break;
                                        case 3:
                                            handler.call(this, arguments[1], arguments[2]);
                                            break;
                                        default:
                                            args = Array.prototype.slice.call(arguments, 1);
                                            handler.apply(this, args);
                                    }
                                } else if (isObject(handler)) {
                                    args = Array.prototype.slice.call(arguments, 1);
                                    listeners = handler.slice();
                                    len = listeners.length;
                                    for (i = 0; i < len; i++)
                                        listeners[i].apply(this, args);
                                }
                                return true;
                            }
                            ;
                            EventEmitter.prototype.addListener = function(type, listener) {
                                var m;
                                if (!isFunction(listener))
                                    throw TypeError('listener must be a function');
                                if (!this._events)
                                    this._events = {};
                                if (this._events.newListener)
                                    this.emit('newListener', type, isFunction(listener.listener) ? listener.listener : listener);
                                if (!this._events[type])
                                    this._events[type] = listener;
                                else if (isObject(this._events[type]))
                                    this._events[type].push(listener);
                                else
                                    this._events[type] = [this._events[type], listener];
                                if (isObject(this._events[type]) && !this._events[type].warned) {
                                    if (!isUndefined(this._maxListeners)) {
                                        m = this._maxListeners;
                                    } else {
                                        m = EventEmitter.defaultMaxListeners;
                                    }
                                    if (m && m > 0 && this._events[type].length > m) {
                                        this._events[type].warned = true;
                                        console.error('(node) warning: possible EventEmitter memory ' + 'leak detected. %d listeners added. ' + 'Use emitter.setMaxListeners() to increase limit.', this._events[type].length);
                                        if (typeof console.trace === 'function') {
                                            console.trace();
                                        }
                                    }
                                }
                                return this;
                            }
                            ;
                            EventEmitter.prototype.on = EventEmitter.prototype.addListener;
                            EventEmitter.prototype.once = function(type, listener) {
                                if (!isFunction(listener))
                                    throw TypeError('listener must be a function');
                                var fired = false;
                                function g() {
                                    this.removeListener(type, g);
                                    if (!fired) {
                                        fired = true;
                                        listener.apply(this, arguments);
                                    }
                                }
                                g.listener = listener;
                                this.on(type, g);
                                return this;
                            }
                            ;
                            EventEmitter.prototype.removeListener = function(type, listener) {
                                var list, position, length, i;
                                if (!isFunction(listener))
                                    throw TypeError('listener must be a function');
                                if (!this._events || !this._events[type])
                                    return this;
                                list = this._events[type];
                                length = list.length;
                                position = -1;
                                if (list === listener || isFunction(list.listener) && list.listener === listener) {
                                    delete this._events[type];
                                    if (this._events.removeListener)
                                        this.emit('removeListener', type, listener);
                                } else if (isObject(list)) {
                                    for (i = length; i-- > 0; ) {
                                        if (list[i] === listener || list[i].listener && list[i].listener === listener) {
                                            position = i;
                                            break;
                                        }
                                    }
                                    if (position < 0)
                                        return this;
                                    if (list.length === 1) {
                                        list.length = 0;
                                        delete this._events[type];
                                    } else {
                                        list.splice(position, 1);
                                    }
                                    if (this._events.removeListener)
                                        this.emit('removeListener', type, listener);
                                }
                                return this;
                            }
                            ;
                            EventEmitter.prototype.removeAllListeners = function(type) {
                                var key, listeners;
                                if (!this._events)
                                    return this;
                                if (!this._events.removeListener) {
                                    if (arguments.length === 0)
                                        this._events = {};
                                    else if (this._events[type])
                                        delete this._events[type];
                                    return this;
                                }
                                if (arguments.length === 0) {
                                    for (key in this._events) {
                                        if (key === 'removeListener')
                                            continue;
                                        this.removeAllListeners(key);
                                    }
                                    this.removeAllListeners('removeListener');
                                    this._events = {};
                                    return this;
                                }
                                listeners = this._events[type];
                                if (isFunction(listeners)) {
                                    this.removeListener(type, listeners);
                                } else if (listeners) {
                                    while (listeners.length)
                                        this.removeListener(type, listeners[listeners.length - 1]);
                                }
                                delete this._events[type];
                                return this;
                            }
                            ;
                            EventEmitter.prototype.listeners = function(type) {
                                var ret;
                                if (!this._events || !this._events[type])
                                    ret = [];
                                else if (isFunction(this._events[type]))
                                    ret = [this._events[type]];
                                else
                                    ret = this._events[type].slice();
                                return ret;
                            }
                            ;
                            EventEmitter.prototype.listenerCount = function(type) {
                                if (this._events) {
                                    var evlistener = this._events[type];
                                    if (isFunction(evlistener))
                                        return 1;
                                    else if (evlistener)
                                        return evlistener.length;
                                }
                                return 0;
                            }
                            ;
                            EventEmitter.listenerCount = function(emitter, type) {
                                return emitter.listenerCount(type);
                            }
                            ;
                            function isFunction(arg) {
                                return typeof arg === 'function';
                            }
                            function isNumber(arg) {
                                return typeof arg === 'number';
                            }
                            function isObject(arg) {
                                return typeof arg === 'object' && arg !== null;
                            }
                            function isUndefined(arg) {
                                return arg === void 0;
                            }
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            function _classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var ID3 = function() {
                                function ID3() {
                                    _classCallCheck(this, ID3);
                                }
                                ID3.isHeader = function isHeader(data, offset) {
                                    if (offset + 10 <= data.length) {
                                        if (data[offset] === 0x49 && data[offset + 1] === 0x44 && data[offset + 2] === 0x33) {
                                            if (data[offset + 3] < 0xFF && data[offset + 4] < 0xFF) {
                                                if (data[offset + 6] < 0x80 && data[offset + 7] < 0x80 && data[offset + 8] < 0x80 && data[offset + 9] < 0x80) {
                                                    return true;
                                                }
                                            }
                                        }
                                    }
                                    return false;
                                }
                                ;
                                ID3.isFooter = function isFooter(data, offset) {
                                    if (offset + 10 <= data.length) {
                                        if (data[offset] === 0x33 && data[offset + 1] === 0x44 && data[offset + 2] === 0x49) {
                                            if (data[offset + 3] < 0xFF && data[offset + 4] < 0xFF) {
                                                if (data[offset + 6] < 0x80 && data[offset + 7] < 0x80 && data[offset + 8] < 0x80 && data[offset + 9] < 0x80) {
                                                    return true;
                                                }
                                            }
                                        }
                                    }
                                    return false;
                                }
                                ;
                                ID3.getID3Data = function getID3Data(data, offset) {
                                    var front = offset;
                                    var length = 0;
                                    while (ID3.isHeader(data, offset)) {
                                        length += 10;
                                        var size = ID3._readSize(data, offset + 6);
                                        length += size;
                                        if (ID3.isFooter(data, offset + 10)) {
                                            length += 10;
                                        }
                                        offset += length;
                                    }
                                    if (length > 0) {
                                        return data.subarray(front, front + length);
                                    }
                                    return undefined;
                                }
                                ;
                                ID3._readSize = function _readSize(data, offset) {
                                    var size = 0;
                                    size = (data[offset] & 0x7f) << 21;
                                    size |= (data[offset + 1] & 0x7f) << 14;
                                    size |= (data[offset + 2] & 0x7f) << 7;
                                    size |= data[offset + 3] & 0x7f;
                                    return size;
                                }
                                ;
                                ID3.getTimeStamp = function getTimeStamp(data) {
                                    var frames = ID3.getID3Frames(data);
                                    for (var i = 0; i < frames.length; i++) {
                                        var frame = frames[i];
                                        if (ID3.isTimeStampFrame(frame)) {
                                            return ID3._readTimeStamp(frame);
                                        }
                                    }
                                    return undefined;
                                }
                                ;
                                ID3.isTimeStampFrame = function isTimeStampFrame(frame) {
                                    return frame && frame.key === 'PRIV' && frame.info === 'com.apple.streaming.transportStreamTimestamp';
                                }
                                ;
                                ID3._getFrameData = function _getFrameData(data) {
                                    var type = String.fromCharCode(data[0], data[1], data[2], data[3]);
                                    var size = ID3._readSize(data, 4);
                                    var offset = 10;
                                    return {
                                        type: type,
                                        size: size,
                                        data: data.subarray(offset, offset + size)
                                    };
                                }
                                ;
                                ID3.getID3Frames = function getID3Frames(id3Data) {
                                    var offset = 0;
                                    var frames = [];
                                    while (ID3.isHeader(id3Data, offset)) {
                                        var size = ID3._readSize(id3Data, offset + 6);
                                        offset += 10;
                                        var end = offset + size;
                                        while (offset + 8 < end) {
                                            var frameData = ID3._getFrameData(id3Data.subarray(offset));
                                            var frame = ID3._decodeFrame(frameData);
                                            if (frame) {
                                                frames.push(frame);
                                            }
                                            offset += frameData.size + 10;
                                        }
                                        if (ID3.isFooter(id3Data, offset)) {
                                            offset += 10;
                                        }
                                    }
                                    return frames;
                                }
                                ;
                                ID3._decodeFrame = function _decodeFrame(frame) {
                                    if (frame.type === 'PRIV') {
                                        return ID3._decodePrivFrame(frame);
                                    } else if (frame.type[0] === 'T') {
                                        return ID3._decodeTextFrame(frame);
                                    } else if (frame.type[0] === 'W') {
                                        return ID3._decodeURLFrame(frame);
                                    }
                                    return undefined;
                                }
                                ;
                                ID3._readTimeStamp = function _readTimeStamp(timeStampFrame) {
                                    if (timeStampFrame.data.byteLength === 8) {
                                        var data = new Uint8Array(timeStampFrame.data);
                                        var pts33Bit = data[3] & 0x1;
                                        var timestamp = (data[4] << 23) + (data[5] << 15) + (data[6] << 7) + data[7];
                                        timestamp /= 45;
                                        if (pts33Bit) {
                                            timestamp += 47721858.84;
                                        }
                                        return Math.round(timestamp);
                                    }
                                    return undefined;
                                }
                                ;
                                ID3._decodePrivFrame = function _decodePrivFrame(frame) {
                                    if (frame.size < 2) {
                                        return undefined;
                                    }
                                    var owner = ID3._utf8ArrayToStr(frame.data, true);
                                    var privateData = new Uint8Array(frame.data.subarray(owner.length + 1));
                                    return {
                                        key: frame.type,
                                        info: owner,
                                        data: privateData.buffer
                                    };
                                }
                                ;
                                ID3._decodeTextFrame = function _decodeTextFrame(frame) {
                                    if (frame.size < 2) {
                                        return undefined;
                                    }
                                    if (frame.type === 'TXXX') {
                                        var index = 1;
                                        var description = ID3._utf8ArrayToStr(frame.data.subarray(index));
                                        index += description.length + 1;
                                        var value = ID3._utf8ArrayToStr(frame.data.subarray(index));
                                        return {
                                            key: frame.type,
                                            info: description,
                                            data: value
                                        };
                                    } else {
                                        var text = ID3._utf8ArrayToStr(frame.data.subarray(1));
                                        return {
                                            key: frame.type,
                                            data: text
                                        };
                                    }
                                }
                                ;
                                ID3._decodeURLFrame = function _decodeURLFrame(frame) {
                                    if (frame.type === 'WXXX') {
                                        if (frame.size < 2) {
                                            return undefined;
                                        }
                                        var index = 1;
                                        var description = ID3._utf8ArrayToStr(frame.data.subarray(index));
                                        index += description.length + 1;
                                        var value = ID3._utf8ArrayToStr(frame.data.subarray(index));
                                        return {
                                            key: frame.type,
                                            info: description,
                                            data: value
                                        };
                                    } else {
                                        var url = ID3._utf8ArrayToStr(frame.data);
                                        return {
                                            key: frame.type,
                                            data: url
                                        };
                                    }
                                }
                                ;
                                ID3._utf8ArrayToStr = function _utf8ArrayToStr(array) {
                                    var exitOnNull = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;
                                    var len = array.length;
                                    var c = void 0;
                                    var char2 = void 0;
                                    var char3 = void 0;
                                    var out = '';
                                    var i = 0;
                                    while (i < len) {
                                        c = array[i++];
                                        if (c === 0x00 && exitOnNull) {
                                            return out;
                                        } else if (c === 0x00 || c === 0x03) {
                                            continue;
                                        }
                                        switch (c >> 4) {
                                            case 0:
                                            case 1:
                                            case 2:
                                            case 3:
                                            case 4:
                                            case 5:
                                            case 6:
                                            case 7:
                                                out += String.fromCharCode(c);
                                                break;
                                            case 12:
                                            case 13:
                                                char2 = array[i++];
                                                out += String.fromCharCode((c & 0x1F) << 6 | char2 & 0x3F);
                                                break;
                                            case 14:
                                                char2 = array[i++];
                                                char3 = array[i++];
                                                out += String.fromCharCode((c & 0x0F) << 12 | (char2 & 0x3F) << 6 | (char3 & 0x3F) << 0);
                                                break;
                                            default:
                                        }
                                    }
                                    return out;
                                }
                                ;
                                return ID3;
                            }();
                            var utf8ArrayToStr = ID3._utf8ArrayToStr;
                            __webpack_exports__["a"] = ID3;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            var __WEBPACK_IMPORTED_MODULE_0__utils_logger__ = __webpack_require__(0);
                            var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(1);
                            function _classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var UINT32_MAX = Math.pow(2, 32) - 1;
                            var MP4Demuxer = function() {
                                function MP4Demuxer(observer, remuxer) {
                                    _classCallCheck(this, MP4Demuxer);
                                    this.observer = observer;
                                    this.remuxer = remuxer;
                                }
                                MP4Demuxer.prototype.resetTimeStamp = function resetTimeStamp(initPTS) {
                                    this.initPTS = initPTS;
                                }
                                ;
                                MP4Demuxer.prototype.resetInitSegment = function resetInitSegment(initSegment, audioCodec, videoCodec, duration) {
                                    if (initSegment && initSegment.byteLength) {
                                        var initData = this.initData = MP4Demuxer.parseInitSegment(initSegment);
                                        if (audioCodec == null) {
                                            audioCodec = 'mp4a.40.5';
                                        }
                                        if (videoCodec == null) {
                                            videoCodec = 'avc1.42e01e';
                                        }
                                        var tracks = {};
                                        if (initData.audio && initData.video) {
                                            tracks.audiovideo = {
                                                container: 'video/mp4',
                                                codec: audioCodec + ',' + videoCodec,
                                                initSegment: duration ? initSegment : null
                                            };
                                        } else {
                                            if (initData.audio) {
                                                tracks.audio = {
                                                    container: 'audio/mp4',
                                                    codec: audioCodec,
                                                    initSegment: duration ? initSegment : null
                                                };
                                            }
                                            if (initData.video) {
                                                tracks.video = {
                                                    container: 'video/mp4',
                                                    codec: videoCodec,
                                                    initSegment: duration ? initSegment : null
                                                };
                                            }
                                        }
                                        this.observer.trigger(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_INIT_SEGMENT, {
                                            tracks: tracks
                                        });
                                    } else {
                                        if (audioCodec) {
                                            this.audioCodec = audioCodec;
                                        }
                                        if (videoCodec) {
                                            this.videoCodec = videoCodec;
                                        }
                                    }
                                }
                                ;
                                MP4Demuxer.probe = function probe(data) {
                                    return MP4Demuxer.findBox({
                                        data: data,
                                        start: 0,
                                        end: Math.min(data.length, 16384)
                                    }, ['moof']).length > 0;
                                }
                                ;
                                MP4Demuxer.bin2str = function bin2str(buffer) {
                                    return String.fromCharCode.apply(null, buffer);
                                }
                                ;
                                MP4Demuxer.readUint16 = function readUint16(buffer, offset) {
                                    if (buffer.data) {
                                        offset += buffer.start;
                                        buffer = buffer.data;
                                    }
                                    var val = buffer[offset] << 8 | buffer[offset + 1];
                                    return val < 0 ? 65536 + val : val;
                                }
                                ;
                                MP4Demuxer.readUint32 = function readUint32(buffer, offset) {
                                    if (buffer.data) {
                                        offset += buffer.start;
                                        buffer = buffer.data;
                                    }
                                    var val = buffer[offset] << 24 | buffer[offset + 1] << 16 | buffer[offset + 2] << 8 | buffer[offset + 3];
                                    return val < 0 ? 4294967296 + val : val;
                                }
                                ;
                                MP4Demuxer.writeUint32 = function writeUint32(buffer, offset, value) {
                                    if (buffer.data) {
                                        offset += buffer.start;
                                        buffer = buffer.data;
                                    }
                                    buffer[offset] = value >> 24;
                                    buffer[offset + 1] = value >> 16 & 0xff;
                                    buffer[offset + 2] = value >> 8 & 0xff;
                                    buffer[offset + 3] = value & 0xff;
                                }
                                ;
                                MP4Demuxer.findBox = function findBox(data, path) {
                                    var results = []
                                        , i = void 0
                                        , size = void 0
                                        , type = void 0
                                        , end = void 0
                                        , subresults = void 0
                                        , start = void 0
                                        , endbox = void 0;
                                    if (data.data) {
                                        start = data.start;
                                        end = data.end;
                                        data = data.data;
                                    } else {
                                        start = 0;
                                        end = data.byteLength;
                                    }
                                    if (!path.length) {
                                        return null;
                                    }
                                    for (i = start; i < end; ) {
                                        size = MP4Demuxer.readUint32(data, i);
                                        type = MP4Demuxer.bin2str(data.subarray(i + 4, i + 8));
                                        endbox = size > 1 ? i + size : end;
                                        if (type === path[0]) {
                                            if (path.length === 1) {
                                                results.push({
                                                    data: data,
                                                    start: i + 8,
                                                    end: endbox
                                                });
                                            } else {
                                                subresults = MP4Demuxer.findBox({
                                                    data: data,
                                                    start: i + 8,
                                                    end: endbox
                                                }, path.slice(1));
                                                if (subresults.length) {
                                                    results = results.concat(subresults);
                                                }
                                            }
                                        }
                                        i = endbox;
                                    }
                                    return results;
                                }
                                ;
                                MP4Demuxer.parseSegmentIndex = function parseSegmentIndex(initSegment) {
                                    var moov = MP4Demuxer.findBox(initSegment, ['moov'])[0];
                                    var moovEndOffset = moov ? moov.end : null;
                                    var index = 0;
                                    var sidx = MP4Demuxer.findBox(initSegment, ['sidx']);
                                    var references = void 0;
                                    if (!sidx || !sidx[0]) {
                                        return null;
                                    }
                                    references = [];
                                    sidx = sidx[0];
                                    var version = sidx.data[0];
                                    index = version === 0 ? 8 : 16;
                                    var timescale = MP4Demuxer.readUint32(sidx, index);
                                    index += 4;
                                    var earliestPresentationTime = 0;
                                    var firstOffset = 0;
                                    if (version === 0) {
                                        index += 8;
                                    } else {
                                        index += 16;
                                    }
                                    index += 2;
                                    var startByte = sidx.end + firstOffset;
                                    var referencesCount = MP4Demuxer.readUint16(sidx, index);
                                    index += 2;
                                    for (var i = 0; i < referencesCount; i++) {
                                        var referenceIndex = index;
                                        var referenceInfo = MP4Demuxer.readUint32(sidx, referenceIndex);
                                        referenceIndex += 4;
                                        var referenceSize = referenceInfo & 0x7FFFFFFF;
                                        var referenceType = (referenceInfo & 0x80000000) >>> 31;
                                        if (referenceType === 1) {
                                            console.warn('SIDX has hierarchical references (not supported)');
                                            return;
                                        }
                                        var subsegmentDuration = MP4Demuxer.readUint32(sidx, referenceIndex);
                                        referenceIndex += 4;
                                        references.push({
                                            referenceSize: referenceSize,
                                            subsegmentDuration: subsegmentDuration,
                                            info: {
                                                duration: subsegmentDuration / timescale,
                                                start: startByte,
                                                end: startByte + referenceSize - 1
                                            }
                                        });
                                        startByte += referenceSize;
                                        referenceIndex += 4;
                                        index = referenceIndex;
                                    }
                                    return {
                                        earliestPresentationTime: earliestPresentationTime,
                                        timescale: timescale,
                                        version: version,
                                        referencesCount: referencesCount,
                                        references: references,
                                        moovEndOffset: moovEndOffset
                                    };
                                }
                                ;
                                MP4Demuxer.parseInitSegment = function parseInitSegment(initSegment) {
                                    var result = [];
                                    var traks = MP4Demuxer.findBox(initSegment, ['moov', 'trak']);
                                    traks.forEach(function(trak) {
                                        var tkhd = MP4Demuxer.findBox(trak, ['tkhd'])[0];
                                        if (tkhd) {
                                            var version = tkhd.data[tkhd.start];
                                            var index = version === 0 ? 12 : 20;
                                            var trackId = MP4Demuxer.readUint32(tkhd, index);
                                            var mdhd = MP4Demuxer.findBox(trak, ['mdia', 'mdhd'])[0];
                                            if (mdhd) {
                                                version = mdhd.data[mdhd.start];
                                                index = version === 0 ? 12 : 20;
                                                var timescale = MP4Demuxer.readUint32(mdhd, index);
                                                var hdlr = MP4Demuxer.findBox(trak, ['mdia', 'hdlr'])[0];
                                                if (hdlr) {
                                                    var hdlrType = MP4Demuxer.bin2str(hdlr.data.subarray(hdlr.start + 8, hdlr.start + 12));
                                                    var type = {
                                                        'soun': 'audio',
                                                        'vide': 'video'
                                                    }[hdlrType];
                                                    if (type) {
                                                        var codecBox = MP4Demuxer.findBox(trak, ['mdia', 'minf', 'stbl', 'stsd']);
                                                        if (codecBox.length) {
                                                            codecBox = codecBox[0];
                                                            var codecType = MP4Demuxer.bin2str(codecBox.data.subarray(codecBox.start + 12, codecBox.start + 16));
                                                            __WEBPACK_IMPORTED_MODULE_0__utils_logger__["b"].log('MP4Demuxer:' + type + ':' + codecType + ' found');
                                                        }
                                                        result[trackId] = {
                                                            timescale: timescale,
                                                            type: type
                                                        };
                                                        result[type] = {
                                                            timescale: timescale,
                                                            id: trackId
                                                        };
                                                    }
                                                }
                                            }
                                        }
                                    });
                                    return result;
                                }
                                ;
                                MP4Demuxer.getStartDTS = function getStartDTS(initData, fragment) {
                                    var trafs = void 0
                                        , baseTimes = void 0
                                        , result = void 0;
                                    trafs = MP4Demuxer.findBox(fragment, ['moof', 'traf']);
                                    baseTimes = [].concat.apply([], trafs.map(function(traf) {
                                        return MP4Demuxer.findBox(traf, ['tfhd']).map(function(tfhd) {
                                            var id = void 0
                                                , scale = void 0
                                                , baseTime = void 0;
                                            id = MP4Demuxer.readUint32(tfhd, 4);
                                            scale = initData[id].timescale || 90e3;
                                            baseTime = MP4Demuxer.findBox(traf, ['tfdt']).map(function(tfdt) {
                                                var version = void 0
                                                    , result = void 0;
                                                version = tfdt.data[tfdt.start];
                                                result = MP4Demuxer.readUint32(tfdt, 4);
                                                if (version === 1) {
                                                    result *= Math.pow(2, 32);
                                                    result += MP4Demuxer.readUint32(tfdt, 8);
                                                }
                                                return result;
                                            })[0];
                                            return baseTime / scale;
                                        });
                                    }));
                                    result = Math.min.apply(null, baseTimes);
                                    return isFinite(result) ? result : 0;
                                }
                                ;
                                MP4Demuxer.offsetStartDTS = function offsetStartDTS(initData, fragment, timeOffset) {
                                    MP4Demuxer.findBox(fragment, ['moof', 'traf']).map(function(traf) {
                                        return MP4Demuxer.findBox(traf, ['tfhd']).map(function(tfhd) {
                                            var id = MP4Demuxer.readUint32(tfhd, 4);
                                            var timescale = initData[id].timescale || 90e3;
                                            MP4Demuxer.findBox(traf, ['tfdt']).map(function(tfdt) {
                                                var version = tfdt.data[tfdt.start];
                                                var baseMediaDecodeTime = MP4Demuxer.readUint32(tfdt, 4);
                                                if (version === 0) {
                                                    MP4Demuxer.writeUint32(tfdt, 4, baseMediaDecodeTime - timeOffset * timescale);
                                                } else {
                                                    baseMediaDecodeTime *= Math.pow(2, 32);
                                                    baseMediaDecodeTime += MP4Demuxer.readUint32(tfdt, 8);
                                                    baseMediaDecodeTime -= timeOffset * timescale;
                                                    baseMediaDecodeTime = Math.max(baseMediaDecodeTime, 0);
                                                    var upper = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1));
                                                    var lower = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));
                                                    MP4Demuxer.writeUint32(tfdt, 4, upper);
                                                    MP4Demuxer.writeUint32(tfdt, 8, lower);
                                                }
                                            });
                                        });
                                    });
                                }
                                ;
                                MP4Demuxer.prototype.append = function append(data, timeOffset, contiguous, accurateTimeOffset) {
                                    var initData = this.initData;
                                    if (!initData) {
                                        this.resetInitSegment(data, this.audioCodec, this.videoCodec, false);
                                        initData = this.initData;
                                    }
                                    var startDTS = void 0
                                        , initPTS = this.initPTS;
                                    if (initPTS === undefined) {
                                        var _startDTS = MP4Demuxer.getStartDTS(initData, data);
                                        this.initPTS = initPTS = _startDTS - timeOffset;
                                        this.observer.trigger(__WEBPACK_IMPORTED_MODULE_1__events__["a"].INIT_PTS_FOUND, {
                                            initPTS: initPTS
                                        });
                                    }
                                    MP4Demuxer.offsetStartDTS(initData, data, initPTS);
                                    startDTS = MP4Demuxer.getStartDTS(initData, data);
                                    this.remuxer.remux(initData.audio, initData.video, null, null, startDTS, contiguous, accurateTimeOffset, data);
                                }
                                ;
                                MP4Demuxer.prototype.destroy = function destroy() {}
                                ;
                                return MP4Demuxer;
                            }();
                            __webpack_exports__["a"] = MP4Demuxer;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            var events = __webpack_require__(1);
                            var errors = __webpack_require__(2);
                            function _classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var AESCrypto = function() {
                                function AESCrypto(subtle, iv) {
                                    _classCallCheck(this, AESCrypto);
                                    this.subtle = subtle;
                                    this.aesIV = iv;
                                }
                                AESCrypto.prototype.decrypt = function decrypt(data, key) {
                                    return this.subtle.decrypt({
                                        name: 'AES-CBC',
                                        iv: this.aesIV
                                    }, key, data);
                                }
                                ;
                                return AESCrypto;
                            }();
                            var aes_crypto = AESCrypto;
                            function fast_aes_key__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var FastAESKey = function() {
                                function FastAESKey(subtle, key) {
                                    fast_aes_key__classCallCheck(this, FastAESKey);
                                    this.subtle = subtle;
                                    this.key = key;
                                }
                                FastAESKey.prototype.expandKey = function expandKey() {
                                    return this.subtle.importKey('raw', this.key, {
                                        name: 'AES-CBC'
                                    }, false, ['encrypt', 'decrypt']);
                                }
                                ;
                                return FastAESKey;
                            }();
                            var fast_aes_key = FastAESKey;
                            function aes_decryptor__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function removePadding(buffer) {
                                var outputBytes = buffer.byteLength;
                                var paddingBytes = outputBytes && new DataView(buffer).getUint8(outputBytes - 1);
                                if (paddingBytes) {
                                    return buffer.slice(0, outputBytes - paddingBytes);
                                } else {
                                    return buffer;
                                }
                            }
                            var AESDecryptor = function() {
                                function AESDecryptor() {
                                    aes_decryptor__classCallCheck(this, AESDecryptor);
                                    this.rcon = [0x0, 0x1, 0x2, 0x4, 0x8, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36];
                                    this.subMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
                                    this.invSubMix = [new Uint32Array(256), new Uint32Array(256), new Uint32Array(256), new Uint32Array(256)];
                                    this.sBox = new Uint32Array(256);
                                    this.invSBox = new Uint32Array(256);
                                    this.key = new Uint32Array(0);
                                    this.initTable();
                                }
                                AESDecryptor.prototype.uint8ArrayToUint32Array_ = function uint8ArrayToUint32Array_(arrayBuffer) {
                                    var view = new DataView(arrayBuffer);
                                    var newArray = new Uint32Array(4);
                                    for (var i = 0; i < 4; i++) {
                                        newArray[i] = view.getUint32(i * 4);
                                    }
                                    return newArray;
                                }
                                ;
                                AESDecryptor.prototype.initTable = function initTable() {
                                    var sBox = this.sBox;
                                    var invSBox = this.invSBox;
                                    var subMix = this.subMix;
                                    var subMix0 = subMix[0];
                                    var subMix1 = subMix[1];
                                    var subMix2 = subMix[2];
                                    var subMix3 = subMix[3];
                                    var invSubMix = this.invSubMix;
                                    var invSubMix0 = invSubMix[0];
                                    var invSubMix1 = invSubMix[1];
                                    var invSubMix2 = invSubMix[2];
                                    var invSubMix3 = invSubMix[3];
                                    var d = new Uint32Array(256);
                                    var x = 0;
                                    var xi = 0;
                                    var i = 0;
                                    for (i = 0; i < 256; i++) {
                                        if (i < 128) {
                                            d[i] = i << 1;
                                        } else {
                                            d[i] = i << 1 ^ 0x11b;
                                        }
                                    }
                                    for (i = 0; i < 256; i++) {
                                        var sx = xi ^ xi << 1 ^ xi << 2 ^ xi << 3 ^ xi << 4;
                                        sx = sx >>> 8 ^ sx & 0xff ^ 0x63;
                                        sBox[x] = sx;
                                        invSBox[sx] = x;
                                        var x2 = d[x];
                                        var x4 = d[x2];
                                        var x8 = d[x4];
                                        var t = d[sx] * 0x101 ^ sx * 0x1010100;
                                        subMix0[x] = t << 24 | t >>> 8;
                                        subMix1[x] = t << 16 | t >>> 16;
                                        subMix2[x] = t << 8 | t >>> 24;
                                        subMix3[x] = t;
                                        t = x8 * 0x1010101 ^ x4 * 0x10001 ^ x2 * 0x101 ^ x * 0x1010100;
                                        invSubMix0[sx] = t << 24 | t >>> 8;
                                        invSubMix1[sx] = t << 16 | t >>> 16;
                                        invSubMix2[sx] = t << 8 | t >>> 24;
                                        invSubMix3[sx] = t;
                                        if (!x) {
                                            x = xi = 1;
                                        } else {
                                            x = x2 ^ d[d[d[x8 ^ x2]]];
                                            xi ^= d[d[xi]];
                                        }
                                    }
                                }
                                ;
                                AESDecryptor.prototype.expandKey = function expandKey(keyBuffer) {
                                    var key = this.uint8ArrayToUint32Array_(keyBuffer);
                                    var sameKey = true;
                                    var offset = 0;
                                    while (offset < key.length && sameKey) {
                                        sameKey = key[offset] === this.key[offset];
                                        offset++;
                                    }
                                    if (sameKey) {
                                        return;
                                    }
                                    this.key = key;
                                    var keySize = this.keySize = key.length;
                                    if (keySize !== 4 && keySize !== 6 && keySize !== 8) {
                                        throw new Error('Invalid aes key size=' + keySize);
                                    }
                                    var ksRows = this.ksRows = (keySize + 6 + 1) * 4;
                                    var ksRow = void 0;
                                    var invKsRow = void 0;
                                    var keySchedule = this.keySchedule = new Uint32Array(ksRows);
                                    var invKeySchedule = this.invKeySchedule = new Uint32Array(ksRows);
                                    var sbox = this.sBox;
                                    var rcon = this.rcon;
                                    var invSubMix = this.invSubMix;
                                    var invSubMix0 = invSubMix[0];
                                    var invSubMix1 = invSubMix[1];
                                    var invSubMix2 = invSubMix[2];
                                    var invSubMix3 = invSubMix[3];
                                    var prev = void 0;
                                    var t = void 0;
                                    for (ksRow = 0; ksRow < ksRows; ksRow++) {
                                        if (ksRow < keySize) {
                                            prev = keySchedule[ksRow] = key[ksRow];
                                            continue;
                                        }
                                        t = prev;
                                        if (ksRow % keySize === 0) {
                                            t = t << 8 | t >>> 24;
                                            t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];
                                            t ^= rcon[ksRow / keySize | 0] << 24;
                                        } else if (keySize > 6 && ksRow % keySize === 4) {
                                            t = sbox[t >>> 24] << 24 | sbox[t >>> 16 & 0xff] << 16 | sbox[t >>> 8 & 0xff] << 8 | sbox[t & 0xff];
                                        }
                                        keySchedule[ksRow] = prev = (keySchedule[ksRow - keySize] ^ t) >>> 0;
                                    }
                                    for (invKsRow = 0; invKsRow < ksRows; invKsRow++) {
                                        ksRow = ksRows - invKsRow;
                                        if (invKsRow & 3) {
                                            t = keySchedule[ksRow];
                                        } else {
                                            t = keySchedule[ksRow - 4];
                                        }
                                        if (invKsRow < 4 || ksRow <= 4) {
                                            invKeySchedule[invKsRow] = t;
                                        } else {
                                            invKeySchedule[invKsRow] = invSubMix0[sbox[t >>> 24]] ^ invSubMix1[sbox[t >>> 16 & 0xff]] ^ invSubMix2[sbox[t >>> 8 & 0xff]] ^ invSubMix3[sbox[t & 0xff]];
                                        }
                                        invKeySchedule[invKsRow] = invKeySchedule[invKsRow] >>> 0;
                                    }
                                }
                                ;
                                AESDecryptor.prototype.networkToHostOrderSwap = function networkToHostOrderSwap(word) {
                                    return word << 24 | (word & 0xff00) << 8 | (word & 0xff0000) >> 8 | word >>> 24;
                                }
                                ;
                                AESDecryptor.prototype.decrypt = function decrypt(inputArrayBuffer, offset, aesIV, removePKCS7Padding) {
                                    var nRounds = this.keySize + 6;
                                    var invKeySchedule = this.invKeySchedule;
                                    var invSBOX = this.invSBox;
                                    var invSubMix = this.invSubMix;
                                    var invSubMix0 = invSubMix[0];
                                    var invSubMix1 = invSubMix[1];
                                    var invSubMix2 = invSubMix[2];
                                    var invSubMix3 = invSubMix[3];
                                    var initVector = this.uint8ArrayToUint32Array_(aesIV);
                                    var initVector0 = initVector[0];
                                    var initVector1 = initVector[1];
                                    var initVector2 = initVector[2];
                                    var initVector3 = initVector[3];
                                    var inputInt32 = new Int32Array(inputArrayBuffer);
                                    var outputInt32 = new Int32Array(inputInt32.length);
                                    var t0 = void 0
                                        , t1 = void 0
                                        , t2 = void 0
                                        , t3 = void 0;
                                    var s0 = void 0
                                        , s1 = void 0
                                        , s2 = void 0
                                        , s3 = void 0;
                                    var inputWords0 = void 0
                                        , inputWords1 = void 0
                                        , inputWords2 = void 0
                                        , inputWords3 = void 0;
                                    var ksRow = void 0
                                        , i = void 0;
                                    var swapWord = this.networkToHostOrderSwap;
                                    while (offset < inputInt32.length) {
                                        inputWords0 = swapWord(inputInt32[offset]);
                                        inputWords1 = swapWord(inputInt32[offset + 1]);
                                        inputWords2 = swapWord(inputInt32[offset + 2]);
                                        inputWords3 = swapWord(inputInt32[offset + 3]);
                                        s0 = inputWords0 ^ invKeySchedule[0];
                                        s1 = inputWords3 ^ invKeySchedule[1];
                                        s2 = inputWords2 ^ invKeySchedule[2];
                                        s3 = inputWords1 ^ invKeySchedule[3];
                                        ksRow = 4;
                                        for (i = 1; i < nRounds; i++) {
                                            t0 = invSubMix0[s0 >>> 24] ^ invSubMix1[s1 >> 16 & 0xff] ^ invSubMix2[s2 >> 8 & 0xff] ^ invSubMix3[s3 & 0xff] ^ invKeySchedule[ksRow];
                                            t1 = invSubMix0[s1 >>> 24] ^ invSubMix1[s2 >> 16 & 0xff] ^ invSubMix2[s3 >> 8 & 0xff] ^ invSubMix3[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
                                            t2 = invSubMix0[s2 >>> 24] ^ invSubMix1[s3 >> 16 & 0xff] ^ invSubMix2[s0 >> 8 & 0xff] ^ invSubMix3[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
                                            t3 = invSubMix0[s3 >>> 24] ^ invSubMix1[s0 >> 16 & 0xff] ^ invSubMix2[s1 >> 8 & 0xff] ^ invSubMix3[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
                                            s0 = t0;
                                            s1 = t1;
                                            s2 = t2;
                                            s3 = t3;
                                            ksRow = ksRow + 4;
                                        }
                                        t0 = invSBOX[s0 >>> 24] << 24 ^ invSBOX[s1 >> 16 & 0xff] << 16 ^ invSBOX[s2 >> 8 & 0xff] << 8 ^ invSBOX[s3 & 0xff] ^ invKeySchedule[ksRow];
                                        t1 = invSBOX[s1 >>> 24] << 24 ^ invSBOX[s2 >> 16 & 0xff] << 16 ^ invSBOX[s3 >> 8 & 0xff] << 8 ^ invSBOX[s0 & 0xff] ^ invKeySchedule[ksRow + 1];
                                        t2 = invSBOX[s2 >>> 24] << 24 ^ invSBOX[s3 >> 16 & 0xff] << 16 ^ invSBOX[s0 >> 8 & 0xff] << 8 ^ invSBOX[s1 & 0xff] ^ invKeySchedule[ksRow + 2];
                                        t3 = invSBOX[s3 >>> 24] << 24 ^ invSBOX[s0 >> 16 & 0xff] << 16 ^ invSBOX[s1 >> 8 & 0xff] << 8 ^ invSBOX[s2 & 0xff] ^ invKeySchedule[ksRow + 3];
                                        ksRow = ksRow + 3;
                                        outputInt32[offset] = swapWord(t0 ^ initVector0);
                                        outputInt32[offset + 1] = swapWord(t3 ^ initVector1);
                                        outputInt32[offset + 2] = swapWord(t2 ^ initVector2);
                                        outputInt32[offset + 3] = swapWord(t1 ^ initVector3);
                                        initVector0 = inputWords0;
                                        initVector1 = inputWords1;
                                        initVector2 = inputWords2;
                                        initVector3 = inputWords3;
                                        offset = offset + 4;
                                    }
                                    return removePKCS7Padding ? removePadding(outputInt32.buffer) : outputInt32.buffer;
                                }
                                ;
                                AESDecryptor.prototype.destroy = function destroy() {
                                    this.key = undefined;
                                    this.keySize = undefined;
                                    this.ksRows = undefined;
                                    this.sBox = undefined;
                                    this.invSBox = undefined;
                                    this.subMix = undefined;
                                    this.invSubMix = undefined;
                                    this.keySchedule = undefined;
                                    this.invKeySchedule = undefined;
                                    this.rcon = undefined;
                                }
                                ;
                                return AESDecryptor;
                            }();
                            var aes_decryptor = AESDecryptor;
                            var logger = __webpack_require__(0);
                            var get_self_scope = __webpack_require__(4);
                            function decrypter__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var global = Object(get_self_scope["a"])();
                            var decrypter_Decrypter = function() {
                                function Decrypter(observer, config) {
                                    var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {}
                                        , _ref$removePKCS7Paddi = _ref.removePKCS7Padding
                                        , removePKCS7Padding = _ref$removePKCS7Paddi === undefined ? true : _ref$removePKCS7Paddi;
                                    decrypter__classCallCheck(this, Decrypter);
                                    this.logEnabled = true;
                                    this.observer = observer;
                                    this.config = config;
                                    this.removePKCS7Padding = removePKCS7Padding;
                                    if (removePKCS7Padding) {
                                        try {
                                            var browserCrypto = global.crypto;
                                            if (browserCrypto) {
                                                this.subtle = browserCrypto.subtle || browserCrypto.webkitSubtle;
                                            }
                                        } catch (e) {}
                                    }
                                    this.disableWebCrypto = !this.subtle;
                                }
                                Decrypter.prototype.isSync = function isSync() {
                                    return this.disableWebCrypto && this.config.enableSoftwareAES;
                                }
                                ;
                                Decrypter.prototype.decrypt = function decrypt(data, key, iv, callback) {
                                    var _this = this;
                                    if (this.disableWebCrypto && this.config.enableSoftwareAES) {
                                        if (this.logEnabled) {
                                            logger["b"].log('JS AES decrypt');
                                            this.logEnabled = false;
                                        }
                                        var decryptor = this.decryptor;
                                        if (!decryptor) {
                                            this.decryptor = decryptor = new aes_decryptor();
                                        }
                                        decryptor.expandKey(key);
                                        callback(decryptor.decrypt(data, 0, iv, this.removePKCS7Padding));
                                    } else {
                                        if (this.logEnabled) {
                                            logger["b"].log('WebCrypto AES decrypt');
                                            this.logEnabled = false;
                                        }
                                        var subtle = this.subtle;
                                        if (this.key !== key) {
                                            this.key = key;
                                            this.fastAesKey = new fast_aes_key(subtle,key);
                                        }
                                        this.fastAesKey.expandKey().then(function(aesKey) {
                                            var crypto = new aes_crypto(subtle,iv);
                                            crypto.decrypt(data, aesKey).catch(function(err) {
                                                _this.onWebCryptoError(err, data, key, iv, callback);
                                            }).then(function(result) {
                                                callback(result);
                                            });
                                        }).catch(function(err) {
                                            _this.onWebCryptoError(err, data, key, iv, callback);
                                        });
                                    }
                                }
                                ;
                                Decrypter.prototype.onWebCryptoError = function onWebCryptoError(err, data, key, iv, callback) {
                                    if (this.config.enableSoftwareAES) {
                                        logger["b"].log('WebCrypto Error, disable WebCrypto API');
                                        this.disableWebCrypto = true;
                                        this.logEnabled = true;
                                        this.decrypt(data, key, iv, callback);
                                    } else {
                                        logger["b"].error('decrypting error : ' + err.message);
                                        this.observer.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].FRAG_DECRYPT_ERROR,
                                            fatal: true,
                                            reason: err.message
                                        });
                                    }
                                }
                                ;
                                Decrypter.prototype.destroy = function destroy() {
                                    var decryptor = this.decryptor;
                                    if (decryptor) {
                                        decryptor.destroy();
                                        this.decryptor = undefined;
                                    }
                                }
                                ;
                                return Decrypter;
                            }();
                            var crypt_decrypter = decrypter_Decrypter;
                            function getAudioConfig(observer, data, offset, audioCodec) {
                                var adtsObjectType = void 0
                                    , adtsSampleingIndex = void 0
                                    , adtsExtensionSampleingIndex = void 0
                                    , adtsChanelConfig = void 0
                                    , config = void 0
                                    , userAgent = navigator.userAgent.toLowerCase()
                                    , manifestCodec = audioCodec
                                    , adtsSampleingRates = [96000, 88200, 64000, 48000, 44100, 32000, 24000, 22050, 16000, 12000, 11025, 8000, 7350];
                                adtsObjectType = ((data[offset + 2] & 0xC0) >>> 6) + 1;
                                adtsSampleingIndex = (data[offset + 2] & 0x3C) >>> 2;
                                if (adtsSampleingIndex > adtsSampleingRates.length - 1) {
                                    observer.trigger(events["a"].ERROR, {
                                        type: errors["b"].MEDIA_ERROR,
                                        details: errors["a"].FRAG_PARSING_ERROR,
                                        fatal: true,
                                        reason: 'invalid ADTS sampling index:' + adtsSampleingIndex
                                    });
                                    return;
                                }
                                adtsChanelConfig = (data[offset + 2] & 0x01) << 2;
                                adtsChanelConfig |= (data[offset + 3] & 0xC0) >>> 6;
                                logger["b"].log('manifest codec:' + audioCodec + ',ADTS data:type:' + adtsObjectType + ',sampleingIndex:' + adtsSampleingIndex + '[' + adtsSampleingRates[adtsSampleingIndex] + 'Hz],channelConfig:' + adtsChanelConfig);
                                if (/firefox/i.test(userAgent)) {
                                    if (adtsSampleingIndex >= 6) {
                                        adtsObjectType = 5;
                                        config = new Array(4);
                                        adtsExtensionSampleingIndex = adtsSampleingIndex - 3;
                                    } else {
                                        adtsObjectType = 2;
                                        config = new Array(2);
                                        adtsExtensionSampleingIndex = adtsSampleingIndex;
                                    }
                                } else if (userAgent.indexOf('android') !== -1) {
                                    adtsObjectType = 2;
                                    config = new Array(2);
                                    adtsExtensionSampleingIndex = adtsSampleingIndex;
                                } else {
                                    adtsObjectType = 5;
                                    config = new Array(4);
                                    if (audioCodec && (audioCodec.indexOf('mp4a.40.29') !== -1 || audioCodec.indexOf('mp4a.40.5') !== -1) || !audioCodec && adtsSampleingIndex >= 6) {
                                        adtsExtensionSampleingIndex = adtsSampleingIndex - 3;
                                    } else {
                                        if (audioCodec && audioCodec.indexOf('mp4a.40.2') !== -1 && (adtsSampleingIndex >= 6 && adtsChanelConfig === 1 || /vivaldi/i.test(userAgent)) || !audioCodec && adtsChanelConfig === 1) {
                                            adtsObjectType = 2;
                                            config = new Array(2);
                                        }
                                        adtsExtensionSampleingIndex = adtsSampleingIndex;
                                    }
                                }
                                config[0] = adtsObjectType << 3;
                                config[0] |= (adtsSampleingIndex & 0x0E) >> 1;
                                config[1] |= (adtsSampleingIndex & 0x01) << 7;
                                config[1] |= adtsChanelConfig << 3;
                                if (adtsObjectType === 5) {
                                    config[1] |= (adtsExtensionSampleingIndex & 0x0E) >> 1;
                                    config[2] = (adtsExtensionSampleingIndex & 0x01) << 7;
                                    config[2] |= 2 << 2;
                                    config[3] = 0;
                                }
                                return {
                                    config: config,
                                    samplerate: adtsSampleingRates[adtsSampleingIndex],
                                    channelCount: adtsChanelConfig,
                                    codec: 'mp4a.40.' + adtsObjectType,
                                    manifestCodec: manifestCodec
                                };
                            }
                            function isHeaderPattern(data, offset) {
                                return data[offset] === 0xff && (data[offset + 1] & 0xf6) === 0xf0;
                            }
                            function getHeaderLength(data, offset) {
                                return data[offset + 1] & 0x01 ? 7 : 9;
                            }
                            function getFullFrameLength(data, offset) {
                                return (data[offset + 3] & 0x03) << 11 | data[offset + 4] << 3 | (data[offset + 5] & 0xE0) >>> 5;
                            }
                            function isHeader(data, offset) {
                                if (offset + 1 < data.length && isHeaderPattern(data, offset)) {
                                    return true;
                                }
                                return false;
                            }
                            function adts_probe(data, offset) {
                                if (offset + 1 < data.length && isHeaderPattern(data, offset)) {
                                    var headerLength = getHeaderLength(data, offset);
                                    var frameLength = headerLength;
                                    if (offset + 5 < data.length) {
                                        frameLength = getFullFrameLength(data, offset);
                                    }
                                    var newOffset = offset + frameLength;
                                    if (newOffset === data.length || newOffset + 1 < data.length && isHeaderPattern(data, newOffset)) {
                                        return true;
                                    }
                                }
                                return false;
                            }
                            function initTrackConfig(track, observer, data, offset, audioCodec) {
                                if (!track.samplerate) {
                                    var config = getAudioConfig(observer, data, offset, audioCodec);
                                    track.config = config.config;
                                    track.samplerate = config.samplerate;
                                    track.channelCount = config.channelCount;
                                    track.codec = config.codec;
                                    track.manifestCodec = config.manifestCodec;
                                    logger["b"].log('parsed codec:' + track.codec + ',rate:' + config.samplerate + ',nb channel:' + config.channelCount);
                                }
                            }
                            function getFrameDuration(samplerate) {
                                return 1024 * 90000 / samplerate;
                            }
                            function parseFrameHeader(data, offset, pts, frameIndex, frameDuration) {
                                var headerLength = void 0
                                    , frameLength = void 0
                                    , stamp = void 0;
                                var length = data.length;
                                headerLength = getHeaderLength(data, offset);
                                frameLength = getFullFrameLength(data, offset);
                                frameLength -= headerLength;
                                if (frameLength > 0 && offset + headerLength + frameLength <= length) {
                                    stamp = pts + frameIndex * frameDuration;
                                    return {
                                        headerLength: headerLength,
                                        frameLength: frameLength,
                                        stamp: stamp
                                    };
                                }
                                return undefined;
                            }
                            function appendFrame(track, data, offset, pts, frameIndex) {
                                var frameDuration = getFrameDuration(track.samplerate);
                                var header = parseFrameHeader(data, offset, pts, frameIndex, frameDuration);
                                if (header) {
                                    var stamp = header.stamp;
                                    var headerLength = header.headerLength;
                                    var frameLength = header.frameLength;
                                    var aacSample = {
                                        unit: data.subarray(offset + headerLength, offset + headerLength + frameLength),
                                        pts: stamp,
                                        dts: stamp
                                    };
                                    track.samples.push(aacSample);
                                    track.len += frameLength;
                                    return {
                                        sample: aacSample,
                                        length: frameLength + headerLength
                                    };
                                }
                                return undefined;
                            }
                            var id3 = __webpack_require__(7);
                            function aacdemuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var aacdemuxer_AACDemuxer = function() {
                                function AACDemuxer(observer, remuxer, config) {
                                    aacdemuxer__classCallCheck(this, AACDemuxer);
                                    this.observer = observer;
                                    this.config = config;
                                    this.remuxer = remuxer;
                                }
                                AACDemuxer.prototype.resetInitSegment = function resetInitSegment(initSegment, audioCodec, videoCodec, duration) {
                                    this._audioTrack = {
                                        container: 'audio/adts',
                                        type: 'audio',
                                        id: 0,
                                        sequenceNumber: 0,
                                        isAAC: true,
                                        samples: [],
                                        len: 0,
                                        manifestCodec: audioCodec,
                                        duration: duration,
                                        inputTimeScale: 90000
                                    };
                                }
                                ;
                                AACDemuxer.prototype.resetTimeStamp = function resetTimeStamp() {}
                                ;
                                AACDemuxer.probe = function probe(data) {
                                    if (!data) {
                                        return false;
                                    }
                                    var id3Data = id3["a"].getID3Data(data, 0) || [];
                                    var offset = id3Data.length;
                                    for (var length = data.length; offset < length; offset++) {
                                        if (adts_probe(data, offset)) {
                                            logger["b"].log('ADTS sync word found !');
                                            return true;
                                        }
                                    }
                                    return false;
                                }
                                ;
                                AACDemuxer.prototype.append = function append(data, timeOffset, contiguous, accurateTimeOffset) {
                                    var track = this._audioTrack;
                                    var id3Data = id3["a"].getID3Data(data, 0) || [];
                                    var timestamp = id3["a"].getTimeStamp(id3Data);
                                    var pts = timestamp ? 90 * timestamp : timeOffset * 90000;
                                    var frameIndex = 0;
                                    var stamp = pts;
                                    var length = data.length;
                                    var offset = id3Data.length;
                                    var id3Samples = [{
                                        pts: stamp,
                                        dts: stamp,
                                        data: id3Data
                                    }];
                                    while (offset < length - 1) {
                                        if (isHeader(data, offset) && offset + 5 < length) {
                                            initTrackConfig(track, this.observer, data, offset, track.manifestCodec);
                                            var frame = appendFrame(track, data, offset, pts, frameIndex);
                                            if (frame) {
                                                offset += frame.length;
                                                stamp = frame.sample.pts;
                                                frameIndex++;
                                            } else {
                                                logger["b"].log('Unable to parse AAC frame');
                                                break;
                                            }
                                        } else if (id3["a"].isHeader(data, offset)) {
                                            id3Data = id3["a"].getID3Data(data, offset);
                                            id3Samples.push({
                                                pts: stamp,
                                                dts: stamp,
                                                data: id3Data
                                            });
                                            offset += id3Data.length;
                                        } else {
                                            offset++;
                                        }
                                    }
                                    this.remuxer.remux(track, {
                                        samples: []
                                    }, {
                                        samples: id3Samples,
                                        inputTimeScale: 90000
                                    }, {
                                        samples: []
                                    }, timeOffset, contiguous, accurateTimeOffset);
                                }
                                ;
                                AACDemuxer.prototype.destroy = function destroy() {}
                                ;
                                return AACDemuxer;
                            }();
                            var aacdemuxer = aacdemuxer_AACDemuxer;
                            var mp4demuxer = __webpack_require__(8);
                            var MpegAudio = {
                                BitratesMap: [32, 64, 96, 128, 160, 192, 224, 256, 288, 320, 352, 384, 416, 448, 32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, 32, 40, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 32, 48, 56, 64, 80, 96, 112, 128, 144, 160, 176, 192, 224, 256, 8, 16, 24, 32, 40, 48, 56, 64, 80, 96, 112, 128, 144, 160],
                                SamplingRateMap: [44100, 48000, 32000, 22050, 24000, 16000, 11025, 12000, 8000],
                                SamplesCoefficients: [[0, 72, 144, 12], [0, 0, 0, 0], [0, 72, 144, 12], [0, 144, 144, 12]],
                                BytesInSlot: [0, 1, 1, 4],
                                appendFrame: function appendFrame(track, data, offset, pts, frameIndex) {
                                    if (offset + 24 > data.length) {
                                        return undefined;
                                    }
                                    var header = this.parseHeader(data, offset);
                                    if (header && offset + header.frameLength <= data.length) {
                                        var frameDuration = header.samplesPerFrame * 90000 / header.sampleRate;
                                        var stamp = pts + frameIndex * frameDuration;
                                        var sample = {
                                            unit: data.subarray(offset, offset + header.frameLength),
                                            pts: stamp,
                                            dts: stamp
                                        };
                                        track.config = [];
                                        track.channelCount = header.channelCount;
                                        track.samplerate = header.sampleRate;
                                        track.samples.push(sample);
                                        track.len += header.frameLength;
                                        return {
                                            sample: sample,
                                            length: header.frameLength
                                        };
                                    }
                                    return undefined;
                                },
                                parseHeader: function parseHeader(data, offset) {
                                    var headerB = data[offset + 1] >> 3 & 3;
                                    var headerC = data[offset + 1] >> 1 & 3;
                                    var headerE = data[offset + 2] >> 4 & 15;
                                    var headerF = data[offset + 2] >> 2 & 3;
                                    var headerG = data[offset + 2] >> 1 & 1;
                                    if (headerB !== 1 && headerE !== 0 && headerE !== 15 && headerF !== 3) {
                                        var columnInBitrates = headerB === 3 ? 3 - headerC : headerC === 3 ? 3 : 4;
                                        var bitRate = MpegAudio.BitratesMap[columnInBitrates * 14 + headerE - 1] * 1000;
                                        var columnInSampleRates = headerB === 3 ? 0 : headerB === 2 ? 1 : 2;
                                        var sampleRate = MpegAudio.SamplingRateMap[columnInSampleRates * 3 + headerF];
                                        var channelCount = data[offset + 3] >> 6 === 3 ? 1 : 2;
                                        var sampleCoefficient = MpegAudio.SamplesCoefficients[headerB][headerC];
                                        var bytesInSlot = MpegAudio.BytesInSlot[headerC];
                                        var samplesPerFrame = sampleCoefficient * 8 * bytesInSlot;
                                        var frameLength = parseInt(sampleCoefficient * bitRate / sampleRate + headerG, 10) * bytesInSlot;
                                        return {
                                            sampleRate: sampleRate,
                                            channelCount: channelCount,
                                            frameLength: frameLength,
                                            samplesPerFrame: samplesPerFrame
                                        };
                                    }
                                    return undefined;
                                },
                                isHeaderPattern: function isHeaderPattern(data, offset) {
                                    return data[offset] === 0xff && (data[offset + 1] & 0xe0) === 0xe0 && (data[offset + 1] & 0x06) !== 0x00;
                                },
                                isHeader: function isHeader(data, offset) {
                                    if (offset + 1 < data.length && this.isHeaderPattern(data, offset)) {
                                        return true;
                                    }
                                    return false;
                                },
                                probe: function probe(data, offset) {
                                    if (offset + 1 < data.length && this.isHeaderPattern(data, offset)) {
                                        var headerLength = 4;
                                        var header = this.parseHeader(data, offset);
                                        var frameLength = headerLength;
                                        if (header && header.frameLength) {
                                            frameLength = header.frameLength;
                                        }
                                        var newOffset = offset + frameLength;
                                        if (newOffset === data.length || newOffset + 1 < data.length && this.isHeaderPattern(data, newOffset)) {
                                            return true;
                                        }
                                    }
                                    return false;
                                }
                            };
                            var mpegaudio = MpegAudio;
                            function exp_golomb__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var exp_golomb_ExpGolomb = function() {
                                function ExpGolomb(data) {
                                    exp_golomb__classCallCheck(this, ExpGolomb);
                                    this.data = data;
                                    this.bytesAvailable = data.byteLength;
                                    this.word = 0;
                                    this.bitsAvailable = 0;
                                }
                                ExpGolomb.prototype.loadWord = function loadWord() {
                                    var data = this.data
                                        , bytesAvailable = this.bytesAvailable
                                        , position = data.byteLength - bytesAvailable
                                        , workingBytes = new Uint8Array(4)
                                        , availableBytes = Math.min(4, bytesAvailable);
                                    if (availableBytes === 0) {
                                        throw new Error('no bytes available');
                                    }
                                    workingBytes.set(data.subarray(position, position + availableBytes));
                                    this.word = new DataView(workingBytes.buffer).getUint32(0);
                                    this.bitsAvailable = availableBytes * 8;
                                    this.bytesAvailable -= availableBytes;
                                }
                                ;
                                ExpGolomb.prototype.skipBits = function skipBits(count) {
                                    var skipBytes = void 0;
                                    if (this.bitsAvailable > count) {
                                        this.word <<= count;
                                        this.bitsAvailable -= count;
                                    } else {
                                        count -= this.bitsAvailable;
                                        skipBytes = count >> 3;
                                        count -= skipBytes >> 3;
                                        this.bytesAvailable -= skipBytes;
                                        this.loadWord();
                                        this.word <<= count;
                                        this.bitsAvailable -= count;
                                    }
                                }
                                ;
                                ExpGolomb.prototype.readBits = function readBits(size) {
                                    var bits = Math.min(this.bitsAvailable, size)
                                        , valu = this.word >>> 32 - bits;
                                    if (size > 32) {
                                        logger["b"].error('Cannot read more than 32 bits at a time');
                                    }
                                    this.bitsAvailable -= bits;
                                    if (this.bitsAvailable > 0) {
                                        this.word <<= bits;
                                    } else if (this.bytesAvailable > 0) {
                                        this.loadWord();
                                    }
                                    bits = size - bits;
                                    if (bits > 0 && this.bitsAvailable) {
                                        return valu << bits | this.readBits(bits);
                                    } else {
                                        return valu;
                                    }
                                }
                                ;
                                ExpGolomb.prototype.skipLZ = function skipLZ() {
                                    var leadingZeroCount = void 0;
                                    for (leadingZeroCount = 0; leadingZeroCount < this.bitsAvailable; ++leadingZeroCount) {
                                        if ((this.word & 0x80000000 >>> leadingZeroCount) !== 0) {
                                            this.word <<= leadingZeroCount;
                                            this.bitsAvailable -= leadingZeroCount;
                                            return leadingZeroCount;
                                        }
                                    }
                                    this.loadWord();
                                    return leadingZeroCount + this.skipLZ();
                                }
                                ;
                                ExpGolomb.prototype.skipUEG = function skipUEG() {
                                    this.skipBits(1 + this.skipLZ());
                                }
                                ;
                                ExpGolomb.prototype.skipEG = function skipEG() {
                                    this.skipBits(1 + this.skipLZ());
                                }
                                ;
                                ExpGolomb.prototype.readUEG = function readUEG() {
                                    var clz = this.skipLZ();
                                    return this.readBits(clz + 1) - 1;
                                }
                                ;
                                ExpGolomb.prototype.readEG = function readEG() {
                                    var valu = this.readUEG();
                                    if (0x01 & valu) {
                                        return 1 + valu >>> 1;
                                    } else {
                                        return -1 * (valu >>> 1);
                                    }
                                }
                                ;
                                ExpGolomb.prototype.readBoolean = function readBoolean() {
                                    return this.readBits(1) === 1;
                                }
                                ;
                                ExpGolomb.prototype.readUByte = function readUByte() {
                                    return this.readBits(8);
                                }
                                ;
                                ExpGolomb.prototype.readUShort = function readUShort() {
                                    return this.readBits(16);
                                }
                                ;
                                ExpGolomb.prototype.readUInt = function readUInt() {
                                    return this.readBits(32);
                                }
                                ;
                                ExpGolomb.prototype.skipScalingList = function skipScalingList(count) {
                                    var lastScale = 8
                                        , nextScale = 8
                                        , j = void 0
                                        , deltaScale = void 0;
                                    for (j = 0; j < count; j++) {
                                        if (nextScale !== 0) {
                                            deltaScale = this.readEG();
                                            nextScale = (lastScale + deltaScale + 256) % 256;
                                        }
                                        lastScale = nextScale === 0 ? lastScale : nextScale;
                                    }
                                }
                                ;
                                ExpGolomb.prototype.readSPS = function readSPS() {
                                    var frameCropLeftOffset = 0
                                        , frameCropRightOffset = 0
                                        , frameCropTopOffset = 0
                                        , frameCropBottomOffset = 0
                                        , profileIdc = void 0
                                        , profileCompat = void 0
                                        , levelIdc = void 0
                                        , numRefFramesInPicOrderCntCycle = void 0
                                        , picWidthInMbsMinus1 = void 0
                                        , picHeightInMapUnitsMinus1 = void 0
                                        , frameMbsOnlyFlag = void 0
                                        , scalingListCount = void 0
                                        , i = void 0
                                        , readUByte = this.readUByte.bind(this)
                                        , readBits = this.readBits.bind(this)
                                        , readUEG = this.readUEG.bind(this)
                                        , readBoolean = this.readBoolean.bind(this)
                                        , skipBits = this.skipBits.bind(this)
                                        , skipEG = this.skipEG.bind(this)
                                        , skipUEG = this.skipUEG.bind(this)
                                        , skipScalingList = this.skipScalingList.bind(this);
                                    readUByte();
                                    profileIdc = readUByte();
                                    profileCompat = readBits(5);
                                    skipBits(3);
                                    levelIdc = readUByte();
                                    skipUEG();
                                    if (profileIdc === 100 || profileIdc === 110 || profileIdc === 122 || profileIdc === 244 || profileIdc === 44 || profileIdc === 83 || profileIdc === 86 || profileIdc === 118 || profileIdc === 128) {
                                        var chromaFormatIdc = readUEG();
                                        if (chromaFormatIdc === 3) {
                                            skipBits(1);
                                        }
                                        skipUEG();
                                        skipUEG();
                                        skipBits(1);
                                        if (readBoolean()) {
                                            scalingListCount = chromaFormatIdc !== 3 ? 8 : 12;
                                            for (i = 0; i < scalingListCount; i++) {
                                                if (readBoolean()) {
                                                    if (i < 6) {
                                                        skipScalingList(16);
                                                    } else {
                                                        skipScalingList(64);
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    skipUEG();
                                    var picOrderCntType = readUEG();
                                    if (picOrderCntType === 0) {
                                        readUEG();
                                    } else if (picOrderCntType === 1) {
                                        skipBits(1);
                                        skipEG();
                                        skipEG();
                                        numRefFramesInPicOrderCntCycle = readUEG();
                                        for (i = 0; i < numRefFramesInPicOrderCntCycle; i++) {
                                            skipEG();
                                        }
                                    }
                                    skipUEG();
                                    skipBits(1);
                                    picWidthInMbsMinus1 = readUEG();
                                    picHeightInMapUnitsMinus1 = readUEG();
                                    frameMbsOnlyFlag = readBits(1);
                                    if (frameMbsOnlyFlag === 0) {
                                        skipBits(1);
                                    }
                                    skipBits(1);
                                    if (readBoolean()) {
                                        frameCropLeftOffset = readUEG();
                                        frameCropRightOffset = readUEG();
                                        frameCropTopOffset = readUEG();
                                        frameCropBottomOffset = readUEG();
                                    }
                                    var pixelRatio = [1, 1];
                                    if (readBoolean()) {
                                        if (readBoolean()) {
                                            var aspectRatioIdc = readUByte();
                                            switch (aspectRatioIdc) {
                                                case 1:
                                                    pixelRatio = [1, 1];
                                                    break;
                                                case 2:
                                                    pixelRatio = [12, 11];
                                                    break;
                                                case 3:
                                                    pixelRatio = [10, 11];
                                                    break;
                                                case 4:
                                                    pixelRatio = [16, 11];
                                                    break;
                                                case 5:
                                                    pixelRatio = [40, 33];
                                                    break;
                                                case 6:
                                                    pixelRatio = [24, 11];
                                                    break;
                                                case 7:
                                                    pixelRatio = [20, 11];
                                                    break;
                                                case 8:
                                                    pixelRatio = [32, 11];
                                                    break;
                                                case 9:
                                                    pixelRatio = [80, 33];
                                                    break;
                                                case 10:
                                                    pixelRatio = [18, 11];
                                                    break;
                                                case 11:
                                                    pixelRatio = [15, 11];
                                                    break;
                                                case 12:
                                                    pixelRatio = [64, 33];
                                                    break;
                                                case 13:
                                                    pixelRatio = [160, 99];
                                                    break;
                                                case 14:
                                                    pixelRatio = [4, 3];
                                                    break;
                                                case 15:
                                                    pixelRatio = [3, 2];
                                                    break;
                                                case 16:
                                                    pixelRatio = [2, 1];
                                                    break;
                                                case 255:
                                                {
                                                    pixelRatio = [readUByte() << 8 | readUByte(), readUByte() << 8 | readUByte()];
                                                    break;
                                                }
                                            }
                                        }
                                    }
                                    return {
                                        width: Math.ceil((picWidthInMbsMinus1 + 1) * 16 - frameCropLeftOffset * 2 - frameCropRightOffset * 2),
                                        height: (2 - frameMbsOnlyFlag) * (picHeightInMapUnitsMinus1 + 1) * 16 - (frameMbsOnlyFlag ? 2 : 4) * (frameCropTopOffset + frameCropBottomOffset),
                                        pixelRatio: pixelRatio
                                    };
                                }
                                ;
                                ExpGolomb.prototype.readSliceType = function readSliceType() {
                                    this.readUByte();
                                    this.readUEG();
                                    return this.readUEG();
                                }
                                ;
                                return ExpGolomb;
                            }();
                            var exp_golomb = exp_golomb_ExpGolomb;
                            function sample_aes__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var sample_aes_SampleAesDecrypter = function() {
                                function SampleAesDecrypter(observer, config, decryptdata, discardEPB) {
                                    sample_aes__classCallCheck(this, SampleAesDecrypter);
                                    this.decryptdata = decryptdata;
                                    this.discardEPB = discardEPB;
                                    this.decrypter = new crypt_decrypter(observer,config,{
                                        removePKCS7Padding: false
                                    });
                                }
                                SampleAesDecrypter.prototype.decryptBuffer = function decryptBuffer(encryptedData, callback) {
                                    this.decrypter.decrypt(encryptedData, this.decryptdata.key.buffer, this.decryptdata.iv.buffer, callback);
                                }
                                ;
                                SampleAesDecrypter.prototype.decryptAacSample = function decryptAacSample(samples, sampleIndex, callback, sync) {
                                    var curUnit = samples[sampleIndex].unit;
                                    var encryptedData = curUnit.subarray(16, curUnit.length - curUnit.length % 16);
                                    var encryptedBuffer = encryptedData.buffer.slice(encryptedData.byteOffset, encryptedData.byteOffset + encryptedData.length);
                                    var localthis = this;
                                    this.decryptBuffer(encryptedBuffer, function(decryptedData) {
                                        decryptedData = new Uint8Array(decryptedData);
                                        curUnit.set(decryptedData, 16);
                                        if (!sync) {
                                            localthis.decryptAacSamples(samples, sampleIndex + 1, callback);
                                        }
                                    });
                                }
                                ;
                                SampleAesDecrypter.prototype.decryptAacSamples = function decryptAacSamples(samples, sampleIndex, callback) {
                                    for (; ; sampleIndex++) {
                                        if (sampleIndex >= samples.length) {
                                            callback();
                                            return;
                                        }
                                        if (samples[sampleIndex].unit.length < 32) {
                                            continue;
                                        }
                                        var sync = this.decrypter.isSync();
                                        this.decryptAacSample(samples, sampleIndex, callback, sync);
                                        if (!sync) {
                                            return;
                                        }
                                    }
                                }
                                ;
                                SampleAesDecrypter.prototype.getAvcEncryptedData = function getAvcEncryptedData(decodedData) {
                                    var encryptedDataLen = Math.floor((decodedData.length - 48) / 160) * 16 + 16;
                                    var encryptedData = new Int8Array(encryptedDataLen);
                                    var outputPos = 0;
                                    for (var inputPos = 32; inputPos <= decodedData.length - 16; inputPos += 160,
                                        outputPos += 16) {
                                        encryptedData.set(decodedData.subarray(inputPos, inputPos + 16), outputPos);
                                    }
                                    return encryptedData;
                                }
                                ;
                                SampleAesDecrypter.prototype.getAvcDecryptedUnit = function getAvcDecryptedUnit(decodedData, decryptedData) {
                                    decryptedData = new Uint8Array(decryptedData);
                                    var inputPos = 0;
                                    for (var outputPos = 32; outputPos <= decodedData.length - 16; outputPos += 160,
                                        inputPos += 16) {
                                        decodedData.set(decryptedData.subarray(inputPos, inputPos + 16), outputPos);
                                    }
                                    return decodedData;
                                }
                                ;
                                SampleAesDecrypter.prototype.decryptAvcSample = function decryptAvcSample(samples, sampleIndex, unitIndex, callback, curUnit, sync) {
                                    var decodedData = this.discardEPB(curUnit.data);
                                    var encryptedData = this.getAvcEncryptedData(decodedData);
                                    var localthis = this;
                                    this.decryptBuffer(encryptedData.buffer, function(decryptedData) {
                                        curUnit.data = localthis.getAvcDecryptedUnit(decodedData, decryptedData);
                                        if (!sync) {
                                            localthis.decryptAvcSamples(samples, sampleIndex, unitIndex + 1, callback);
                                        }
                                    });
                                }
                                ;
                                SampleAesDecrypter.prototype.decryptAvcSamples = function decryptAvcSamples(samples, sampleIndex, unitIndex, callback) {
                                    for (; ; sampleIndex++,
                                                 unitIndex = 0) {
                                        if (sampleIndex >= samples.length) {
                                            callback();
                                            return;
                                        }
                                        var curUnits = samples[sampleIndex].units;
                                        for (; ; unitIndex++) {
                                            if (unitIndex >= curUnits.length) {
                                                break;
                                            }
                                            var curUnit = curUnits[unitIndex];
                                            if (curUnit.length <= 48 || curUnit.type !== 1 && curUnit.type !== 5) {
                                                continue;
                                            }
                                            var sync = this.decrypter.isSync();
                                            this.decryptAvcSample(samples, sampleIndex, unitIndex, callback, curUnit, sync);
                                            if (!sync) {
                                                return;
                                            }
                                        }
                                    }
                                }
                                ;
                                return SampleAesDecrypter;
                            }();
                            var sample_aes = sample_aes_SampleAesDecrypter;
                            function tsdemuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var RemuxerTrackIdConfig = {
                                video: 1,
                                audio: 2,
                                id3: 3,
                                text: 4
                            };
                            var tsdemuxer_TSDemuxer = function() {
                                function TSDemuxer(observer, remuxer, config, typeSupported) {
                                    tsdemuxer__classCallCheck(this, TSDemuxer);
                                    this.observer = observer;
                                    this.config = config;
                                    this.typeSupported = typeSupported;
                                    this.remuxer = remuxer;
                                    this.sampleAes = null;
                                }
                                TSDemuxer.prototype.setDecryptData = function setDecryptData(decryptdata) {
                                    if (decryptdata != null && decryptdata.key != null && decryptdata.method === 'SAMPLE-AES') {
                                        this.sampleAes = new sample_aes(this.observer,this.config,decryptdata,this.discardEPB);
                                    } else {
                                        this.sampleAes = null;
                                    }
                                }
                                ;
                                TSDemuxer.probe = function probe(data) {
                                    var syncOffset = TSDemuxer._syncOffset(data);
                                    if (syncOffset < 0) {
                                        return false;
                                    } else {
                                        if (syncOffset) {
                                            logger["b"].warn('MPEG2-TS detected but first sync word found @ offset ' + syncOffset + ', junk ahead ?');
                                        }
                                        return true;
                                    }
                                }
                                ;
                                TSDemuxer._syncOffset = function _syncOffset(data) {
                                    var scanwindow = Math.min(1000, data.length - 3 * 188);
                                    var i = 0;
                                    while (i < scanwindow) {
                                        if (data[i] === 0x47 && data[i + 188] === 0x47 && data[i + 2 * 188] === 0x47) {
                                            return i;
                                        } else {
                                            i++;
                                        }
                                    }
                                    return -1;
                                }
                                ;
                                TSDemuxer.createTrack = function createTrack(type, duration) {
                                    return {
                                        container: type === 'video' || type === 'audio' ? 'video/mp2t' : undefined,
                                        type: type,
                                        id: RemuxerTrackIdConfig[type],
                                        pid: -1,
                                        inputTimeScale: 90000,
                                        sequenceNumber: 0,
                                        samples: [],
                                        len: 0,
                                        dropped: type === 'video' ? 0 : undefined,
                                        isAAC: type === 'audio' ? true : undefined,
                                        duration: type === 'audio' ? duration : undefined
                                    };
                                }
                                ;
                                TSDemuxer.prototype.resetInitSegment = function resetInitSegment(initSegment, audioCodec, videoCodec, duration) {
                                    this.pmtParsed = false;
                                    this._pmtId = -1;
                                    this._avcTrack = TSDemuxer.createTrack('video', duration);
                                    this._audioTrack = TSDemuxer.createTrack('audio', duration);
                                    this._id3Track = TSDemuxer.createTrack('id3', duration);
                                    this._txtTrack = TSDemuxer.createTrack('text', duration);
                                    this.aacOverFlow = null;
                                    this.aacLastPTS = null;
                                    this.avcSample = null;
                                    this.audioCodec = audioCodec;
                                    this.videoCodec = videoCodec;
                                    this._duration = duration;
                                }
                                ;
                                TSDemuxer.prototype.resetTimeStamp = function resetTimeStamp() {}
                                ;
                                TSDemuxer.prototype.append = function append(data, timeOffset, contiguous, accurateTimeOffset) {
                                    var start = void 0
                                        , len = data.length
                                        , stt = void 0
                                        , pid = void 0
                                        , atf = void 0
                                        , offset = void 0
                                        , pes = void 0
                                        , unknownPIDs = false;
                                    this.contiguous = contiguous;
                                    var pmtParsed = this.pmtParsed
                                        , avcTrack = this._avcTrack
                                        , audioTrack = this._audioTrack
                                        , id3Track = this._id3Track
                                        , avcId = avcTrack.pid
                                        , audioId = audioTrack.pid
                                        , id3Id = id3Track.pid
                                        , pmtId = this._pmtId
                                        , avcData = avcTrack.pesData
                                        , audioData = audioTrack.pesData
                                        , id3Data = id3Track.pesData
                                        , parsePAT = this._parsePAT
                                        , parsePMT = this._parsePMT
                                        , parsePES = this._parsePES
                                        , parseAVCPES = this._parseAVCPES.bind(this)
                                        , parseAACPES = this._parseAACPES.bind(this)
                                        , parseMPEGPES = this._parseMPEGPES.bind(this)
                                        , parseID3PES = this._parseID3PES.bind(this);
                                    var syncOffset = TSDemuxer._syncOffset(data);
                                    len -= (len + syncOffset) % 188;
                                    for (start = syncOffset; start < len; start += 188) {
                                        if (data[start] === 0x47) {
                                            stt = !!(data[start + 1] & 0x40);
                                            pid = ((data[start + 1] & 0x1f) << 8) + data[start + 2];
                                            atf = (data[start + 3] & 0x30) >> 4;
                                            if (atf > 1) {
                                                offset = start + 5 + data[start + 4];
                                                if (offset === start + 188) {
                                                    continue;
                                                }
                                            } else {
                                                offset = start + 4;
                                            }
                                            switch (pid) {
                                                case avcId:
                                                    if (stt) {
                                                        if (avcData && (pes = parsePES(avcData)) && pes.pts !== undefined) {
                                                            parseAVCPES(pes, false);
                                                        }
                                                        avcData = {
                                                            data: [],
                                                            size: 0
                                                        };
                                                    }
                                                    if (avcData) {
                                                        avcData.data.push(data.subarray(offset, start + 188));
                                                        avcData.size += start + 188 - offset;
                                                    }
                                                    break;
                                                case audioId:
                                                    if (stt) {
                                                        if (audioData && (pes = parsePES(audioData)) && pes.pts !== undefined) {
                                                            if (audioTrack.isAAC) {
                                                                parseAACPES(pes);
                                                            } else {
                                                                parseMPEGPES(pes);
                                                            }
                                                        }
                                                        audioData = {
                                                            data: [],
                                                            size: 0
                                                        };
                                                    }
                                                    if (audioData) {
                                                        audioData.data.push(data.subarray(offset, start + 188));
                                                        audioData.size += start + 188 - offset;
                                                    }
                                                    break;
                                                case id3Id:
                                                    if (stt) {
                                                        if (id3Data && (pes = parsePES(id3Data)) && pes.pts !== undefined) {
                                                            parseID3PES(pes);
                                                        }
                                                        id3Data = {
                                                            data: [],
                                                            size: 0
                                                        };
                                                    }
                                                    if (id3Data) {
                                                        id3Data.data.push(data.subarray(offset, start + 188));
                                                        id3Data.size += start + 188 - offset;
                                                    }
                                                    break;
                                                case 0:
                                                    if (stt) {
                                                        offset += data[offset] + 1;
                                                    }
                                                    pmtId = this._pmtId = parsePAT(data, offset);
                                                    break;
                                                case pmtId:
                                                    if (stt) {
                                                        offset += data[offset] + 1;
                                                    }
                                                    var parsedPIDs = parsePMT(data, offset, this.typeSupported.mpeg === true || this.typeSupported.mp3 === true, this.sampleAes != null);
                                                    avcId = parsedPIDs.avc;
                                                    if (avcId > 0) {
                                                        avcTrack.pid = avcId;
                                                    }
                                                    audioId = parsedPIDs.audio;
                                                    if (audioId > 0) {
                                                        audioTrack.pid = audioId;
                                                        audioTrack.isAAC = parsedPIDs.isAAC;
                                                    }
                                                    id3Id = parsedPIDs.id3;
                                                    if (id3Id > 0) {
                                                        id3Track.pid = id3Id;
                                                    }
                                                    if (unknownPIDs && !pmtParsed) {
                                                        logger["b"].log('reparse from beginning');
                                                        unknownPIDs = false;
                                                        start = syncOffset - 188;
                                                    }
                                                    pmtParsed = this.pmtParsed = true;
                                                    break;
                                                case 17:
                                                case 0x1fff:
                                                    break;
                                                default:
                                                    unknownPIDs = true;
                                                    break;
                                            }
                                        } else {
                                            this.observer.trigger(events["a"].ERROR, {
                                                type: errors["b"].MEDIA_ERROR,
                                                details: errors["a"].FRAG_PARSING_ERROR,
                                                fatal: false,
                                                reason: 'TS packet did not start with 0x47'
                                            });
                                        }
                                    }
                                    if (avcData && (pes = parsePES(avcData)) && pes.pts !== undefined) {
                                        parseAVCPES(pes, true);
                                        avcTrack.pesData = null;
                                    } else {
                                        avcTrack.pesData = avcData;
                                    }
                                    if (audioData && (pes = parsePES(audioData)) && pes.pts !== undefined) {
                                        if (audioTrack.isAAC) {
                                            parseAACPES(pes);
                                        } else {
                                            parseMPEGPES(pes);
                                        }
                                        audioTrack.pesData = null;
                                    } else {
                                        if (audioData && audioData.size) {
                                            logger["b"].log('last AAC PES packet truncated,might overlap between fragments');
                                        }
                                        audioTrack.pesData = audioData;
                                    }
                                    if (id3Data && (pes = parsePES(id3Data)) && pes.pts !== undefined) {
                                        parseID3PES(pes);
                                        id3Track.pesData = null;
                                    } else {
                                        id3Track.pesData = id3Data;
                                    }
                                    if (this.sampleAes == null) {
                                        this.remuxer.remux(audioTrack, avcTrack, id3Track, this._txtTrack, timeOffset, contiguous, accurateTimeOffset);
                                    } else {
                                        this.decryptAndRemux(audioTrack, avcTrack, id3Track, this._txtTrack, timeOffset, contiguous, accurateTimeOffset);
                                    }
                                }
                                ;
                                TSDemuxer.prototype.decryptAndRemux = function decryptAndRemux(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset) {
                                    if (audioTrack.samples && audioTrack.isAAC) {
                                        var localthis = this;
                                        this.sampleAes.decryptAacSamples(audioTrack.samples, 0, function() {
                                            localthis.decryptAndRemuxAvc(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset);
                                        });
                                    } else {
                                        this.decryptAndRemuxAvc(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset);
                                    }
                                }
                                ;
                                TSDemuxer.prototype.decryptAndRemuxAvc = function decryptAndRemuxAvc(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset) {
                                    if (videoTrack.samples) {
                                        var localthis = this;
                                        this.sampleAes.decryptAvcSamples(videoTrack.samples, 0, 0, function() {
                                            localthis.remuxer.remux(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset);
                                        });
                                    } else {
                                        this.remuxer.remux(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset);
                                    }
                                }
                                ;
                                TSDemuxer.prototype.destroy = function destroy() {
                                    this._initPTS = this._initDTS = undefined;
                                    this._duration = 0;
                                }
                                ;
                                TSDemuxer.prototype._parsePAT = function _parsePAT(data, offset) {
                                    return (data[offset + 10] & 0x1F) << 8 | data[offset + 11];
                                }
                                ;
                                TSDemuxer.prototype._parsePMT = function _parsePMT(data, offset, mpegSupported, isSampleAes) {
                                    var sectionLength = void 0
                                        , tableEnd = void 0
                                        , programInfoLength = void 0
                                        , pid = void 0
                                        , result = {
                                        audio: -1,
                                        avc: -1,
                                        id3: -1,
                                        isAAC: true
                                    };
                                    sectionLength = (data[offset + 1] & 0x0f) << 8 | data[offset + 2];
                                    tableEnd = offset + 3 + sectionLength - 4;
                                    programInfoLength = (data[offset + 10] & 0x0f) << 8 | data[offset + 11];
                                    offset += 12 + programInfoLength;
                                    while (offset < tableEnd) {
                                        pid = (data[offset + 1] & 0x1F) << 8 | data[offset + 2];
                                        switch (data[offset]) {
                                            case 0xcf:
                                                if (!isSampleAes) {
                                                    logger["b"].log('unkown stream type:' + data[offset]);
                                                    break;
                                                }
                                            case 0x0f:
                                                if (result.audio === -1) {
                                                    result.audio = pid;
                                                }
                                                break;
                                            case 0x15:
                                                if (result.id3 === -1) {
                                                    result.id3 = pid;
                                                }
                                                break;
                                            case 0xdb:
                                                if (!isSampleAes) {
                                                    logger["b"].log('unkown stream type:' + data[offset]);
                                                    break;
                                                }
                                            case 0x1b:
                                                if (result.avc === -1) {
                                                    result.avc = pid;
                                                }
                                                break;
                                            case 0x03:
                                            case 0x04:
                                                if (!mpegSupported) {
                                                    logger["b"].log('MPEG audio found, not supported in this browser for now');
                                                } else if (result.audio === -1) {
                                                    result.audio = pid;
                                                    result.isAAC = false;
                                                }
                                                break;
                                            case 0x24:
                                                logger["b"].warn('HEVC stream type found, not supported for now');
                                                break;
                                            default:
                                                logger["b"].log('unkown stream type:' + data[offset]);
                                                break;
                                        }
                                        offset += ((data[offset + 3] & 0x0F) << 8 | data[offset + 4]) + 5;
                                    }
                                    return result;
                                }
                                ;
                                TSDemuxer.prototype._parsePES = function _parsePES(stream) {
                                    var i = 0
                                        , frag = void 0
                                        , pesFlags = void 0
                                        , pesPrefix = void 0
                                        , pesLen = void 0
                                        , pesHdrLen = void 0
                                        , pesData = void 0
                                        , pesPts = void 0
                                        , pesDts = void 0
                                        , payloadStartOffset = void 0
                                        , data = stream.data;
                                    if (!stream || stream.size === 0) {
                                        return null;
                                    }
                                    while (data[0].length < 19 && data.length > 1) {
                                        var newData = new Uint8Array(data[0].length + data[1].length);
                                        newData.set(data[0]);
                                        newData.set(data[1], data[0].length);
                                        data[0] = newData;
                                        data.splice(1, 1);
                                    }
                                    frag = data[0];
                                    pesPrefix = (frag[0] << 16) + (frag[1] << 8) + frag[2];
                                    if (pesPrefix === 1) {
                                        pesLen = (frag[4] << 8) + frag[5];
                                        if (pesLen && pesLen > stream.size - 6) {
                                            return null;
                                        }
                                        pesFlags = frag[7];
                                        if (pesFlags & 0xC0) {
                                            pesPts = (frag[9] & 0x0E) * 536870912 + (frag[10] & 0xFF) * 4194304 + (frag[11] & 0xFE) * 16384 + (frag[12] & 0xFF) * 128 + (frag[13] & 0xFE) / 2;
                                            if (pesPts > 4294967295) {
                                                pesPts -= 8589934592;
                                            }
                                            if (pesFlags & 0x40) {
                                                pesDts = (frag[14] & 0x0E) * 536870912 + (frag[15] & 0xFF) * 4194304 + (frag[16] & 0xFE) * 16384 + (frag[17] & 0xFF) * 128 + (frag[18] & 0xFE) / 2;
                                                if (pesDts > 4294967295) {
                                                    pesDts -= 8589934592;
                                                }
                                                if (pesPts - pesDts > 60 * 90000) {
                                                    logger["b"].warn(Math.round((pesPts - pesDts) / 90000) + 's delta between PTS and DTS, align them');
                                                    pesPts = pesDts;
                                                }
                                            } else {
                                                pesDts = pesPts;
                                            }
                                        }
                                        pesHdrLen = frag[8];
                                        payloadStartOffset = pesHdrLen + 9;
                                        stream.size -= payloadStartOffset;
                                        pesData = new Uint8Array(stream.size);
                                        for (var j = 0, dataLen = data.length; j < dataLen; j++) {
                                            frag = data[j];
                                            var len = frag.byteLength;
                                            if (payloadStartOffset) {
                                                if (payloadStartOffset > len) {
                                                    payloadStartOffset -= len;
                                                    continue;
                                                } else {
                                                    frag = frag.subarray(payloadStartOffset);
                                                    len -= payloadStartOffset;
                                                    payloadStartOffset = 0;
                                                }
                                            }
                                            pesData.set(frag, i);
                                            i += len;
                                        }
                                        if (pesLen) {
                                            pesLen -= pesHdrLen + 3;
                                        }
                                        return {
                                            data: pesData,
                                            pts: pesPts,
                                            dts: pesDts,
                                            len: pesLen
                                        };
                                    } else {
                                        return null;
                                    }
                                }
                                ;
                                TSDemuxer.prototype.pushAccesUnit = function pushAccesUnit(avcSample, avcTrack) {
                                    if (avcSample.units.length && avcSample.frame) {
                                        var samples = avcTrack.samples;
                                        var nbSamples = samples.length;
                                        if (!this.config.forceKeyFrameOnDiscontinuity || avcSample.key === true || avcTrack.sps && (nbSamples || this.contiguous)) {
                                            avcSample.id = nbSamples;
                                            samples.push(avcSample);
                                        } else {
                                            avcTrack.dropped++;
                                        }
                                    }
                                    if (avcSample.debug.length) {
                                        logger["b"].log(avcSample.pts + '/' + avcSample.dts + ':' + avcSample.debug);
                                    }
                                }
                                ;
                                TSDemuxer.prototype._parseAVCPES = function _parseAVCPES(pes, last) {
                                    var _this = this;
                                    var track = this._avcTrack
                                        , units = this._parseAVCNALu(pes.data)
                                        , debug = false
                                        , expGolombDecoder = void 0
                                        , avcSample = this.avcSample
                                        , push = void 0
                                        , spsfound = false
                                        , i = void 0
                                        , pushAccesUnit = this.pushAccesUnit.bind(this)
                                        , createAVCSample = function createAVCSample(key, pts, dts, debug) {
                                        return {
                                            key: key,
                                            pts: pts,
                                            dts: dts,
                                            units: [],
                                            debug: debug
                                        };
                                    };
                                    pes.data = null;
                                    if (avcSample && units.length && !track.audFound) {
                                        pushAccesUnit(avcSample, track);
                                        avcSample = this.avcSample = createAVCSample(false, pes.pts, pes.dts, '');
                                    }
                                    units.forEach(function(unit) {
                                        switch (unit.type) {
                                            case 1:
                                                push = true;
                                                if (!avcSample) {
                                                    avcSample = _this.avcSample = createAVCSample(true, pes.pts, pes.dts, '');
                                                }
                                                if (debug) {
                                                    avcSample.debug += 'NDR ';
                                                }
                                                avcSample.frame = true;
                                                var data = unit.data;
                                                if (spsfound && data.length > 4) {
                                                    var sliceType = new exp_golomb(data).readSliceType();
                                                    if (sliceType === 2 || sliceType === 4 || sliceType === 7 || sliceType === 9) {
                                                        avcSample.key = true;
                                                    }
                                                }
                                                break;
                                            case 5:
                                                push = true;
                                                if (!avcSample) {
                                                    avcSample = _this.avcSample = createAVCSample(true, pes.pts, pes.dts, '');
                                                }
                                                if (debug) {
                                                    avcSample.debug += 'IDR ';
                                                }
                                                avcSample.key = true;
                                                avcSample.frame = true;
                                                break;
                                            case 6:
                                                push = true;
                                                if (debug && avcSample) {
                                                    avcSample.debug += 'SEI ';
                                                }
                                                expGolombDecoder = new exp_golomb(_this.discardEPB(unit.data));
                                                expGolombDecoder.readUByte();
                                                var payloadType = 0;
                                                var payloadSize = 0;
                                                var endOfCaptions = false;
                                                var b = 0;
                                                while (!endOfCaptions && expGolombDecoder.bytesAvailable > 1) {
                                                    payloadType = 0;
                                                    do {
                                                        b = expGolombDecoder.readUByte();
                                                        payloadType += b;
                                                    } while (b === 0xFF);
                                                    payloadSize = 0;
                                                    do {
                                                        b = expGolombDecoder.readUByte();
                                                        payloadSize += b;
                                                    } while (b === 0xFF);
                                                    if (payloadType === 4 && expGolombDecoder.bytesAvailable !== 0) {
                                                        endOfCaptions = true;
                                                        var countryCode = expGolombDecoder.readUByte();
                                                        if (countryCode === 181) {
                                                            var providerCode = expGolombDecoder.readUShort();
                                                            if (providerCode === 49) {
                                                                var userStructure = expGolombDecoder.readUInt();
                                                                if (userStructure === 0x47413934) {
                                                                    var userDataType = expGolombDecoder.readUByte();
                                                                    if (userDataType === 3) {
                                                                        var firstByte = expGolombDecoder.readUByte();
                                                                        var secondByte = expGolombDecoder.readUByte();
                                                                        var totalCCs = 31 & firstByte;
                                                                        var byteArray = [firstByte, secondByte];
                                                                        for (i = 0; i < totalCCs; i++) {
                                                                            byteArray.push(expGolombDecoder.readUByte());
                                                                            byteArray.push(expGolombDecoder.readUByte());
                                                                            byteArray.push(expGolombDecoder.readUByte());
                                                                        }
                                                                        _this._insertSampleInOrder(_this._txtTrack.samples, {
                                                                            type: 3,
                                                                            pts: pes.pts,
                                                                            bytes: byteArray
                                                                        });
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    } else if (payloadSize < expGolombDecoder.bytesAvailable) {
                                                        for (i = 0; i < payloadSize; i++) {
                                                            expGolombDecoder.readUByte();
                                                        }
                                                    }
                                                }
                                                break;
                                            case 7:
                                                push = true;
                                                spsfound = true;
                                                if (debug && avcSample) {
                                                    avcSample.debug += 'SPS ';
                                                }
                                                if (!track.sps) {
                                                    expGolombDecoder = new exp_golomb(unit.data);
                                                    var config = expGolombDecoder.readSPS();
                                                    track.width = config.width;
                                                    track.height = config.height;
                                                    track.pixelRatio = config.pixelRatio;
                                                    track.sps = [unit.data];
                                                    track.duration = _this._duration;
                                                    var codecarray = unit.data.subarray(1, 4);
                                                    var codecstring = 'avc1.';
                                                    for (i = 0; i < 3; i++) {
                                                        var h = codecarray[i].toString(16);
                                                        if (h.length < 2) {
                                                            h = '0' + h;
                                                        }
                                                        codecstring += h;
                                                    }
                                                    track.codec = codecstring;
                                                }
                                                break;
                                            case 8:
                                                push = true;
                                                if (debug && avcSample) {
                                                    avcSample.debug += 'PPS ';
                                                }
                                                if (!track.pps) {
                                                    track.pps = [unit.data];
                                                }
                                                break;
                                            case 9:
                                                push = false;
                                                track.audFound = true;
                                                if (avcSample) {
                                                    pushAccesUnit(avcSample, track);
                                                }
                                                avcSample = _this.avcSample = createAVCSample(false, pes.pts, pes.dts, debug ? 'AUD ' : '');
                                                break;
                                            case 12:
                                                push = false;
                                                break;
                                            default:
                                                push = false;
                                                if (avcSample) {
                                                    avcSample.debug += 'unknown NAL ' + unit.type + ' ';
                                                }
                                                break;
                                        }
                                        if (avcSample && push) {
                                            var _units = avcSample.units;
                                            _units.push(unit);
                                        }
                                    });
                                    if (last && avcSample) {
                                        pushAccesUnit(avcSample, track);
                                        this.avcSample = null;
                                    }
                                }
                                ;
                                TSDemuxer.prototype._insertSampleInOrder = function _insertSampleInOrder(arr, data) {
                                    var len = arr.length;
                                    if (len > 0) {
                                        if (data.pts >= arr[len - 1].pts) {
                                            arr.push(data);
                                        } else {
                                            for (var pos = len - 1; pos >= 0; pos--) {
                                                if (data.pts < arr[pos].pts) {
                                                    arr.splice(pos, 0, data);
                                                    break;
                                                }
                                            }
                                        }
                                    } else {
                                        arr.push(data);
                                    }
                                }
                                ;
                                TSDemuxer.prototype._getLastNalUnit = function _getLastNalUnit() {
                                    var avcSample = this.avcSample
                                        , lastUnit = void 0;
                                    if (!avcSample || avcSample.units.length === 0) {
                                        var track = this._avcTrack
                                            , samples = track.samples;
                                        avcSample = samples[samples.length - 1];
                                    }
                                    if (avcSample) {
                                        var units = avcSample.units;
                                        lastUnit = units[units.length - 1];
                                    }
                                    return lastUnit;
                                }
                                ;
                                TSDemuxer.prototype._parseAVCNALu = function _parseAVCNALu(array) {
                                    var i = 0
                                        , len = array.byteLength
                                        , value = void 0
                                        , overflow = void 0
                                        , track = this._avcTrack
                                        , state = track.naluState || 0
                                        , lastState = state;
                                    var units = []
                                        , unit = void 0
                                        , unitType = void 0
                                        , lastUnitStart = -1
                                        , lastUnitType = void 0;
                                    if (state === -1) {
                                        lastUnitStart = 0;
                                        lastUnitType = array[0] & 0x1f;
                                        state = 0;
                                        i = 1;
                                    }
                                    while (i < len) {
                                        value = array[i++];
                                        if (!state) {
                                            state = value ? 0 : 1;
                                            continue;
                                        }
                                        if (state === 1) {
                                            state = value ? 0 : 2;
                                            continue;
                                        }
                                        if (!value) {
                                            state = 3;
                                        } else if (value === 1) {
                                            if (lastUnitStart >= 0) {
                                                unit = {
                                                    data: array.subarray(lastUnitStart, i - state - 1),
                                                    type: lastUnitType
                                                };
                                                units.push(unit);
                                            } else {
                                                var lastUnit = this._getLastNalUnit();
                                                if (lastUnit) {
                                                    if (lastState && i <= 4 - lastState) {
                                                        if (lastUnit.state) {
                                                            lastUnit.data = lastUnit.data.subarray(0, lastUnit.data.byteLength - lastState);
                                                        }
                                                    }
                                                    overflow = i - state - 1;
                                                    if (overflow > 0) {
                                                        var tmp = new Uint8Array(lastUnit.data.byteLength + overflow);
                                                        tmp.set(lastUnit.data, 0);
                                                        tmp.set(array.subarray(0, overflow), lastUnit.data.byteLength);
                                                        lastUnit.data = tmp;
                                                    }
                                                }
                                            }
                                            if (i < len) {
                                                unitType = array[i] & 0x1f;
                                                lastUnitStart = i;
                                                lastUnitType = unitType;
                                                state = 0;
                                            } else {
                                                state = -1;
                                            }
                                        } else {
                                            state = 0;
                                        }
                                    }
                                    if (lastUnitStart >= 0 && state >= 0) {
                                        unit = {
                                            data: array.subarray(lastUnitStart, len),
                                            type: lastUnitType,
                                            state: state
                                        };
                                        units.push(unit);
                                    }
                                    if (units.length === 0) {
                                        var _lastUnit = this._getLastNalUnit();
                                        if (_lastUnit) {
                                            var _tmp = new Uint8Array(_lastUnit.data.byteLength + array.byteLength);
                                            _tmp.set(_lastUnit.data, 0);
                                            _tmp.set(array, _lastUnit.data.byteLength);
                                            _lastUnit.data = _tmp;
                                        }
                                    }
                                    track.naluState = state;
                                    return units;
                                }
                                ;
                                TSDemuxer.prototype.discardEPB = function discardEPB(data) {
                                    var length = data.byteLength
                                        , EPBPositions = []
                                        , i = 1
                                        , newLength = void 0
                                        , newData = void 0;
                                    while (i < length - 2) {
                                        if (data[i] === 0 && data[i + 1] === 0 && data[i + 2] === 0x03) {
                                            EPBPositions.push(i + 2);
                                            i += 2;
                                        } else {
                                            i++;
                                        }
                                    }
                                    if (EPBPositions.length === 0) {
                                        return data;
                                    }
                                    newLength = length - EPBPositions.length;
                                    newData = new Uint8Array(newLength);
                                    var sourceIndex = 0;
                                    for (i = 0; i < newLength; sourceIndex++,
                                        i++) {
                                        if (sourceIndex === EPBPositions[0]) {
                                            sourceIndex++;
                                            EPBPositions.shift();
                                        }
                                        newData[i] = data[sourceIndex];
                                    }
                                    return newData;
                                }
                                ;
                                TSDemuxer.prototype._parseAACPES = function _parseAACPES(pes) {
                                    var track = this._audioTrack
                                        , data = pes.data
                                        , pts = pes.pts
                                        , startOffset = 0
                                        , aacOverFlow = this.aacOverFlow
                                        , aacLastPTS = this.aacLastPTS
                                        , frameDuration = void 0
                                        , frameIndex = void 0
                                        , offset = void 0
                                        , stamp = void 0
                                        , len = void 0;
                                    if (aacOverFlow) {
                                        var tmp = new Uint8Array(aacOverFlow.byteLength + data.byteLength);
                                        tmp.set(aacOverFlow, 0);
                                        tmp.set(data, aacOverFlow.byteLength);
                                        data = tmp;
                                    }
                                    for (offset = startOffset,
                                             len = data.length; offset < len - 1; offset++) {
                                        if (isHeader(data, offset)) {
                                            break;
                                        }
                                    }
                                    if (offset) {
                                        var reason = void 0
                                            , fatal = void 0;
                                        if (offset < len - 1) {
                                            reason = 'AAC PES did not start with ADTS header,offset:' + offset;
                                            fatal = false;
                                        } else {
                                            reason = 'no ADTS header found in AAC PES';
                                            fatal = true;
                                        }
                                        logger["b"].warn('parsing error:' + reason);
                                        this.observer.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].FRAG_PARSING_ERROR,
                                            fatal: fatal,
                                            reason: reason
                                        });
                                        if (fatal) {
                                            return;
                                        }
                                    }
                                    initTrackConfig(track, this.observer, data, offset, this.audioCodec);
                                    frameIndex = 0;
                                    frameDuration = getFrameDuration(track.samplerate);
                                    if (aacOverFlow && aacLastPTS) {
                                        var newPTS = aacLastPTS + frameDuration;
                                        if (Math.abs(newPTS - pts) > 1) {
                                            logger["b"].log('AAC: align PTS for overlapping frames by ' + Math.round((newPTS - pts) / 90));
                                            pts = newPTS;
                                        }
                                    }
                                    while (offset < len) {
                                        if (isHeader(data, offset) && offset + 5 < len) {
                                            var frame = appendFrame(track, data, offset, pts, frameIndex);
                                            if (frame) {
                                                offset += frame.length;
                                                stamp = frame.sample.pts;
                                                frameIndex++;
                                            } else {
                                                break;
                                            }
                                        } else {
                                            offset++;
                                        }
                                    }
                                    if (offset < len) {
                                        aacOverFlow = data.subarray(offset, len);
                                    } else {
                                        aacOverFlow = null;
                                    }
                                    this.aacOverFlow = aacOverFlow;
                                    this.aacLastPTS = stamp;
                                }
                                ;
                                TSDemuxer.prototype._parseMPEGPES = function _parseMPEGPES(pes) {
                                    var data = pes.data;
                                    var length = data.length;
                                    var frameIndex = 0;
                                    var offset = 0;
                                    var pts = pes.pts;
                                    while (offset < length) {
                                        if (mpegaudio.isHeader(data, offset)) {
                                            var frame = mpegaudio.appendFrame(this._audioTrack, data, offset, pts, frameIndex);
                                            if (frame) {
                                                offset += frame.length;
                                                frameIndex++;
                                            } else {
                                                break;
                                            }
                                        } else {
                                            offset++;
                                        }
                                    }
                                }
                                ;
                                TSDemuxer.prototype._parseID3PES = function _parseID3PES(pes) {
                                    this._id3Track.samples.push(pes);
                                }
                                ;
                                return TSDemuxer;
                            }();
                            var tsdemuxer = tsdemuxer_TSDemuxer;
                            function mp3demuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var mp3demuxer_MP3Demuxer = function() {
                                function MP3Demuxer(observer, remuxer, config) {
                                    mp3demuxer__classCallCheck(this, MP3Demuxer);
                                    this.observer = observer;
                                    this.config = config;
                                    this.remuxer = remuxer;
                                }
                                MP3Demuxer.prototype.resetInitSegment = function resetInitSegment(initSegment, audioCodec, videoCodec, duration) {
                                    this._audioTrack = {
                                        container: 'audio/mpeg',
                                        type: 'audio',
                                        id: -1,
                                        sequenceNumber: 0,
                                        isAAC: false,
                                        samples: [],
                                        len: 0,
                                        manifestCodec: audioCodec,
                                        duration: duration,
                                        inputTimeScale: 90000
                                    };
                                }
                                ;
                                MP3Demuxer.prototype.resetTimeStamp = function resetTimeStamp() {}
                                ;
                                MP3Demuxer.probe = function probe(data) {
                                    var offset = void 0
                                        , length = void 0;
                                    var id3Data = id3["a"].getID3Data(data, 0);
                                    if (id3Data && id3["a"].getTimeStamp(id3Data) !== undefined) {
                                        for (offset = id3Data.length,
                                                 length = Math.min(data.length - 1, offset + 100); offset < length; offset++) {
                                            if (mpegaudio.probe(data, offset)) {
                                                logger["b"].log('MPEG Audio sync word found !');
                                                return true;
                                            }
                                        }
                                    }
                                    return false;
                                }
                                ;
                                MP3Demuxer.prototype.append = function append(data, timeOffset, contiguous, accurateTimeOffset) {
                                    var id3Data = id3["a"].getID3Data(data, 0);
                                    var timestamp = id3["a"].getTimeStamp(id3Data);
                                    var pts = timestamp ? 90 * timestamp : timeOffset * 90000;
                                    var offset = id3Data.length;
                                    var length = data.length;
                                    var frameIndex = 0
                                        , stamp = 0;
                                    var track = this._audioTrack;
                                    var id3Samples = [{
                                        pts: pts,
                                        dts: pts,
                                        data: id3Data
                                    }];
                                    while (offset < length) {
                                        if (mpegaudio.isHeader(data, offset)) {
                                            var frame = mpegaudio.appendFrame(track, data, offset, pts, frameIndex);
                                            if (frame) {
                                                offset += frame.length;
                                                stamp = frame.sample.pts;
                                                frameIndex++;
                                            } else {
                                                break;
                                            }
                                        } else if (id3["a"].isHeader(data, offset)) {
                                            id3Data = id3["a"].getID3Data(data, offset);
                                            id3Samples.push({
                                                pts: stamp,
                                                dts: stamp,
                                                data: id3Data
                                            });
                                            offset += id3Data.length;
                                        } else {
                                            offset++;
                                        }
                                    }
                                    this.remuxer.remux(track, {
                                        samples: []
                                    }, {
                                        samples: id3Samples,
                                        inputTimeScale: 90000
                                    }, {
                                        samples: []
                                    }, timeOffset, contiguous, accurateTimeOffset);
                                }
                                ;
                                MP3Demuxer.prototype.destroy = function destroy() {}
                                ;
                                return MP3Demuxer;
                            }();
                            var mp3demuxer = mp3demuxer_MP3Demuxer;
                            function aac_helper__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var AAC = function() {
                                function AAC() {
                                    aac_helper__classCallCheck(this, AAC);
                                }
                                AAC.getSilentFrame = function getSilentFrame(codec, channelCount) {
                                    switch (codec) {
                                        case 'mp4a.40.2':
                                            if (channelCount === 1) {
                                                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x23, 0x80]);
                                            } else if (channelCount === 2) {
                                                return new Uint8Array([0x21, 0x00, 0x49, 0x90, 0x02, 0x19, 0x00, 0x23, 0x80]);
                                            } else if (channelCount === 3) {
                                                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x8e]);
                                            } else if (channelCount === 4) {
                                                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x80, 0x2c, 0x80, 0x08, 0x02, 0x38]);
                                            } else if (channelCount === 5) {
                                                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x38]);
                                            } else if (channelCount === 6) {
                                                return new Uint8Array([0x00, 0xc8, 0x00, 0x80, 0x20, 0x84, 0x01, 0x26, 0x40, 0x08, 0x64, 0x00, 0x82, 0x30, 0x04, 0x99, 0x00, 0x21, 0x90, 0x02, 0x00, 0xb2, 0x00, 0x20, 0x08, 0xe0]);
                                            }
                                            break;
                                        default:
                                            if (channelCount === 1) {
                                                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x4e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x1c, 0x6, 0xf1, 0xc1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                                            } else if (channelCount === 2) {
                                                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                                            } else if (channelCount === 3) {
                                                return new Uint8Array([0x1, 0x40, 0x22, 0x80, 0xa3, 0x5e, 0xe6, 0x80, 0xba, 0x8, 0x0, 0x0, 0x0, 0x0, 0x95, 0x0, 0x6, 0xf1, 0xa1, 0xa, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5a, 0x5e]);
                                            }
                                            break;
                                    }
                                    return null;
                                }
                                ;
                                return AAC;
                            }();
                            var aac_helper = AAC;
                            function mp4_generator__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var UINT32_MAX = Math.pow(2, 32) - 1;
                            var MP4 = function() {
                                function MP4() {
                                    mp4_generator__classCallCheck(this, MP4);
                                }
                                MP4.init = function init() {
                                    MP4.types = {
                                        avc1: [],
                                        avcC: [],
                                        btrt: [],
                                        dinf: [],
                                        dref: [],
                                        esds: [],
                                        ftyp: [],
                                        hdlr: [],
                                        mdat: [],
                                        mdhd: [],
                                        mdia: [],
                                        mfhd: [],
                                        minf: [],
                                        moof: [],
                                        moov: [],
                                        mp4a: [],
                                        '.mp3': [],
                                        mvex: [],
                                        mvhd: [],
                                        pasp: [],
                                        sdtp: [],
                                        stbl: [],
                                        stco: [],
                                        stsc: [],
                                        stsd: [],
                                        stsz: [],
                                        stts: [],
                                        tfdt: [],
                                        tfhd: [],
                                        traf: [],
                                        trak: [],
                                        trun: [],
                                        trex: [],
                                        tkhd: [],
                                        vmhd: [],
                                        smhd: []
                                    };
                                    var i = void 0;
                                    for (i in MP4.types) {
                                        if (MP4.types.hasOwnProperty(i)) {
                                            MP4.types[i] = [i.charCodeAt(0), i.charCodeAt(1), i.charCodeAt(2), i.charCodeAt(3)];
                                        }
                                    }
                                    var videoHdlr = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x76, 0x69, 0x64, 0x65, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x56, 0x69, 0x64, 0x65, 0x6f, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00]);
                                    var audioHdlr = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x73, 0x6f, 0x75, 0x6e, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x53, 0x6f, 0x75, 0x6e, 0x64, 0x48, 0x61, 0x6e, 0x64, 0x6c, 0x65, 0x72, 0x00]);
                                    MP4.HDLR_TYPES = {
                                        'video': videoHdlr,
                                        'audio': audioHdlr
                                    };
                                    var dref = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x0c, 0x75, 0x72, 0x6c, 0x20, 0x00, 0x00, 0x00, 0x01]);
                                    var stco = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]);
                                    MP4.STTS = MP4.STSC = MP4.STCO = stco;
                                    MP4.STSZ = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]);
                                    MP4.VMHD = new Uint8Array([0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]);
                                    MP4.SMHD = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00]);
                                    MP4.STSD = new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01]);
                                    var majorBrand = new Uint8Array([105, 115, 111, 109]);
                                    var avc1Brand = new Uint8Array([97, 118, 99, 49]);
                                    var minorVersion = new Uint8Array([0, 0, 0, 1]);
                                    MP4.FTYP = MP4.box(MP4.types.ftyp, majorBrand, minorVersion, majorBrand, avc1Brand);
                                    MP4.DINF = MP4.box(MP4.types.dinf, MP4.box(MP4.types.dref, dref));
                                }
                                ;
                                MP4.box = function box(type) {
                                    var payload = Array.prototype.slice.call(arguments, 1)
                                        , size = 8
                                        , i = payload.length
                                        , len = i
                                        , result = void 0;
                                    while (i--) {
                                        size += payload[i].byteLength;
                                    }
                                    result = new Uint8Array(size);
                                    result[0] = size >> 24 & 0xff;
                                    result[1] = size >> 16 & 0xff;
                                    result[2] = size >> 8 & 0xff;
                                    result[3] = size & 0xff;
                                    result.set(type, 4);
                                    for (i = 0,
                                             size = 8; i < len; i++) {
                                        result.set(payload[i], size);
                                        size += payload[i].byteLength;
                                    }
                                    return result;
                                }
                                ;
                                MP4.hdlr = function hdlr(type) {
                                    return MP4.box(MP4.types.hdlr, MP4.HDLR_TYPES[type]);
                                }
                                ;
                                MP4.mdat = function mdat(data) {
                                    return MP4.box(MP4.types.mdat, data);
                                }
                                ;
                                MP4.mdhd = function mdhd(timescale, duration) {
                                    duration *= timescale;
                                    var upperWordDuration = Math.floor(duration / (UINT32_MAX + 1));
                                    var lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));
                                    return MP4.box(MP4.types.mdhd, new Uint8Array([0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, timescale >> 24 & 0xFF, timescale >> 16 & 0xFF, timescale >> 8 & 0xFF, timescale & 0xFF, upperWordDuration >> 24, upperWordDuration >> 16 & 0xFF, upperWordDuration >> 8 & 0xFF, upperWordDuration & 0xFF, lowerWordDuration >> 24, lowerWordDuration >> 16 & 0xFF, lowerWordDuration >> 8 & 0xFF, lowerWordDuration & 0xFF, 0x55, 0xc4, 0x00, 0x00]));
                                }
                                ;
                                MP4.mdia = function mdia(track) {
                                    return MP4.box(MP4.types.mdia, MP4.mdhd(track.timescale, track.duration), MP4.hdlr(track.type), MP4.minf(track));
                                }
                                ;
                                MP4.mfhd = function mfhd(sequenceNumber) {
                                    return MP4.box(MP4.types.mfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, sequenceNumber >> 24, sequenceNumber >> 16 & 0xFF, sequenceNumber >> 8 & 0xFF, sequenceNumber & 0xFF]));
                                }
                                ;
                                MP4.minf = function minf(track) {
                                    if (track.type === 'audio') {
                                        return MP4.box(MP4.types.minf, MP4.box(MP4.types.smhd, MP4.SMHD), MP4.DINF, MP4.stbl(track));
                                    } else {
                                        return MP4.box(MP4.types.minf, MP4.box(MP4.types.vmhd, MP4.VMHD), MP4.DINF, MP4.stbl(track));
                                    }
                                }
                                ;
                                MP4.moof = function moof(sn, baseMediaDecodeTime, track) {
                                    return MP4.box(MP4.types.moof, MP4.mfhd(sn), MP4.traf(track, baseMediaDecodeTime));
                                }
                                ;
                                MP4.moov = function moov(tracks) {
                                    var i = tracks.length
                                        , boxes = [];
                                    while (i--) {
                                        boxes[i] = MP4.trak(tracks[i]);
                                    }
                                    return MP4.box.apply(null, [MP4.types.moov, MP4.mvhd(tracks[0].timescale, tracks[0].duration)].concat(boxes).concat(MP4.mvex(tracks)));
                                }
                                ;
                                MP4.mvex = function mvex(tracks) {
                                    var i = tracks.length
                                        , boxes = [];
                                    while (i--) {
                                        boxes[i] = MP4.trex(tracks[i]);
                                    }
                                    return MP4.box.apply(null, [MP4.types.mvex].concat(boxes));
                                }
                                ;
                                MP4.mvhd = function mvhd(timescale, duration) {
                                    duration *= timescale;
                                    var upperWordDuration = Math.floor(duration / (UINT32_MAX + 1));
                                    var lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));
                                    var bytes = new Uint8Array([0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, timescale >> 24 & 0xFF, timescale >> 16 & 0xFF, timescale >> 8 & 0xFF, timescale & 0xFF, upperWordDuration >> 24, upperWordDuration >> 16 & 0xFF, upperWordDuration >> 8 & 0xFF, upperWordDuration & 0xFF, lowerWordDuration >> 24, lowerWordDuration >> 16 & 0xFF, lowerWordDuration >> 8 & 0xFF, lowerWordDuration & 0xFF, 0x00, 0x01, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xff, 0xff, 0xff, 0xff]);
                                    return MP4.box(MP4.types.mvhd, bytes);
                                }
                                ;
                                MP4.sdtp = function sdtp(track) {
                                    var samples = track.samples || []
                                        , bytes = new Uint8Array(4 + samples.length)
                                        , flags = void 0
                                        , i = void 0;
                                    for (i = 0; i < samples.length; i++) {
                                        flags = samples[i].flags;
                                        bytes[i + 4] = flags.dependsOn << 4 | flags.isDependedOn << 2 | flags.hasRedundancy;
                                    }
                                    return MP4.box(MP4.types.sdtp, bytes);
                                }
                                ;
                                MP4.stbl = function stbl(track) {
                                    return MP4.box(MP4.types.stbl, MP4.stsd(track), MP4.box(MP4.types.stts, MP4.STTS), MP4.box(MP4.types.stsc, MP4.STSC), MP4.box(MP4.types.stsz, MP4.STSZ), MP4.box(MP4.types.stco, MP4.STCO));
                                }
                                ;
                                MP4.avc1 = function avc1(track) {
                                    var sps = []
                                        , pps = []
                                        , i = void 0
                                        , data = void 0
                                        , len = void 0;
                                    for (i = 0; i < track.sps.length; i++) {
                                        data = track.sps[i];
                                        len = data.byteLength;
                                        sps.push(len >>> 8 & 0xFF);
                                        sps.push(len & 0xFF);
                                        sps = sps.concat(Array.prototype.slice.call(data));
                                    }
                                    for (i = 0; i < track.pps.length; i++) {
                                        data = track.pps[i];
                                        len = data.byteLength;
                                        pps.push(len >>> 8 & 0xFF);
                                        pps.push(len & 0xFF);
                                        pps = pps.concat(Array.prototype.slice.call(data));
                                    }
                                    var avcc = MP4.box(MP4.types.avcC, new Uint8Array([0x01, sps[3], sps[4], sps[5], 0xfc | 3, 0xE0 | track.sps.length].concat(sps).concat([track.pps.length]).concat(pps)))
                                        , width = track.width
                                        , height = track.height
                                        , hSpacing = track.pixelRatio[0]
                                        , vSpacing = track.pixelRatio[1];
                                    return MP4.box(MP4.types.avc1, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, width >> 8 & 0xFF, width & 0xff, height >> 8 & 0xFF, height & 0xff, 0x00, 0x48, 0x00, 0x00, 0x00, 0x48, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x12, 0x64, 0x61, 0x69, 0x6C, 0x79, 0x6D, 0x6F, 0x74, 0x69, 0x6F, 0x6E, 0x2F, 0x68, 0x6C, 0x73, 0x2E, 0x6A, 0x73, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x11, 0x11]), avcc, MP4.box(MP4.types.btrt, new Uint8Array([0x00, 0x1c, 0x9c, 0x80, 0x00, 0x2d, 0xc6, 0xc0, 0x00, 0x2d, 0xc6, 0xc0])), MP4.box(MP4.types.pasp, new Uint8Array([hSpacing >> 24, hSpacing >> 16 & 0xFF, hSpacing >> 8 & 0xFF, hSpacing & 0xFF, vSpacing >> 24, vSpacing >> 16 & 0xFF, vSpacing >> 8 & 0xFF, vSpacing & 0xFF])));
                                }
                                ;
                                MP4.esds = function esds(track) {
                                    var configlen = track.config.length;
                                    return new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x03, 0x17 + configlen, 0x00, 0x01, 0x00, 0x04, 0x0f + configlen, 0x40, 0x15, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x05].concat([configlen]).concat(track.config).concat([0x06, 0x01, 0x02]));
                                }
                                ;
                                MP4.mp4a = function mp4a(track) {
                                    var samplerate = track.samplerate;
                                    return MP4.box(MP4.types.mp4a, new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, track.channelCount, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, samplerate >> 8 & 0xFF, samplerate & 0xff, 0x00, 0x00]), MP4.box(MP4.types.esds, MP4.esds(track)));
                                }
                                ;
                                MP4.mp3 = function mp3(track) {
                                    var samplerate = track.samplerate;
                                    return MP4.box(MP4.types['.mp3'], new Uint8Array([0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, track.channelCount, 0x00, 0x10, 0x00, 0x00, 0x00, 0x00, samplerate >> 8 & 0xFF, samplerate & 0xff, 0x00, 0x00]));
                                }
                                ;
                                MP4.stsd = function stsd(track) {
                                    if (track.type === 'audio') {
                                        if (!track.isAAC && track.codec === 'mp3') {
                                            return MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp3(track));
                                        }
                                        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.mp4a(track));
                                    } else {
                                        return MP4.box(MP4.types.stsd, MP4.STSD, MP4.avc1(track));
                                    }
                                }
                                ;
                                MP4.tkhd = function tkhd(track) {
                                    var id = track.id
                                        , duration = track.duration * track.timescale
                                        , width = track.width
                                        , height = track.height
                                        , upperWordDuration = Math.floor(duration / (UINT32_MAX + 1))
                                        , lowerWordDuration = Math.floor(duration % (UINT32_MAX + 1));
                                    return MP4.box(MP4.types.tkhd, new Uint8Array([0x01, 0x00, 0x00, 0x07, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x03, id >> 24 & 0xFF, id >> 16 & 0xFF, id >> 8 & 0xFF, id & 0xFF, 0x00, 0x00, 0x00, 0x00, upperWordDuration >> 24, upperWordDuration >> 16 & 0xFF, upperWordDuration >> 8 & 0xFF, upperWordDuration & 0xFF, lowerWordDuration >> 24, lowerWordDuration >> 16 & 0xFF, lowerWordDuration >> 8 & 0xFF, lowerWordDuration & 0xFF, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x40, 0x00, 0x00, 0x00, width >> 8 & 0xFF, width & 0xFF, 0x00, 0x00, height >> 8 & 0xFF, height & 0xFF, 0x00, 0x00]));
                                }
                                ;
                                MP4.traf = function traf(track, baseMediaDecodeTime) {
                                    var sampleDependencyTable = MP4.sdtp(track)
                                        , id = track.id
                                        , upperWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime / (UINT32_MAX + 1))
                                        , lowerWordBaseMediaDecodeTime = Math.floor(baseMediaDecodeTime % (UINT32_MAX + 1));
                                    return MP4.box(MP4.types.traf, MP4.box(MP4.types.tfhd, new Uint8Array([0x00, 0x00, 0x00, 0x00, id >> 24, id >> 16 & 0XFF, id >> 8 & 0XFF, id & 0xFF])), MP4.box(MP4.types.tfdt, new Uint8Array([0x01, 0x00, 0x00, 0x00, upperWordBaseMediaDecodeTime >> 24, upperWordBaseMediaDecodeTime >> 16 & 0XFF, upperWordBaseMediaDecodeTime >> 8 & 0XFF, upperWordBaseMediaDecodeTime & 0xFF, lowerWordBaseMediaDecodeTime >> 24, lowerWordBaseMediaDecodeTime >> 16 & 0XFF, lowerWordBaseMediaDecodeTime >> 8 & 0XFF, lowerWordBaseMediaDecodeTime & 0xFF])), MP4.trun(track, sampleDependencyTable.length + 16 + 20 + 8 + 16 + 8 + 8), sampleDependencyTable);
                                }
                                ;
                                MP4.trak = function trak(track) {
                                    track.duration = track.duration || 0xffffffff;
                                    return MP4.box(MP4.types.trak, MP4.tkhd(track), MP4.mdia(track));
                                }
                                ;
                                MP4.trex = function trex(track) {
                                    var id = track.id;
                                    return MP4.box(MP4.types.trex, new Uint8Array([0x00, 0x00, 0x00, 0x00, id >> 24, id >> 16 & 0XFF, id >> 8 & 0XFF, id & 0xFF, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x01]));
                                }
                                ;
                                MP4.trun = function trun(track, offset) {
                                    var samples = track.samples || []
                                        , len = samples.length
                                        , arraylen = 12 + 16 * len
                                        , array = new Uint8Array(arraylen)
                                        , i = void 0
                                        , sample = void 0
                                        , duration = void 0
                                        , size = void 0
                                        , flags = void 0
                                        , cts = void 0;
                                    offset += 8 + arraylen;
                                    array.set([0x00, 0x00, 0x0f, 0x01, len >>> 24 & 0xFF, len >>> 16 & 0xFF, len >>> 8 & 0xFF, len & 0xFF, offset >>> 24 & 0xFF, offset >>> 16 & 0xFF, offset >>> 8 & 0xFF, offset & 0xFF], 0);
                                    for (i = 0; i < len; i++) {
                                        sample = samples[i];
                                        duration = sample.duration;
                                        size = sample.size;
                                        flags = sample.flags;
                                        cts = sample.cts;
                                        array.set([duration >>> 24 & 0xFF, duration >>> 16 & 0xFF, duration >>> 8 & 0xFF, duration & 0xFF, size >>> 24 & 0xFF, size >>> 16 & 0xFF, size >>> 8 & 0xFF, size & 0xFF, flags.isLeading << 2 | flags.dependsOn, flags.isDependedOn << 6 | flags.hasRedundancy << 4 | flags.paddingValue << 1 | flags.isNonSync, flags.degradPrio & 0xF0 << 8, flags.degradPrio & 0x0F, cts >>> 24 & 0xFF, cts >>> 16 & 0xFF, cts >>> 8 & 0xFF, cts & 0xFF], 12 + 16 * i);
                                    }
                                    return MP4.box(MP4.types.trun, array);
                                }
                                ;
                                MP4.initSegment = function initSegment(tracks) {
                                    if (!MP4.types) {
                                        MP4.init();
                                    }
                                    var movie = MP4.moov(tracks)
                                        , result = void 0;
                                    result = new Uint8Array(MP4.FTYP.byteLength + movie.byteLength);
                                    result.set(MP4.FTYP);
                                    result.set(movie, MP4.FTYP.byteLength);
                                    return result;
                                }
                                ;
                                return MP4;
                            }();
                            var mp4_generator = MP4;
                            function mp4_remuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var MAX_SILENT_FRAME_DURATION = 10 * 1000;
                            var mp4_remuxer_MP4Remuxer = function() {
                                function MP4Remuxer(observer, config, typeSupported, vendor) {
                                    mp4_remuxer__classCallCheck(this, MP4Remuxer);
                                    this.observer = observer;
                                    this.config = config;
                                    this.typeSupported = typeSupported;
                                    var userAgent = navigator.userAgent;
                                    this.isSafari = vendor && vendor.indexOf('Apple') > -1 && userAgent && !userAgent.match('CriOS');
                                    this.ISGenerated = false;
                                }
                                MP4Remuxer.prototype.destroy = function destroy() {}
                                ;
                                MP4Remuxer.prototype.resetTimeStamp = function resetTimeStamp(defaultTimeStamp) {
                                    this._initPTS = this._initDTS = defaultTimeStamp;
                                }
                                ;
                                MP4Remuxer.prototype.resetInitSegment = function resetInitSegment() {
                                    this.ISGenerated = false;
                                }
                                ;
                                MP4Remuxer.prototype.remux = function remux(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset) {
                                    if (!this.ISGenerated) {
                                        this.generateIS(audioTrack, videoTrack, timeOffset);
                                    }
                                    if (this.ISGenerated) {
                                        var nbAudioSamples = audioTrack.samples.length;
                                        var nbVideoSamples = videoTrack.samples.length;
                                        var audioTimeOffset = timeOffset;
                                        var videoTimeOffset = timeOffset;
                                        if (nbAudioSamples && nbVideoSamples) {
                                            var audiovideoDeltaDts = (audioTrack.samples[0].dts - videoTrack.samples[0].dts) / videoTrack.inputTimeScale;
                                            audioTimeOffset += Math.max(0, audiovideoDeltaDts);
                                            videoTimeOffset += Math.max(0, -audiovideoDeltaDts);
                                        }
                                        if (nbAudioSamples) {
                                            if (!audioTrack.timescale) {
                                                logger["b"].warn('regenerate InitSegment as audio detected');
                                                this.generateIS(audioTrack, videoTrack, timeOffset);
                                            }
                                            var audioData = this.remuxAudio(audioTrack, audioTimeOffset, contiguous, accurateTimeOffset);
                                            if (nbVideoSamples) {
                                                var audioTrackLength = void 0;
                                                if (audioData) {
                                                    audioTrackLength = audioData.endPTS - audioData.startPTS;
                                                }
                                                if (!videoTrack.timescale) {
                                                    logger["b"].warn('regenerate InitSegment as video detected');
                                                    this.generateIS(audioTrack, videoTrack, timeOffset);
                                                }
                                                this.remuxVideo(videoTrack, videoTimeOffset, contiguous, audioTrackLength, accurateTimeOffset);
                                            }
                                        } else {
                                            if (nbVideoSamples) {
                                                var videoData = this.remuxVideo(videoTrack, videoTimeOffset, contiguous, 0, accurateTimeOffset);
                                                if (videoData && audioTrack.codec) {
                                                    this.remuxEmptyAudio(audioTrack, audioTimeOffset, contiguous, videoData);
                                                }
                                            }
                                        }
                                    }
                                    if (id3Track.samples.length) {
                                        this.remuxID3(id3Track, timeOffset);
                                    }
                                    if (textTrack.samples.length) {
                                        this.remuxText(textTrack, timeOffset);
                                    }
                                    this.observer.trigger(events["a"].FRAG_PARSED);
                                }
                                ;
                                MP4Remuxer.prototype.generateIS = function generateIS(audioTrack, videoTrack, timeOffset) {
                                    var observer = this.observer
                                        , audioSamples = audioTrack.samples
                                        , videoSamples = videoTrack.samples
                                        , typeSupported = this.typeSupported
                                        , container = 'audio/mp4'
                                        , tracks = {}
                                        , data = {
                                        tracks: tracks
                                    }
                                        , computePTSDTS = this._initPTS === undefined
                                        , initPTS = void 0
                                        , initDTS = void 0;
                                    if (computePTSDTS) {
                                        initPTS = initDTS = Infinity;
                                    }
                                    if (audioTrack.config && audioSamples.length) {
                                        audioTrack.timescale = audioTrack.samplerate;
                                        logger["b"].log('audio sampling rate : ' + audioTrack.samplerate);
                                        if (!audioTrack.isAAC) {
                                            if (typeSupported.mpeg) {
                                                container = 'audio/mpeg';
                                                audioTrack.codec = '';
                                            } else if (typeSupported.mp3) {
                                                audioTrack.codec = 'mp3';
                                            }
                                        }
                                        tracks.audio = {
                                            container: container,
                                            codec: audioTrack.codec,
                                            initSegment: !audioTrack.isAAC && typeSupported.mpeg ? new Uint8Array() : mp4_generator.initSegment([audioTrack]),
                                            metadata: {
                                                channelCount: audioTrack.channelCount
                                            }
                                        };
                                        if (computePTSDTS) {
                                            initPTS = initDTS = audioSamples[0].pts - audioTrack.inputTimeScale * timeOffset;
                                        }
                                    }
                                    if (videoTrack.sps && videoTrack.pps && videoSamples.length) {
                                        var inputTimeScale = videoTrack.inputTimeScale;
                                        videoTrack.timescale = inputTimeScale;
                                        tracks.video = {
                                            container: 'video/mp4',
                                            codec: videoTrack.codec,
                                            initSegment: mp4_generator.initSegment([videoTrack]),
                                            metadata: {
                                                width: videoTrack.width,
                                                height: videoTrack.height
                                            }
                                        };
                                        if (computePTSDTS) {
                                            initPTS = Math.min(initPTS, videoSamples[0].pts - inputTimeScale * timeOffset);
                                            initDTS = Math.min(initDTS, videoSamples[0].dts - inputTimeScale * timeOffset);
                                            this.observer.trigger(events["a"].INIT_PTS_FOUND, {
                                                initPTS: initPTS
                                            });
                                        }
                                    }
                                    if (Object.keys(tracks).length) {
                                        observer.trigger(events["a"].FRAG_PARSING_INIT_SEGMENT, data);
                                        this.ISGenerated = true;
                                        if (computePTSDTS) {
                                            this._initPTS = initPTS;
                                            this._initDTS = initDTS;
                                        }
                                    } else {
                                        observer.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].FRAG_PARSING_ERROR,
                                            fatal: false,
                                            reason: 'no audio/video samples found'
                                        });
                                    }
                                }
                                ;
                                MP4Remuxer.prototype.remuxVideo = function remuxVideo(track, timeOffset, contiguous, audioTrackLength, accurateTimeOffset) {
                                    var offset = 8
                                        , timeScale = track.timescale
                                        , mp4SampleDuration = void 0
                                        , mdat = void 0
                                        , moof = void 0
                                        , firstPTS = void 0
                                        , firstDTS = void 0
                                        , nextDTS = void 0
                                        , lastPTS = void 0
                                        , lastDTS = void 0
                                        , inputSamples = track.samples
                                        , outputSamples = []
                                        , nbSamples = inputSamples.length
                                        , ptsNormalize = this._PTSNormalize
                                        , initDTS = this._initDTS;
                                    var nextAvcDts = this.nextAvcDts;
                                    var isSafari = this.isSafari;
                                    if (nbSamples === 0) {
                                        return;
                                    }
                                    if (isSafari) {
                                        contiguous |= inputSamples.length && nextAvcDts && (accurateTimeOffset && Math.abs(timeOffset - nextAvcDts / timeScale) < 0.1 || Math.abs(inputSamples[0].pts - nextAvcDts - initDTS) < timeScale / 5);
                                    }
                                    if (!contiguous) {
                                        nextAvcDts = timeOffset * timeScale;
                                    }
                                    inputSamples.forEach(function(sample) {
                                        sample.pts = ptsNormalize(sample.pts - initDTS, nextAvcDts);
                                        sample.dts = ptsNormalize(sample.dts - initDTS, nextAvcDts);
                                    });
                                    inputSamples.sort(function(a, b) {
                                        var deltadts = a.dts - b.dts;
                                        var deltapts = a.pts - b.pts;
                                        return deltadts || deltapts || a.id - b.id;
                                    });
                                    var PTSDTSshift = inputSamples.reduce(function(prev, curr) {
                                        return Math.max(Math.min(prev, curr.pts - curr.dts), -18000);
                                    }, 0);
                                    if (PTSDTSshift < 0) {
                                        logger["b"].warn('PTS < DTS detected in video samples, shifting DTS by ' + Math.round(PTSDTSshift / 90) + ' ms to overcome this issue');
                                        for (var i = 0; i < inputSamples.length; i++) {
                                            inputSamples[i].dts += PTSDTSshift;
                                        }
                                    }
                                    var sample = inputSamples[0];
                                    firstDTS = Math.max(sample.dts, 0);
                                    firstPTS = Math.max(sample.pts, 0);
                                    var delta = Math.round((firstDTS - nextAvcDts) / 90);
                                    if (contiguous) {
                                        if (delta) {
                                            if (delta > 1) {
                                                logger["b"].log('AVC:' + delta + ' ms hole between fragments detected,filling it');
                                            } else if (delta < -1) {
                                                logger["b"].log('AVC:' + -delta + ' ms overlapping between fragments detected');
                                            }
                                            firstDTS = nextAvcDts;
                                            inputSamples[0].dts = firstDTS;
                                            firstPTS = Math.max(firstPTS - delta, nextAvcDts);
                                            inputSamples[0].pts = firstPTS;
                                            logger["b"].log('Video/PTS/DTS adjusted: ' + Math.round(firstPTS / 90) + '/' + Math.round(firstDTS / 90) + ',delta:' + delta + ' ms');
                                        }
                                    }
                                    nextDTS = firstDTS;
                                    sample = inputSamples[inputSamples.length - 1];
                                    lastDTS = Math.max(sample.dts, 0);
                                    lastPTS = Math.max(sample.pts, 0, lastDTS);
                                    if (isSafari) {
                                        mp4SampleDuration = Math.round((lastDTS - firstDTS) / (inputSamples.length - 1));
                                    }
                                    var nbNalu = 0
                                        , naluLen = 0;
                                    for (var _i = 0; _i < nbSamples; _i++) {
                                        var _sample = inputSamples[_i]
                                            , units = _sample.units
                                            , nbUnits = units.length
                                            , sampleLen = 0;
                                        for (var j = 0; j < nbUnits; j++) {
                                            sampleLen += units[j].data.length;
                                        }
                                        naluLen += sampleLen;
                                        nbNalu += nbUnits;
                                        _sample.length = sampleLen;
                                        if (isSafari) {
                                            _sample.dts = firstDTS + _i * mp4SampleDuration;
                                        } else {
                                            _sample.dts = Math.max(_sample.dts, firstDTS);
                                        }
                                        _sample.pts = Math.max(_sample.pts, _sample.dts);
                                    }
                                    var mdatSize = naluLen + 4 * nbNalu + 8;
                                    try {
                                        mdat = new Uint8Array(mdatSize);
                                    } catch (err) {
                                        this.observer.trigger(events["a"].ERROR, {
                                            type: errors["b"].MUX_ERROR,
                                            details: errors["a"].REMUX_ALLOC_ERROR,
                                            fatal: false,
                                            bytes: mdatSize,
                                            reason: 'fail allocating video mdat ' + mdatSize
                                        });
                                        return;
                                    }
                                    var view = new DataView(mdat.buffer);
                                    view.setUint32(0, mdatSize);
                                    mdat.set(mp4_generator.types.mdat, 4);
                                    for (var _i2 = 0; _i2 < nbSamples; _i2++) {
                                        var avcSample = inputSamples[_i2]
                                            , avcSampleUnits = avcSample.units
                                            , mp4SampleLength = 0
                                            , compositionTimeOffset = void 0;
                                        for (var _j = 0, _nbUnits = avcSampleUnits.length; _j < _nbUnits; _j++) {
                                            var unit = avcSampleUnits[_j]
                                                , unitData = unit.data
                                                , unitDataLen = unit.data.byteLength;
                                            view.setUint32(offset, unitDataLen);
                                            offset += 4;
                                            mdat.set(unitData, offset);
                                            offset += unitDataLen;
                                            mp4SampleLength += 4 + unitDataLen;
                                        }
                                        if (!isSafari) {
                                            if (_i2 < nbSamples - 1) {
                                                mp4SampleDuration = inputSamples[_i2 + 1].dts - avcSample.dts;
                                            } else {
                                                var config = this.config
                                                    , lastFrameDuration = avcSample.dts - inputSamples[_i2 > 0 ? _i2 - 1 : _i2].dts;
                                                if (config.stretchShortVideoTrack) {
                                                    var maxBufferHole = config.maxBufferHole
                                                        , gapTolerance = Math.floor(maxBufferHole * timeScale)
                                                        , deltaToFrameEnd = (audioTrackLength ? firstPTS + audioTrackLength * timeScale : this.nextAudioPts) - avcSample.pts;
                                                    if (deltaToFrameEnd > gapTolerance) {
                                                        mp4SampleDuration = deltaToFrameEnd - lastFrameDuration;
                                                        if (mp4SampleDuration < 0) {
                                                            mp4SampleDuration = lastFrameDuration;
                                                        }
                                                        logger["b"].log('It is approximately ' + deltaToFrameEnd / 90 + ' ms to the next segment; using duration ' + mp4SampleDuration / 90 + ' ms for the last video frame.');
                                                    } else {
                                                        mp4SampleDuration = lastFrameDuration;
                                                    }
                                                } else {
                                                    mp4SampleDuration = lastFrameDuration;
                                                }
                                            }
                                            compositionTimeOffset = Math.round(avcSample.pts - avcSample.dts);
                                        } else {
                                            compositionTimeOffset = Math.max(0, mp4SampleDuration * Math.round((avcSample.pts - avcSample.dts) / mp4SampleDuration));
                                        }
                                        outputSamples.push({
                                            size: mp4SampleLength,
                                            duration: mp4SampleDuration,
                                            cts: compositionTimeOffset,
                                            flags: {
                                                isLeading: 0,
                                                isDependedOn: 0,
                                                hasRedundancy: 0,
                                                degradPrio: 0,
                                                dependsOn: avcSample.key ? 2 : 1,
                                                isNonSync: avcSample.key ? 0 : 1
                                            }
                                        });
                                    }
                                    this.nextAvcDts = lastDTS + mp4SampleDuration;
                                    var dropped = track.dropped;
                                    track.len = 0;
                                    track.nbNalu = 0;
                                    track.dropped = 0;
                                    if (outputSamples.length && navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {
                                        var flags = outputSamples[0].flags;
                                        flags.dependsOn = 2;
                                        flags.isNonSync = 0;
                                    }
                                    track.samples = outputSamples;
                                    moof = mp4_generator.moof(track.sequenceNumber++, firstDTS, track);
                                    track.samples = [];
                                    var data = {
                                        data1: moof,
                                        data2: mdat,
                                        startPTS: firstPTS / timeScale,
                                        endPTS: (lastPTS + mp4SampleDuration) / timeScale,
                                        startDTS: firstDTS / timeScale,
                                        endDTS: this.nextAvcDts / timeScale,
                                        type: 'video',
                                        hasAudio: false,
                                        hasVideo: true,
                                        nb: outputSamples.length,
                                        dropped: dropped
                                    };
                                    this.observer.trigger(events["a"].FRAG_PARSING_DATA, data);
                                    return data;
                                }
                                ;
                                MP4Remuxer.prototype.remuxAudio = function remuxAudio(track, timeOffset, contiguous, accurateTimeOffset) {
                                    var inputTimeScale = track.inputTimeScale
                                        , mp4timeScale = track.timescale
                                        , scaleFactor = inputTimeScale / mp4timeScale
                                        , mp4SampleDuration = track.isAAC ? 1024 : 1152
                                        , inputSampleDuration = mp4SampleDuration * scaleFactor
                                        , ptsNormalize = this._PTSNormalize
                                        , initDTS = this._initDTS
                                        , rawMPEG = !track.isAAC && this.typeSupported.mpeg;
                                    var offset = void 0
                                        , mp4Sample = void 0
                                        , fillFrame = void 0
                                        , mdat = void 0
                                        , moof = void 0
                                        , firstPTS = void 0
                                        , lastPTS = void 0
                                        , inputSamples = track.samples
                                        , outputSamples = []
                                        , nextAudioPts = this.nextAudioPts;
                                    contiguous |= inputSamples.length && nextAudioPts && (accurateTimeOffset && Math.abs(timeOffset - nextAudioPts / inputTimeScale) < 0.1 || Math.abs(inputSamples[0].pts - nextAudioPts - initDTS) < 20 * inputSampleDuration);
                                    inputSamples.forEach(function(sample) {
                                        sample.pts = sample.dts = ptsNormalize(sample.pts - initDTS, timeOffset * inputTimeScale);
                                    });
                                    inputSamples = inputSamples.filter(function(sample) {
                                        return sample.pts >= 0;
                                    });
                                    if (inputSamples.length === 0) {
                                        return;
                                    }
                                    if (!contiguous) {
                                        if (!accurateTimeOffset) {
                                            nextAudioPts = inputSamples[0].pts;
                                        } else {
                                            nextAudioPts = timeOffset * inputTimeScale;
                                        }
                                    }
                                    if (track.isAAC) {
                                        var maxAudioFramesDrift = this.config.maxAudioFramesDrift;
                                        for (var i = 0, nextPts = nextAudioPts; i < inputSamples.length; ) {
                                            var sample = inputSamples[i], delta;
                                            var pts = sample.pts;
                                            delta = pts - nextPts;
                                            var duration = Math.abs(1000 * delta / inputTimeScale);
                                            if (delta <= -maxAudioFramesDrift * inputSampleDuration) {
                                                logger["b"].warn('Dropping 1 audio frame @ ' + (nextPts / inputTimeScale).toFixed(3) + 's due to ' + Math.round(duration) + ' ms overlap.');
                                                inputSamples.splice(i, 1);
                                                track.len -= sample.unit.length;
                                            } else if (delta >= maxAudioFramesDrift * inputSampleDuration && duration < MAX_SILENT_FRAME_DURATION && nextPts) {
                                                var missing = Math.round(delta / inputSampleDuration);
                                                logger["b"].warn('Injecting ' + missing + ' audio frame @ ' + (nextPts / inputTimeScale).toFixed(3) + 's due to ' + Math.round(1000 * delta / inputTimeScale) + ' ms gap.');
                                                for (var j = 0; j < missing; j++) {
                                                    var newStamp = Math.max(nextPts, 0);
                                                    fillFrame = aac_helper.getSilentFrame(track.manifestCodec || track.codec, track.channelCount);
                                                    if (!fillFrame) {
                                                        logger["b"].log('Unable to get silent frame for given audio codec; duplicating last frame instead.');
                                                        fillFrame = sample.unit.subarray();
                                                    }
                                                    inputSamples.splice(i, 0, {
                                                        unit: fillFrame,
                                                        pts: newStamp,
                                                        dts: newStamp
                                                    });
                                                    track.len += fillFrame.length;
                                                    nextPts += inputSampleDuration;
                                                    i++;
                                                }
                                                sample.pts = sample.dts = nextPts;
                                                nextPts += inputSampleDuration;
                                                i++;
                                            } else {
                                                if (Math.abs(delta) > 0.1 * inputSampleDuration) {}
                                                sample.pts = sample.dts = nextPts;
                                                nextPts += inputSampleDuration;
                                                i++;
                                            }
                                        }
                                    }
                                    for (var _j2 = 0, _nbSamples = inputSamples.length; _j2 < _nbSamples; _j2++) {
                                        var audioSample = inputSamples[_j2];
                                        var unit = audioSample.unit;
                                        var _pts = audioSample.pts;
                                        if (lastPTS !== undefined) {
                                            mp4Sample.duration = Math.round((_pts - lastPTS) / scaleFactor);
                                        } else {
                                            var _delta = Math.round(1000 * (_pts - nextAudioPts) / inputTimeScale)
                                                , numMissingFrames = 0;
                                            if (contiguous && track.isAAC) {
                                                if (_delta) {
                                                    if (_delta > 0 && _delta < MAX_SILENT_FRAME_DURATION) {
                                                        numMissingFrames = Math.round((_pts - nextAudioPts) / inputSampleDuration);
                                                        logger["b"].log(_delta + ' ms hole between AAC samples detected,filling it');
                                                        if (numMissingFrames > 0) {
                                                            fillFrame = aac_helper.getSilentFrame(track.manifestCodec || track.codec, track.channelCount);
                                                            if (!fillFrame) {
                                                                fillFrame = unit.subarray();
                                                            }
                                                            track.len += numMissingFrames * fillFrame.length;
                                                        }
                                                    } else if (_delta < -12) {
                                                        logger["b"].log('drop overlapping AAC sample, expected/parsed/delta:' + (nextAudioPts / inputTimeScale).toFixed(3) + 's/' + (_pts / inputTimeScale).toFixed(3) + 's/' + -_delta + 'ms');
                                                        track.len -= unit.byteLength;
                                                        continue;
                                                    }
                                                    _pts = nextAudioPts;
                                                }
                                            }
                                            firstPTS = _pts;
                                            if (track.len > 0) {
                                                var mdatSize = rawMPEG ? track.len : track.len + 8;
                                                offset = rawMPEG ? 0 : 8;
                                                try {
                                                    mdat = new Uint8Array(mdatSize);
                                                } catch (err) {
                                                    this.observer.trigger(events["a"].ERROR, {
                                                        type: errors["b"].MUX_ERROR,
                                                        details: errors["a"].REMUX_ALLOC_ERROR,
                                                        fatal: false,
                                                        bytes: mdatSize,
                                                        reason: 'fail allocating audio mdat ' + mdatSize
                                                    });
                                                    return;
                                                }
                                                if (!rawMPEG) {
                                                    var view = new DataView(mdat.buffer);
                                                    view.setUint32(0, mdatSize);
                                                    mdat.set(mp4_generator.types.mdat, 4);
                                                }
                                            } else {
                                                return;
                                            }
                                            for (var _i3 = 0; _i3 < numMissingFrames; _i3++) {
                                                fillFrame = aac_helper.getSilentFrame(track.manifestCodec || track.codec, track.channelCount);
                                                if (!fillFrame) {
                                                    logger["b"].log('Unable to get silent frame for given audio codec; duplicating this frame instead.');
                                                    fillFrame = unit.subarray();
                                                }
                                                mdat.set(fillFrame, offset);
                                                offset += fillFrame.byteLength;
                                                mp4Sample = {
                                                    size: fillFrame.byteLength,
                                                    cts: 0,
                                                    duration: 1024,
                                                    flags: {
                                                        isLeading: 0,
                                                        isDependedOn: 0,
                                                        hasRedundancy: 0,
                                                        degradPrio: 0,
                                                        dependsOn: 1
                                                    }
                                                };
                                                outputSamples.push(mp4Sample);
                                            }
                                        }
                                        mdat.set(unit, offset);
                                        var unitLen = unit.byteLength;
                                        offset += unitLen;
                                        mp4Sample = {
                                            size: unitLen,
                                            cts: 0,
                                            duration: 0,
                                            flags: {
                                                isLeading: 0,
                                                isDependedOn: 0,
                                                hasRedundancy: 0,
                                                degradPrio: 0,
                                                dependsOn: 1
                                            }
                                        };
                                        outputSamples.push(mp4Sample);
                                        lastPTS = _pts;
                                    }
                                    var lastSampleDuration = 0;
                                    var nbSamples = outputSamples.length;
                                    if (nbSamples >= 2) {
                                        lastSampleDuration = outputSamples[nbSamples - 2].duration;
                                        mp4Sample.duration = lastSampleDuration;
                                    }
                                    if (nbSamples) {
                                        this.nextAudioPts = nextAudioPts = lastPTS + scaleFactor * lastSampleDuration;
                                        track.len = 0;
                                        track.samples = outputSamples;
                                        if (rawMPEG) {
                                            moof = new Uint8Array();
                                        } else {
                                            moof = mp4_generator.moof(track.sequenceNumber++, firstPTS / scaleFactor, track);
                                        }
                                        track.samples = [];
                                        var start = firstPTS / inputTimeScale;
                                        var end = nextAudioPts / inputTimeScale;
                                        var audioData = {
                                            data1: moof,
                                            data2: mdat,
                                            startPTS: start,
                                            endPTS: end,
                                            startDTS: start,
                                            endDTS: end,
                                            type: 'audio',
                                            hasAudio: true,
                                            hasVideo: false,
                                            nb: nbSamples
                                        };
                                        this.observer.trigger(events["a"].FRAG_PARSING_DATA, audioData);
                                        return audioData;
                                    }
                                    return null;
                                }
                                ;
                                MP4Remuxer.prototype.remuxEmptyAudio = function remuxEmptyAudio(track, timeOffset, contiguous, videoData) {
                                    var inputTimeScale = track.inputTimeScale
                                        , mp4timeScale = track.samplerate ? track.samplerate : inputTimeScale
                                        , scaleFactor = inputTimeScale / mp4timeScale
                                        , nextAudioPts = this.nextAudioPts
                                        , startDTS = (nextAudioPts !== undefined ? nextAudioPts : videoData.startDTS * inputTimeScale) + this._initDTS
                                        , endDTS = videoData.endDTS * inputTimeScale + this._initDTS
                                        , sampleDuration = 1024
                                        , frameDuration = scaleFactor * sampleDuration
                                        , nbSamples = Math.ceil((endDTS - startDTS) / frameDuration)
                                        , silentFrame = aac_helper.getSilentFrame(track.manifestCodec || track.codec, track.channelCount);
                                    logger["b"].warn('remux empty Audio');
                                    if (!silentFrame) {
                                        logger["b"].trace('Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!');
                                        return;
                                    }
                                    var samples = [];
                                    for (var i = 0; i < nbSamples; i++) {
                                        var stamp = startDTS + i * frameDuration;
                                        samples.push({
                                            unit: silentFrame,
                                            pts: stamp,
                                            dts: stamp
                                        });
                                        track.len += silentFrame.length;
                                    }
                                    track.samples = samples;
                                    this.remuxAudio(track, timeOffset, contiguous);
                                }
                                ;
                                MP4Remuxer.prototype.remuxID3 = function remuxID3(track, timeOffset) {
                                    var length = track.samples.length
                                        , sample = void 0;
                                    var inputTimeScale = track.inputTimeScale;
                                    var initPTS = this._initPTS;
                                    var initDTS = this._initDTS;
                                    if (length) {
                                        for (var index = 0; index < length; index++) {
                                            sample = track.samples[index];
                                            sample.pts = (sample.pts - initPTS) / inputTimeScale;
                                            sample.dts = (sample.dts - initDTS) / inputTimeScale;
                                        }
                                        this.observer.trigger(events["a"].FRAG_PARSING_METADATA, {
                                            samples: track.samples
                                        });
                                    }
                                    track.samples = [];
                                    timeOffset = timeOffset;
                                }
                                ;
                                MP4Remuxer.prototype.remuxText = function remuxText(track, timeOffset) {
                                    track.samples.sort(function(a, b) {
                                        return a.pts - b.pts;
                                    });
                                    var length = track.samples.length
                                        , sample = void 0;
                                    var inputTimeScale = track.inputTimeScale;
                                    var initPTS = this._initPTS;
                                    if (length) {
                                        for (var index = 0; index < length; index++) {
                                            sample = track.samples[index];
                                            sample.pts = (sample.pts - initPTS) / inputTimeScale;
                                        }
                                        this.observer.trigger(events["a"].FRAG_PARSING_USERDATA, {
                                            samples: track.samples
                                        });
                                    }
                                    track.samples = [];
                                    timeOffset = timeOffset;
                                }
                                ;
                                MP4Remuxer.prototype._PTSNormalize = function _PTSNormalize(value, reference) {
                                    var offset = void 0;
                                    if (reference === undefined) {
                                        return value;
                                    }
                                    if (reference < value) {
                                        offset = -8589934592;
                                    } else {
                                        offset = 8589934592;
                                    }
                                    while (Math.abs(value - reference) > 4294967296) {
                                        value += offset;
                                    }
                                    return value;
                                }
                                ;
                                return MP4Remuxer;
                            }();
                            var mp4_remuxer = mp4_remuxer_MP4Remuxer;
                            function passthrough_remuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var passthrough_remuxer_PassThroughRemuxer = function() {
                                function PassThroughRemuxer(observer) {
                                    passthrough_remuxer__classCallCheck(this, PassThroughRemuxer);
                                    this.observer = observer;
                                }
                                PassThroughRemuxer.prototype.destroy = function destroy() {}
                                ;
                                PassThroughRemuxer.prototype.resetTimeStamp = function resetTimeStamp() {}
                                ;
                                PassThroughRemuxer.prototype.resetInitSegment = function resetInitSegment() {}
                                ;
                                PassThroughRemuxer.prototype.remux = function remux(audioTrack, videoTrack, id3Track, textTrack, timeOffset, contiguous, accurateTimeOffset, rawData) {
                                    var observer = this.observer;
                                    var streamType = '';
                                    if (audioTrack) {
                                        streamType += 'audio';
                                    }
                                    if (videoTrack) {
                                        streamType += 'video';
                                    }
                                    observer.trigger(events["a"].FRAG_PARSING_DATA, {
                                        data1: rawData,
                                        startPTS: timeOffset,
                                        startDTS: timeOffset,
                                        type: streamType,
                                        hasAudio: !!audioTrack,
                                        hasVideo: !!videoTrack,
                                        nb: 1,
                                        dropped: 0
                                    });
                                    observer.trigger(events["a"].FRAG_PARSED);
                                }
                                ;
                                return PassThroughRemuxer;
                            }();
                            var passthrough_remuxer = passthrough_remuxer_PassThroughRemuxer;
                            function demuxer_inline__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var demuxer_inline_global = Object(get_self_scope["a"])();
                            var performance = demuxer_inline_global;
                            var demuxer_inline_DemuxerInline = function() {
                                function DemuxerInline(observer, typeSupported, config, vendor) {
                                    demuxer_inline__classCallCheck(this, DemuxerInline);
                                    this.observer = observer;
                                    this.typeSupported = typeSupported;
                                    this.config = config;
                                    this.vendor = vendor;
                                }
                                DemuxerInline.prototype.destroy = function destroy() {
                                    var demuxer = this.demuxer;
                                    if (demuxer) {
                                        demuxer.destroy();
                                    }
                                }
                                ;
                                DemuxerInline.prototype.push = function push(data, decryptdata, initSegment, audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset, defaultInitPTS) {
                                    if (data.byteLength > 0 && decryptdata != null && decryptdata.key != null && decryptdata.method === 'AES-128') {
                                        var decrypter = this.decrypter;
                                        if (decrypter == null) {
                                            decrypter = this.decrypter = new crypt_decrypter(this.observer,this.config);
                                        }
                                        var localthis = this;
                                        var startTime = void 0;
                                        try {
                                            startTime = performance.now();
                                        } catch (error) {
                                            startTime = Date.now();
                                        }
                                        decrypter.decrypt(data, decryptdata.key.buffer, decryptdata.iv.buffer, function(decryptedData) {
                                            var endTime = void 0;
                                            try {
                                                endTime = performance.now();
                                            } catch (error) {
                                                endTime = Date.now();
                                            }
                                            localthis.observer.trigger(events["a"].FRAG_DECRYPTED, {
                                                stats: {
                                                    tstart: startTime,
                                                    tdecrypt: endTime
                                                }
                                            });
                                            localthis.pushDecrypted(new Uint8Array(decryptedData), decryptdata, new Uint8Array(initSegment), audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset, defaultInitPTS);
                                        });
                                    } else {
                                        this.pushDecrypted(new Uint8Array(data), decryptdata, new Uint8Array(initSegment), audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset, defaultInitPTS);
                                    }
                                }
                                ;
                                DemuxerInline.prototype.pushDecrypted = function pushDecrypted(data, decryptdata, initSegment, audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset, defaultInitPTS) {
                                    var demuxer = this.demuxer;
                                    if (!demuxer || (discontinuity || trackSwitch) && !this.probe(data)) {
                                        var observer = this.observer;
                                        var typeSupported = this.typeSupported;
                                        var config = this.config;
                                        var muxConfig = [{
                                            demux: tsdemuxer,
                                            remux: mp4_remuxer
                                        }, {
                                            demux: mp4demuxer["a"],
                                            remux: passthrough_remuxer
                                        }, {
                                            demux: aacdemuxer,
                                            remux: mp4_remuxer
                                        }, {
                                            demux: mp3demuxer,
                                            remux: mp4_remuxer
                                        }];
                                        for (var i = 0, len = muxConfig.length; i < len; i++) {
                                            var mux = muxConfig[i];
                                            var probe = mux.demux.probe;
                                            if (probe(data)) {
                                                var _remuxer = this.remuxer = new mux.remux(observer,config,typeSupported,this.vendor);
                                                demuxer = new mux.demux(observer,_remuxer,config,typeSupported);
                                                this.probe = probe;
                                                break;
                                            }
                                        }
                                        if (!demuxer) {
                                            observer.trigger(events["a"].ERROR, {
                                                type: errors["b"].MEDIA_ERROR,
                                                details: errors["a"].FRAG_PARSING_ERROR,
                                                fatal: true,
                                                reason: 'no demux matching with content found'
                                            });
                                            return;
                                        }
                                        this.demuxer = demuxer;
                                    }
                                    var remuxer = this.remuxer;
                                    if (discontinuity || trackSwitch) {
                                        demuxer.resetInitSegment(initSegment, audioCodec, videoCodec, duration);
                                        remuxer.resetInitSegment();
                                    }
                                    if (discontinuity) {
                                        demuxer.resetTimeStamp(defaultInitPTS);
                                        remuxer.resetTimeStamp(defaultInitPTS);
                                    }
                                    if (typeof demuxer.setDecryptData === 'function') {
                                        demuxer.setDecryptData(decryptdata);
                                    }
                                    demuxer.append(data, timeOffset, contiguous, accurateTimeOffset);
                                }
                                ;
                                return DemuxerInline;
                            }();
                            var demuxer_inline = __webpack_exports__["a"] = demuxer_inline_DemuxerInline;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            Object.defineProperty(__webpack_exports__, "__esModule", {
                                value: true
                            });
                            var url_toolkit = __webpack_require__(5);
                            var url_toolkit_default = __webpack_require__.n(url_toolkit);
                            var errors = __webpack_require__(2);
                            var events = __webpack_require__(1);
                            var logger = __webpack_require__(0);
                            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                                    return typeof obj;
                                }
                                : function(obj) {
                                    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
                                }
                            ;
                            function _classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var FORBIDDEN_EVENT_NAMES = new Set(['hlsEventGeneric', 'hlsHandlerDestroying', 'hlsHandlerDestroyed']);
                            var event_handler_EventHandler = function() {
                                function EventHandler(hls) {
                                    _classCallCheck(this, EventHandler);
                                    this.hls = hls;
                                    this.onEvent = this.onEvent.bind(this);
                                    for (var _len = arguments.length, events = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                        events[_key - 1] = arguments[_key];
                                    }
                                    this.handledEvents = events;
                                    this.useGenericHandler = true;
                                    this.registerListeners();
                                }
                                EventHandler.prototype.destroy = function destroy() {
                                    this.onHandlerDestroying();
                                    this.unregisterListeners();
                                    this.onHandlerDestroyed();
                                }
                                ;
                                EventHandler.prototype.onHandlerDestroying = function onHandlerDestroying() {}
                                ;
                                EventHandler.prototype.onHandlerDestroyed = function onHandlerDestroyed() {}
                                ;
                                EventHandler.prototype.isEventHandler = function isEventHandler() {
                                    return _typeof(this.handledEvents) === 'object' && this.handledEvents.length && typeof this.onEvent === 'function';
                                }
                                ;
                                EventHandler.prototype.registerListeners = function registerListeners() {
                                    if (this.isEventHandler()) {
                                        this.handledEvents.forEach(function(event) {
                                            if (FORBIDDEN_EVENT_NAMES.has(event)) {
                                                throw new Error('Forbidden event-name: ' + event);
                                            }
                                            this.hls.on(event, this.onEvent);
                                        }, this);
                                    }
                                }
                                ;
                                EventHandler.prototype.unregisterListeners = function unregisterListeners() {
                                    if (this.isEventHandler()) {
                                        this.handledEvents.forEach(function(event) {
                                            this.hls.off(event, this.onEvent);
                                        }, this);
                                    }
                                }
                                ;
                                EventHandler.prototype.onEvent = function onEvent(event, data) {
                                    this.onEventGeneric(event, data);
                                }
                                ;
                                EventHandler.prototype.onEventGeneric = function onEventGeneric(event, data) {
                                    var eventToFunction = function eventToFunction(event, data) {
                                        var funcName = 'on' + event.replace('hls', '');
                                        if (typeof this[funcName] !== 'function') {
                                            throw new Error('Event ' + event + ' has no generic handler in this ' + this.constructor.name + ' class (tried ' + funcName + ')');
                                        }
                                        return this[funcName].bind(this, data);
                                    };
                                    try {
                                        eventToFunction.call(this, event, data).call();
                                    } catch (err) {
                                        logger["b"].error('An internal error happened while handling event ' + event + '. Error message: "' + err.message + '". Here is a stacktrace:', err);
                                        this.hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].OTHER_ERROR,
                                            details: errors["a"].INTERNAL_EXCEPTION,
                                            fatal: false,
                                            event: event,
                                            err: err
                                        });
                                    }
                                }
                                ;
                                return EventHandler;
                            }();
                            var event_handler = event_handler_EventHandler;
                            var mp4demuxer = __webpack_require__(8);
                            var _createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function level_key__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var level_key_LevelKey = function() {
                                function LevelKey() {
                                    level_key__classCallCheck(this, LevelKey);
                                    this.method = null;
                                    this.key = null;
                                    this.iv = null;
                                    this._uri = null;
                                }
                                _createClass(LevelKey, [{
                                    key: 'uri',
                                    get: function get() {
                                        if (!this._uri && this.reluri) {
                                            this._uri = url_toolkit_default.a.buildAbsoluteURL(this.baseuri, this.reluri, {
                                                alwaysNormalize: true
                                            });
                                        }
                                        return this._uri;
                                    }
                                }]);
                                return LevelKey;
                            }();
                            var level_key = level_key_LevelKey;
                            var fragment__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function fragment__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var fragment_Fragment = function() {
                                function Fragment() {
                                    var _elementaryStreams;
                                    fragment__classCallCheck(this, Fragment);
                                    this._url = null;
                                    this._byteRange = null;
                                    this._decryptdata = null;
                                    this.tagList = [];
                                    this._elementaryStreams = (_elementaryStreams = {},
                                        _elementaryStreams[Fragment.ElementaryStreamTypes.AUDIO] = false,
                                        _elementaryStreams[Fragment.ElementaryStreamTypes.VIDEO] = false,
                                        _elementaryStreams);
                                }
                                Fragment.prototype.addElementaryStream = function addElementaryStream(type) {
                                    this._elementaryStreams[type] = true;
                                }
                                ;
                                Fragment.prototype.hasElementaryStream = function hasElementaryStream(type) {
                                    return this._elementaryStreams[type] === true;
                                }
                                ;
                                Fragment.prototype.createInitializationVector = function createInitializationVector(segmentNumber) {
                                    var uint8View = new Uint8Array(16);
                                    for (var i = 12; i < 16; i++) {
                                        uint8View[i] = segmentNumber >> 8 * (15 - i) & 0xff;
                                    }
                                    return uint8View;
                                }
                                ;
                                Fragment.prototype.fragmentDecryptdataFromLevelkey = function fragmentDecryptdataFromLevelkey(levelkey, segmentNumber) {
                                    var decryptdata = levelkey;
                                    if (levelkey && levelkey.method && levelkey.uri && !levelkey.iv) {
                                        decryptdata = new level_key();
                                        decryptdata.method = levelkey.method;
                                        decryptdata.baseuri = levelkey.baseuri;
                                        decryptdata.reluri = levelkey.reluri;
                                        decryptdata.iv = this.createInitializationVector(segmentNumber);
                                    }
                                    return decryptdata;
                                }
                                ;
                                fragment__createClass(Fragment, [{
                                    key: 'url',
                                    get: function get() {
                                        if (!this._url && this.relurl) {
                                            this._url = url_toolkit_default.a.buildAbsoluteURL(this.baseurl, this.relurl, {
                                                alwaysNormalize: true
                                            });
                                        }
                                        return this._url;
                                    },
                                    set: function set(value) {
                                        this._url = value;
                                    }
                                }, {
                                    key: 'programDateTime',
                                    get: function get() {
                                        if (!this._programDateTime && this.rawProgramDateTime) {
                                            this._programDateTime = new Date(Date.parse(this.rawProgramDateTime));
                                        }
                                        return this._programDateTime;
                                    }
                                }, {
                                    key: 'byteRange',
                                    get: function get() {
                                        if (!this._byteRange && !this.rawByteRange) {
                                            return [];
                                        }
                                        if (this._byteRange) {
                                            return this._byteRange;
                                        }
                                        var byteRange = [];
                                        if (this.rawByteRange) {
                                            var params = this.rawByteRange.split('@', 2);
                                            if (params.length === 1) {
                                                var lastByteRangeEndOffset = this.lastByteRangeEndOffset;
                                                byteRange[0] = lastByteRangeEndOffset || 0;
                                            } else {
                                                byteRange[0] = parseInt(params[1]);
                                            }
                                            byteRange[1] = parseInt(params[0]) + byteRange[0];
                                            this._byteRange = byteRange;
                                        }
                                        return byteRange;
                                    }
                                }, {
                                    key: 'byteRangeStartOffset',
                                    get: function get() {
                                        return this.byteRange[0];
                                    }
                                }, {
                                    key: 'byteRangeEndOffset',
                                    get: function get() {
                                        return this.byteRange[1];
                                    }
                                }, {
                                    key: 'decryptdata',
                                    get: function get() {
                                        if (!this._decryptdata) {
                                            this._decryptdata = this.fragmentDecryptdataFromLevelkey(this.levelkey, this.sn);
                                        }
                                        return this._decryptdata;
                                    }
                                }, {
                                    key: 'encrypted',
                                    get: function get() {
                                        return !!(this.decryptdata && this.decryptdata.uri !== null && this.decryptdata.key === null);
                                    }
                                }], [{
                                    key: 'ElementaryStreamTypes',
                                    get: function get() {
                                        return {
                                            AUDIO: 'audio',
                                            VIDEO: 'video'
                                        };
                                    }
                                }]);
                                return Fragment;
                            }();
                            var loader_fragment = fragment_Fragment;
                            function attr_list__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var DECIMAL_RESOLUTION_REGEX = /^(\d+)x(\d+)$/;
                            var ATTR_LIST_REGEX = /\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g;
                            var AttrList = function() {
                                function AttrList(attrs) {
                                    attr_list__classCallCheck(this, AttrList);
                                    if (typeof attrs === 'string') {
                                        attrs = AttrList.parseAttrList(attrs);
                                    }
                                    for (var attr in attrs) {
                                        if (attrs.hasOwnProperty(attr)) {
                                            this[attr] = attrs[attr];
                                        }
                                    }
                                }
                                AttrList.prototype.decimalInteger = function decimalInteger(attrName) {
                                    var intValue = parseInt(this[attrName], 10);
                                    if (intValue > Number.MAX_SAFE_INTEGER) {
                                        return Infinity;
                                    }
                                    return intValue;
                                }
                                ;
                                AttrList.prototype.hexadecimalInteger = function hexadecimalInteger(attrName) {
                                    if (this[attrName]) {
                                        var stringValue = (this[attrName] || '0x').slice(2);
                                        stringValue = (stringValue.length & 1 ? '0' : '') + stringValue;
                                        var value = new Uint8Array(stringValue.length / 2);
                                        for (var i = 0; i < stringValue.length / 2; i++) {
                                            value[i] = parseInt(stringValue.slice(i * 2, i * 2 + 2), 16);
                                        }
                                        return value;
                                    } else {
                                        return null;
                                    }
                                }
                                ;
                                AttrList.prototype.hexadecimalIntegerAsNumber = function hexadecimalIntegerAsNumber(attrName) {
                                    var intValue = parseInt(this[attrName], 16);
                                    if (intValue > Number.MAX_SAFE_INTEGER) {
                                        return Infinity;
                                    }
                                    return intValue;
                                }
                                ;
                                AttrList.prototype.decimalFloatingPoint = function decimalFloatingPoint(attrName) {
                                    return parseFloat(this[attrName]);
                                }
                                ;
                                AttrList.prototype.enumeratedString = function enumeratedString(attrName) {
                                    return this[attrName];
                                }
                                ;
                                AttrList.prototype.decimalResolution = function decimalResolution(attrName) {
                                    var res = DECIMAL_RESOLUTION_REGEX.exec(this[attrName]);
                                    if (res === null) {
                                        return undefined;
                                    }
                                    return {
                                        width: parseInt(res[1], 10),
                                        height: parseInt(res[2], 10)
                                    };
                                }
                                ;
                                AttrList.parseAttrList = function parseAttrList(input) {
                                    var match = void 0
                                        , attrs = {};
                                    ATTR_LIST_REGEX.lastIndex = 0;
                                    while ((match = ATTR_LIST_REGEX.exec(input)) !== null) {
                                        var value = match[2]
                                            , quote = '"';
                                        if (value.indexOf(quote) === 0 && value.lastIndexOf(quote) === value.length - 1) {
                                            value = value.slice(1, -1);
                                        }
                                        attrs[match[1]] = value;
                                    }
                                    return attrs;
                                }
                                ;
                                return AttrList;
                            }();
                            var attr_list = AttrList;
                            var sampleEntryCodesISO = {
                                audio: {
                                    'a3ds': true,
                                    'ac-3': true,
                                    'ac-4': true,
                                    'alac': true,
                                    'alaw': true,
                                    'dra1': true,
                                    'dts+': true,
                                    'dts-': true,
                                    'dtsc': true,
                                    'dtse': true,
                                    'dtsh': true,
                                    'ec-3': true,
                                    'enca': true,
                                    'g719': true,
                                    'g726': true,
                                    'm4ae': true,
                                    'mha1': true,
                                    'mha2': true,
                                    'mhm1': true,
                                    'mhm2': true,
                                    'mlpa': true,
                                    'mp4a': true,
                                    'raw ': true,
                                    'Opus': true,
                                    'samr': true,
                                    'sawb': true,
                                    'sawp': true,
                                    'sevc': true,
                                    'sqcp': true,
                                    'ssmv': true,
                                    'twos': true,
                                    'ulaw': true
                                },
                                video: {
                                    'avc1': true,
                                    'avc2': true,
                                    'avc3': true,
                                    'avc4': true,
                                    'avcp': true,
                                    'drac': true,
                                    'dvav': true,
                                    'dvhe': true,
                                    'encv': true,
                                    'hev1': true,
                                    'hvc1': true,
                                    'mjp2': true,
                                    'mp4v': true,
                                    'mvc1': true,
                                    'mvc2': true,
                                    'mvc3': true,
                                    'mvc4': true,
                                    'resv': true,
                                    'rv60': true,
                                    's263': true,
                                    'svc1': true,
                                    'svc2': true,
                                    'vc-1': true,
                                    'vp08': true,
                                    'vp09': true
                                }
                            };
                            function isCodecType(codec, type) {
                                var typeCodes = sampleEntryCodesISO[type];
                                return !!typeCodes && typeCodes[codec.slice(0, 4)] === true;
                            }
                            function isCodecSupportedInMp4(codec, type) {
                                return window.carodaHls.MediaSource.isTypeSupported((type || 'video') + '/mp4;codecs="' + codec + '"');
                            }
                            function m3u8_parser__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var MASTER_PLAYLIST_REGEX = /#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g;
                            var MASTER_PLAYLIST_MEDIA_REGEX = /#EXT-X-MEDIA:(.*)/g;
                            var LEVEL_PLAYLIST_REGEX_FAST = new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source, /|(?!#)(\S+)/.source, /|#EXT-X-BYTERANGE:*(.+)/.source, /|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source, /|#.*/.source].join(''),'g');
                            var LEVEL_PLAYLIST_REGEX_SLOW = /(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/;
                            var MP4_REGEX_SUFFIX = /\.(mp4|m4s|m4v|m4a)$/i;
                            var m3u8_parser_M3U8Parser = function() {
                                function M3U8Parser() {
                                    m3u8_parser__classCallCheck(this, M3U8Parser);
                                }
                                M3U8Parser.findGroup = function findGroup(groups, mediaGroupId) {
                                    if (!groups) {
                                        return null;
                                    }
                                    var matchingGroup = null;
                                    for (var i = 0; i < groups.length; i++) {
                                        var group = groups[i];
                                        if (group.id === mediaGroupId) {
                                            matchingGroup = group;
                                        }
                                    }
                                    return matchingGroup;
                                }
                                ;
                                M3U8Parser.convertAVC1ToAVCOTI = function convertAVC1ToAVCOTI(codec) {
                                    var result = void 0
                                        , avcdata = codec.split('.');
                                    if (avcdata.length > 2) {
                                        result = avcdata.shift() + '.';
                                        result += parseInt(avcdata.shift()).toString(16);
                                        result += ('000' + parseInt(avcdata.shift()).toString(16)).substr(-4);
                                    } else {
                                        result = codec;
                                    }
                                    return result;
                                }
                                ;
                                M3U8Parser.resolve = function resolve(url, baseUrl) {
                                    return url_toolkit_default.a.buildAbsoluteURL(baseUrl, url, {
                                        alwaysNormalize: true
                                    });
                                }
                                ;
                                M3U8Parser.parseMasterPlaylist = function parseMasterPlaylist(string, baseurl) {
                                    var levels = []
                                        , result = void 0;
                                    MASTER_PLAYLIST_REGEX.lastIndex = 0;
                                    function setCodecs(codecs, level) {
                                        ['video', 'audio'].forEach(function(type) {
                                            var filtered = codecs.filter(function(codec) {
                                                return isCodecType(codec, type);
                                            });
                                            if (filtered.length) {
                                                var preferred = filtered.filter(function(codec) {
                                                    return codec.lastIndexOf('avc1', 0) === 0 || codec.lastIndexOf('mp4a', 0) === 0;
                                                });
                                                level[type + 'Codec'] = preferred.length > 0 ? preferred[0] : filtered[0];
                                                codecs = codecs.filter(function(codec) {
                                                    return filtered.indexOf(codec) === -1;
                                                });
                                            }
                                        });
                                        level.unknownCodecs = codecs;
                                    }
                                    while ((result = MASTER_PLAYLIST_REGEX.exec(string)) != null) {
                                        var level = {};
                                        var attrs = level.attrs = new attr_list(result[1]);
                                        level.url = M3U8Parser.resolve(result[2], baseurl);
                                        var resolution = attrs.decimalResolution('RESOLUTION');
                                        if (resolution) {
                                            level.width = resolution.width;
                                            level.height = resolution.height;
                                        }
                                        level.bitrate = attrs.decimalInteger('AVERAGE-BANDWIDTH') || attrs.decimalInteger('BANDWIDTH');
                                        level.name = attrs.NAME;
                                        setCodecs([].concat((attrs.CODECS || '').split(/[ ,]+/)), level);
                                        if (level.videoCodec && level.videoCodec.indexOf('avc1') !== -1) {
                                            level.videoCodec = M3U8Parser.convertAVC1ToAVCOTI(level.videoCodec);
                                        }
                                        levels.push(level);
                                    }
                                    return levels;
                                }
                                ;
                                M3U8Parser.parseMasterPlaylistMedia = function parseMasterPlaylistMedia(string, baseurl, type) {
                                    var audioGroups = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];
                                    var result = void 0;
                                    var medias = [];
                                    var id = 0;
                                    MASTER_PLAYLIST_MEDIA_REGEX.lastIndex = 0;
                                    while ((result = MASTER_PLAYLIST_MEDIA_REGEX.exec(string)) !== null) {
                                        var media = {};
                                        var attrs = new attr_list(result[1]);
                                        if (attrs.TYPE === type) {
                                            media.groupId = attrs['GROUP-ID'];
                                            media.name = attrs.NAME;
                                            media.type = type;
                                            media.default = attrs.DEFAULT === 'YES';
                                            media.autoselect = attrs.AUTOSELECT === 'YES';
                                            media.forced = attrs.FORCED === 'YES';
                                            if (attrs.URI) {
                                                media.url = M3U8Parser.resolve(attrs.URI, baseurl);
                                            }
                                            media.lang = attrs.LANGUAGE;
                                            if (!media.name) {
                                                media.name = media.lang;
                                            }
                                            if (audioGroups.length) {
                                                var groupCodec = M3U8Parser.findGroup(audioGroups, media.groupId);
                                                media.audioCodec = groupCodec ? groupCodec.codec : audioGroups[0].codec;
                                            }
                                            media.id = id++;
                                            medias.push(media);
                                        }
                                    }
                                    return medias;
                                }
                                ;
                                M3U8Parser.parseLevelPlaylist = function parseLevelPlaylist(string, baseurl, id, type, levelUrlId) {
                                    var currentSN = 0
                                        , totalduration = 0
                                        , level = {
                                        type: null,
                                        version: null,
                                        url: baseurl,
                                        fragments: [],
                                        live: true,
                                        startSN: 0
                                    }
                                        , levelkey = new level_key()
                                        , cc = 0
                                        , prevFrag = null
                                        , frag = new loader_fragment()
                                        , result = void 0
                                        , i = void 0;
                                    LEVEL_PLAYLIST_REGEX_FAST.lastIndex = 0;
                                    while ((result = LEVEL_PLAYLIST_REGEX_FAST.exec(string)) !== null) {
                                        var duration = result[1];
                                        if (duration) {
                                            frag.duration = parseFloat(duration);
                                            var title = (' ' + result[2]).slice(1);
                                            frag.title = title || null;
                                            frag.tagList.push(title ? ['INF', duration, title] : ['INF', duration]);
                                        } else if (result[3]) {
                                            if (!isNaN(frag.duration)) {
                                                var sn = currentSN++;
                                                frag.type = type;
                                                frag.start = totalduration;
                                                frag.levelkey = levelkey;
                                                frag.sn = sn;
                                                frag.level = id;
                                                frag.cc = cc;
                                                frag.urlId = levelUrlId;
                                                frag.baseurl = baseurl;
                                                frag.relurl = (' ' + result[3]).slice(1);
                                                if (level.programDateTime) {
                                                    if (prevFrag) {
                                                        if (frag.rawProgramDateTime) {
                                                            frag.pdt = Date.parse(frag.rawProgramDateTime);
                                                        } else {
                                                            frag.pdt = prevFrag.pdt + prevFrag.duration * 1000;
                                                        }
                                                    } else {
                                                        frag.pdt = Date.parse(level.programDateTime);
                                                    }
                                                    frag.endPdt = frag.pdt + frag.duration * 1000;
                                                }
                                                level.fragments.push(frag);
                                                prevFrag = frag;
                                                totalduration += frag.duration;
                                                frag = new loader_fragment();
                                            }
                                        } else if (result[4]) {
                                            frag.rawByteRange = (' ' + result[4]).slice(1);
                                            if (prevFrag) {
                                                var lastByteRangeEndOffset = prevFrag.byteRangeEndOffset;
                                                if (lastByteRangeEndOffset) {
                                                    frag.lastByteRangeEndOffset = lastByteRangeEndOffset;
                                                }
                                            }
                                        } else if (result[5]) {
                                            frag.rawProgramDateTime = (' ' + result[5]).slice(1);
                                            frag.tagList.push(['PROGRAM-DATE-TIME', frag.rawProgramDateTime]);
                                            if (level.programDateTime === undefined) {
                                                level.programDateTime = new Date(new Date(Date.parse(result[5])) - 1000 * totalduration);
                                            }
                                        } else {
                                            result = result[0].match(LEVEL_PLAYLIST_REGEX_SLOW);
                                            for (i = 1; i < result.length; i++) {
                                                if (result[i] !== undefined) {
                                                    break;
                                                }
                                            }
                                            var value1 = (' ' + result[i + 1]).slice(1);
                                            var value2 = (' ' + result[i + 2]).slice(1);
                                            switch (result[i]) {
                                                case '#':
                                                    frag.tagList.push(value2 ? [value1, value2] : [value1]);
                                                    break;
                                                case 'PLAYLIST-TYPE':
                                                    level.type = value1.toUpperCase();
                                                    break;
                                                case 'MEDIA-SEQUENCE':
                                                    currentSN = level.startSN = parseInt(value1);
                                                    break;
                                                case 'TARGETDURATION':
                                                    level.targetduration = parseFloat(value1);
                                                    break;
                                                case 'VERSION':
                                                    level.version = parseInt(value1);
                                                    break;
                                                case 'EXTM3U':
                                                    break;
                                                case 'ENDLIST':
                                                    level.live = false;
                                                    break;
                                                case 'DIS':
                                                    cc++;
                                                    frag.tagList.push(['DIS']);
                                                    break;
                                                case 'DISCONTINUITY-SEQ':
                                                    cc = parseInt(value1);
                                                    break;
                                                case 'KEY':
                                                    var decryptparams = value1;
                                                    var keyAttrs = new attr_list(decryptparams);
                                                    var decryptmethod = keyAttrs.enumeratedString('METHOD')
                                                        , decrypturi = keyAttrs.URI
                                                        , decryptiv = keyAttrs.hexadecimalInteger('IV');
                                                    if (decryptmethod) {
                                                        levelkey = new level_key();
                                                        if (decrypturi && ['AES-128', 'SAMPLE-AES', 'SAMPLE-AES-CENC'].indexOf(decryptmethod) >= 0) {
                                                            levelkey.method = decryptmethod;
                                                            levelkey.baseuri = baseurl;
                                                            levelkey.reluri = decrypturi;
                                                            levelkey.key = null;
                                                            levelkey.iv = decryptiv;
                                                        }
                                                    }
                                                    break;
                                                case 'START':
                                                    var startParams = value1;
                                                    var startAttrs = new attr_list(startParams);
                                                    var startTimeOffset = startAttrs.decimalFloatingPoint('TIME-OFFSET');
                                                    if (!isNaN(startTimeOffset)) {
                                                        level.startTimeOffset = startTimeOffset;
                                                    }
                                                    break;
                                                case 'MAP':
                                                    var mapAttrs = new attr_list(value1);
                                                    frag.relurl = mapAttrs.URI;
                                                    frag.rawByteRange = mapAttrs.BYTERANGE;
                                                    frag.baseurl = baseurl;
                                                    frag.level = id;
                                                    frag.type = type;
                                                    frag.sn = 'initSegment';
                                                    level.initSegment = frag;
                                                    frag = new loader_fragment();
                                                    break;
                                                default:
                                                    logger["b"].warn('line parsed but not handled: ' + result);
                                                    break;
                                            }
                                        }
                                    }
                                    frag = prevFrag;
                                    if (frag && !frag.relurl) {
                                        level.fragments.pop();
                                        totalduration -= frag.duration;
                                    }
                                    level.totalduration = totalduration;
                                    level.averagetargetduration = totalduration / level.fragments.length;
                                    level.endSN = currentSN - 1;
                                    level.startCC = level.fragments[0] ? level.fragments[0].cc : 0;
                                    level.endCC = cc;
                                    if (!level.initSegment && level.fragments.length) {
                                        if (level.fragments.every(function(frag) {
                                            return MP4_REGEX_SUFFIX.test(frag.relurl);
                                        })) {
                                            logger["b"].warn('MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX');
                                            frag = new loader_fragment();
                                            frag.relurl = level.fragments[0].relurl;
                                            frag.baseurl = baseurl;
                                            frag.level = id;
                                            frag.type = type;
                                            frag.sn = 'initSegment';
                                            level.initSegment = frag;
                                            level.needSidxRanges = true;
                                        }
                                    }
                                    return level;
                                }
                                ;
                                return M3U8Parser;
                            }();
                            var m3u8_parser = m3u8_parser_M3U8Parser;
                            var playlist_loader__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function playlist_loader__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function _possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function _inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var _window = window
                                , performance = _window.performance;
                            var ContextType = {
                                MANIFEST: 'manifest',
                                LEVEL: 'level',
                                AUDIO_TRACK: 'audioTrack',
                                SUBTITLE_TRACK: 'subtitleTrack'
                            };
                            var LevelType = {
                                MAIN: 'main',
                                AUDIO: 'audio',
                                SUBTITLE: 'subtitle'
                            };
                            var playlist_loader_PlaylistLoader = function(_EventHandler) {
                                _inherits(PlaylistLoader, _EventHandler);
                                function PlaylistLoader(hls) {
                                    playlist_loader__classCallCheck(this, PlaylistLoader);
                                    var _this = _possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].MANIFEST_LOADING, events["a"].LEVEL_LOADING, events["a"].AUDIO_TRACK_LOADING, events["a"].SUBTITLE_TRACK_LOADING));
                                    _this.loaders = {};
                                    return _this;
                                }
                                PlaylistLoader.canHaveQualityLevels = function canHaveQualityLevels(type) {
                                    return type !== ContextType.AUDIO_TRACK && type !== ContextType.SUBTITLE_TRACK;
                                }
                                ;
                                PlaylistLoader.mapContextToLevelType = function mapContextToLevelType(context) {
                                    var type = context.type;
                                    switch (type) {
                                        case ContextType.AUDIO_TRACK:
                                            return LevelType.AUDIO;
                                        case ContextType.SUBTITLE_TRACK:
                                            return LevelType.SUBTITLE;
                                        default:
                                            return LevelType.MAIN;
                                    }
                                }
                                ;
                                PlaylistLoader.getResponseUrl = function getResponseUrl(response, context) {
                                    var url = response.url;
                                    if (url === undefined || url.indexOf('data:') === 0) {
                                        url = context.url;
                                    }
                                    return url;
                                }
                                ;
                                PlaylistLoader.prototype.createInternalLoader = function createInternalLoader(context) {
                                    var config = this.hls.config;
                                    var PLoader = config.pLoader;
                                    var Loader = config.loader;
                                    var InternalLoader = PLoader || Loader;
                                    var loader = new InternalLoader(config);
                                    context.loader = loader;
                                    this.loaders[context.type] = loader;
                                    return loader;
                                }
                                ;
                                PlaylistLoader.prototype.getInternalLoader = function getInternalLoader(context) {
                                    return this.loaders[context.type];
                                }
                                ;
                                PlaylistLoader.prototype.resetInternalLoader = function resetInternalLoader(contextType) {
                                    if (this.loaders[contextType]) {
                                        delete this.loaders[contextType];
                                    }
                                }
                                ;
                                PlaylistLoader.prototype.destroyInternalLoaders = function destroyInternalLoaders() {
                                    for (var contextType in this.loaders) {
                                        var loader = this.loaders[contextType];
                                        if (loader) {
                                            loader.destroy();
                                        }
                                        this.resetInternalLoader(contextType);
                                    }
                                }
                                ;
                                PlaylistLoader.prototype.destroy = function destroy() {
                                    this.destroyInternalLoaders();
                                    _EventHandler.prototype.destroy.call(this);
                                }
                                ;
                                PlaylistLoader.prototype.onManifestLoading = function onManifestLoading(data) {
                                    this.load(data.url, {
                                        type: ContextType.MANIFEST,
                                        level: 0,
                                        id: null
                                    });
                                }
                                ;
                                PlaylistLoader.prototype.onLevelLoading = function onLevelLoading(data) {
                                    this.load(data.url, {
                                        type: ContextType.LEVEL,
                                        level: data.level,
                                        id: data.id
                                    });
                                }
                                ;
                                PlaylistLoader.prototype.onAudioTrackLoading = function onAudioTrackLoading(data) {
                                    this.load(data.url, {
                                        type: ContextType.AUDIO_TRACK,
                                        level: 0,
                                        id: data.id
                                    });
                                }
                                ;
                                PlaylistLoader.prototype.onSubtitleTrackLoading = function onSubtitleTrackLoading(data) {
                                    this.load(data.url, {
                                        type: ContextType.SUBTITLE_TRACK,
                                        level: 0,
                                        id: data.id
                                    });
                                }
                                ;
                                PlaylistLoader.prototype.load = function load(url, context) {
                                    var config = this.hls.config;
                                    logger["b"].debug('Loading playlist of type ' + context.type + ', level: ' + context.level + ', id: ' + context.id);
                                    var loader = this.getInternalLoader(context);
                                    if (loader) {
                                        var loaderContext = loader.context;
                                        if (loaderContext && loaderContext.url === url) {
                                            logger["b"].trace('playlist request ongoing');
                                            return false;
                                        } else {
                                            logger["b"].warn('aborting previous loader for type: ' + context.type);
                                            loader.abort();
                                        }
                                    }
                                    var maxRetry = void 0
                                        , timeout = void 0
                                        , retryDelay = void 0
                                        , maxRetryDelay = void 0;
                                    switch (context.type) {
                                        case ContextType.MANIFEST:
                                            maxRetry = config.manifestLoadingMaxRetry;
                                            timeout = config.manifestLoadingTimeOut;
                                            retryDelay = config.manifestLoadingRetryDelay;
                                            maxRetryDelay = config.manifestLoadingMaxRetryTimeout;
                                            break;
                                        case ContextType.LEVEL:
                                            maxRetry = 0;
                                            timeout = config.levelLoadingTimeOut;
                                            break;
                                        default:
                                            maxRetry = config.levelLoadingMaxRetry;
                                            timeout = config.levelLoadingTimeOut;
                                            retryDelay = config.levelLoadingRetryDelay;
                                            maxRetryDelay = config.levelLoadingMaxRetryTimeout;
                                            break;
                                    }
                                    loader = this.createInternalLoader(context);
                                    context.url = url;
                                    context.responseType = context.responseType || '';
                                    var loaderConfig = {
                                        timeout: timeout,
                                        maxRetry: maxRetry,
                                        retryDelay: retryDelay,
                                        maxRetryDelay: maxRetryDelay
                                    };
                                    var loaderCallbacks = {
                                        onSuccess: this.loadsuccess.bind(this),
                                        onError: this.loaderror.bind(this),
                                        onTimeout: this.loadtimeout.bind(this)
                                    };
                                    logger["b"].debug('Calling internal loader delegate for URL: ' + url);
                                    loader.load(context, loaderConfig, loaderCallbacks);
                                    return true;
                                }
                                ;
                                PlaylistLoader.prototype.loadsuccess = function loadsuccess(response, stats, context) {
                                    var networkDetails = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
                                    if (context.isSidxRequest) {
                                        this._handleSidxRequest(response, context);
                                        this._handlePlaylistLoaded(response, stats, context, networkDetails);
                                        return;
                                    }
                                    this.resetInternalLoader(context.type);
                                    var string = response.data;
                                    stats.tload = performance.now();
                                    if (string.indexOf('#EXTM3U') !== 0) {
                                        this._handleManifestParsingError(response, context, 'no EXTM3U delimiter', networkDetails);
                                        return;
                                    }
                                    if (string.indexOf('#EXTINF:') > 0 || string.indexOf('#EXT-X-TARGETDURATION:') > 0) {
                                        this._handleTrackOrLevelPlaylist(response, stats, context, networkDetails);
                                    } else {
                                        this._handleMasterPlaylist(response, stats, context, networkDetails);
                                    }
                                }
                                ;
                                PlaylistLoader.prototype.loaderror = function loaderror(response, context) {
                                    var networkDetails = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                                    this._handleNetworkError(context, networkDetails);
                                }
                                ;
                                PlaylistLoader.prototype.loadtimeout = function loadtimeout(stats, context) {
                                    var networkDetails = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                                    this._handleNetworkError(context, networkDetails, true);
                                }
                                ;
                                PlaylistLoader.prototype._handleMasterPlaylist = function _handleMasterPlaylist(response, stats, context, networkDetails) {
                                    var hls = this.hls;
                                    var string = response.data;
                                    var url = PlaylistLoader.getResponseUrl(response, context);
                                    var levels = m3u8_parser.parseMasterPlaylist(string, url);
                                    if (!levels.length) {
                                        this._handleManifestParsingError(response, context, 'no level found in manifest', networkDetails);
                                        return;
                                    }
                                    var audioGroups = levels.map(function(level) {
                                        return {
                                            id: level.attrs.AUDIO,
                                            codec: level.audioCodec
                                        };
                                    });
                                    var audioTracks = m3u8_parser.parseMasterPlaylistMedia(string, url, 'AUDIO', audioGroups);
                                    var subtitles = m3u8_parser.parseMasterPlaylistMedia(string, url, 'SUBTITLES');
                                    if (audioTracks.length) {
                                        var embeddedAudioFound = false;
                                        audioTracks.forEach(function(audioTrack) {
                                            if (!audioTrack.url) {
                                                embeddedAudioFound = true;
                                            }
                                        });
                                        if (embeddedAudioFound === false && levels[0].audioCodec && !levels[0].attrs.AUDIO) {
                                            logger["b"].log('audio codec signaled in quality level, but no embedded audio track signaled, create one');
                                            audioTracks.unshift({
                                                type: 'main',
                                                name: 'main'
                                            });
                                        }
                                    }
                                    hls.trigger(events["a"].MANIFEST_LOADED, {
                                        levels: levels,
                                        audioTracks: audioTracks,
                                        subtitles: subtitles,
                                        url: url,
                                        stats: stats,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                PlaylistLoader.prototype._handleTrackOrLevelPlaylist = function _handleTrackOrLevelPlaylist(response, stats, context, networkDetails) {
                                    var hls = this.hls;
                                    var id = context.id
                                        , level = context.level
                                        , type = context.type;
                                    var url = PlaylistLoader.getResponseUrl(response, context);
                                    var levelUrlId = isNaN(id) ? 0 : id;
                                    var levelId = isNaN(level) ? levelUrlId : level;
                                    var levelType = PlaylistLoader.mapContextToLevelType(context);
                                    var levelDetails = m3u8_parser.parseLevelPlaylist(response.data, url, levelId, levelType, levelUrlId);
                                    levelDetails.tload = stats.tload;
                                    if (type === ContextType.MANIFEST) {
                                        var singleLevel = {
                                            url: url,
                                            details: levelDetails
                                        };
                                        hls.trigger(events["a"].MANIFEST_LOADED, {
                                            levels: [singleLevel],
                                            audioTracks: [],
                                            url: url,
                                            stats: stats,
                                            networkDetails: networkDetails
                                        });
                                    }
                                    stats.tparsed = performance.now();
                                    if (levelDetails.needSidxRanges) {
                                        var sidxUrl = levelDetails.initSegment.url;
                                        this.load(sidxUrl, {
                                            isSidxRequest: true,
                                            type: type,
                                            level: level,
                                            levelDetails: levelDetails,
                                            id: id,
                                            rangeStart: 0,
                                            rangeEnd: 2048,
                                            responseType: 'arraybuffer'
                                        });
                                        return;
                                    }
                                    context.levelDetails = levelDetails;
                                    this._handlePlaylistLoaded(response, stats, context, networkDetails);
                                }
                                ;
                                PlaylistLoader.prototype._handleSidxRequest = function _handleSidxRequest(response, context) {
                                    var sidxInfo = mp4demuxer["a"].parseSegmentIndex(new Uint8Array(response.data));
                                    sidxInfo.references.forEach(function(segmentRef, index) {
                                        var segRefInfo = segmentRef.info;
                                        var frag = context.levelDetails.fragments[index];
                                        if (frag.byteRange.length === 0) {
                                            frag.rawByteRange = String(1 + segRefInfo.end - segRefInfo.start) + '@' + String(segRefInfo.start);
                                        }
                                    });
                                    context.levelDetails.initSegment.rawByteRange = String(sidxInfo.moovEndOffset) + '@0';
                                }
                                ;
                                PlaylistLoader.prototype._handleManifestParsingError = function _handleManifestParsingError(response, context, reason, networkDetails) {
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: errors["a"].MANIFEST_PARSING_ERROR,
                                        fatal: true,
                                        url: response.url,
                                        reason: reason,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                PlaylistLoader.prototype._handleNetworkError = function _handleNetworkError(context, networkDetails) {
                                    var timeout = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
                                    logger["b"].info('A network error occured while loading a ' + context.type + '-type playlist');
                                    var details = void 0;
                                    var fatal = void 0;
                                    var loader = this.getInternalLoader(context);
                                    switch (context.type) {
                                        case ContextType.MANIFEST:
                                            details = timeout ? errors["a"].MANIFEST_LOAD_TIMEOUT : errors["a"].MANIFEST_LOAD_ERROR;
                                            fatal = true;
                                            break;
                                        case ContextType.LEVEL:
                                            details = timeout ? errors["a"].LEVEL_LOAD_TIMEOUT : errors["a"].LEVEL_LOAD_ERROR;
                                            fatal = false;
                                            break;
                                        case ContextType.AUDIO_TRACK:
                                            details = timeout ? errors["a"].AUDIO_TRACK_LOAD_TIMEOUT : errors["a"].AUDIO_TRACK_LOAD_ERROR;
                                            fatal = false;
                                            break;
                                        default:
                                            fatal = false;
                                    }
                                    if (loader) {
                                        loader.abort();
                                        this.resetInternalLoader(context.type);
                                    }
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: details,
                                        fatal: fatal,
                                        url: loader.url,
                                        loader: loader,
                                        context: context,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                PlaylistLoader.prototype._handlePlaylistLoaded = function _handlePlaylistLoaded(response, stats, context, networkDetails) {
                                    var type = context.type
                                        , level = context.level
                                        , id = context.id
                                        , levelDetails = context.levelDetails;
                                    if (!levelDetails.targetduration) {
                                        this._handleManifestParsingError(response, context, 'invalid target duration', networkDetails);
                                        return;
                                    }
                                    var canHaveLevels = PlaylistLoader.canHaveQualityLevels(context.type);
                                    if (canHaveLevels) {
                                        this.hls.trigger(events["a"].LEVEL_LOADED, {
                                            details: levelDetails,
                                            level: level || 0,
                                            id: id || 0,
                                            stats: stats,
                                            networkDetails: networkDetails
                                        });
                                    } else {
                                        switch (type) {
                                            case ContextType.AUDIO_TRACK:
                                                this.hls.trigger(events["a"].AUDIO_TRACK_LOADED, {
                                                    details: levelDetails,
                                                    id: id,
                                                    stats: stats,
                                                    networkDetails: networkDetails
                                                });
                                                break;
                                            case ContextType.SUBTITLE_TRACK:
                                                this.hls.trigger(events["a"].SUBTITLE_TRACK_LOADED, {
                                                    details: levelDetails,
                                                    id: id,
                                                    stats: stats,
                                                    networkDetails: networkDetails
                                                });
                                                break;
                                        }
                                    }
                                }
                                ;
                                playlist_loader__createClass(PlaylistLoader, null, [{
                                    key: 'ContextType',
                                    get: function get() {
                                        return ContextType;
                                    }
                                }, {
                                    key: 'LevelType',
                                    get: function get() {
                                        return LevelType;
                                    }
                                }]);
                                return PlaylistLoader;
                            }(event_handler);
                            var playlist_loader = playlist_loader_PlaylistLoader;
                            function fragment_loader__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function fragment_loader__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function fragment_loader__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var fragment_loader_FragmentLoader = function(_EventHandler) {
                                fragment_loader__inherits(FragmentLoader, _EventHandler);
                                function FragmentLoader(hls) {
                                    fragment_loader__classCallCheck(this, FragmentLoader);
                                    var _this = fragment_loader__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].FRAG_LOADING));
                                    _this.loaders = {};
                                    return _this;
                                }
                                FragmentLoader.prototype.destroy = function destroy() {
                                    var loaders = this.loaders;
                                    for (var loaderName in loaders) {
                                        var loader = loaders[loaderName];
                                        if (loader) {
                                            loader.destroy();
                                        }
                                    }
                                    this.loaders = {};
                                    _EventHandler.prototype.destroy.call(this);
                                }
                                ;
                                FragmentLoader.prototype.onFragLoading = function onFragLoading(data) {
                                    var frag = data.frag
                                        , type = frag.type
                                        , loaders = this.loaders
                                        , config = this.hls.config
                                        , FragmentILoader = config.fLoader
                                        , DefaultILoader = config.loader;
                                    frag.loaded = 0;
                                    var loader = loaders[type];
                                    if (loader) {
                                        logger["b"].warn('abort previous fragment loader for type: ' + type);
                                        loader.abort();
                                    }
                                    loader = loaders[type] = frag.loader = config.fLoader ? new FragmentILoader(config) : new DefaultILoader(config);
                                    var loaderContext = void 0
                                        , loaderConfig = void 0
                                        , loaderCallbacks = void 0;
                                    loaderContext = {
                                        url: frag.url,
                                        frag: frag,
                                        responseType: 'arraybuffer',
                                        progressData: false
                                    };
                                    var start = frag.byteRangeStartOffset
                                        , end = frag.byteRangeEndOffset;
                                    if (!isNaN(start) && !isNaN(end)) {
                                        loaderContext.rangeStart = start;
                                        loaderContext.rangeEnd = end;
                                    }
                                    loaderConfig = {
                                        timeout: config.fragLoadingTimeOut,
                                        maxRetry: 0,
                                        retryDelay: 0,
                                        maxRetryDelay: config.fragLoadingMaxRetryTimeout
                                    };
                                    loaderCallbacks = {
                                        onSuccess: this.loadsuccess.bind(this),
                                        onError: this.loaderror.bind(this),
                                        onTimeout: this.loadtimeout.bind(this),
                                        onProgress: this.loadprogress.bind(this)
                                    };
                                    loader.load(loaderContext, loaderConfig, loaderCallbacks);
                                }
                                ;
                                FragmentLoader.prototype.loadsuccess = function loadsuccess(response, stats, context) {
                                    var networkDetails = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
                                    var payload = response.data
                                        , frag = context.frag;
                                    frag.loader = undefined;
                                    this.loaders[frag.type] = undefined;
                                    this.hls.trigger(events["a"].FRAG_LOADED, {
                                        payload: payload,
                                        frag: frag,
                                        stats: stats,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                FragmentLoader.prototype.loaderror = function loaderror(response, context) {
                                    var networkDetails = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                                    var loader = context.loader;
                                    if (loader) {
                                        loader.abort();
                                    }
                                    this.loaders[context.type] = undefined;
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: errors["a"].FRAG_LOAD_ERROR,
                                        fatal: false,
                                        frag: context.frag,
                                        response: response,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                FragmentLoader.prototype.loadtimeout = function loadtimeout(stats, context) {
                                    var networkDetails = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;
                                    var loader = context.loader;
                                    if (loader) {
                                        loader.abort();
                                    }
                                    this.loaders[context.type] = undefined;
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: errors["a"].FRAG_LOAD_TIMEOUT,
                                        fatal: false,
                                        frag: context.frag,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                FragmentLoader.prototype.loadprogress = function loadprogress(stats, context, data) {
                                    var networkDetails = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;
                                    var frag = context.frag;
                                    frag.loaded = stats.loaded;
                                    this.hls.trigger(events["a"].FRAG_LOAD_PROGRESS, {
                                        frag: frag,
                                        stats: stats,
                                        networkDetails: networkDetails
                                    });
                                }
                                ;
                                return FragmentLoader;
                            }(event_handler);
                            var fragment_loader = fragment_loader_FragmentLoader;
                            function key_loader__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function key_loader__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function key_loader__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var key_loader_KeyLoader = function(_EventHandler) {
                                key_loader__inherits(KeyLoader, _EventHandler);
                                function KeyLoader(hls) {
                                    key_loader__classCallCheck(this, KeyLoader);
                                    var _this = key_loader__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].KEY_LOADING));
                                    _this.loaders = {};
                                    _this.decryptkey = null;
                                    _this.decrypturl = null;
                                    return _this;
                                }
                                KeyLoader.prototype.destroy = function destroy() {
                                    for (var loaderName in this.loaders) {
                                        var loader = this.loaders[loaderName];
                                        if (loader) {
                                            loader.destroy();
                                        }
                                    }
                                    this.loaders = {};
                                    event_handler.prototype.destroy.call(this);
                                }
                                ;
                                KeyLoader.prototype.onKeyLoading = function onKeyLoading(data) {
                                    var frag = data.frag
                                        , type = frag.type
                                        , loader = this.loaders[type]
                                        , decryptdata = frag.decryptdata
                                        , uri = decryptdata.uri;
                                    if (uri !== this.decrypturl || this.decryptkey === null) {
                                        var config = this.hls.config;
                                        if (loader) {
                                            logger["b"].warn('abort previous key loader for type:' + type);
                                            loader.abort();
                                        }
                                        frag.loader = this.loaders[type] = new config.loader(config);
                                        this.decrypturl = uri;
                                        this.decryptkey = null;
                                        var loaderContext = void 0
                                            , loaderConfig = void 0
                                            , loaderCallbacks = void 0;
                                        loaderContext = {
                                            url: uri,
                                            frag: frag,
                                            responseType: 'arraybuffer'
                                        };
                                        loaderConfig = {
                                            timeout: config.fragLoadingTimeOut,
                                            maxRetry: config.fragLoadingMaxRetry,
                                            retryDelay: config.fragLoadingRetryDelay,
                                            maxRetryDelay: config.fragLoadingMaxRetryTimeout
                                        };
                                        loaderCallbacks = {
                                            onSuccess: this.loadsuccess.bind(this),
                                            onError: this.loaderror.bind(this),
                                            onTimeout: this.loadtimeout.bind(this)
                                        };
                                        frag.loader.load(loaderContext, loaderConfig, loaderCallbacks);
                                    } else if (this.decryptkey) {
                                        decryptdata.key = this.decryptkey;
                                        this.hls.trigger(events["a"].KEY_LOADED, {
                                            frag: frag
                                        });
                                    }
                                }
                                ;
                                KeyLoader.prototype.loadsuccess = function loadsuccess(response, stats, context) {
                                    var frag = context.frag;
                                    this.decryptkey = frag.decryptdata.key = new Uint8Array(response.data);
                                    frag.loader = undefined;
                                    this.loaders[frag.type] = undefined;
                                    this.hls.trigger(events["a"].KEY_LOADED, {
                                        frag: frag
                                    });
                                }
                                ;
                                KeyLoader.prototype.loaderror = function loaderror(response, context) {
                                    var frag = context.frag
                                        , loader = frag.loader;
                                    if (loader) {
                                        loader.abort();
                                    }
                                    this.loaders[context.type] = undefined;
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: errors["a"].KEY_LOAD_ERROR,
                                        fatal: false,
                                        frag: frag,
                                        response: response
                                    });
                                }
                                ;
                                KeyLoader.prototype.loadtimeout = function loadtimeout(stats, context) {
                                    var frag = context.frag
                                        , loader = frag.loader;
                                    if (loader) {
                                        loader.abort();
                                    }
                                    this.loaders[context.type] = undefined;
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].NETWORK_ERROR,
                                        details: errors["a"].KEY_LOAD_TIMEOUT,
                                        fatal: false,
                                        frag: frag
                                    });
                                }
                                ;
                                return KeyLoader;
                            }(event_handler);
                            var key_loader = key_loader_KeyLoader;
                            function fragment_tracker__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function fragment_tracker__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function fragment_tracker__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var FragmentState = {
                                NOT_LOADED: 'NOT_LOADED',
                                APPENDING: 'APPENDING',
                                PARTIAL: 'PARTIAL',
                                OK: 'OK'
                            };
                            var fragment_tracker_FragmentTracker = function(_EventHandler) {
                                fragment_tracker__inherits(FragmentTracker, _EventHandler);
                                function FragmentTracker(hls) {
                                    fragment_tracker__classCallCheck(this, FragmentTracker);
                                    var _this = fragment_tracker__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].BUFFER_APPENDED, events["a"].FRAG_BUFFERED, events["a"].FRAG_LOADED));
                                    _this.bufferPadding = 0.2;
                                    _this.fragments = Object.create(null);
                                    _this.timeRanges = Object.create(null);
                                    _this.config = hls.config;
                                    return _this;
                                }
                                FragmentTracker.prototype.destroy = function destroy() {
                                    this.fragments = null;
                                    this.timeRanges = null;
                                    this.config = null;
                                    event_handler.prototype.destroy.call(this);
                                    _EventHandler.prototype.destroy.call(this);
                                }
                                ;
                                FragmentTracker.prototype.getBufferedFrag = function getBufferedFrag(position, levelType) {
                                    var fragments = this.fragments;
                                    var bufferedFrags = Object.keys(fragments).filter(function(key) {
                                        var fragmentEntity = fragments[key];
                                        if (fragmentEntity.body.type !== levelType) {
                                            return false;
                                        }
                                        if (!fragmentEntity.buffered) {
                                            return false;
                                        }
                                        var frag = fragmentEntity.body;
                                        return frag.startPTS <= position && position <= frag.endPTS;
                                    });
                                    if (bufferedFrags.length === 0) {
                                        return null;
                                    } else {
                                        var bufferedFragKey = bufferedFrags.pop();
                                        return fragments[bufferedFragKey].body;
                                    }
                                }
                                ;
                                FragmentTracker.prototype.detectEvictedFragments = function detectEvictedFragments(elementaryStream, timeRange) {
                                    var _this2 = this;
                                    var fragmentTimes = void 0
                                        , time = void 0;
                                    Object.keys(this.fragments).forEach(function(key) {
                                        var fragmentEntity = _this2.fragments[key];
                                        if (fragmentEntity.buffered === true) {
                                            var esData = fragmentEntity.range[elementaryStream];
                                            if (esData) {
                                                fragmentTimes = esData.time;
                                                for (var i = 0; i < fragmentTimes.length; i++) {
                                                    time = fragmentTimes[i];
                                                    if (_this2.isTimeBuffered(time.startPTS, time.endPTS, timeRange) === false) {
                                                        _this2.removeFragment(fragmentEntity.body);
                                                        break;
                                                    }
                                                }
                                            }
                                        }
                                    });
                                }
                                ;
                                FragmentTracker.prototype.detectPartialFragments = function detectPartialFragments(fragment) {
                                    var _this3 = this;
                                    var fragKey = this.getFragmentKey(fragment);
                                    var fragmentEntity = this.fragments[fragKey];
                                    if (fragmentEntity) {
                                        fragmentEntity.buffered = true;
                                        Object.keys(this.timeRanges).forEach(function(elementaryStream) {
                                            if (fragment.hasElementaryStream(elementaryStream) === true) {
                                                var timeRange = _this3.timeRanges[elementaryStream];
                                                fragmentEntity.range[elementaryStream] = _this3.getBufferedTimes(fragment.startPTS, fragment.endPTS, timeRange);
                                            }
                                        });
                                    }
                                }
                                ;
                                FragmentTracker.prototype.getBufferedTimes = function getBufferedTimes(startPTS, endPTS, timeRange) {
                                    var fragmentTimes = [];
                                    var startTime = void 0
                                        , endTime = void 0;
                                    var fragmentPartial = false;
                                    for (var i = 0; i < timeRange.length; i++) {
                                        startTime = timeRange.start(i) - this.bufferPadding;
                                        endTime = timeRange.end(i) + this.bufferPadding;
                                        if (startPTS >= startTime && endPTS <= endTime) {
                                            fragmentTimes.push({
                                                startPTS: Math.max(startPTS, timeRange.start(i)),
                                                endPTS: Math.min(endPTS, timeRange.end(i))
                                            });
                                            break;
                                        } else if (startPTS < endTime && endPTS > startTime) {
                                            fragmentTimes.push({
                                                startPTS: Math.max(startPTS, timeRange.start(i)),
                                                endPTS: Math.min(endPTS, timeRange.end(i))
                                            });
                                            fragmentPartial = true;
                                        } else if (endPTS <= startTime) {
                                            break;
                                        }
                                    }
                                    return {
                                        time: fragmentTimes,
                                        partial: fragmentPartial
                                    };
                                }
                                ;
                                FragmentTracker.prototype.getFragmentKey = function getFragmentKey(fragment) {
                                    return fragment.type + '_' + fragment.level + '_' + fragment.urlId + '_' + fragment.sn;
                                }
                                ;
                                FragmentTracker.prototype.getPartialFragment = function getPartialFragment(time) {
                                    var _this4 = this;
                                    var timePadding = void 0
                                        , startTime = void 0
                                        , endTime = void 0;
                                    var bestFragment = null;
                                    var bestOverlap = 0;
                                    Object.keys(this.fragments).forEach(function(key) {
                                        var fragmentEntity = _this4.fragments[key];
                                        if (_this4.isPartial(fragmentEntity)) {
                                            startTime = fragmentEntity.body.startPTS - _this4.bufferPadding;
                                            endTime = fragmentEntity.body.endPTS + _this4.bufferPadding;
                                            if (time >= startTime && time <= endTime) {
                                                timePadding = Math.min(time - startTime, endTime - time);
                                                if (bestOverlap <= timePadding) {
                                                    bestFragment = fragmentEntity.body;
                                                    bestOverlap = timePadding;
                                                }
                                            }
                                        }
                                    });
                                    return bestFragment;
                                }
                                ;
                                FragmentTracker.prototype.getState = function getState(fragment) {
                                    var fragKey = this.getFragmentKey(fragment);
                                    var fragmentEntity = this.fragments[fragKey];
                                    var state = FragmentState.NOT_LOADED;
                                    if (fragmentEntity !== undefined) {
                                        if (!fragmentEntity.buffered) {
                                            state = FragmentState.APPENDING;
                                        } else if (this.isPartial(fragmentEntity) === true) {
                                            state = FragmentState.PARTIAL;
                                        } else {
                                            state = FragmentState.OK;
                                        }
                                    }
                                    return state;
                                }
                                ;
                                FragmentTracker.prototype.isPartial = function isPartial(fragmentEntity) {
                                    return fragmentEntity.buffered === true && (fragmentEntity.range.video !== undefined && fragmentEntity.range.video.partial === true || fragmentEntity.range.audio !== undefined && fragmentEntity.range.audio.partial === true);
                                }
                                ;
                                FragmentTracker.prototype.isTimeBuffered = function isTimeBuffered(startPTS, endPTS, timeRange) {
                                    var startTime = void 0
                                        , endTime = void 0;
                                    for (var i = 0; i < timeRange.length; i++) {
                                        startTime = timeRange.start(i) - this.bufferPadding;
                                        endTime = timeRange.end(i) + this.bufferPadding;
                                        if (startPTS >= startTime && endPTS <= endTime) {
                                            return true;
                                        }
                                        if (endPTS <= startTime) {
                                            return false;
                                        }
                                    }
                                    return false;
                                }
                                ;
                                FragmentTracker.prototype.onFragLoaded = function onFragLoaded(e) {
                                    var fragment = e.frag;
                                    if (!isNaN(fragment.sn) && !fragment.bitrateTest) {
                                        var fragKey = this.getFragmentKey(fragment);
                                        var fragmentEntity = {
                                            body: fragment,
                                            range: Object.create(null),
                                            buffered: false
                                        };
                                        this.fragments[fragKey] = fragmentEntity;
                                    }
                                }
                                ;
                                FragmentTracker.prototype.onBufferAppended = function onBufferAppended(e) {
                                    var _this5 = this;
                                    this.timeRanges = e.timeRanges;
                                    Object.keys(this.timeRanges).forEach(function(elementaryStream) {
                                        var timeRange = _this5.timeRanges[elementaryStream];
                                        _this5.detectEvictedFragments(elementaryStream, timeRange);
                                    });
                                }
                                ;
                                FragmentTracker.prototype.onFragBuffered = function onFragBuffered(e) {
                                    this.detectPartialFragments(e.frag);
                                }
                                ;
                                FragmentTracker.prototype.hasFragment = function hasFragment(fragment) {
                                    var fragKey = this.getFragmentKey(fragment);
                                    return this.fragments[fragKey] !== undefined;
                                }
                                ;
                                FragmentTracker.prototype.removeFragment = function removeFragment(fragment) {
                                    var fragKey = this.getFragmentKey(fragment);
                                    delete this.fragments[fragKey];
                                }
                                ;
                                FragmentTracker.prototype.removeAllFragments = function removeAllFragments() {
                                    this.fragments = Object.create(null);
                                }
                                ;
                                return FragmentTracker;
                            }(event_handler);
                            var BinarySearch = {
                                search: function search(list, comparisonFunction) {
                                    var minIndex = 0;
                                    var maxIndex = list.length - 1;
                                    var currentIndex = null;
                                    var currentElement = null;
                                    while (minIndex <= maxIndex) {
                                        currentIndex = (minIndex + maxIndex) / 2 | 0;
                                        currentElement = list[currentIndex];
                                        var comparisonResult = comparisonFunction(currentElement);
                                        if (comparisonResult > 0) {
                                            minIndex = currentIndex + 1;
                                        } else if (comparisonResult < 0) {
                                            maxIndex = currentIndex - 1;
                                        } else {
                                            return currentElement;
                                        }
                                    }
                                    return null;
                                }
                            };
                            var binary_search = BinarySearch;
                            function buffer_helper__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var BufferHelper = function() {
                                function BufferHelper() {
                                    buffer_helper__classCallCheck(this, BufferHelper);
                                }
                                BufferHelper.isBuffered = function isBuffered(media, position) {
                                    try {
                                        if (media) {
                                            var buffered = media.buffered;
                                            for (var i = 0; i < buffered.length; i++) {
                                                if (position >= buffered.start(i) && position <= buffered.end(i)) {
                                                    return true;
                                                }
                                            }
                                        }
                                    } catch (error) {}
                                    return false;
                                }
                                ;
                                BufferHelper.bufferInfo = function bufferInfo(media, pos, maxHoleDuration) {
                                    try {
                                        if (media) {
                                            var vbuffered = media.buffered
                                                , buffered = []
                                                , i = void 0;
                                            for (i = 0; i < vbuffered.length; i++) {
                                                buffered.push({
                                                    start: vbuffered.start(i),
                                                    end: vbuffered.end(i)
                                                });
                                            }
                                            return this.bufferedInfo(buffered, pos, maxHoleDuration);
                                        }
                                    } catch (error) {}
                                    return {
                                        len: 0,
                                        start: pos,
                                        end: pos,
                                        nextStart: undefined
                                    };
                                }
                                ;
                                BufferHelper.bufferedInfo = function bufferedInfo(buffered, pos, maxHoleDuration) {
                                    var buffered2 = []
                                        , bufferLen = void 0
                                        , bufferStart = void 0
                                        , bufferEnd = void 0
                                        , bufferStartNext = void 0
                                        , i = void 0;
                                    buffered.sort(function(a, b) {
                                        var diff = a.start - b.start;
                                        if (diff) {
                                            return diff;
                                        } else {
                                            return b.end - a.end;
                                        }
                                    });
                                    for (i = 0; i < buffered.length; i++) {
                                        var buf2len = buffered2.length;
                                        if (buf2len) {
                                            var buf2end = buffered2[buf2len - 1].end;
                                            if (buffered[i].start - buf2end < maxHoleDuration) {
                                                if (buffered[i].end > buf2end) {
                                                    buffered2[buf2len - 1].end = buffered[i].end;
                                                }
                                            } else {
                                                buffered2.push(buffered[i]);
                                            }
                                        } else {
                                            buffered2.push(buffered[i]);
                                        }
                                    }
                                    for (i = 0,
                                             bufferLen = 0,
                                             bufferStart = bufferEnd = pos; i < buffered2.length; i++) {
                                        var start = buffered2[i].start
                                            , end = buffered2[i].end;
                                        if (pos + maxHoleDuration >= start && pos < end) {
                                            bufferStart = start;
                                            bufferEnd = end;
                                            bufferLen = bufferEnd - pos;
                                        } else if (pos + maxHoleDuration < start) {
                                            bufferStartNext = start;
                                            break;
                                        }
                                    }
                                    return {
                                        len: bufferLen,
                                        start: bufferStart,
                                        end: bufferEnd,
                                        nextStart: bufferStartNext
                                    };
                                }
                                ;
                                return BufferHelper;
                            }();
                            var events_events = __webpack_require__(6);
                            var events_default = __webpack_require__.n(events_events);
                            var webworkify_webpack = __webpack_require__(11);
                            var webworkify_webpack_default = __webpack_require__.n(webworkify_webpack);
                            var demuxer_inline = __webpack_require__(9);
                            function getMediaSource() {
                                if (typeof window !== 'undefined') {
                                    return window.MediaSource || window.WebKitMediaSource;
                                }
                            }
                            var get_self_scope = __webpack_require__(4);
                            function demuxer__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var global = Object(get_self_scope["a"])();
                            var MediaSource = getMediaSource();
                            var demuxer_Demuxer = function() {
                                function Demuxer(hls, id) {
                                    demuxer__classCallCheck(this, Demuxer);
                                    this.hls = hls;
                                    this.id = id;
                                    var observer = this.observer = new events_default.a();
                                    var config = hls.config;
                                    observer.trigger = function trigger(event) {
                                        for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                            data[_key - 1] = arguments[_key];
                                        }
                                        observer.emit.apply(observer, [event, event].concat(data));
                                    }
                                    ;
                                    observer.off = function off(event) {
                                        for (var _len2 = arguments.length, data = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                                            data[_key2 - 1] = arguments[_key2];
                                        }
                                        observer.removeListener.apply(observer, [event].concat(data));
                                    }
                                    ;
                                    var forwardMessage = function(ev, data) {
                                        data = data || {};
                                        data.frag = this.frag;
                                        data.id = this.id;
                                        hls.trigger(ev, data);
                                    }
                                        .bind(this);
                                    observer.on(events["a"].FRAG_DECRYPTED, forwardMessage);
                                    observer.on(events["a"].FRAG_PARSING_INIT_SEGMENT, forwardMessage);
                                    observer.on(events["a"].FRAG_PARSING_DATA, forwardMessage);
                                    observer.on(events["a"].FRAG_PARSED, forwardMessage);
                                    observer.on(events["a"].ERROR, forwardMessage);
                                    observer.on(events["a"].FRAG_PARSING_METADATA, forwardMessage);
                                    observer.on(events["a"].FRAG_PARSING_USERDATA, forwardMessage);
                                    observer.on(events["a"].INIT_PTS_FOUND, forwardMessage);
                                    var typeSupported = {
                                        mp4: MediaSource.isTypeSupported('video/mp4'),
                                        mpeg: MediaSource.isTypeSupported('audio/mpeg'),
                                        mp3: MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')
                                    };
                                    var vendor = navigator.vendor;
                                    if (config.enableWorker && typeof Worker !== 'undefined') {
                                        logger["b"].log('demuxing in webworker');
                                        var w = void 0;
                                        try {
                                            w = this.w = webworkify_webpack_default()(12);
                                            this.onwmsg = this.onWorkerMessage.bind(this);
                                            w.addEventListener('message', this.onwmsg);
                                            w.onerror = function(event) {
                                                hls.trigger(events["a"].ERROR, {
                                                    type: errors["b"].OTHER_ERROR,
                                                    details: errors["a"].INTERNAL_EXCEPTION,
                                                    fatal: true,
                                                    event: 'demuxerWorker',
                                                    err: {
                                                        message: event.message + ' (' + event.filename + ':' + event.lineno + ')'
                                                    }
                                                });
                                            }
                                            ;
                                            w.postMessage({
                                                cmd: 'init',
                                                typeSupported: typeSupported,
                                                vendor: vendor,
                                                id: id,
                                                config: JSON.stringify(config)
                                            });
                                        } catch (err) {
                                            logger["b"].error('error while initializing DemuxerWorker, fallback on DemuxerInline');
                                            if (w) {
                                                global.URL.revokeObjectURL(w.objectURL);
                                            }
                                            this.demuxer = new demuxer_inline["a"](observer,typeSupported,config,vendor);
                                            this.w = undefined;
                                        }
                                    } else {
                                        this.demuxer = new demuxer_inline["a"](observer,typeSupported,config,vendor);
                                    }
                                }
                                Demuxer.prototype.destroy = function destroy() {
                                    var w = this.w;
                                    if (w) {
                                        w.removeEventListener('message', this.onwmsg);
                                        w.terminate();
                                        this.w = null;
                                    } else {
                                        var demuxer = this.demuxer;
                                        if (demuxer) {
                                            demuxer.destroy();
                                            this.demuxer = null;
                                        }
                                    }
                                    var observer = this.observer;
                                    if (observer) {
                                        observer.removeAllListeners();
                                        this.observer = null;
                                    }
                                }
                                ;
                                Demuxer.prototype.push = function push(data, initSegment, audioCodec, videoCodec, frag, duration, accurateTimeOffset, defaultInitPTS) {
                                    var w = this.w;
                                    var timeOffset = !isNaN(frag.startDTS) ? frag.startDTS : frag.start;
                                    var decryptdata = frag.decryptdata;
                                    var lastFrag = this.frag;
                                    var discontinuity = !(lastFrag && frag.cc === lastFrag.cc);
                                    var trackSwitch = !(lastFrag && frag.level === lastFrag.level);
                                    var nextSN = lastFrag && frag.sn === lastFrag.sn + 1;
                                    var contiguous = !trackSwitch && nextSN;
                                    if (discontinuity) {
                                        logger["b"].log(this.id + ':discontinuity detected');
                                    }
                                    if (trackSwitch) {
                                        logger["b"].log(this.id + ':switch detected');
                                    }
                                    this.frag = frag;
                                    if (w) {
                                        w.postMessage({
                                            cmd: 'demux',
                                            data: data,
                                            decryptdata: decryptdata,
                                            initSegment: initSegment,
                                            audioCodec: audioCodec,
                                            videoCodec: videoCodec,
                                            timeOffset: timeOffset,
                                            discontinuity: discontinuity,
                                            trackSwitch: trackSwitch,
                                            contiguous: contiguous,
                                            duration: duration,
                                            accurateTimeOffset: accurateTimeOffset,
                                            defaultInitPTS: defaultInitPTS
                                        }, data instanceof ArrayBuffer ? [data] : []);
                                    } else {
                                        var demuxer = this.demuxer;
                                        if (demuxer) {
                                            demuxer.push(data, decryptdata, initSegment, audioCodec, videoCodec, timeOffset, discontinuity, trackSwitch, contiguous, duration, accurateTimeOffset, defaultInitPTS);
                                        }
                                    }
                                }
                                ;
                                Demuxer.prototype.onWorkerMessage = function onWorkerMessage(ev) {
                                    var data = ev.data
                                        , hls = this.hls;
                                    switch (data.event) {
                                        case 'init':
                                            global.URL.revokeObjectURL(this.w.objectURL);
                                            break;
                                        case events["a"].FRAG_PARSING_DATA:
                                            data.data.data1 = new Uint8Array(data.data1);
                                            if (data.data2) {
                                                data.data.data2 = new Uint8Array(data.data2);
                                            }
                                        default:
                                            data.data = data.data || {};
                                            data.data.frag = this.frag;
                                            data.data.id = this.id;
                                            hls.trigger(data.event, data.data);
                                            break;
                                    }
                                }
                                ;
                                return Demuxer;
                            }();
                            var demux_demuxer = demuxer_Demuxer;
                            function addGroupId(level, type, id) {
                                switch (type) {
                                    case 'audio':
                                        if (!level.audioGroupIds) {
                                            level.audioGroupIds = [];
                                        }
                                        level.audioGroupIds.push(id);
                                        break;
                                    case 'text':
                                        if (!level.textGroupIds) {
                                            level.textGroupIds = [];
                                        }
                                        level.textGroupIds.push(id);
                                        break;
                                }
                            }
                            function updatePTS(fragments, fromIdx, toIdx) {
                                var fragFrom = fragments[fromIdx]
                                    , fragTo = fragments[toIdx]
                                    , fragToPTS = fragTo.startPTS;
                                if (!isNaN(fragToPTS)) {
                                    if (toIdx > fromIdx) {
                                        fragFrom.duration = fragToPTS - fragFrom.start;
                                        if (fragFrom.duration < 0) {
                                            logger["b"].warn('negative duration computed for frag ' + fragFrom.sn + ',level ' + fragFrom.level + ', there should be some duration drift between playlist and fragment!');
                                        }
                                    } else {
                                        fragTo.duration = fragFrom.start - fragToPTS;
                                        if (fragTo.duration < 0) {
                                            logger["b"].warn('negative duration computed for frag ' + fragTo.sn + ',level ' + fragTo.level + ', there should be some duration drift between playlist and fragment!');
                                        }
                                    }
                                } else {
                                    if (toIdx > fromIdx) {
                                        fragTo.start = fragFrom.start + fragFrom.duration;
                                    } else {
                                        fragTo.start = Math.max(fragFrom.start - fragTo.duration, 0);
                                    }
                                }
                            }
                            function updateFragPTSDTS(details, frag, startPTS, endPTS, startDTS, endDTS) {
                                var maxStartPTS = startPTS;
                                if (!isNaN(frag.startPTS)) {
                                    var deltaPTS = Math.abs(frag.startPTS - startPTS);
                                    if (isNaN(frag.deltaPTS)) {
                                        frag.deltaPTS = deltaPTS;
                                    } else {
                                        frag.deltaPTS = Math.max(deltaPTS, frag.deltaPTS);
                                    }
                                    maxStartPTS = Math.max(startPTS, frag.startPTS);
                                    startPTS = Math.min(startPTS, frag.startPTS);
                                    endPTS = Math.max(endPTS, frag.endPTS);
                                    startDTS = Math.min(startDTS, frag.startDTS);
                                    endDTS = Math.max(endDTS, frag.endDTS);
                                }
                                var drift = startPTS - frag.start;
                                frag.start = frag.startPTS = startPTS;
                                frag.maxStartPTS = maxStartPTS;
                                frag.endPTS = endPTS;
                                frag.startDTS = startDTS;
                                frag.endDTS = endDTS;
                                frag.duration = endPTS - startPTS;
                                var sn = frag.sn;
                                if (!details || sn < details.startSN || sn > details.endSN) {
                                    return 0;
                                }
                                var fragIdx = void 0
                                    , fragments = void 0
                                    , i = void 0;
                                fragIdx = sn - details.startSN;
                                fragments = details.fragments;
                                fragments[fragIdx] = frag;
                                for (i = fragIdx; i > 0; i--) {
                                    updatePTS(fragments, i, i - 1);
                                }
                                for (i = fragIdx; i < fragments.length - 1; i++) {
                                    updatePTS(fragments, i, i + 1);
                                }
                                details.PTSKnown = true;
                                return drift;
                            }
                            function mergeDetails(oldDetails, newDetails) {
                                var start = Math.max(oldDetails.startSN, newDetails.startSN) - newDetails.startSN
                                    , end = Math.min(oldDetails.endSN, newDetails.endSN) - newDetails.startSN
                                    , delta = newDetails.startSN - oldDetails.startSN
                                    , oldfragments = oldDetails.fragments
                                    , newfragments = newDetails.fragments
                                    , ccOffset = 0
                                    , PTSFrag = void 0;
                                if (newDetails.initSegment && oldDetails.initSegment) {
                                    newDetails.initSegment = oldDetails.initSegment;
                                }
                                if (end < start) {
                                    newDetails.PTSKnown = false;
                                    return;
                                }
                                for (var i = start; i <= end; i++) {
                                    var oldFrag = oldfragments[delta + i]
                                        , newFrag = newfragments[i];
                                    if (newFrag && oldFrag) {
                                        ccOffset = oldFrag.cc - newFrag.cc;
                                        if (!isNaN(oldFrag.startPTS)) {
                                            newFrag.start = newFrag.startPTS = oldFrag.startPTS;
                                            newFrag.endPTS = oldFrag.endPTS;
                                            newFrag.duration = oldFrag.duration;
                                            newFrag.backtracked = oldFrag.backtracked;
                                            newFrag.dropped = oldFrag.dropped;
                                            PTSFrag = newFrag;
                                        }
                                    }
                                }
                                if (ccOffset) {
                                    logger["b"].log('discontinuity sliding from playlist, take drift into account');
                                    for (i = 0; i < newfragments.length; i++) {
                                        newfragments[i].cc += ccOffset;
                                    }
                                }
                                if (PTSFrag) {
                                    updateFragPTSDTS(newDetails, PTSFrag, PTSFrag.startPTS, PTSFrag.endPTS, PTSFrag.startDTS, PTSFrag.endDTS);
                                } else {
                                    if (delta >= 0 && delta < oldfragments.length) {
                                        var sliding = oldfragments[delta].start;
                                        for (i = 0; i < newfragments.length; i++) {
                                            newfragments[i].start += sliding;
                                        }
                                    }
                                }
                                newDetails.PTSKnown = oldDetails.PTSKnown;
                            }
                            var TimeRanges = {
                                toString: function toString(r) {
                                    var log = ''
                                        , len = r.length;
                                    for (var i = 0; i < len; i++) {
                                        log += '[' + r.start(i).toFixed(3) + ',' + r.end(i).toFixed(3) + ']';
                                    }
                                    return log;
                                }
                            };
                            var time_ranges = TimeRanges;
                            function findFirstFragWithCC(fragments, cc) {
                                var firstFrag = null;
                                for (var i = 0; i < fragments.length; i += 1) {
                                    var currentFrag = fragments[i];
                                    if (currentFrag && currentFrag.cc === cc) {
                                        firstFrag = currentFrag;
                                        break;
                                    }
                                }
                                return firstFrag;
                            }
                            function findFragWithCC(fragments, CC) {
                                return binary_search.search(fragments, function(candidate) {
                                    if (candidate.cc < CC) {
                                        return 1;
                                    } else if (candidate.cc > CC) {
                                        return -1;
                                    } else {
                                        return 0;
                                    }
                                });
                            }
                            function shouldAlignOnDiscontinuities(lastFrag, lastLevel, details) {
                                var shouldAlign = false;
                                if (lastLevel && lastLevel.details && details) {
                                    if (details.endCC > details.startCC || lastFrag && lastFrag.cc < details.startCC) {
                                        shouldAlign = true;
                                    }
                                }
                                return shouldAlign;
                            }
                            function findDiscontinuousReferenceFrag(prevDetails, curDetails) {
                                var prevFrags = prevDetails.fragments;
                                var curFrags = curDetails.fragments;
                                if (!curFrags.length || !prevFrags.length) {
                                    logger["b"].log('No fragments to align');
                                    return;
                                }
                                var prevStartFrag = findFirstFragWithCC(prevFrags, curFrags[0].cc);
                                if (!prevStartFrag || prevStartFrag && !prevStartFrag.startPTS) {
                                    logger["b"].log('No frag in previous level to align on');
                                    return;
                                }
                                return prevStartFrag;
                            }
                            function adjustPts(sliding, details) {
                                details.fragments.forEach(function(frag) {
                                    if (frag) {
                                        var start = frag.start + sliding;
                                        frag.start = frag.startPTS = start;
                                        frag.endPTS = start + frag.duration;
                                    }
                                });
                                details.PTSKnown = true;
                            }
                            function alignDiscontinuities(lastFrag, lastLevel, details) {
                                if (shouldAlignOnDiscontinuities(lastFrag, lastLevel, details)) {
                                    var referenceFrag = findDiscontinuousReferenceFrag(lastLevel.details, details);
                                    if (referenceFrag) {
                                        logger["b"].log('Adjusting PTS using last level due to CC increase within current level');
                                        adjustPts(referenceFrag.start, details);
                                    }
                                }
                                if (details.PTSKnown === false && lastLevel && lastLevel.details && lastLevel.details.fragments && lastLevel.details.fragments.length) {
                                    var lastPDT = lastLevel.details.programDateTime;
                                    var newPDT = details.programDateTime;
                                    var sliding = (newPDT - lastPDT) / 1000 + lastLevel.details.fragments[0].start;
                                    if (!isNaN(sliding)) {
                                        logger["b"].log('adjusting PTS using programDateTime delta, sliding:' + sliding.toFixed(3));
                                        adjustPts(sliding, details);
                                    }
                                }
                            }
                            function task_loop__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function task_loop__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function task_loop__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var TaskLoop = function(_EventHandler) {
                                task_loop__inherits(TaskLoop, _EventHandler);
                                function TaskLoop(hls) {
                                    task_loop__classCallCheck(this, TaskLoop);
                                    for (var _len = arguments.length, events = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                        events[_key - 1] = arguments[_key];
                                    }
                                    var _this = task_loop__possibleConstructorReturn(this, _EventHandler.call.apply(_EventHandler, [this, hls].concat(events)));
                                    _this._tickInterval = null;
                                    _this._tickTimer = null;
                                    _this._tickCallCount = 0;
                                    _this._boundTick = _this.tick.bind(_this);
                                    return _this;
                                }
                                TaskLoop.prototype.onHandlerDestroying = function onHandlerDestroying() {
                                    this.clearNextTick();
                                    this.clearInterval();
                                }
                                ;
                                TaskLoop.prototype.hasInterval = function hasInterval() {
                                    return !!this._tickInterval;
                                }
                                ;
                                TaskLoop.prototype.hasNextTick = function hasNextTick() {
                                    return !!this._tickTimer;
                                }
                                ;
                                TaskLoop.prototype.setInterval = function(_setInterval) {
                                    function setInterval(_x) {
                                        return _setInterval.apply(this, arguments);
                                    }
                                    setInterval.toString = function() {
                                        return _setInterval.toString();
                                    }
                                    ;
                                    return setInterval;
                                }(function(millis) {
                                    if (!this._tickInterval) {
                                        this._tickInterval = setInterval(this._boundTick, millis);
                                        return true;
                                    }
                                    return false;
                                });
                                TaskLoop.prototype.clearInterval = function(_clearInterval) {
                                    function clearInterval() {
                                        return _clearInterval.apply(this, arguments);
                                    }
                                    clearInterval.toString = function() {
                                        return _clearInterval.toString();
                                    }
                                    ;
                                    return clearInterval;
                                }(function() {
                                    if (this._tickInterval) {
                                        clearInterval(this._tickInterval);
                                        this._tickInterval = null;
                                        return true;
                                    }
                                    return false;
                                });
                                TaskLoop.prototype.clearNextTick = function clearNextTick() {
                                    if (this._tickTimer) {
                                        clearTimeout(this._tickTimer);
                                        this._tickTimer = null;
                                        return true;
                                    }
                                    return false;
                                }
                                ;
                                TaskLoop.prototype.tick = function tick() {
                                    this._tickCallCount++;
                                    if (this._tickCallCount === 1) {
                                        this.doTick();
                                        if (this._tickCallCount > 1) {
                                            this.clearNextTick();
                                            this._tickTimer = setTimeout(this._boundTick, 0);
                                        }
                                        this._tickCallCount = 0;
                                    }
                                }
                                ;
                                TaskLoop.prototype.doTick = function doTick() {}
                                ;
                                return TaskLoop;
                            }(event_handler);
                            var task_loop = TaskLoop;
                            function calculateNextPDT() {
                                var start = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                                var bufferEnd = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                                var levelDetails = arguments[2];
                                var pdt = 0;
                                if (levelDetails.programDateTime) {
                                    var parsedDateInt = Date.parse(levelDetails.programDateTime);
                                    if (!isNaN(parsedDateInt)) {
                                        pdt = bufferEnd * 1000 + parsedDateInt - 1000 * start;
                                    }
                                }
                                return pdt;
                            }
                            function findFragmentByPDT(fragments) {
                                var PDTValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;
                                if (!Array.isArray(fragments) || !fragments.length || PDTValue === null) {
                                    return null;
                                }
                                var firstSegment = fragments[0];
                                if (PDTValue < firstSegment.pdt) {
                                    return null;
                                }
                                var lastSegment = fragments[fragments.length - 1];
                                if (PDTValue >= lastSegment.endPdt) {
                                    return null;
                                }
                                for (var seg = 0; seg < fragments.length; ++seg) {
                                    var frag = fragments[seg];
                                    if (PDTValue < frag.endPdt) {
                                        return frag;
                                    }
                                }
                                return null;
                            }
                            function findFragmentBySN(fragPrevious, fragments) {
                                var bufferEnd = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
                                var end = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
                                var maxFragLookUpTolerance = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 0;
                                var foundFrag = void 0;
                                var fragNext = fragPrevious ? fragments[fragPrevious.sn - fragments[0].sn + 1] : null;
                                if (bufferEnd < end) {
                                    if (bufferEnd > end - maxFragLookUpTolerance) {
                                        maxFragLookUpTolerance = 0;
                                    }
                                    if (fragNext && !fragmentWithinToleranceTest(bufferEnd, maxFragLookUpTolerance, fragNext)) {
                                        foundFrag = fragNext;
                                    } else {
                                        foundFrag = binary_search.search(fragments, fragmentWithinToleranceTest.bind(null, bufferEnd, maxFragLookUpTolerance));
                                    }
                                }
                                return foundFrag;
                            }
                            function fragmentWithinToleranceTest() {
                                var bufferEnd = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;
                                var maxFragLookUpTolerance = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;
                                var candidate = arguments[2];
                                var candidateLookupTolerance = Math.min(maxFragLookUpTolerance, candidate.duration + (candidate.deltaPTS ? candidate.deltaPTS : 0));
                                if (candidate.start + candidate.duration - candidateLookupTolerance <= bufferEnd) {
                                    return 1;
                                } else if (candidate.start - candidateLookupTolerance > bufferEnd && candidate.start) {
                                    return -1;
                                }
                                return 0;
                            }
                            var stream_controller__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function stream_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function stream_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function stream_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var State = {
                                STOPPED: 'STOPPED',
                                IDLE: 'IDLE',
                                KEY_LOADING: 'KEY_LOADING',
                                FRAG_LOADING: 'FRAG_LOADING',
                                FRAG_LOADING_WAITING_RETRY: 'FRAG_LOADING_WAITING_RETRY',
                                WAITING_LEVEL: 'WAITING_LEVEL',
                                PARSING: 'PARSING',
                                PARSED: 'PARSED',
                                BUFFER_FLUSHING: 'BUFFER_FLUSHING',
                                ENDED: 'ENDED',
                                ERROR: 'ERROR'
                            };
                            var stream_controller_StreamController = function(_TaskLoop) {
                                stream_controller__inherits(StreamController, _TaskLoop);
                                function StreamController(hls, fragmentTracker) {
                                    stream_controller__classCallCheck(this, StreamController);
                                    var _this = stream_controller__possibleConstructorReturn(this, _TaskLoop.call(this, hls, events["a"].MEDIA_ATTACHED, events["a"].MEDIA_DETACHING, events["a"].MANIFEST_LOADING, events["a"].MANIFEST_PARSED, events["a"].LEVEL_LOADED, events["a"].KEY_LOADED, events["a"].FRAG_LOADED, events["a"].FRAG_LOAD_EMERGENCY_ABORTED, events["a"].FRAG_PARSING_INIT_SEGMENT, events["a"].FRAG_PARSING_DATA, events["a"].FRAG_PARSED, events["a"].ERROR, events["a"].AUDIO_TRACK_SWITCHING, events["a"].AUDIO_TRACK_SWITCHED, events["a"].BUFFER_CREATED, events["a"].BUFFER_APPENDED, events["a"].BUFFER_FLUSHED));
                                    _this.fragmentTracker = fragmentTracker;
                                    _this.config = hls.config;
                                    _this.audioCodecSwap = false;
                                    _this._state = State.STOPPED;
                                    _this.stallReported = false;
                                    return _this;
                                }
                                StreamController.prototype.onHandlerDestroying = function onHandlerDestroying() {
                                    this.stopLoad();
                                    _TaskLoop.prototype.onHandlerDestroying.call(this);
                                }
                                ;
                                StreamController.prototype.onHandlerDestroyed = function onHandlerDestroyed() {
                                    this.state = State.STOPPED;
                                    this.fragmentTracker = null;
                                    _TaskLoop.prototype.onHandlerDestroyed.call(this);
                                }
                                ;
                                StreamController.prototype.startLoad = function startLoad(startPosition) {
                                    if (this.levels) {
                                        var lastCurrentTime = this.lastCurrentTime
                                            , hls = this.hls;
                                        this.stopLoad();
                                        this.setInterval(100);
                                        this.level = -1;
                                        this.fragLoadError = 0;
                                        if (!this.startFragRequested) {
                                            var startLevel = hls.startLevel;
                                            if (startLevel === -1) {
                                                startLevel = 0;
                                                this.bitrateTest = true;
                                            }
                                            this.level = hls.nextLoadLevel = startLevel;
                                            this.loadedmetadata = false;
                                        }
                                        if (lastCurrentTime > 0 && startPosition === -1) {
                                            logger["b"].log('override startPosition with lastCurrentTime @' + lastCurrentTime.toFixed(3));
                                            startPosition = lastCurrentTime;
                                        }
                                        this.state = State.IDLE;
                                        this.nextLoadPosition = this.startPosition = this.lastCurrentTime = startPosition;
                                        this.tick();
                                    } else {
                                        this.forceStartLoad = true;
                                        this.state = State.STOPPED;
                                    }
                                }
                                ;
                                StreamController.prototype.stopLoad = function stopLoad() {
                                    var frag = this.fragCurrent;
                                    if (frag) {
                                        if (frag.loader) {
                                            frag.loader.abort();
                                        }
                                        this.fragmentTracker.removeFragment(frag);
                                        this.fragCurrent = null;
                                    }
                                    this.fragPrevious = null;
                                    if (this.demuxer) {
                                        this.demuxer.destroy();
                                        this.demuxer = null;
                                    }
                                    this.clearInterval();
                                    this.state = State.STOPPED;
                                    this.forceStartLoad = false;
                                }
                                ;
                                StreamController.prototype.doTick = function doTick() {
                                    switch (this.state) {
                                        case State.BUFFER_FLUSHING:
                                            this.fragLoadError = 0;
                                            break;
                                        case State.IDLE:
                                            this._doTickIdle();
                                            break;
                                        case State.WAITING_LEVEL:
                                            var level = this.levels[this.level];
                                            if (level && level.details) {
                                                this.state = State.IDLE;
                                            }
                                            break;
                                        case State.FRAG_LOADING_WAITING_RETRY:
                                            var now = window.performance.now();
                                            var retryDate = this.retryDate;
                                            if (!retryDate || now >= retryDate || this.media && this.media.seeking) {
                                                logger["b"].log('mediaController: retryDate reached, switch back to IDLE state');
                                                this.state = State.IDLE;
                                            }
                                            break;
                                        case State.ERROR:
                                        case State.STOPPED:
                                        case State.FRAG_LOADING:
                                        case State.PARSING:
                                        case State.PARSED:
                                        case State.ENDED:
                                            break;
                                        default:
                                            break;
                                    }
                                    this._checkBuffer();
                                    this._checkFragmentChanged();
                                }
                                ;
                                StreamController.prototype._doTickIdle = function _doTickIdle() {
                                    var hls = this.hls
                                        , config = hls.config
                                        , media = this.media;
                                    if (this.levelLastLoaded === undefined || !media && (this.startFragRequested || !config.startFragPrefetch)) {
                                        return;
                                    }
                                    var pos = void 0;
                                    if (this.loadedmetadata) {
                                        pos = media.currentTime;
                                    } else {
                                        pos = this.nextLoadPosition;
                                    }
                                    var level = hls.nextLoadLevel
                                        , levelInfo = this.levels[level];
                                    if (!levelInfo) {
                                        return;
                                    }
                                    var levelBitrate = levelInfo.bitrate
                                        , maxBufLen = void 0;
                                    if (levelBitrate) {
                                        maxBufLen = Math.max(8 * config.maxBufferSize / levelBitrate, config.maxBufferLength);
                                    } else {
                                        maxBufLen = config.maxBufferLength;
                                    }
                                    maxBufLen = Math.min(maxBufLen, config.maxMaxBufferLength);
                                    var bufferInfo = BufferHelper.bufferInfo(this.mediaBuffer ? this.mediaBuffer : media, pos, config.maxBufferHole)
                                        , bufferLen = bufferInfo.len;
                                    if (bufferLen >= maxBufLen) {
                                        return;
                                    }
                                    logger["b"].trace('buffer length of ' + bufferLen.toFixed(3) + ' is below max of ' + maxBufLen.toFixed(3) + '. checking for more payload ...');
                                    this.level = hls.nextLoadLevel = level;
                                    var levelDetails = levelInfo.details;
                                    if (!levelDetails || levelDetails.live && this.levelLastLoaded !== level) {
                                        this.state = State.WAITING_LEVEL;
                                        return;
                                    }
                                    var fragPrevious = this.fragPrevious;
                                    if (!levelDetails.live && fragPrevious && !fragPrevious.backtracked && fragPrevious.sn === levelDetails.endSN && !bufferInfo.nextStart) {
                                        var duration = Math.min(media.duration, fragPrevious.start + fragPrevious.duration);
                                        if (duration - Math.max(bufferInfo.end, fragPrevious.start) <= Math.max(0.2, fragPrevious.duration)) {
                                            var data = {};
                                            if (this.altAudio) {
                                                data.type = 'video';
                                            }
                                            this.hls.trigger(events["a"].BUFFER_EOS, data);
                                            this.state = State.ENDED;
                                            return;
                                        }
                                    }
                                    this._fetchPayloadOrEos(pos, bufferInfo, levelDetails);
                                }
                                ;
                                StreamController.prototype._fetchPayloadOrEos = function _fetchPayloadOrEos(pos, bufferInfo, levelDetails) {
                                    var fragPrevious = this.fragPrevious
                                        , level = this.level
                                        , fragments = levelDetails.fragments
                                        , fragLen = fragments.length;
                                    if (fragLen === 0) {
                                        return;
                                    }
                                    var start = fragments[0].start
                                        , end = fragments[fragLen - 1].start + fragments[fragLen - 1].duration
                                        , bufferEnd = bufferInfo.end
                                        , frag = void 0;
                                    if (levelDetails.initSegment && !levelDetails.initSegment.data) {
                                        frag = levelDetails.initSegment;
                                    } else {
                                        if (levelDetails.live) {
                                            var initialLiveManifestSize = this.config.initialLiveManifestSize;
                                            if (fragLen < initialLiveManifestSize) {
                                                logger["b"].warn('Can not start playback of a level, reason: not enough fragments ' + fragLen + ' < ' + initialLiveManifestSize);
                                                return;
                                            }
                                            frag = this._ensureFragmentAtLivePoint(levelDetails, bufferEnd, start, end, fragPrevious, fragments, fragLen);
                                            if (frag === null) {
                                                return;
                                            }
                                        } else {
                                            if (bufferEnd < start) {
                                                frag = fragments[0];
                                            }
                                        }
                                    }
                                    if (!frag) {
                                        frag = this._findFragment(start, fragPrevious, fragLen, fragments, bufferEnd, end, levelDetails);
                                    }
                                    if (frag) {
                                        if (frag.encrypted) {
                                            logger["b"].log('Loading key for ' + frag.sn + ' of [' + levelDetails.startSN + ' ,' + levelDetails.endSN + '],level ' + level);
                                            this._loadKey(frag);
                                        } else {
                                            logger["b"].log('Loading ' + frag.sn + ' of [' + levelDetails.startSN + ' ,' + levelDetails.endSN + '],level ' + level + ', currentTime:' + pos.toFixed(3) + ',bufferEnd:' + bufferEnd.toFixed(3));
                                            this._loadFragment(frag);
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype._ensureFragmentAtLivePoint = function _ensureFragmentAtLivePoint(levelDetails, bufferEnd, start, end, fragPrevious, fragments, fragLen) {
                                    var config = this.hls.config
                                        , media = this.media;
                                    var frag = void 0;
                                    var maxLatency = config.liveMaxLatencyDuration !== undefined ? config.liveMaxLatencyDuration : config.liveMaxLatencyDurationCount * levelDetails.targetduration;
                                    if (bufferEnd < Math.max(start - config.maxFragLookUpTolerance, end - maxLatency)) {
                                        var liveSyncPosition = this.liveSyncPosition = this.computeLivePosition(start, levelDetails);
                                        logger["b"].log('buffer end: ' + bufferEnd.toFixed(3) + ' is located too far from the end of live sliding playlist, reset currentTime to : ' + liveSyncPosition.toFixed(3));
                                        bufferEnd = liveSyncPosition;
                                        if (media && media.readyState && media.duration > liveSyncPosition) {
                                            media.currentTime = liveSyncPosition;
                                        }
                                        this.nextLoadPosition = liveSyncPosition;
                                    }
                                    if (levelDetails.PTSKnown && bufferEnd > end && media && media.readyState) {
                                        return null;
                                    }
                                    if (this.startFragRequested && !levelDetails.PTSKnown) {
                                        if (fragPrevious) {
                                            if (!levelDetails.programDateTime) {
                                                var targetSN = fragPrevious.sn + 1;
                                                if (targetSN >= levelDetails.startSN && targetSN <= levelDetails.endSN) {
                                                    var fragNext = fragments[targetSN - levelDetails.startSN];
                                                    if (fragPrevious.cc === fragNext.cc) {
                                                        frag = fragNext;
                                                        logger["b"].log('live playlist, switching playlist, load frag with next SN: ' + frag.sn);
                                                    }
                                                }
                                                if (!frag) {
                                                    frag = binary_search.search(fragments, function(frag) {
                                                        return fragPrevious.cc - frag.cc;
                                                    });
                                                    if (frag) {
                                                        logger["b"].log('live playlist, switching playlist, load frag with same CC: ' + frag.sn);
                                                    }
                                                }
                                            } else {
                                                frag = findFragmentByPDT(fragments, fragPrevious.endPdt + 1);
                                            }
                                        }
                                        if (!frag) {
                                            frag = fragments[Math.min(fragLen - 1, Math.round(fragLen / 2))];
                                            logger["b"].log('live playlist, switching playlist, unknown, load middle frag : ' + frag.sn);
                                        }
                                    }
                                    return frag;
                                }
                                ;
                                StreamController.prototype._findFragment = function _findFragment(start, fragPrevious, fragLen, fragments, bufferEnd, end, levelDetails) {
                                    var config = this.hls.config;
                                    var fragBySN = function fragBySN() {
                                        return findFragmentBySN(fragPrevious, fragments, bufferEnd, end, config.maxFragLookUpTolerance);
                                    };
                                    var frag = void 0;
                                    var foundFrag = void 0;
                                    if (bufferEnd < end) {
                                        if (!levelDetails.programDateTime) {
                                            foundFrag = findFragmentBySN(fragPrevious, fragments, bufferEnd, end, config.maxFragLookUpTolerance);
                                        } else {
                                            foundFrag = findFragmentByPDT(fragments, calculateNextPDT(start, bufferEnd, levelDetails));
                                            if (!foundFrag || fragmentWithinToleranceTest(bufferEnd, config.maxFragLookUpTolerance, foundFrag)) {
                                                logger["b"].warn('Frag found by PDT search did not fit within tolerance; falling back to finding by SN');
                                                foundFrag = fragBySN();
                                            }
                                        }
                                    } else {
                                        foundFrag = fragments[fragLen - 1];
                                    }
                                    if (foundFrag) {
                                        frag = foundFrag;
                                        var curSNIdx = frag.sn - levelDetails.startSN;
                                        var sameLevel = fragPrevious && frag.level === fragPrevious.level;
                                        var prevFrag = fragments[curSNIdx - 1];
                                        var nextFrag = fragments[curSNIdx + 1];
                                        if (fragPrevious && frag.sn === fragPrevious.sn) {
                                            if (sameLevel && !frag.backtracked) {
                                                if (frag.sn < levelDetails.endSN) {
                                                    var deltaPTS = fragPrevious.deltaPTS;
                                                    if (deltaPTS && deltaPTS > config.maxBufferHole && fragPrevious.dropped && curSNIdx) {
                                                        frag = prevFrag;
                                                        logger["b"].warn('SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this');
                                                    } else {
                                                        frag = nextFrag;
                                                        logger["b"].log('SN just loaded, load next one: ' + frag.sn);
                                                    }
                                                } else {
                                                    frag = null;
                                                }
                                            } else if (frag.backtracked) {
                                                if (nextFrag && nextFrag.backtracked) {
                                                    logger["b"].warn('Already backtracked from fragment ' + nextFrag.sn + ', will not backtrack to fragment ' + frag.sn + '. Loading fragment ' + nextFrag.sn);
                                                    frag = nextFrag;
                                                } else {
                                                    logger["b"].warn('Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe');
                                                    frag.dropped = 0;
                                                    if (prevFrag) {
                                                        frag = prevFrag;
                                                        frag.backtracked = true;
                                                    } else if (curSNIdx) {
                                                        frag = null;
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    return frag;
                                }
                                ;
                                StreamController.prototype._loadKey = function _loadKey(frag) {
                                    this.state = State.KEY_LOADING;
                                    this.hls.trigger(events["a"].KEY_LOADING, {
                                        frag: frag
                                    });
                                }
                                ;
                                StreamController.prototype._loadFragment = function _loadFragment(frag) {
                                    var fragState = this.fragmentTracker.getState(frag);
                                    this.fragCurrent = frag;
                                    this.startFragRequested = true;
                                    if (!isNaN(frag.sn) && !frag.bitrateTest) {
                                        this.nextLoadPosition = frag.start + frag.duration;
                                    }
                                    if (frag.backtracked || fragState === FragmentState.NOT_LOADED || fragState === FragmentState.PARTIAL) {
                                        frag.autoLevel = this.hls.autoLevelEnabled;
                                        frag.bitrateTest = this.bitrateTest;
                                        this.hls.trigger(events["a"].FRAG_LOADING, {
                                            frag: frag
                                        });
                                        if (!this.demuxer) {
                                            this.demuxer = new demux_demuxer(this.hls,'main');
                                        }
                                        this.state = State.FRAG_LOADING;
                                    } else if (fragState === FragmentState.APPENDING) {
                                        if (this._reduceMaxBufferLength(frag.duration)) {
                                            this.fragmentTracker.removeFragment(frag);
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype.getBufferedFrag = function getBufferedFrag(position) {
                                    return this.fragmentTracker.getBufferedFrag(position, playlist_loader.LevelType.MAIN);
                                }
                                ;
                                StreamController.prototype.followingBufferedFrag = function followingBufferedFrag(frag) {
                                    if (frag) {
                                        return this.getBufferedFrag(frag.endPTS + 0.5);
                                    }
                                    return null;
                                }
                                ;
                                StreamController.prototype._checkFragmentChanged = function _checkFragmentChanged() {
                                    var fragPlayingCurrent = void 0
                                        , currentTime = void 0
                                        , video = this.media;
                                    if (video && video.readyState && video.seeking === false) {
                                        currentTime = video.currentTime;
                                        if (currentTime > this.lastCurrentTime) {
                                            this.lastCurrentTime = currentTime;
                                        }
                                        if (BufferHelper.isBuffered(video, currentTime)) {
                                            fragPlayingCurrent = this.getBufferedFrag(currentTime);
                                        } else if (BufferHelper.isBuffered(video, currentTime + 0.1)) {
                                            fragPlayingCurrent = this.getBufferedFrag(currentTime + 0.1);
                                        }
                                        if (fragPlayingCurrent) {
                                            var fragPlaying = fragPlayingCurrent;
                                            if (fragPlaying !== this.fragPlaying) {
                                                this.hls.trigger(events["a"].FRAG_CHANGED, {
                                                    frag: fragPlaying
                                                });
                                                var fragPlayingLevel = fragPlaying.level;
                                                if (!this.fragPlaying || this.fragPlaying.level !== fragPlayingLevel) {
                                                    this.hls.trigger(events["a"].LEVEL_SWITCHED, {
                                                        level: fragPlayingLevel
                                                    });
                                                }
                                                this.fragPlaying = fragPlaying;
                                            }
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype.immediateLevelSwitch = function immediateLevelSwitch() {
                                    logger["b"].log('immediateLevelSwitch');
                                    if (!this.immediateSwitch) {
                                        this.immediateSwitch = true;
                                        var media = this.media
                                            , previouslyPaused = void 0;
                                        if (media) {
                                            previouslyPaused = media.paused;
                                            media.pause();
                                        } else {
                                            previouslyPaused = true;
                                        }
                                        this.previouslyPaused = previouslyPaused;
                                    }
                                    var fragCurrent = this.fragCurrent;
                                    if (fragCurrent && fragCurrent.loader) {
                                        fragCurrent.loader.abort();
                                    }
                                    this.fragCurrent = null;
                                    this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
                                }
                                ;
                                StreamController.prototype.immediateLevelSwitchEnd = function immediateLevelSwitchEnd() {
                                    var media = this.media;
                                    if (media && media.buffered.length) {
                                        this.immediateSwitch = false;
                                        if (BufferHelper.isBuffered(media, media.currentTime)) {
                                            media.currentTime -= 0.0001;
                                        }
                                        if (!this.previouslyPaused) {
                                            media.play();
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype.nextLevelSwitch = function nextLevelSwitch() {
                                    var media = this.media;
                                    if (media && media.readyState) {
                                        var fetchdelay = void 0
                                            , fragPlayingCurrent = void 0
                                            , nextBufferedFrag = void 0;
                                        fragPlayingCurrent = this.getBufferedFrag(media.currentTime);
                                        if (fragPlayingCurrent && fragPlayingCurrent.startPTS > 1) {
                                            this.flushMainBuffer(0, fragPlayingCurrent.startPTS - 1);
                                        }
                                        if (!media.paused) {
                                            var nextLevelId = this.hls.nextLoadLevel
                                                , nextLevel = this.levels[nextLevelId]
                                                , fragLastKbps = this.fragLastKbps;
                                            if (fragLastKbps && this.fragCurrent) {
                                                fetchdelay = this.fragCurrent.duration * nextLevel.bitrate / (1000 * fragLastKbps) + 1;
                                            } else {
                                                fetchdelay = 0;
                                            }
                                        } else {
                                            fetchdelay = 0;
                                        }
                                        nextBufferedFrag = this.getBufferedFrag(media.currentTime + fetchdelay);
                                        if (nextBufferedFrag) {
                                            nextBufferedFrag = this.followingBufferedFrag(nextBufferedFrag);
                                            if (nextBufferedFrag) {
                                                var fragCurrent = this.fragCurrent;
                                                if (fragCurrent && fragCurrent.loader) {
                                                    fragCurrent.loader.abort();
                                                }
                                                this.fragCurrent = null;
                                                this.flushMainBuffer(nextBufferedFrag.maxStartPTS, Number.POSITIVE_INFINITY);
                                            }
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype.flushMainBuffer = function flushMainBuffer(startOffset, endOffset) {
                                    this.state = State.BUFFER_FLUSHING;
                                    var flushScope = {
                                        startOffset: startOffset,
                                        endOffset: endOffset
                                    };
                                    if (this.altAudio) {
                                        flushScope.type = 'video';
                                    }
                                    this.hls.trigger(events["a"].BUFFER_FLUSHING, flushScope);
                                }
                                ;
                                StreamController.prototype.onMediaAttached = function onMediaAttached(data) {
                                    var media = this.media = this.mediaBuffer = data.media;
                                    this.onvseeking = this.onMediaSeeking.bind(this);
                                    this.onvseeked = this.onMediaSeeked.bind(this);
                                    this.onvended = this.onMediaEnded.bind(this);
                                    media.addEventListener('seeking', this.onvseeking);
                                    media.addEventListener('seeked', this.onvseeked);
                                    media.addEventListener('ended', this.onvended);
                                    var config = this.config;
                                    if (this.levels && config.autoStartLoad) {
                                        this.hls.startLoad(config.startPosition);
                                    }
                                }
                                ;
                                StreamController.prototype.onMediaDetaching = function onMediaDetaching() {
                                    var media = this.media;
                                    if (media && media.ended) {
                                        logger["b"].log('MSE detaching and video ended, reset startPosition');
                                        this.startPosition = this.lastCurrentTime = 0;
                                    }
                                    var levels = this.levels;
                                    if (levels) {
                                        levels.forEach(function(level) {
                                            if (level.details) {
                                                level.details.fragments.forEach(function(fragment) {
                                                    fragment.backtracked = undefined;
                                                });
                                            }
                                        });
                                    }
                                    if (media) {
                                        media.removeEventListener('seeking', this.onvseeking);
                                        media.removeEventListener('seeked', this.onvseeked);
                                        media.removeEventListener('ended', this.onvended);
                                        this.onvseeking = this.onvseeked = this.onvended = null;
                                    }
                                    this.media = this.mediaBuffer = null;
                                    this.loadedmetadata = false;
                                    this.stopLoad();
                                }
                                ;
                                StreamController.prototype.onMediaSeeking = function onMediaSeeking() {
                                    var media = this.media
                                        , currentTime = media ? media.currentTime : undefined
                                        , config = this.config;
                                    if (!isNaN(currentTime)) {
                                        logger["b"].log('media seeking to ' + currentTime.toFixed(3));
                                    }
                                    var mediaBuffer = this.mediaBuffer ? this.mediaBuffer : media;
                                    var bufferInfo = BufferHelper.bufferInfo(mediaBuffer, currentTime, this.config.maxBufferHole);
                                    if (this.state === State.FRAG_LOADING) {
                                        var fragCurrent = this.fragCurrent;
                                        if (bufferInfo.len === 0 && fragCurrent) {
                                            var tolerance = config.maxFragLookUpTolerance
                                                , fragStartOffset = fragCurrent.start - tolerance
                                                , fragEndOffset = fragCurrent.start + fragCurrent.duration + tolerance;
                                            if (currentTime < fragStartOffset || currentTime > fragEndOffset) {
                                                if (fragCurrent.loader) {
                                                    logger["b"].log('seeking outside of buffer while fragment load in progress, cancel fragment load');
                                                    fragCurrent.loader.abort();
                                                }
                                                this.fragCurrent = null;
                                                this.fragPrevious = null;
                                                this.state = State.IDLE;
                                            } else {
                                                logger["b"].log('seeking outside of buffer but within currently loaded fragment range');
                                            }
                                        }
                                    } else if (this.state === State.ENDED) {
                                        if (bufferInfo.len === 0) {
                                            this.fragPrevious = 0;
                                        }
                                        this.state = State.IDLE;
                                    }
                                    if (media) {
                                        this.lastCurrentTime = currentTime;
                                    }
                                    if (!this.loadedmetadata) {
                                        this.nextLoadPosition = this.startPosition = currentTime;
                                    }
                                    this.tick();
                                }
                                ;
                                StreamController.prototype.onMediaSeeked = function onMediaSeeked() {
                                    var media = this.media
                                        , currentTime = media ? media.currentTime : undefined;
                                    if (!isNaN(currentTime)) {
                                        logger["b"].log('media seeked to ' + currentTime.toFixed(3));
                                    }
                                    this.tick();
                                }
                                ;
                                StreamController.prototype.onMediaEnded = function onMediaEnded() {
                                    logger["b"].log('media ended');
                                    this.startPosition = this.lastCurrentTime = 0;
                                }
                                ;
                                StreamController.prototype.onManifestLoading = function onManifestLoading() {
                                    logger["b"].log('trigger BUFFER_RESET');
                                    this.hls.trigger(events["a"].BUFFER_RESET);
                                    this.fragmentTracker.removeAllFragments();
                                    this.stalled = false;
                                    this.startPosition = this.lastCurrentTime = 0;
                                }
                                ;
                                StreamController.prototype.onManifestParsed = function onManifestParsed(data) {
                                    var aac = false
                                        , heaac = false
                                        , codec = void 0;
                                    data.levels.forEach(function(level) {
                                        codec = level.audioCodec;
                                        if (codec) {
                                            if (codec.indexOf('mp4a.40.2') !== -1) {
                                                aac = true;
                                            }
                                            if (codec.indexOf('mp4a.40.5') !== -1) {
                                                heaac = true;
                                            }
                                        }
                                    });
                                    this.audioCodecSwitch = aac && heaac;
                                    if (this.audioCodecSwitch) {
                                        logger["b"].log('both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC');
                                    }
                                    this.levels = data.levels;
                                    this.startFragRequested = false;
                                    var config = this.config;
                                    if (config.autoStartLoad || this.forceStartLoad) {
                                        this.hls.startLoad(config.startPosition);
                                    }
                                }
                                ;
                                StreamController.prototype.onLevelLoaded = function onLevelLoaded(data) {
                                    var newDetails = data.details;
                                    var newLevelId = data.level;
                                    var lastLevel = this.levels[this.levelLastLoaded];
                                    var curLevel = this.levels[newLevelId];
                                    var duration = newDetails.totalduration;
                                    var sliding = 0;
                                    logger["b"].log('level ' + newLevelId + ' loaded [' + newDetails.startSN + ',' + newDetails.endSN + '],duration:' + duration);
                                    if (newDetails.live) {
                                        var curDetails = curLevel.details;
                                        if (curDetails && newDetails.fragments.length > 0) {
                                            mergeDetails(curDetails, newDetails);
                                            sliding = newDetails.fragments[0].start;
                                            this.liveSyncPosition = this.computeLivePosition(sliding, curDetails);
                                            if (newDetails.PTSKnown && !isNaN(sliding)) {
                                                logger["b"].log('live playlist sliding:' + sliding.toFixed(3));
                                            } else {
                                                logger["b"].log('live playlist - outdated PTS, unknown sliding');
                                                alignDiscontinuities(this.fragPrevious, lastLevel, newDetails);
                                            }
                                        } else {
                                            logger["b"].log('live playlist - first load, unknown sliding');
                                            newDetails.PTSKnown = false;
                                            alignDiscontinuities(this.fragPrevious, lastLevel, newDetails);
                                        }
                                    } else {
                                        newDetails.PTSKnown = false;
                                    }
                                    curLevel.details = newDetails;
                                    this.levelLastLoaded = newLevelId;
                                    this.hls.trigger(events["a"].LEVEL_UPDATED, {
                                        details: newDetails,
                                        level: newLevelId
                                    });
                                    if (this.startFragRequested === false) {
                                        if (this.startPosition === -1 || this.lastCurrentTime === -1) {
                                            var startTimeOffset = newDetails.startTimeOffset;
                                            if (!isNaN(startTimeOffset)) {
                                                if (startTimeOffset < 0) {
                                                    logger["b"].log('negative start time offset ' + startTimeOffset + ', count from end of last fragment');
                                                    startTimeOffset = sliding + duration + startTimeOffset;
                                                }
                                                logger["b"].log('start time offset found in playlist, adjust startPosition to ' + startTimeOffset);
                                                this.startPosition = startTimeOffset;
                                            } else {
                                                if (newDetails.live) {
                                                    this.startPosition = this.computeLivePosition(sliding, newDetails);
                                                    logger["b"].log('configure startPosition to ' + this.startPosition);
                                                } else {
                                                    this.startPosition = 0;
                                                }
                                            }
                                            this.lastCurrentTime = this.startPosition;
                                        }
                                        this.nextLoadPosition = this.startPosition;
                                    }
                                    if (this.state === State.WAITING_LEVEL) {
                                        this.state = State.IDLE;
                                    }
                                    this.tick();
                                }
                                ;
                                StreamController.prototype.onKeyLoaded = function onKeyLoaded() {
                                    if (this.state === State.KEY_LOADING) {
                                        this.state = State.IDLE;
                                        this.tick();
                                    }
                                }
                                ;
                                StreamController.prototype.onFragLoaded = function onFragLoaded(data) {
                                    var fragCurrent = this.fragCurrent
                                        , fragLoaded = data.frag;
                                    if (this.state === State.FRAG_LOADING && fragCurrent && fragLoaded.type === 'main' && fragLoaded.level === fragCurrent.level && fragLoaded.sn === fragCurrent.sn) {
                                        var stats = data.stats;
                                        var currentLevel = this.levels[fragCurrent.level];
                                        var details = currentLevel.details;
                                        logger["b"].log('Loaded  ' + fragCurrent.sn + ' of [' + details.startSN + ' ,' + details.endSN + '],level ' + fragCurrent.level);
                                        this.bitrateTest = false;
                                        this.stats = stats;
                                        if (fragLoaded.bitrateTest === true && this.hls.nextLoadLevel) {
                                            this.state = State.IDLE;
                                            this.startFragRequested = false;
                                            stats.tparsed = stats.tbuffered = window.performance.now();
                                            this.hls.trigger(events["a"].FRAG_BUFFERED, {
                                                stats: stats,
                                                frag: fragCurrent,
                                                id: 'main'
                                            });
                                            this.tick();
                                        } else if (fragLoaded.sn === 'initSegment') {
                                            this.state = State.IDLE;
                                            stats.tparsed = stats.tbuffered = window.performance.now();
                                            details.initSegment.data = data.payload;
                                            this.hls.trigger(events["a"].FRAG_BUFFERED, {
                                                stats: stats,
                                                frag: fragCurrent,
                                                id: 'main'
                                            });
                                            this.tick();
                                        } else {
                                            this.state = State.PARSING;
                                            var duration = details.totalduration
                                                , level = fragCurrent.level
                                                , sn = fragCurrent.sn
                                                , audioCodec = this.config.defaultAudioCodec || currentLevel.audioCodec;
                                            if (this.audioCodecSwap) {
                                                logger["b"].log('swapping playlist audio codec');
                                                if (audioCodec === undefined) {
                                                    audioCodec = this.lastAudioCodec;
                                                }
                                                if (audioCodec) {
                                                    if (audioCodec.indexOf('mp4a.40.5') !== -1) {
                                                        audioCodec = 'mp4a.40.2';
                                                    } else {
                                                        audioCodec = 'mp4a.40.5';
                                                    }
                                                }
                                            }
                                            this.pendingBuffering = true;
                                            this.appended = false;
                                            logger["b"].log('Parsing ' + sn + ' of [' + details.startSN + ' ,' + details.endSN + '],level ' + level + ', cc ' + fragCurrent.cc);
                                            var demuxer = this.demuxer;
                                            if (!demuxer) {
                                                demuxer = this.demuxer = new demux_demuxer(this.hls,'main');
                                            }
                                            var media = this.media;
                                            var mediaSeeking = media && media.seeking;
                                            var accurateTimeOffset = !mediaSeeking && (details.PTSKnown || !details.live);
                                            var initSegmentData = details.initSegment ? details.initSegment.data : [];
                                            demuxer.push(data.payload, initSegmentData, audioCodec, currentLevel.videoCodec, fragCurrent, duration, accurateTimeOffset, undefined);
                                        }
                                    }
                                    this.fragLoadError = 0;
                                }
                                ;
                                StreamController.prototype.onFragParsingInitSegment = function onFragParsingInitSegment(data) {
                                    var fragCurrent = this.fragCurrent;
                                    var fragNew = data.frag;
                                    if (fragCurrent && data.id === 'main' && fragNew.sn === fragCurrent.sn && fragNew.level === fragCurrent.level && this.state === State.PARSING) {
                                        var tracks = data.tracks
                                            , trackName = void 0
                                            , track = void 0;
                                        if (tracks.audio && this.altAudio) {
                                            delete tracks.audio;
                                        }
                                        track = tracks.audio;
                                        if (track) {
                                            var audioCodec = this.levels[this.level].audioCodec
                                                , ua = navigator.userAgent.toLowerCase();
                                            if (audioCodec && this.audioCodecSwap) {
                                                logger["b"].log('swapping playlist audio codec');
                                                if (audioCodec.indexOf('mp4a.40.5') !== -1) {
                                                    audioCodec = 'mp4a.40.2';
                                                } else {
                                                    audioCodec = 'mp4a.40.5';
                                                }
                                            }
                                            if (this.audioCodecSwitch) {
                                                if (track.metadata.channelCount !== 1 && ua.indexOf('firefox') === -1) {
                                                    audioCodec = 'mp4a.40.5';
                                                }
                                            }
                                            if (ua.indexOf('android') !== -1 && track.container !== 'audio/mpeg') {
                                                audioCodec = 'mp4a.40.2';
                                                logger["b"].log('Android: force audio codec to ' + audioCodec);
                                            }
                                            track.levelCodec = audioCodec;
                                            track.id = data.id;
                                        }
                                        track = tracks.video;
                                        if (track) {
                                            track.levelCodec = this.levels[this.level].videoCodec;
                                            track.id = data.id;
                                        }
                                        this.hls.trigger(events["a"].BUFFER_CODECS, tracks);
                                        for (trackName in tracks) {
                                            track = tracks[trackName];
                                            logger["b"].log('main track:' + trackName + ',container:' + track.container + ',codecs[level/parsed]=[' + track.levelCodec + '/' + track.codec + ']');
                                            var initSegment = track.initSegment;
                                            if (initSegment) {
                                                this.appended = true;
                                                this.pendingBuffering = true;
                                                this.hls.trigger(events["a"].BUFFER_APPENDING, {
                                                    type: trackName,
                                                    data: initSegment,
                                                    parent: 'main',
                                                    content: 'initSegment'
                                                });
                                            }
                                        }
                                        this.tick();
                                    }
                                }
                                ;
                                StreamController.prototype.onFragParsingData = function onFragParsingData(data) {
                                    var _this2 = this;
                                    var fragCurrent = this.fragCurrent;
                                    var fragNew = data.frag;
                                    if (fragCurrent && data.id === 'main' && fragNew.sn === fragCurrent.sn && fragNew.level === fragCurrent.level && !(data.type === 'audio' && this.altAudio) && this.state === State.PARSING) {
                                        var level = this.levels[this.level]
                                            , frag = fragCurrent;
                                        if (isNaN(data.endPTS)) {
                                            data.endPTS = data.startPTS + fragCurrent.duration;
                                            data.endDTS = data.startDTS + fragCurrent.duration;
                                        }
                                        if (data.hasAudio === true) {
                                            frag.addElementaryStream(loader_fragment.ElementaryStreamTypes.AUDIO);
                                        }
                                        if (data.hasVideo === true) {
                                            frag.addElementaryStream(loader_fragment.ElementaryStreamTypes.VIDEO);
                                        }
                                        logger["b"].log('Parsed ' + data.type + ',PTS:[' + data.startPTS.toFixed(3) + ',' + data.endPTS.toFixed(3) + '],DTS:[' + data.startDTS.toFixed(3) + '/' + data.endDTS.toFixed(3) + '],nb:' + data.nb + ',dropped:' + (data.dropped || 0));
                                        if (data.type === 'video') {
                                            frag.dropped = data.dropped;
                                            if (frag.dropped) {
                                                if (!frag.backtracked) {
                                                    var levelDetails = level.details;
                                                    if (levelDetails && frag.sn === levelDetails.startSN) {
                                                        logger["b"].warn('missing video frame(s) on first frag, appending with gap', frag.sn);
                                                    } else {
                                                        logger["b"].warn('missing video frame(s), backtracking fragment', frag.sn);
                                                        this.fragmentTracker.removeFragment(frag);
                                                        frag.backtracked = true;
                                                        this.nextLoadPosition = data.startPTS;
                                                        this.state = State.IDLE;
                                                        this.fragPrevious = frag;
                                                        this.tick();
                                                        return;
                                                    }
                                                } else {
                                                    logger["b"].warn('Already backtracked on this fragment, appending with the gap', frag.sn);
                                                }
                                            } else {
                                                frag.backtracked = false;
                                            }
                                        }
                                        var drift = updateFragPTSDTS(level.details, frag, data.startPTS, data.endPTS, data.startDTS, data.endDTS)
                                            , hls = this.hls;
                                        hls.trigger(events["a"].LEVEL_PTS_UPDATED, {
                                            details: level.details,
                                            level: this.level,
                                            drift: drift,
                                            type: data.type,
                                            start: data.startPTS,
                                            end: data.endPTS
                                        });
                                        [data.data1, data.data2].forEach(function(buffer) {
                                            if (buffer && buffer.length && _this2.state === State.PARSING) {
                                                _this2.appended = true;
                                                _this2.pendingBuffering = true;
                                                hls.trigger(events["a"].BUFFER_APPENDING, {
                                                    type: data.type,
                                                    data: buffer,
                                                    parent: 'main',
                                                    content: 'data'
                                                });
                                            }
                                        });
                                        this.tick();
                                    }
                                }
                                ;
                                StreamController.prototype.onFragParsed = function onFragParsed(data) {
                                    var fragCurrent = this.fragCurrent;
                                    var fragNew = data.frag;
                                    if (fragCurrent && data.id === 'main' && fragNew.sn === fragCurrent.sn && fragNew.level === fragCurrent.level && this.state === State.PARSING) {
                                        this.stats.tparsed = window.performance.now();
                                        this.state = State.PARSED;
                                        this._checkAppendedParsed();
                                    }
                                }
                                ;
                                StreamController.prototype.onAudioTrackSwitching = function onAudioTrackSwitching(data) {
                                    var altAudio = !!data.url
                                        , trackId = data.id;
                                    if (!altAudio) {
                                        if (this.mediaBuffer !== this.media) {
                                            logger["b"].log('switching on main audio, use media.buffered to schedule main fragment loading');
                                            this.mediaBuffer = this.media;
                                            var fragCurrent = this.fragCurrent;
                                            if (fragCurrent.loader) {
                                                logger["b"].log('switching to main audio track, cancel main fragment load');
                                                fragCurrent.loader.abort();
                                            }
                                            this.fragCurrent = null;
                                            this.fragPrevious = null;
                                            if (this.demuxer) {
                                                this.demuxer.destroy();
                                                this.demuxer = null;
                                            }
                                            this.state = State.IDLE;
                                        }
                                        var hls = this.hls;
                                        hls.trigger(events["a"].BUFFER_FLUSHING, {
                                            startOffset: 0,
                                            endOffset: Number.POSITIVE_INFINITY,
                                            type: 'audio'
                                        });
                                        hls.trigger(events["a"].AUDIO_TRACK_SWITCHED, {
                                            id: trackId
                                        });
                                        this.altAudio = false;
                                    }
                                }
                                ;
                                StreamController.prototype.onAudioTrackSwitched = function onAudioTrackSwitched(data) {
                                    var trackId = data.id
                                        , altAudio = !!this.hls.audioTracks[trackId].url;
                                    if (altAudio) {
                                        var videoBuffer = this.videoBuffer;
                                        if (videoBuffer && this.mediaBuffer !== videoBuffer) {
                                            logger["b"].log('switching on alternate audio, use video.buffered to schedule main fragment loading');
                                            this.mediaBuffer = videoBuffer;
                                        }
                                    }
                                    this.altAudio = altAudio;
                                    this.tick();
                                }
                                ;
                                StreamController.prototype.onBufferCreated = function onBufferCreated(data) {
                                    var tracks = data.tracks
                                        , mediaTrack = void 0
                                        , name = void 0
                                        , alternate = false;
                                    for (var type in tracks) {
                                        var track = tracks[type];
                                        if (track.id === 'main') {
                                            name = type;
                                            mediaTrack = track;
                                            if (type === 'video') {
                                                this.videoBuffer = tracks[type].buffer;
                                            }
                                        } else {
                                            alternate = true;
                                        }
                                    }
                                    if (alternate && mediaTrack) {
                                        logger["b"].log('alternate track found, use ' + name + '.buffered to schedule main fragment loading');
                                        this.mediaBuffer = mediaTrack.buffer;
                                    } else {
                                        this.mediaBuffer = this.media;
                                    }
                                }
                                ;
                                StreamController.prototype.onBufferAppended = function onBufferAppended(data) {
                                    if (data.parent === 'main') {
                                        var state = this.state;
                                        if (state === State.PARSING || state === State.PARSED) {
                                            this.pendingBuffering = data.pending > 0;
                                            this._checkAppendedParsed();
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype._checkAppendedParsed = function _checkAppendedParsed() {
                                    if (this.state === State.PARSED && (!this.appended || !this.pendingBuffering)) {
                                        var frag = this.fragCurrent;
                                        if (frag) {
                                            var media = this.mediaBuffer ? this.mediaBuffer : this.media;
                                            logger["b"].log('main buffered : ' + time_ranges.toString(media.buffered));
                                            this.fragPrevious = frag;
                                            var stats = this.stats;
                                            stats.tbuffered = window.performance.now();
                                            this.fragLastKbps = Math.round(8 * stats.total / (stats.tbuffered - stats.tfirst));
                                            this.hls.trigger(events["a"].FRAG_BUFFERED, {
                                                stats: stats,
                                                frag: frag,
                                                id: 'main'
                                            });
                                            this.state = State.IDLE;
                                        }
                                        this.tick();
                                    }
                                }
                                ;
                                StreamController.prototype.onError = function onError(data) {
                                    var frag = data.frag || this.fragCurrent;
                                    if (frag && frag.type !== 'main') {
                                        return;
                                    }
                                    var mediaBuffered = !!this.media && BufferHelper.isBuffered(this.media, this.media.currentTime) && BufferHelper.isBuffered(this.media, this.media.currentTime + 0.5);
                                    switch (data.details) {
                                        case errors["a"].FRAG_LOAD_ERROR:
                                        case errors["a"].FRAG_LOAD_TIMEOUT:
                                        case errors["a"].KEY_LOAD_ERROR:
                                        case errors["a"].KEY_LOAD_TIMEOUT:
                                            if (!data.fatal) {
                                                if (this.fragLoadError + 1 <= this.config.fragLoadingMaxRetry) {
                                                    var delay = Math.min(Math.pow(2, this.fragLoadError) * this.config.fragLoadingRetryDelay, this.config.fragLoadingMaxRetryTimeout);
                                                    logger["b"].warn('mediaController: frag loading failed, retry in ' + delay + ' ms');
                                                    this.retryDate = window.performance.now() + delay;
                                                    if (!this.loadedmetadata) {
                                                        this.startFragRequested = false;
                                                        this.nextLoadPosition = this.startPosition;
                                                    }
                                                    this.fragLoadError++;
                                                    this.state = State.FRAG_LOADING_WAITING_RETRY;
                                                } else {
                                                    logger["b"].error('mediaController: ' + data.details + ' reaches max retry, redispatch as fatal ...');
                                                    data.fatal = true;
                                                    this.state = State.ERROR;
                                                }
                                            }
                                            break;
                                        case errors["a"].LEVEL_LOAD_ERROR:
                                        case errors["a"].LEVEL_LOAD_TIMEOUT:
                                            if (this.state !== State.ERROR) {
                                                if (data.fatal) {
                                                    this.state = State.ERROR;
                                                    logger["b"].warn('streamController: ' + data.details + ',switch to ' + this.state + ' state ...');
                                                } else {
                                                    if (!data.levelRetry && this.state === State.WAITING_LEVEL) {
                                                        this.state = State.IDLE;
                                                    }
                                                }
                                            }
                                            break;
                                        case errors["a"].BUFFER_FULL_ERROR:
                                            if (data.parent === 'main' && (this.state === State.PARSING || this.state === State.PARSED)) {
                                                if (mediaBuffered) {
                                                    this._reduceMaxBufferLength(this.config.maxBufferLength);
                                                    this.state = State.IDLE;
                                                } else {
                                                    logger["b"].warn('buffer full error also media.currentTime is not buffered, flush everything');
                                                    this.fragCurrent = null;
                                                    this.flushMainBuffer(0, Number.POSITIVE_INFINITY);
                                                }
                                            }
                                            break;
                                        default:
                                            break;
                                    }
                                }
                                ;
                                StreamController.prototype._reduceMaxBufferLength = function _reduceMaxBufferLength(minLength) {
                                    var config = this.config;
                                    if (config.maxMaxBufferLength >= minLength) {
                                        config.maxMaxBufferLength /= 2;
                                        logger["b"].warn('main:reduce max buffer length to ' + config.maxMaxBufferLength + 's');
                                        return true;
                                    }
                                    return false;
                                }
                                ;
                                StreamController.prototype._checkBuffer = function _checkBuffer() {
                                    var config = this.config
                                        , media = this.media;
                                    var stallDebounceInterval = 1000;
                                    if (!media || media.readyState === 0) {
                                        return;
                                    }
                                    var currentTime = media.currentTime;
                                    var mediaBuffer = this.mediaBuffer ? this.mediaBuffer : media;
                                    var buffered = mediaBuffer.buffered;
                                    if (!this.loadedmetadata && buffered.length) {
                                        this.loadedmetadata = true;
                                        this._seekToStartPos();
                                    } else if (this.immediateSwitch) {
                                        this.immediateLevelSwitchEnd();
                                    } else {
                                        var expectedPlaying = !(media.paused && media.readyState > 1 || media.ended || media.buffered.length === 0);
                                        var tnow = window.performance.now();
                                        if (currentTime !== this.lastCurrentTime) {
                                            if (this.stallReported) {
                                                logger["b"].warn('playback not stuck anymore @' + currentTime + ', after ' + Math.round(tnow - this.stalled) + 'ms');
                                                this.stallReported = false;
                                            }
                                            this.stalled = null;
                                            this.nudgeRetry = 0;
                                        } else if (expectedPlaying) {
                                            var stalledDuration = tnow - this.stalled;
                                            var bufferInfo = BufferHelper.bufferInfo(media, currentTime, config.maxBufferHole);
                                            if (!this.stalled) {
                                                this.stalled = tnow;
                                                return;
                                            } else if (stalledDuration >= stallDebounceInterval) {
                                                this._reportStall(bufferInfo.len);
                                            }
                                            this._tryFixBufferStall(bufferInfo, stalledDuration);
                                        }
                                    }
                                }
                                ;
                                StreamController.prototype.onFragLoadEmergencyAborted = function onFragLoadEmergencyAborted() {
                                    this.state = State.IDLE;
                                    if (!this.loadedmetadata) {
                                        this.startFragRequested = false;
                                        this.nextLoadPosition = this.startPosition;
                                    }
                                    this.tick();
                                }
                                ;
                                StreamController.prototype.onBufferFlushed = function onBufferFlushed() {
                                    var media = this.mediaBuffer ? this.mediaBuffer : this.media;
                                    if (media) {
                                        this.fragmentTracker.detectEvictedFragments(loader_fragment.ElementaryStreamTypes.VIDEO, media.buffered);
                                    }
                                    this.state = State.IDLE;
                                    this.fragPrevious = null;
                                }
                                ;
                                StreamController.prototype.swapAudioCodec = function swapAudioCodec() {
                                    this.audioCodecSwap = !this.audioCodecSwap;
                                }
                                ;
                                StreamController.prototype.computeLivePosition = function computeLivePosition(sliding, levelDetails) {
                                    var targetLatency = this.config.liveSyncDuration !== undefined ? this.config.liveSyncDuration : this.config.liveSyncDurationCount * levelDetails.targetduration;
                                    return sliding + Math.max(0, levelDetails.totalduration - targetLatency);
                                }
                                ;
                                StreamController.prototype._tryFixBufferStall = function _tryFixBufferStall(bufferInfo, stalledDuration) {
                                    var config = this.config
                                        , media = this.media;
                                    var currentTime = media.currentTime;
                                    var jumpThreshold = 0.5;
                                    var partial = this.fragmentTracker.getPartialFragment(currentTime);
                                    if (partial) {
                                        this._trySkipBufferHole(partial);
                                    }
                                    if (bufferInfo.len > jumpThreshold && stalledDuration > config.highBufferWatchdogPeriod * 1000) {
                                        this.stalled = null;
                                        this._tryNudgeBuffer();
                                    }
                                }
                                ;
                                StreamController.prototype._reportStall = function _reportStall(bufferLen) {
                                    var hls = this.hls
                                        , media = this.media
                                        , stallReported = this.stallReported;
                                    if (!stallReported) {
                                        this.stallReported = true;
                                        logger["b"].warn('Playback stalling at @' + media.currentTime + ' due to low buffer');
                                        hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].BUFFER_STALLED_ERROR,
                                            fatal: false,
                                            buffer: bufferLen
                                        });
                                    }
                                }
                                ;
                                StreamController.prototype._trySkipBufferHole = function _trySkipBufferHole(partial) {
                                    var hls = this.hls
                                        , media = this.media;
                                    var currentTime = media.currentTime;
                                    var lastEndTime = 0;
                                    for (var i = 0; i < media.buffered.length; i++) {
                                        var startTime = media.buffered.start(i);
                                        if (currentTime >= lastEndTime && currentTime < startTime) {
                                            media.currentTime = Math.max(startTime, media.currentTime + 0.1);
                                            logger["b"].warn('skipping hole, adjusting currentTime from ' + currentTime + ' to ' + media.currentTime);
                                            this.stalled = null;
                                            hls.trigger(events["a"].ERROR, {
                                                type: errors["b"].MEDIA_ERROR,
                                                details: errors["a"].BUFFER_SEEK_OVER_HOLE,
                                                fatal: false,
                                                reason: 'fragment loaded with buffer holes, seeking from ' + currentTime + ' to ' + media.currentTime,
                                                frag: partial
                                            });
                                            return;
                                        }
                                        lastEndTime = media.buffered.end(i);
                                    }
                                }
                                ;
                                StreamController.prototype._tryNudgeBuffer = function _tryNudgeBuffer() {
                                    var config = this.config
                                        , hls = this.hls
                                        , media = this.media;
                                    var currentTime = media.currentTime;
                                    var nudgeRetry = (this.nudgeRetry || 0) + 1;
                                    this.nudgeRetry = nudgeRetry;
                                    if (nudgeRetry < config.nudgeMaxRetry) {
                                        var targetTime = currentTime + nudgeRetry * config.nudgeOffset;
                                        logger["b"].log('adjust currentTime from ' + currentTime + ' to ' + targetTime);
                                        media.currentTime = targetTime;
                                        hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].BUFFER_NUDGE_ON_STALL,
                                            fatal: false
                                        });
                                    } else {
                                        logger["b"].error('still stuck in high buffer @' + currentTime + ' after ' + config.nudgeMaxRetry + ', raise fatal error');
                                        hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].BUFFER_STALLED_ERROR,
                                            fatal: true
                                        });
                                    }
                                }
                                ;
                                StreamController.prototype._seekToStartPos = function _seekToStartPos() {
                                    var media = this.media;
                                    var currentTime = media.currentTime;
                                    var startPosition = media.seeking ? currentTime : this.startPosition;
                                    if (currentTime !== startPosition) {
                                        logger["b"].log('target start position not buffered, seek to buffered.start(0) ' + startPosition + ' from current time ' + currentTime + ' ');
                                        media.currentTime = startPosition;
                                    }
                                }
                                ;
                                stream_controller__createClass(StreamController, [{
                                    key: 'state',
                                    set: function set(nextState) {
                                        if (this.state !== nextState) {
                                            var previousState = this.state;
                                            this._state = nextState;
                                            logger["b"].log('main stream:' + previousState + '->' + nextState);
                                            this.hls.trigger(events["a"].STREAM_STATE_TRANSITION, {
                                                previousState: previousState,
                                                nextState: nextState
                                            });
                                        }
                                    },
                                    get: function get() {
                                        return this._state;
                                    }
                                }, {
                                    key: 'currentLevel',
                                    get: function get() {
                                        var media = this.media;
                                        if (media) {
                                            var frag = this.getBufferedFrag(media.currentTime);
                                            if (frag) {
                                                return frag.level;
                                            }
                                        }
                                        return -1;
                                    }
                                }, {
                                    key: 'nextBufferedFrag',
                                    get: function get() {
                                        var media = this.media;
                                        if (media) {
                                            return this.followingBufferedFrag(this.getBufferedFrag(media.currentTime));
                                        } else {
                                            return null;
                                        }
                                    }
                                }, {
                                    key: 'nextLevel',
                                    get: function get() {
                                        var frag = this.nextBufferedFrag;
                                        if (frag) {
                                            return frag.level;
                                        } else {
                                            return -1;
                                        }
                                    }
                                }, {
                                    key: 'liveSyncPosition',
                                    get: function get() {
                                        return this._liveSyncPosition;
                                    },
                                    set: function set(value) {
                                        this._liveSyncPosition = value;
                                    }
                                }]);
                                return StreamController;
                            }(task_loop);
                            var stream_controller = stream_controller_StreamController;
                            var level_controller__typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                                    return typeof obj;
                                }
                                : function(obj) {
                                    return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
                                }
                            ;
                            var level_controller__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function level_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function level_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function level_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var level_controller__window = window
                                , level_controller_performance = level_controller__window.performance;
                            var level_controller_LevelController = function(_EventHandler) {
                                level_controller__inherits(LevelController, _EventHandler);
                                function LevelController(hls) {
                                    level_controller__classCallCheck(this, LevelController);
                                    var _this = level_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].MANIFEST_LOADED, events["a"].LEVEL_LOADED, events["a"].AUDIO_TRACK_SWITCHED, events["a"].FRAG_LOADED, events["a"].ERROR));
                                    _this.canload = false;
                                    _this.currentLevelIndex = null;
                                    _this.manualLevelIndex = -1;
                                    _this.timer = null;
                                    return _this;
                                }
                                LevelController.prototype.onHandlerDestroying = function onHandlerDestroying() {
                                    this.clearTimer();
                                    this.manualLevelIndex = -1;
                                }
                                ;
                                LevelController.prototype.clearTimer = function clearTimer() {
                                    if (this.timer !== null) {
                                        clearTimeout(this.timer);
                                        this.timer = null;
                                    }
                                }
                                ;
                                LevelController.prototype.startLoad = function startLoad() {
                                    var levels = this._levels;
                                    this.canload = true;
                                    this.levelRetryCount = 0;
                                    if (levels) {
                                        levels.forEach(function(level) {
                                            level.loadError = 0;
                                            var levelDetails = level.details;
                                            if (levelDetails && levelDetails.live) {
                                                level.details = undefined;
                                            }
                                        });
                                    }
                                    if (this.timer !== null) {
                                        this.loadLevel();
                                    }
                                }
                                ;
                                LevelController.prototype.stopLoad = function stopLoad() {
                                    this.canload = false;
                                }
                                ;
                                LevelController.prototype.onManifestLoaded = function onManifestLoaded(data) {
                                    var levels = [];
                                    var bitrateStart = void 0;
                                    var levelSet = {};
                                    var levelFromSet = null;
                                    var videoCodecFound = false;
                                    var audioCodecFound = false;
                                    var chromeOrFirefox = /chrome|firefox/.test(navigator.userAgent.toLowerCase());
                                    var audioTracks = [];
                                    data.levels.forEach(function(level) {
                                        level.loadError = 0;
                                        level.fragmentError = false;
                                        videoCodecFound = videoCodecFound || !!level.videoCodec;
                                        audioCodecFound = audioCodecFound || !!level.audioCodec || !!(level.attrs && level.attrs.AUDIO);
                                        if (chromeOrFirefox && level.audioCodec && level.audioCodec.indexOf('mp4a.40.34') !== -1) {
                                            level.audioCodec = undefined;
                                        }
                                        levelFromSet = levelSet[level.bitrate];
                                        if (!levelFromSet) {
                                            level.url = [level.url];
                                            level.urlId = 0;
                                            levelSet[level.bitrate] = level;
                                            levels.push(level);
                                        } else {
                                            levelFromSet.url.push(level.url);
                                        }
                                        if (level.attrs && level.attrs.AUDIO) {
                                            addGroupId(levelFromSet || level, 'audio', level.attrs.AUDIO);
                                        }
                                        if (level.attrs && level.attrs.SUBTITLES) {
                                            addGroupId(levelFromSet || level, 'text', level.attrs.SUBTITLES);
                                        }
                                    });
                                    if (videoCodecFound && audioCodecFound) {
                                        levels = levels.filter(function(_ref) {
                                            var videoCodec = _ref.videoCodec;
                                            return !!videoCodec;
                                        });
                                    }
                                    levels = levels.filter(function(_ref2) {
                                        var audioCodec = _ref2.audioCodec
                                            , videoCodec = _ref2.videoCodec;
                                        return (!audioCodec || isCodecSupportedInMp4(audioCodec)) && (!videoCodec || isCodecSupportedInMp4(videoCodec));
                                    });
                                    if (data.audioTracks) {
                                        audioTracks = data.audioTracks.filter(function(track) {
                                            return !track.audioCodec || isCodecSupportedInMp4(track.audioCodec, 'audio');
                                        });
                                    }
                                    if (levels.length > 0) {
                                        bitrateStart = levels[0].bitrate;
                                        levels.sort(function(a, b) {
                                            return a.bitrate - b.bitrate;
                                        });
                                        this._levels = levels;
                                        for (var i = 0; i < levels.length; i++) {
                                            if (levels[i].bitrate === bitrateStart) {
                                                this._firstLevel = i;
                                                logger["b"].log('manifest loaded,' + levels.length + ' level(s) found, first bitrate:' + bitrateStart);
                                                break;
                                            }
                                        }
                                        this.hls.trigger(events["a"].MANIFEST_PARSED, {
                                            levels: levels,
                                            audioTracks: audioTracks,
                                            firstLevel: this._firstLevel,
                                            stats: data.stats,
                                            audio: audioCodecFound,
                                            video: videoCodecFound,
                                            altAudio: audioTracks.length > 0 && videoCodecFound
                                        });
                                    } else {
                                        this.hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].MEDIA_ERROR,
                                            details: errors["a"].MANIFEST_INCOMPATIBLE_CODECS_ERROR,
                                            fatal: true,
                                            url: this.hls.url,
                                            reason: 'no level with compatible codecs found in manifest'
                                        });
                                    }
                                }
                                ;
                                LevelController.prototype.setLevelInternal = function setLevelInternal(newLevel) {
                                    var levels = this._levels;
                                    var hls = this.hls;
                                    if (newLevel >= 0 && newLevel < levels.length) {
                                        this.clearTimer();
                                        if (this.currentLevelIndex !== newLevel) {
                                            logger["b"].log('switching to level ' + newLevel);
                                            this.currentLevelIndex = newLevel;
                                            var levelProperties = levels[newLevel];
                                            levelProperties.level = newLevel;
                                            hls.trigger(events["a"].LEVEL_SWITCHING, levelProperties);
                                        }
                                        var level = levels[newLevel];
                                        var levelDetails = level.details;
                                        if (!levelDetails || levelDetails.live) {
                                            var urlId = level.urlId;
                                            hls.trigger(events["a"].LEVEL_LOADING, {
                                                url: level.url[urlId],
                                                level: newLevel,
                                                id: urlId
                                            });
                                        }
                                    } else {
                                        hls.trigger(events["a"].ERROR, {
                                            type: errors["b"].OTHER_ERROR,
                                            details: errors["a"].LEVEL_SWITCH_ERROR,
                                            level: newLevel,
                                            fatal: false,
                                            reason: 'invalid level idx'
                                        });
                                    }
                                }
                                ;
                                LevelController.prototype.onError = function onError(data) {
                                    if (data.fatal) {
                                        if (data.type === errors["b"].NETWORK_ERROR) {
                                            this.clearTimer();
                                        }
                                        return;
                                    }
                                    var levelError = false
                                        , fragmentError = false;
                                    var levelIndex = void 0;
                                    switch (data.details) {
                                        case errors["a"].FRAG_LOAD_ERROR:
                                        case errors["a"].FRAG_LOAD_TIMEOUT:
                                        case errors["a"].KEY_LOAD_ERROR:
                                        case errors["a"].KEY_LOAD_TIMEOUT:
                                            levelIndex = data.frag.level;
                                            fragmentError = true;
                                            break;
                                        case errors["a"].LEVEL_LOAD_ERROR:
                                        case errors["a"].LEVEL_LOAD_TIMEOUT:
                                            levelIndex = data.context.level;
                                            levelError = true;
                                            break;
                                        case errors["a"].REMUX_ALLOC_ERROR:
                                            levelIndex = data.level;
                                            levelError = true;
                                            break;
                                    }
                                    if (levelIndex !== undefined) {
                                        this.recoverLevel(data, levelIndex, levelError, fragmentError);
                                    }
                                }
                                ;
                                LevelController.prototype.recoverLevel = function recoverLevel(errorEvent, levelIndex, levelError, fragmentError) {
                                    var _this2 = this;
                                    var config = this.hls.config;
                                    var errorDetails = errorEvent.details;
                                    var level = this._levels[levelIndex];
                                    var redundantLevels = void 0
                                        , delay = void 0
                                        , nextLevel = void 0;
                                    level.loadError++;
                                    level.fragmentError = fragmentError;
                                    if (levelError) {
                                        if (this.levelRetryCount + 1 <= config.levelLoadingMaxRetry) {
                                            delay = Math.min(Math.pow(2, this.levelRetryCount) * config.levelLoadingRetryDelay, config.levelLoadingMaxRetryTimeout);
                                            this.timer = setTimeout(function() {
                                                return _this2.loadLevel();
                                            }, delay);
                                            errorEvent.levelRetry = true;
                                            this.levelRetryCount++;
                                            logger["b"].warn('level controller, ' + errorDetails + ', retry in ' + delay + ' ms, current retry count is ' + this.levelRetryCount);
                                        } else {
                                            logger["b"].error('level controller, cannot recover from ' + errorDetails + ' error');
                                            this.currentLevelIndex = null;
                                            this.clearTimer();
                                            errorEvent.fatal = true;
                                            return;
                                        }
                                    }
                                    if (levelError || fragmentError) {
                                        redundantLevels = level.url.length;
                                        if (redundantLevels > 1 && level.loadError < redundantLevels) {
                                            level.urlId = (level.urlId + 1) % redundantLevels;
                                            level.details = undefined;
                                            logger["b"].warn('level controller, ' + errorDetails + ' for level ' + levelIndex + ': switching to redundant URL-id ' + level.urlId);
                                        } else {
                                            if (this.manualLevelIndex === -1) {
                                                nextLevel = levelIndex === 0 ? this._levels.length - 1 : levelIndex - 1;
                                                logger["b"].warn('level controller, ' + errorDetails + ': switch to ' + nextLevel);
                                                this.hls.nextAutoLevel = this.currentLevelIndex = nextLevel;
                                            } else if (fragmentError) {
                                                logger["b"].warn('level controller, ' + errorDetails + ': reload a fragment');
                                                this.currentLevelIndex = null;
                                            }
                                        }
                                    }
                                }
                                ;
                                LevelController.prototype.onFragLoaded = function onFragLoaded(_ref3) {
                                    var frag = _ref3.frag;
                                    if (frag !== undefined && frag.type === 'main') {
                                        var level = this._levels[frag.level];
                                        if (level !== undefined) {
                                            level.fragmentError = false;
                                            level.loadError = 0;
                                            this.levelRetryCount = 0;
                                        }
                                    }
                                }
                                ;
                                LevelController.prototype.onLevelLoaded = function onLevelLoaded(data) {
                                    var _this3 = this;
                                    var levelId = data.level;
                                    if (levelId !== this.currentLevelIndex) {
                                        return;
                                    }
                                    var curLevel = this._levels[levelId];
                                    if (!curLevel.fragmentError) {
                                        curLevel.loadError = 0;
                                        this.levelRetryCount = 0;
                                    }
                                    var newDetails = data.details;
                                    if (newDetails.live) {
                                        var targetdurationMs = 1000 * (newDetails.averagetargetduration ? newDetails.averagetargetduration : newDetails.targetduration);
                                        var reloadInterval = targetdurationMs
                                            , curDetails = curLevel.details;
                                        if (curDetails && newDetails.endSN === curDetails.endSN) {
                                            reloadInterval /= 2;
                                            logger["b"].log('same live playlist, reload twice faster');
                                        }
                                        reloadInterval -= level_controller_performance.now() - data.stats.trequest;
                                        reloadInterval = Math.max(targetdurationMs / 2, Math.round(reloadInterval));
                                        logger["b"].log('live playlist, reload in ' + Math.round(reloadInterval) + ' ms');
                                        this.timer = setTimeout(function() {
                                            return _this3.loadLevel();
                                        }, reloadInterval);
                                    } else {
                                        this.clearTimer();
                                    }
                                }
                                ;
                                LevelController.prototype.onAudioTrackSwitched = function onAudioTrackSwitched(data) {
                                    var audioGroupId = this.hls.audioTracks[data.id].groupId;
                                    var currentLevel = this.hls.levels[this.currentLevelIndex];
                                    if (!currentLevel) {
                                        return;
                                    }
                                    if (currentLevel.audioGroupIds) {
                                        var urlId = currentLevel.audioGroupIds.findIndex(function(groupId) {
                                            return groupId === audioGroupId;
                                        });
                                        if (urlId !== currentLevel.urlId) {
                                            currentLevel.urlId = urlId;
                                            this.startLoad();
                                        }
                                    }
                                }
                                ;
                                LevelController.prototype.loadLevel = function loadLevel() {
                                    logger["b"].debug('call to loadLevel');
                                    if (this.currentLevelIndex !== null && this.canload) {
                                        var levelObject = this._levels[this.currentLevelIndex];
                                        if ((typeof levelObject === 'undefined' ? 'undefined' : level_controller__typeof(levelObject)) === 'object' && levelObject.url.length > 0) {
                                            var level = this.currentLevelIndex;
                                            var id = levelObject.urlId;
                                            var url = levelObject.url[id];
                                            logger["b"].log('Attempt loading level index ' + level + ' with URL-id ' + id);
                                            this.hls.trigger(events["a"].LEVEL_LOADING, {
                                                url: url,
                                                level: level,
                                                id: id
                                            });
                                        }
                                    }
                                }
                                ;
                                level_controller__createClass(LevelController, [{
                                    key: 'levels',
                                    get: function get() {
                                        return this._levels;
                                    }
                                }, {
                                    key: 'level',
                                    get: function get() {
                                        return this.currentLevelIndex;
                                    },
                                    set: function set(newLevel) {
                                        var levels = this._levels;
                                        if (levels) {
                                            newLevel = Math.min(newLevel, levels.length - 1);
                                            if (this.currentLevelIndex !== newLevel || !levels[newLevel].details) {
                                                this.setLevelInternal(newLevel);
                                            }
                                        }
                                    }
                                }, {
                                    key: 'manualLevel',
                                    get: function get() {
                                        return this.manualLevelIndex;
                                    },
                                    set: function set(newLevel) {
                                        this.manualLevelIndex = newLevel;
                                        if (this._startLevel === undefined) {
                                            this._startLevel = newLevel;
                                        }
                                        if (newLevel !== -1) {
                                            this.level = newLevel;
                                        }
                                    }
                                }, {
                                    key: 'firstLevel',
                                    get: function get() {
                                        return this._firstLevel;
                                    },
                                    set: function set(newLevel) {
                                        this._firstLevel = newLevel;
                                    }
                                }, {
                                    key: 'startLevel',
                                    get: function get() {
                                        if (this._startLevel === undefined) {
                                            var configStartLevel = this.hls.config.startLevel;
                                            if (configStartLevel !== undefined) {
                                                return configStartLevel;
                                            } else {
                                                return this._firstLevel;
                                            }
                                        } else {
                                            return this._startLevel;
                                        }
                                    },
                                    set: function set(newLevel) {
                                        this._startLevel = newLevel;
                                    }
                                }, {
                                    key: 'nextLoadLevel',
                                    get: function get() {
                                        if (this.manualLevelIndex !== -1) {
                                            return this.manualLevelIndex;
                                        } else {
                                            return this.hls.nextAutoLevel;
                                        }
                                    },
                                    set: function set(nextLevel) {
                                        this.level = nextLevel;
                                        if (this.manualLevelIndex === -1) {
                                            this.hls.nextAutoLevel = nextLevel;
                                        }
                                    }
                                }]);
                                return LevelController;
                            }(event_handler);
                            var level_controller = level_controller_LevelController;
                            var id3 = __webpack_require__(7);
                            function sendAddTrackEvent(track, videoEl) {
                                var event = null;
                                try {
                                    event = new window.Event('addtrack');
                                } catch (err) {
                                    event = document.createEvent('Event');
                                    event.initEvent('addtrack', false, false);
                                }
                                event.track = track;
                                videoEl.dispatchEvent(event);
                            }
                            function clearCurrentCues(track) {
                                if (track && track.cues) {
                                    while (track.cues.length > 0) {
                                        track.removeCue(track.cues[0]);
                                    }
                                }
                            }
                            function id3_track_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function id3_track_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function id3_track_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var id3_track_controller_ID3TrackController = function(_EventHandler) {
                                id3_track_controller__inherits(ID3TrackController, _EventHandler);
                                function ID3TrackController(hls) {
                                    id3_track_controller__classCallCheck(this, ID3TrackController);
                                    var _this = id3_track_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].MEDIA_ATTACHED, events["a"].MEDIA_DETACHING, events["a"].FRAG_PARSING_METADATA));
                                    _this.id3Track = undefined;
                                    _this.media = undefined;
                                    return _this;
                                }
                                ID3TrackController.prototype.destroy = function destroy() {
                                    event_handler.prototype.destroy.call(this);
                                }
                                ;
                                ID3TrackController.prototype.onMediaAttached = function onMediaAttached(data) {
                                    this.media = data.media;
                                    if (!this.media) {}
                                }
                                ;
                                ID3TrackController.prototype.onMediaDetaching = function onMediaDetaching() {
                                    clearCurrentCues(this.id3Track);
                                    this.id3Track = undefined;
                                    this.media = undefined;
                                }
                                ;
                                ID3TrackController.prototype.getID3Track = function getID3Track(textTracks) {
                                    for (var i = 0; i < textTracks.length; i++) {
                                        var textTrack = textTracks[i];
                                        if (textTrack.kind === 'metadata' && textTrack.label === 'id3') {
                                            sendAddTrackEvent(textTrack, this.media);
                                            return textTrack;
                                        }
                                    }
                                    return this.media.addTextTrack('metadata', 'id3');
                                }
                                ;
                                ID3TrackController.prototype.onFragParsingMetadata = function onFragParsingMetadata(data) {
                                    var fragment = data.frag;
                                    var samples = data.samples;
                                    if (!this.id3Track) {
                                        this.id3Track = this.getID3Track(this.media.textTracks);
                                        this.id3Track.mode = 'hidden';
                                    }
                                    var Cue = window.WebKitDataCue || window.VTTCue || window.TextTrackCue;
                                    for (var i = 0; i < samples.length; i++) {
                                        var frames = id3["a"].getID3Frames(samples[i].data);
                                        if (frames) {
                                            var startTime = samples[i].pts;
                                            var endTime = i < samples.length - 1 ? samples[i + 1].pts : fragment.endPTS;
                                            if (startTime === endTime) {
                                                endTime += 0.0001;
                                            }
                                            for (var j = 0; j < frames.length; j++) {
                                                var frame = frames[j];
                                                if (!id3["a"].isTimeStampFrame(frame)) {
                                                    var cue = new Cue(startTime,endTime,'');
                                                    cue.value = frame;
                                                    this.id3Track.addCue(cue);
                                                }
                                            }
                                        }
                                    }
                                }
                                ;
                                return ID3TrackController;
                            }(event_handler);
                            var id3_track_controller = id3_track_controller_ID3TrackController;
                            function is_supported_isSupported() {
                                var mediaSource = getMediaSource();
                                var sourceBuffer = window.carodaHls.SourceBuffer || window.WebKitSourceBuffer;
                                var isTypeSupported = mediaSource && typeof mediaSource.isTypeSupported === 'function' && mediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
                                var sourceBufferValidAPI = !sourceBuffer || sourceBuffer.prototype && typeof sourceBuffer.prototype.appendBuffer === 'function' && typeof sourceBuffer.prototype.remove === 'function';
                                return !!isTypeSupported && !!sourceBufferValidAPI;
                            }
                            function ewma__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var EWMA = function() {
                                function EWMA(halfLife) {
                                    ewma__classCallCheck(this, EWMA);
                                    this.alpha_ = halfLife ? Math.exp(Math.log(0.5) / halfLife) : 0;
                                    this.estimate_ = 0;
                                    this.totalWeight_ = 0;
                                }
                                EWMA.prototype.sample = function sample(weight, value) {
                                    var adjAlpha = Math.pow(this.alpha_, weight);
                                    this.estimate_ = value * (1 - adjAlpha) + adjAlpha * this.estimate_;
                                    this.totalWeight_ += weight;
                                }
                                ;
                                EWMA.prototype.getTotalWeight = function getTotalWeight() {
                                    return this.totalWeight_;
                                }
                                ;
                                EWMA.prototype.getEstimate = function getEstimate() {
                                    if (this.alpha_) {
                                        var zeroFactor = 1 - Math.pow(this.alpha_, this.totalWeight_);
                                        return this.estimate_ / zeroFactor;
                                    } else {
                                        return this.estimate_;
                                    }
                                }
                                ;
                                return EWMA;
                            }();
                            var ewma = EWMA;
                            function ewma_bandwidth_estimator__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var ewma_bandwidth_estimator_EwmaBandWidthEstimator = function() {
                                function EwmaBandWidthEstimator(hls, slow, fast, defaultEstimate) {
                                    ewma_bandwidth_estimator__classCallCheck(this, EwmaBandWidthEstimator);
                                    this.hls = hls;
                                    this.defaultEstimate_ = defaultEstimate;
                                    this.minWeight_ = 0.001;
                                    this.minDelayMs_ = 50;
                                    this.slow_ = new ewma(slow);
                                    this.fast_ = new ewma(fast);
                                }
                                EwmaBandWidthEstimator.prototype.sample = function sample(durationMs, numBytes) {
                                    durationMs = Math.max(durationMs, this.minDelayMs_);
                                    var bandwidth = 8000 * numBytes / durationMs
                                        , weight = durationMs / 1000;
                                    this.fast_.sample(weight, bandwidth);
                                    this.slow_.sample(weight, bandwidth);
                                }
                                ;
                                EwmaBandWidthEstimator.prototype.canEstimate = function canEstimate() {
                                    var fast = this.fast_;
                                    return fast && fast.getTotalWeight() >= this.minWeight_;
                                }
                                ;
                                EwmaBandWidthEstimator.prototype.getEstimate = function getEstimate() {
                                    if (this.canEstimate()) {
                                        return Math.min(this.fast_.getEstimate(), this.slow_.getEstimate());
                                    } else {
                                        return this.defaultEstimate_;
                                    }
                                }
                                ;
                                EwmaBandWidthEstimator.prototype.destroy = function destroy() {}
                                ;
                                return EwmaBandWidthEstimator;
                            }();
                            var ewma_bandwidth_estimator = ewma_bandwidth_estimator_EwmaBandWidthEstimator;
                            var abr_controller__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function abr_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function abr_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function abr_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var abr_controller__window = window
                                , abr_controller_performance = abr_controller__window.performance;
                            var abr_controller_AbrController = function(_EventHandler) {
                                abr_controller__inherits(AbrController, _EventHandler);
                                function AbrController(hls) {
                                    abr_controller__classCallCheck(this, AbrController);
                                    var _this = abr_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].FRAG_LOADING, events["a"].FRAG_LOADED, events["a"].FRAG_BUFFERED, events["a"].ERROR));
                                    _this.lastLoadedFragLevel = 0;
                                    _this._nextAutoLevel = -1;
                                    _this.hls = hls;
                                    _this.timer = null;
                                    _this._bwEstimator = null;
                                    _this.onCheck = _this._abandonRulesCheck.bind(_this);
                                    return _this;
                                }
                                AbrController.prototype.destroy = function destroy() {
                                    this.clearTimer();
                                    event_handler.prototype.destroy.call(this);
                                }
                                ;
                                AbrController.prototype.onFragLoading = function onFragLoading(data) {
                                    var frag = data.frag;
                                    if (frag.type === 'main') {
                                        if (!this.timer) {
                                            this.fragCurrent = frag;
                                            this.timer = setInterval(this.onCheck, 100);
                                        }
                                        if (!this._bwEstimator) {
                                            var hls = this.hls;
                                            var config = hls.config;
                                            var level = frag.level;
                                            var isLive = hls.levels[level].details.live;
                                            var ewmaFast = void 0
                                                , ewmaSlow = void 0;
                                            if (isLive) {
                                                ewmaFast = config.abrEwmaFastLive;
                                                ewmaSlow = config.abrEwmaSlowLive;
                                            } else {
                                                ewmaFast = config.abrEwmaFastVoD;
                                                ewmaSlow = config.abrEwmaSlowVoD;
                                            }
                                            this._bwEstimator = new ewma_bandwidth_estimator(hls,ewmaSlow,ewmaFast,config.abrEwmaDefaultEstimate);
                                        }
                                    }
                                }
                                ;
                                AbrController.prototype._abandonRulesCheck = function _abandonRulesCheck() {
                                    var hls = this.hls;
                                    var video = hls.media;
                                    var frag = this.fragCurrent;
                                    if (!frag) {
                                        return;
                                    }
                                    var loader = frag.loader;
                                    var minAutoLevel = hls.minAutoLevel;
                                    if (!loader || loader.stats && loader.stats.aborted) {
                                        logger["b"].warn('frag loader destroy or aborted, disarm abandonRules');
                                        this.clearTimer();
                                        this._nextAutoLevel = -1;
                                        return;
                                    }
                                    var stats = loader.stats;
                                    if (video && stats && (!video.paused && video.playbackRate !== 0 || !video.readyState) && frag.autoLevel && frag.level) {
                                        var requestDelay = abr_controller_performance.now() - stats.trequest
                                            , playbackRate = Math.abs(video.playbackRate);
                                        if (requestDelay > 500 * frag.duration / playbackRate) {
                                            var levels = hls.levels
                                                , loadRate = Math.max(1, stats.bw ? stats.bw / 8 : stats.loaded * 1000 / requestDelay)
                                                , level = levels[frag.level]
                                                , levelBitrate = level.realBitrate ? Math.max(level.realBitrate, level.bitrate) : level.bitrate
                                                , expectedLen = stats.total ? stats.total : Math.max(stats.loaded, Math.round(frag.duration * levelBitrate / 8))
                                                , pos = video.currentTime
                                                , fragLoadedDelay = (expectedLen - stats.loaded) / loadRate
                                                , bufferStarvationDelay = (BufferHelper.bufferInfo(video, pos, hls.config.maxBufferHole).end - pos) / playbackRate;
                                            if (bufferStarvationDelay < 2 * frag.duration / playbackRate && fragLoadedDelay > bufferStarvationDelay) {
                                                var fragLevelNextLoadedDelay = void 0
                                                    , nextLoadLevel = void 0;
                                                for (nextLoadLevel = frag.level - 1; nextLoadLevel > minAutoLevel; nextLoadLevel--) {
                                                    var levelNextBitrate = levels[nextLoadLevel].realBitrate ? Math.max(levels[nextLoadLevel].realBitrate, levels[nextLoadLevel].bitrate) : levels[nextLoadLevel].bitrate;
                                                    fragLevelNextLoadedDelay = frag.duration * levelNextBitrate / (8 * 0.8 * loadRate);
                                                    if (fragLevelNextLoadedDelay < bufferStarvationDelay) {
                                                        break;
                                                    }
                                                }
                                                if (fragLevelNextLoadedDelay < fragLoadedDelay) {
                                                    logger["b"].warn('loading too slow, abort fragment loading and switch to level ' + nextLoadLevel + ':fragLoadedDelay[' + nextLoadLevel + ']<fragLoadedDelay[' + (frag.level - 1) + '];bufferStarvationDelay:' + fragLevelNextLoadedDelay.toFixed(1) + '<' + fragLoadedDelay.toFixed(1) + ':' + bufferStarvationDelay.toFixed(1));
                                                    hls.nextLoadLevel = nextLoadLevel;
                                                    this._bwEstimator.sample(requestDelay, stats.loaded);
                                                    loader.abort();
                                                    this.clearTimer();
                                                    hls.trigger(events["a"].FRAG_LOAD_EMERGENCY_ABORTED, {
                                                        frag: frag,
                                                        stats: stats
                                                    });
                                                }
                                            }
                                        }
                                    }
                                }
                                ;
                                AbrController.prototype.onFragLoaded = function onFragLoaded(data) {
                                    var frag = data.frag;
                                    if (frag.type === 'main' && !isNaN(frag.sn)) {
                                        this.clearTimer();
                                        this.lastLoadedFragLevel = frag.level;
                                        this._nextAutoLevel = -1;
                                        if (this.hls.config.abrMaxWithRealBitrate) {
                                            var level = this.hls.levels[frag.level];
                                            var loadedBytes = (level.loaded ? level.loaded.bytes : 0) + data.stats.loaded;
                                            var loadedDuration = (level.loaded ? level.loaded.duration : 0) + data.frag.duration;
                                            level.loaded = {
                                                bytes: loadedBytes,
                                                duration: loadedDuration
                                            };
                                            level.realBitrate = Math.round(8 * loadedBytes / loadedDuration);
                                        }
                                        if (data.frag.bitrateTest) {
                                            var stats = data.stats;
                                            stats.tparsed = stats.tbuffered = stats.tload;
                                            this.onFragBuffered(data);
                                        }
                                    }
                                }
                                ;
                                AbrController.prototype.onFragBuffered = function onFragBuffered(data) {
                                    var stats = data.stats;
                                    var frag = data.frag;
                                    if (stats.aborted !== true && frag.type === 'main' && !isNaN(frag.sn) && (!frag.bitrateTest || stats.tload === stats.tbuffered)) {
                                        var fragLoadingProcessingMs = stats.tparsed - stats.trequest;
                                        logger["b"].log('latency/loading/parsing/append/kbps:' + Math.round(stats.tfirst - stats.trequest) + '/' + Math.round(stats.tload - stats.tfirst) + '/' + Math.round(stats.tparsed - stats.tload) + '/' + Math.round(stats.tbuffered - stats.tparsed) + '/' + Math.round(8 * stats.loaded / (stats.tbuffered - stats.trequest)));
                                        this._bwEstimator.sample(fragLoadingProcessingMs, stats.loaded);
                                        stats.bwEstimate = this._bwEstimator.getEstimate();
                                        if (frag.bitrateTest) {
                                            this.bitrateTestDelay = fragLoadingProcessingMs / 1000;
                                        } else {
                                            this.bitrateTestDelay = 0;
                                        }
                                    }
                                }
                                ;
                                AbrController.prototype.onError = function onError(data) {
                                    switch (data.details) {
                                        case errors["a"].FRAG_LOAD_ERROR:
                                        case errors["a"].FRAG_LOAD_TIMEOUT:
                                            this.clearTimer();
                                            break;
                                        default:
                                            break;
                                    }
                                }
                                ;
                                AbrController.prototype.clearTimer = function clearTimer() {
                                    clearInterval(this.timer);
                                    this.timer = null;
                                }
                                ;
                                AbrController.prototype._findBestLevel = function _findBestLevel(currentLevel, currentFragDuration, currentBw, minAutoLevel, maxAutoLevel, maxFetchDuration, bwFactor, bwUpFactor, levels) {
                                    for (var i = maxAutoLevel; i >= minAutoLevel; i--) {
                                        var levelInfo = levels[i]
                                            , levelDetails = levelInfo.details
                                            , avgDuration = levelDetails ? levelDetails.totalduration / levelDetails.fragments.length : currentFragDuration
                                            , live = levelDetails ? levelDetails.live : false
                                            , adjustedbw = void 0;
                                        if (i <= currentLevel) {
                                            adjustedbw = bwFactor * currentBw;
                                        } else {
                                            adjustedbw = bwUpFactor * currentBw;
                                        }
                                        var bitrate = levels[i].realBitrate ? Math.max(levels[i].realBitrate, levels[i].bitrate) : levels[i].bitrate
                                            , fetchDuration = bitrate * avgDuration / adjustedbw;
                                        logger["b"].trace('level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: ' + i + '/' + Math.round(adjustedbw) + '/' + bitrate + '/' + avgDuration + '/' + maxFetchDuration + '/' + fetchDuration);
                                        if (adjustedbw > bitrate && (!fetchDuration || live && !this.bitrateTestDelay || fetchDuration < maxFetchDuration)) {
                                            return i;
                                        }
                                    }
                                    return -1;
                                }
                                ;
                                abr_controller__createClass(AbrController, [{
                                    key: 'nextAutoLevel',
                                    get: function get() {
                                        var forcedAutoLevel = this._nextAutoLevel;
                                        var bwEstimator = this._bwEstimator;
                                        if (forcedAutoLevel !== -1 && (!bwEstimator || !bwEstimator.canEstimate())) {
                                            return forcedAutoLevel;
                                        }
                                        var nextABRAutoLevel = this._nextABRAutoLevel;
                                        if (forcedAutoLevel !== -1) {
                                            nextABRAutoLevel = Math.min(forcedAutoLevel, nextABRAutoLevel);
                                        }
                                        return nextABRAutoLevel;
                                    },
                                    set: function set(nextLevel) {
                                        this._nextAutoLevel = nextLevel;
                                    }
                                }, {
                                    key: '_nextABRAutoLevel',
                                    get: function get() {
                                        var hls = this.hls
                                            , maxAutoLevel = hls.maxAutoLevel
                                            , levels = hls.levels
                                            , config = hls.config
                                            , minAutoLevel = hls.minAutoLevel;
                                        var video = hls.media
                                            , currentLevel = this.lastLoadedFragLevel
                                            , currentFragDuration = this.fragCurrent ? this.fragCurrent.duration : 0
                                            , pos = video ? video.currentTime : 0
                                            , playbackRate = video && video.playbackRate !== 0 ? Math.abs(video.playbackRate) : 1.0
                                            , avgbw = this._bwEstimator ? this._bwEstimator.getEstimate() : config.abrEwmaDefaultEstimate
                                            , bufferStarvationDelay = (BufferHelper.bufferInfo(video, pos, config.maxBufferHole).end - pos) / playbackRate;
                                        var bestLevel = this._findBestLevel(currentLevel, currentFragDuration, avgbw, minAutoLevel, maxAutoLevel, bufferStarvationDelay, config.abrBandWidthFactor, config.abrBandWidthUpFactor, levels);
                                        if (bestLevel >= 0) {
                                            return bestLevel;
                                        } else {
                                            logger["b"].trace('rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering');
                                            var maxStarvationDelay = currentFragDuration ? Math.min(currentFragDuration, config.maxStarvationDelay) : config.maxStarvationDelay
                                                , bwFactor = config.abrBandWidthFactor
                                                , bwUpFactor = config.abrBandWidthUpFactor;
                                            if (bufferStarvationDelay === 0) {
                                                var bitrateTestDelay = this.bitrateTestDelay;
                                                if (bitrateTestDelay) {
                                                    var maxLoadingDelay = currentFragDuration ? Math.min(currentFragDuration, config.maxLoadingDelay) : config.maxLoadingDelay;
                                                    maxStarvationDelay = maxLoadingDelay - bitrateTestDelay;
                                                    logger["b"].trace('bitrate test took ' + Math.round(1000 * bitrateTestDelay) + 'ms, set first fragment max fetchDuration to ' + Math.round(1000 * maxStarvationDelay) + ' ms');
                                                    bwFactor = bwUpFactor = 1;
                                                }
                                            }
                                            bestLevel = this._findBestLevel(currentLevel, currentFragDuration, avgbw, minAutoLevel, maxAutoLevel, bufferStarvationDelay + maxStarvationDelay, bwFactor, bwUpFactor, levels);
                                            return Math.max(bestLevel, 0);
                                        }
                                    }
                                }]);
                                return AbrController;
                            }(event_handler);
                            var abr_controller = abr_controller_AbrController;
                            function buffer_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function buffer_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function buffer_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var buffer_controller_MediaSource = getMediaSource();
                            var buffer_controller_BufferController = function(_EventHandler) {
                                buffer_controller__inherits(BufferController, _EventHandler);
                                function BufferController(hls) {
                                    buffer_controller__classCallCheck(this, BufferController);
                                    var _this = buffer_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].MEDIA_ATTACHING, events["a"].MEDIA_DETACHING, events["a"].MANIFEST_PARSED, events["a"].BUFFER_RESET, events["a"].BUFFER_APPENDING, events["a"].BUFFER_CODECS, events["a"].BUFFER_EOS, events["a"].BUFFER_FLUSHING, events["a"].LEVEL_PTS_UPDATED, events["a"].LEVEL_UPDATED));
                                    _this._msDuration = null;
                                    _this._levelDuration = null;
                                    _this._live = null;
                                    _this._objectUrl = null;
                                    _this.onsbue = _this.onSBUpdateEnd.bind(_this);
                                    _this.onsbe = _this.onSBUpdateError.bind(_this);
                                    _this.pendingTracks = {};
                                    _this.tracks = {};
                                    return _this;
                                }
                                BufferController.prototype.destroy = function destroy() {
                                    event_handler.prototype.destroy.call(this);
                                }
                                ;
                                BufferController.prototype.onLevelPtsUpdated = function onLevelPtsUpdated(data) {
                                    var type = data.type;
                                    var audioTrack = this.tracks.audio;
                                    if (type === 'audio' && audioTrack && audioTrack.container === 'audio/mpeg') {
                                        var audioBuffer = this.sourceBuffer.audio;
                                        var delta = Math.abs(audioBuffer.timestampOffset - data.start);
                                        if (delta > 0.1) {
                                            var updating = audioBuffer.updating;
                                            try {
                                                audioBuffer.abort();
                                            } catch (err) {
                                                updating = true;
                                                logger["b"].warn('can not abort audio buffer: ' + err);
                                            }
                                            if (!updating) {
                                                logger["b"].warn('change mpeg audio timestamp offset from ' + audioBuffer.timestampOffset + ' to ' + data.start);
                                                audioBuffer.timestampOffset = data.start;
                                            } else {
                                                this.audioTimestampOffset = data.start;
                                            }
                                        }
                                    }
                                }
                                ;
                                BufferController.prototype.onManifestParsed = function onManifestParsed(data) {
                                    var audioExpected = data.audio
                                        , videoExpected = data.video || data.levels.length && data.altAudio
                                        , sourceBufferNb = 0;
                                    if (data.altAudio && (audioExpected || videoExpected)) {
                                        sourceBufferNb = (audioExpected ? 1 : 0) + (videoExpected ? 1 : 0);
                                        logger["b"].log(sourceBufferNb + ' sourceBuffer(s) expected');
                                    }
                                    this.sourceBufferNb = sourceBufferNb;
                                }
                                ;
                                BufferController.prototype.onMediaAttaching = function onMediaAttaching(data) {
                                    var media = this.media = data.media;
                                    if (media) {
                                        var ms = this.mediaSource = new buffer_controller_MediaSource();
                                        this.onmso = this.onMediaSourceOpen.bind(this);
                                        this.onmse = this.onMediaSourceEnded.bind(this);
                                        this.onmsc = this.onMediaSourceClose.bind(this);
                                        ms.addEventListener('sourceopen', this.onmso);
                                        ms.addEventListener('sourceended', this.onmse);
                                        ms.addEventListener('sourceclose', this.onmsc);
                                        media.src = window.URL.createObjectURL(ms);
                                        this._objectUrl = media.src;
                                    }
                                }
                                ;
                                BufferController.prototype.onMediaDetaching = function onMediaDetaching() {
                                    logger["b"].log('media source detaching');
                                    var ms = this.mediaSource;
                                    if (ms) {
                                        if (ms.readyState === 'open') {
                                            try {
                                                ms.endOfStream();
                                            } catch (err) {
                                                logger["b"].warn('onMediaDetaching:' + err.message + ' while calling endOfStream');
                                            }
                                        }
                                        ms.removeEventListener('sourceopen', this.onmso);
                                        ms.removeEventListener('sourceended', this.onmse);
                                        ms.removeEventListener('sourceclose', this.onmsc);
                                        if (this.media) {
                                            window.URL.revokeObjectURL(this._objectUrl);
                                            if (this.media.src === this._objectUrl) {
                                                this.media.removeAttribute('src');
                                                this.media.load();
                                            } else {
                                                logger["b"].warn('media.src was changed by a third party - skip cleanup');
                                            }
                                        }
                                        this.mediaSource = null;
                                        this.media = null;
                                        this._objectUrl = null;
                                        this.pendingTracks = {};
                                        this.tracks = {};
                                        this.sourceBuffer = {};
                                        this.flushRange = [];
                                        this.segments = [];
                                        this.appended = 0;
                                    }
                                    this.onmso = this.onmse = this.onmsc = null;
                                    this.hls.trigger(events["a"].MEDIA_DETACHED);
                                }
                                ;
                                BufferController.prototype.onMediaSourceOpen = function onMediaSourceOpen() {
                                    logger["b"].log('media source opened');
                                    this.hls.trigger(events["a"].MEDIA_ATTACHED, {
                                        media: this.media
                                    });
                                    var mediaSource = this.mediaSource;
                                    if (mediaSource) {
                                        mediaSource.removeEventListener('sourceopen', this.onmso);
                                    }
                                    this.checkPendingTracks();
                                }
                                ;
                                BufferController.prototype.checkPendingTracks = function checkPendingTracks() {
                                    var pendingTracks = this.pendingTracks
                                        , pendingTracksNb = Object.keys(pendingTracks).length;
                                    if (pendingTracksNb && (this.sourceBufferNb <= pendingTracksNb || this.sourceBufferNb === 0)) {
                                        this.createSourceBuffers(pendingTracks);
                                        this.pendingTracks = {};
                                        this.doAppending();
                                    }
                                }
                                ;
                                BufferController.prototype.onMediaSourceClose = function onMediaSourceClose() {
                                    logger["b"].log('media source closed');
                                }
                                ;
                                BufferController.prototype.onMediaSourceEnded = function onMediaSourceEnded() {
                                    logger["b"].log('media source ended');
                                }
                                ;
                                BufferController.prototype.onSBUpdateEnd = function onSBUpdateEnd() {
                                    if (this.audioTimestampOffset) {
                                        var audioBuffer = this.sourceBuffer.audio;
                                        logger["b"].warn('change mpeg audio timestamp offset from ' + audioBuffer.timestampOffset + ' to ' + this.audioTimestampOffset);
                                        audioBuffer.timestampOffset = this.audioTimestampOffset;
                                        delete this.audioTimestampOffset;
                                    }
                                    if (this._needsFlush) {
                                        this.doFlush();
                                    }
                                    if (this._needsEos) {
                                        this.checkEos();
                                    }
                                    this.appending = false;
                                    var parent = this.parent;
                                    var pending = this.segments.reduce(function(counter, segment) {
                                        return segment.parent === parent ? counter + 1 : counter;
                                    }, 0);
                                    var timeRanges = {};
                                    var sourceBuffer = this.sourceBuffer;
                                    for (var streamType in sourceBuffer) {
                                        timeRanges[streamType] = sourceBuffer[streamType].buffered;
                                    }
                                    this.hls.trigger(events["a"].BUFFER_APPENDED, {
                                        parent: parent,
                                        pending: pending,
                                        timeRanges: timeRanges
                                    });
                                    if (!this._needsFlush) {
                                        this.doAppending();
                                    }
                                    this.updateMediaElementDuration();
                                }
                                ;
                                BufferController.prototype.onSBUpdateError = function onSBUpdateError(event) {
                                    logger["b"].error('sourceBuffer error:', event);
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].MEDIA_ERROR,
                                        details: errors["a"].BUFFER_APPENDING_ERROR,
                                        fatal: false
                                    });
                                }
                                ;
                                BufferController.prototype.onBufferReset = function onBufferReset() {
                                    var sourceBuffer = this.sourceBuffer;
                                    for (var type in sourceBuffer) {
                                        var sb = sourceBuffer[type];
                                        try {
                                            this.mediaSource.removeSourceBuffer(sb);
                                            sb.removeEventListener('updateend', this.onsbue);
                                            sb.removeEventListener('error', this.onsbe);
                                        } catch (err) {}
                                    }
                                    this.sourceBuffer = {};
                                    this.flushRange = [];
                                    this.segments = [];
                                    this.appended = 0;
                                }
                                ;
                                BufferController.prototype.onBufferCodecs = function onBufferCodecs(tracks) {
                                    if (Object.keys(this.sourceBuffer).length === 0) {
                                        for (var trackName in tracks) {
                                            this.pendingTracks[trackName] = tracks[trackName];
                                        }
                                        var mediaSource = this.mediaSource;
                                        if (mediaSource && mediaSource.readyState === 'open') {
                                            this.checkPendingTracks();
                                        }
                                    }
                                }
                                ;
                                BufferController.prototype.createSourceBuffers = function createSourceBuffers(tracks) {
                                    var sourceBuffer = this.sourceBuffer
                                        , mediaSource = this.mediaSource;
                                    for (var trackName in tracks) {
                                        if (!sourceBuffer[trackName]) {
                                            var track = tracks[trackName];
                                            var codec = track.levelCodec || track.codec;
                                            var mimeType = track.container + ';codecs=' + codec;
                                            logger["b"].log('creating sourceBuffer(' + mimeType + ')');
                                            try {
                                                var sb = sourceBuffer[trackName] = mediaSource.addSourceBuffer(mimeType);
                                                sb.addEventListener('updateend', this.onsbue);
                                                sb.addEventListener('error', this.onsbe);
                                                this.tracks[trackName] = {
                                                    codec: codec,
                                                    container: track.container
                                                };
                                                track.buffer = sb;
                                            } catch (err) {
                                                logger["b"].error('error while trying to add sourceBuffer:' + err.message);
                                                this.hls.trigger(events["a"].ERROR, {
                                                    type: errors["b"].MEDIA_ERROR,
                                                    details: errors["a"].BUFFER_ADD_CODEC_ERROR,
                                                    fatal: false,
                                                    err: err,
                                                    mimeType: mimeType
                                                });
                                            }
                                        }
                                    }
                                    this.hls.trigger(events["a"].BUFFER_CREATED, {
                                        tracks: tracks
                                    });
                                }
                                ;
                                BufferController.prototype.onBufferAppending = function onBufferAppending(data) {
                                    if (!this._needsFlush) {
                                        if (!this.segments) {
                                            this.segments = [data];
                                        } else {
                                            this.segments.push(data);
                                        }
                                        this.doAppending();
                                    }
                                }
                                ;
                                BufferController.prototype.onBufferAppendFail = function onBufferAppendFail(data) {
                                    logger["b"].error('sourceBuffer error:', data.event);
                                    this.hls.trigger(events["a"].ERROR, {
                                        type: errors["b"].MEDIA_ERROR,
                                        details: errors["a"].BUFFER_APPENDING_ERROR,
                                        fatal: false
                                    });
                                }
                                ;
                                BufferController.prototype.onBufferEos = function onBufferEos(data) {
                                    var sb = this.sourceBuffer;
                                    var dataType = data.type;
                                    for (var type in sb) {
                                        if (!dataType || type === dataType) {
                                            if (!sb[type].ended) {
                                                sb[type].ended = true;
                                                logger["b"].log(type + ' sourceBuffer now EOS');
                                            }
                                        }
                                    }
                                    this.checkEos();
                                }
                                ;
                                BufferController.prototype.checkEos = function checkEos() {
                                    var sb = this.sourceBuffer
                                        , mediaSource = this.mediaSource;
                                    if (!mediaSource || mediaSource.readyState !== 'open') {
                                        this._needsEos = false;
                                        return;
                                    }
                                    for (var type in sb) {
                                        var sbobj = sb[type];
                                        if (!sbobj.ended) {
                                            return;
                                        }
                                        if (sbobj.updating) {
                                            this._needsEos = true;
                                            return;
                                        }
                                    }
                                    logger["b"].log('all media data available, signal endOfStream() to MediaSource and stop loading fragment');
                                    try {
                                        mediaSource.endOfStream();
                                    } catch (e) {
                                        logger["b"].warn('exception while calling mediaSource.endOfStream()');
                                    }
                                    this._needsEos = false;
                                }
                                ;
                                BufferController.prototype.onBufferFlushing = function onBufferFlushing(data) {
                                    this.flushRange.push({
                                        start: data.startOffset,
                                        end: data.endOffset,
                                        type: data.type
                                    });
                                    this.flushBufferCounter = 0;
                                    this.doFlush();
                                }
                                ;
                                BufferController.prototype.onLevelUpdated = function onLevelUpdated(_ref) {
                                    var details = _ref.details;
                                    if (details.fragments.length > 0) {
                                        this._levelDuration = details.totalduration + details.fragments[0].start;
                                        this._live = details.live;
                                        this.updateMediaElementDuration();
                                    }
                                }
                                ;
                                BufferController.prototype.updateMediaElementDuration = function updateMediaElementDuration() {
                                    var config = this.hls.config;
                                    var duration = void 0;
                                    if (this._levelDuration === null || !this.media || !this.mediaSource || !this.sourceBuffer || this.media.readyState === 0 || this.mediaSource.readyState !== 'open') {
                                        return;
                                    }
                                    for (var type in this.sourceBuffer) {
                                        if (this.sourceBuffer[type].updating === true) {
                                            return;
                                        }
                                    }
                                    duration = this.media.duration;
                                    if (this._msDuration === null) {
                                        this._msDuration = this.mediaSource.duration;
                                    }
                                    if (this._live === true && config.liveDurationInfinity === true) {
                                        logger["b"].log('Media Source duration is set to Infinity');
                                        this._msDuration = this.mediaSource.duration = Infinity;
                                    } else if (this._levelDuration > this._msDuration && this._levelDuration > duration || duration === Infinity || isNaN(duration)) {
                                        logger["b"].log('Updating Media Source duration to ' + this._levelDuration.toFixed(3));
                                        this._msDuration = this.mediaSource.duration = this._levelDuration;
                                    }
                                }
                                ;
                                BufferController.prototype.doFlush = function doFlush() {
                                    while (this.flushRange.length) {
                                        var range = this.flushRange[0];
                                        if (this.flushBuffer(range.start, range.end, range.type)) {
                                            this.flushRange.shift();
                                            this.flushBufferCounter = 0;
                                        } else {
                                            this._needsFlush = true;
                                            return;
                                        }
                                    }
                                    if (this.flushRange.length === 0) {
                                        this._needsFlush = false;
                                        var appended = 0;
                                        var sourceBuffer = this.sourceBuffer;
                                        try {
                                            for (var type in sourceBuffer) {
                                                appended += sourceBuffer[type].buffered.length;
                                            }
                                        } catch (error) {
                                            logger["b"].error('error while accessing sourceBuffer.buffered');
                                        }
                                        this.appended = appended;
                                        this.hls.trigger(events["a"].BUFFER_FLUSHED);
                                    }
                                }
                                ;
                                BufferController.prototype.doAppending = function doAppending() {
                                    var hls = this.hls
                                        , sourceBuffer = this.sourceBuffer
                                        , segments = this.segments;
                                    if (Object.keys(sourceBuffer).length) {
                                        if (this.media.error) {
                                            this.segments = [];
                                            logger["b"].error('trying to append although a media error occured, flush segment and abort');
                                            return;
                                        }
                                        if (this.appending) {
                                            return;
                                        }
                                        if (segments && segments.length) {
                                            var segment = segments.shift();
                                            try {
                                                var type = segment.type
                                                    , sb = sourceBuffer[type];
                                                if (sb) {
                                                    if (!sb.updating) {
                                                        sb.ended = false;
                                                        this.parent = segment.parent;
                                                        sb.appendBuffer(segment.data);
                                                        this.appendError = 0;
                                                        this.appended++;
                                                        this.appending = true;
                                                    } else {
                                                        segments.unshift(segment);
                                                    }
                                                } else {
                                                    this.onSBUpdateEnd();
                                                }
                                            } catch (err) {
                                                logger["b"].error('error while trying to append buffer:' + err.message);
                                                segments.unshift(segment);
                                                var event = {
                                                    type: errors["b"].MEDIA_ERROR,
                                                    parent: segment.parent
                                                };
                                                if (err.code !== 22) {
                                                    if (this.appendError) {
                                                        this.appendError++;
                                                    } else {
                                                        this.appendError = 1;
                                                    }
                                                    event.details = errors["a"].BUFFER_APPEND_ERROR;
                                                    if (this.appendError > hls.config.appendErrorMaxRetry) {
                                                        logger["b"].log('fail ' + hls.config.appendErrorMaxRetry + ' times to append segment in sourceBuffer');
                                                        segments = [];
                                                        event.fatal = true;
                                                        hls.trigger(events["a"].ERROR, event);
                                                    } else {
                                                        event.fatal = false;
                                                        hls.trigger(events["a"].ERROR, event);
                                                    }
                                                } else {
                                                    this.segments = [];
                                                    event.details = errors["a"].BUFFER_FULL_ERROR;
                                                    event.fatal = false;
                                                    hls.trigger(events["a"].ERROR, event);
                                                }
                                            }
                                        }
                                    }
                                }
                                ;
                                BufferController.prototype.flushBuffer = function flushBuffer(startOffset, endOffset, typeIn) {
                                    var sb = void 0
                                        , i = void 0
                                        , bufStart = void 0
                                        , bufEnd = void 0
                                        , flushStart = void 0
                                        , flushEnd = void 0
                                        , sourceBuffer = this.sourceBuffer;
                                    if (Object.keys(sourceBuffer).length) {
                                        logger["b"].log('flushBuffer,pos/start/end: ' + this.media.currentTime.toFixed(3) + '/' + startOffset + '/' + endOffset);
                                        if (this.flushBufferCounter < this.appended) {
                                            for (var type in sourceBuffer) {
                                                if (typeIn && type !== typeIn) {
                                                    continue;
                                                }
                                                sb = sourceBuffer[type];
                                                sb.ended = false;
                                                if (!sb.updating) {
                                                    try {
                                                        for (i = 0; i < sb.buffered.length; i++) {
                                                            bufStart = sb.buffered.start(i);
                                                            bufEnd = sb.buffered.end(i);
                                                            if (navigator.userAgent.toLowerCase().indexOf('firefox') !== -1 && endOffset === Number.POSITIVE_INFINITY) {
                                                                flushStart = startOffset;
                                                                flushEnd = endOffset;
                                                            } else {
                                                                flushStart = Math.max(bufStart, startOffset);
                                                                flushEnd = Math.min(bufEnd, endOffset);
                                                            }
                                                            if (Math.min(flushEnd, bufEnd) - flushStart > 0.5) {
                                                                this.flushBufferCounter++;
                                                                logger["b"].log('flush ' + type + ' [' + flushStart + ',' + flushEnd + '], of [' + bufStart + ',' + bufEnd + '], pos:' + this.media.currentTime);
                                                                sb.remove(flushStart, flushEnd);
                                                                return false;
                                                            }
                                                        }
                                                    } catch (e) {
                                                        logger["b"].warn('exception while accessing sourcebuffer, it might have been removed from MediaSource');
                                                    }
                                                } else {
                                                    logger["b"].warn('cannot flush, sb updating in progress');
                                                    return false;
                                                }
                                            }
                                        } else {
                                            logger["b"].warn('abort flushing too many retries');
                                        }
                                        logger["b"].log('buffer flushed');
                                    }
                                    return true;
                                }
                                ;
                                return BufferController;
                            }(event_handler);
                            var buffer_controller = buffer_controller_BufferController;
                            var cap_level_controller__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function cap_level_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function cap_level_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function cap_level_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var cap_level_controller_CapLevelController = function(_EventHandler) {
                                cap_level_controller__inherits(CapLevelController, _EventHandler);
                                function CapLevelController(hls) {
                                    cap_level_controller__classCallCheck(this, CapLevelController);
                                    var _this = cap_level_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].FPS_DROP_LEVEL_CAPPING, events["a"].MEDIA_ATTACHING, events["a"].MANIFEST_PARSED, events["a"].BUFFER_CODECS));
                                    _this.autoLevelCapping = Number.POSITIVE_INFINITY;
                                    _this.firstLevel = null;
                                    _this.levels = [];
                                    _this.media = null;
                                    _this.restrictedLevels = [];
                                    _this.timer = null;
                                    return _this;
                                }
                                CapLevelController.prototype.destroy = function destroy() {
                                    if (this.hls.config.capLevelToPlayerSize) {
                                        this.media = null;
                                        this._stopCapping();
                                    }
                                }
                                ;
                                CapLevelController.prototype.onFpsDropLevelCapping = function onFpsDropLevelCapping(data) {
                                    if (CapLevelController.isLevelAllowed(data.droppedLevel, this.restrictedLevels)) {
                                        this.restrictedLevels.push(data.droppedLevel);
                                    }
                                }
                                ;
                                CapLevelController.prototype.onMediaAttaching = function onMediaAttaching(data) {
                                    this.media = data.media instanceof window.HTMLVideoElement ? data.media : null;
                                }
                                ;
                                CapLevelController.prototype.onManifestParsed = function onManifestParsed(data) {
                                    var hls = this.hls;
                                    this.restrictedLevels = [];
                                    this.levels = data.levels;
                                    this.firstLevel = data.firstLevel;
                                    if (hls.config.capLevelToPlayerSize && (data.video || data.levels.length && data.altAudio)) {
                                        this._startCapping();
                                    }
                                }
                                ;
                                CapLevelController.prototype.onBufferCodecs = function onBufferCodecs(data) {
                                    var hls = this.hls;
                                    if (hls.config.capLevelToPlayerSize && data.video) {
                                        this._startCapping();
                                    }
                                }
                                ;
                                CapLevelController.prototype.onLevelsUpdated = function onLevelsUpdated(data) {
                                    this.levels = data.levels;
                                }
                                ;
                                CapLevelController.prototype.detectPlayerSize = function detectPlayerSize() {
                                    if (this.media) {
                                        var levelsLength = this.levels ? this.levels.length : 0;
                                        if (levelsLength) {
                                            var hls = this.hls;
                                            hls.autoLevelCapping = this.getMaxLevel(levelsLength - 1);
                                            if (hls.autoLevelCapping > this.autoLevelCapping) {
                                                hls.streamController.nextLevelSwitch();
                                            }
                                            this.autoLevelCapping = hls.autoLevelCapping;
                                        }
                                    }
                                }
                                ;
                                CapLevelController.prototype.getMaxLevel = function getMaxLevel(capLevelIndex) {
                                    var _this2 = this;
                                    if (!this.levels) {
                                        return -1;
                                    }
                                    var validLevels = this.levels.filter(function(level, index) {
                                        return CapLevelController.isLevelAllowed(index, _this2.restrictedLevels) && index <= capLevelIndex;
                                    });
                                    return CapLevelController.getMaxLevelByMediaSize(validLevels, this.mediaWidth, this.mediaHeight);
                                }
                                ;
                                CapLevelController.prototype._startCapping = function _startCapping() {
                                    if (this.timer) {
                                        return;
                                    }
                                    this.autoLevelCapping = Number.POSITIVE_INFINITY;
                                    this.hls.firstLevel = this.getMaxLevel(this.firstLevel);
                                    clearInterval(this.timer);
                                    this.timer = setInterval(this.detectPlayerSize.bind(this), 1000);
                                    this.detectPlayerSize();
                                }
                                ;
                                CapLevelController.prototype._stopCapping = function _stopCapping() {
                                    this.restrictedLevels = [];
                                    this.firstLevel = null;
                                    this.autoLevelCapping = Number.POSITIVE_INFINITY;
                                    if (this.timer) {
                                        this.timer = clearInterval(this.timer);
                                        this.timer = null;
                                    }
                                }
                                ;
                                CapLevelController.isLevelAllowed = function isLevelAllowed(level) {
                                    var restrictedLevels = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];
                                    return restrictedLevels.indexOf(level) === -1;
                                }
                                ;
                                CapLevelController.getMaxLevelByMediaSize = function getMaxLevelByMediaSize(levels, width, height) {
                                    if (!levels || levels && !levels.length) {
                                        return -1;
                                    }
                                    var atGreatestBandiwdth = function atGreatestBandiwdth(curLevel, nextLevel) {
                                        if (!nextLevel) {
                                            return true;
                                        }
                                        return curLevel.width !== nextLevel.width || curLevel.height !== nextLevel.height;
                                    };
                                    var maxLevelIndex = levels.length - 1;
                                    for (var i = 0; i < levels.length; i += 1) {
                                        var level = levels[i];
                                        if ((level.width >= width || level.height >= height) && atGreatestBandiwdth(level, levels[i + 1])) {
                                            maxLevelIndex = i;
                                            break;
                                        }
                                    }
                                    return maxLevelIndex;
                                }
                                ;
                                cap_level_controller__createClass(CapLevelController, [{
                                    key: 'mediaWidth',
                                    get: function get() {
                                        var width = void 0;
                                        var media = this.media;
                                        if (media) {
                                            width = media.width || media.clientWidth || media.offsetWidth;
                                            width *= CapLevelController.contentScaleFactor;
                                        }
                                        return width;
                                    }
                                }, {
                                    key: 'mediaHeight',
                                    get: function get() {
                                        var height = void 0;
                                        var media = this.media;
                                        if (media) {
                                            height = media.height || media.clientHeight || media.offsetHeight;
                                            height *= CapLevelController.contentScaleFactor;
                                        }
                                        return height;
                                    }
                                }], [{
                                    key: 'contentScaleFactor',
                                    get: function get() {
                                        var pixelRatio = 1;
                                        try {
                                            pixelRatio = window.devicePixelRatio;
                                        } catch (e) {}
                                        return pixelRatio;
                                    }
                                }]);
                                return CapLevelController;
                            }(event_handler);
                            var cap_level_controller = cap_level_controller_CapLevelController;
                            function fps_controller__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            function fps_controller__possibleConstructorReturn(self, call) {
                                if (!self) {
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                }
                                return call && (typeof call === "object" || typeof call === "function") ? call : self;
                            }
                            function fps_controller__inherits(subClass, superClass) {
                                if (typeof superClass !== "function" && superClass !== null) {
                                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass);
                                }
                                subClass.prototype = Object.create(superClass && superClass.prototype, {
                                    constructor: {
                                        value: subClass,
                                        enumerable: false,
                                        writable: true,
                                        configurable: true
                                    }
                                });
                                if (superClass)
                                    Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;
                            }
                            var fps_controller__window = window
                                , fps_controller_performance = fps_controller__window.performance;
                            var fps_controller_FPSController = function(_EventHandler) {
                                fps_controller__inherits(FPSController, _EventHandler);
                                function FPSController(hls) {
                                    fps_controller__classCallCheck(this, FPSController);
                                    return fps_controller__possibleConstructorReturn(this, _EventHandler.call(this, hls, events["a"].MEDIA_ATTACHING));
                                }
                                FPSController.prototype.destroy = function destroy() {
                                    if (this.timer) {
                                        clearInterval(this.timer);
                                    }
                                    this.isVideoPlaybackQualityAvailable = false;
                                }
                                ;
                                FPSController.prototype.onMediaAttaching = function onMediaAttaching(data) {
                                    var config = this.hls.config;
                                    if (config.capLevelOnFPSDrop) {
                                        var video = this.video = data.media instanceof window.HTMLVideoElement ? data.media : null;
                                        if (typeof video.getVideoPlaybackQuality === 'function') {
                                            this.isVideoPlaybackQualityAvailable = true;
                                        }
                                        clearInterval(this.timer);
                                        this.timer = setInterval(this.checkFPSInterval.bind(this), config.fpsDroppedMonitoringPeriod);
                                    }
                                }
                                ;
                                FPSController.prototype.checkFPS = function checkFPS(video, decodedFrames, droppedFrames) {
                                    var currentTime = fps_controller_performance.now();
                                    if (decodedFrames) {
                                        if (this.lastTime) {
                                            var currentPeriod = currentTime - this.lastTime
                                                , currentDropped = droppedFrames - this.lastDroppedFrames
                                                , currentDecoded = decodedFrames - this.lastDecodedFrames
                                                , droppedFPS = 1000 * currentDropped / currentPeriod
                                                , hls = this.hls;
                                            hls.trigger(events["a"].FPS_DROP, {
                                                currentDropped: currentDropped,
                                                currentDecoded: currentDecoded,
                                                totalDroppedFrames: droppedFrames
                                            });
                                            if (droppedFPS > 0) {
                                                if (currentDropped > hls.config.fpsDroppedMonitoringThreshold * currentDecoded) {
                                                    var currentLevel = hls.currentLevel;
                                                    logger["b"].warn('drop FPS ratio greater than max allowed value for currentLevel: ' + currentLevel);
                                                    if (currentLevel > 0 && (hls.autoLevelCapping === -1 || hls.autoLevelCapping >= currentLevel)) {
                                                        currentLevel = currentLevel - 1;
                                                        hls.trigger(events["a"].FPS_DROP_LEVEL_CAPPING, {
                                                            level: currentLevel,
                                                            droppedLevel: hls.currentLevel
                                                        });
                                                        hls.autoLevelCapping = currentLevel;
                                                        hls.streamController.nextLevelSwitch();
                                                    }
                                                }
                                            }
                                        }
                                        this.lastTime = currentTime;
                                        this.lastDroppedFrames = droppedFrames;
                                        this.lastDecodedFrames = decodedFrames;
                                    }
                                }
                                ;
                                FPSController.prototype.checkFPSInterval = function checkFPSInterval() {
                                    var video = this.video;
                                    if (video) {
                                        if (this.isVideoPlaybackQualityAvailable) {
                                            var videoPlaybackQuality = video.getVideoPlaybackQuality();
                                            this.checkFPS(video, videoPlaybackQuality.totalVideoFrames, videoPlaybackQuality.droppedVideoFrames);
                                        } else {
                                            this.checkFPS(video, video.webkitDecodedFrameCount, video.webkitDroppedFrameCount);
                                        }
                                    }
                                }
                                ;
                                return FPSController;
                            }(event_handler);
                            var fps_controller = fps_controller_FPSController;
                            function xhr_loader__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            var xhr_loader__window = window
                                , xhr_loader_performance = xhr_loader__window.performance
                                , XMLHttpRequest = xhr_loader__window.XMLHttpRequest;
                            var xhr_loader_XhrLoader = function() {
                                function XhrLoader(config) {
                                    xhr_loader__classCallCheck(this, XhrLoader);
                                    if (config && config.xhrSetup) {
                                        this.xhrSetup = config.xhrSetup;
                                    }
                                }
                                XhrLoader.prototype.destroy = function destroy() {
                                    this.abort();
                                    this.loader = null;
                                }
                                ;
                                XhrLoader.prototype.abort = function abort() {
                                    var loader = this.loader;
                                    if (loader && loader.readyState !== 4) {
                                        this.stats.aborted = true;
                                        loader.abort();
                                    }
                                    window.clearTimeout(this.requestTimeout);
                                    this.requestTimeout = null;
                                    window.clearTimeout(this.retryTimeout);
                                    this.retryTimeout = null;
                                }
                                ;
                                XhrLoader.prototype.load = function load(context, config, callbacks) {
                                    this.context = context;
                                    this.config = config;
                                    this.callbacks = callbacks;
                                    this.stats = {
                                        trequest: xhr_loader_performance.now(),
                                        retry: 0
                                    };
                                    this.retryDelay = config.retryDelay;
                                    this.loadInternal();
                                }
                                ;
                                XhrLoader.prototype.loadInternal = function loadInternal() {
                                    var xhr = void 0
                                        , context = this.context;
                                    xhr = this.loader = new XMLHttpRequest();
                                    var stats = this.stats;
                                    stats.tfirst = 0;
                                    stats.loaded = 0;
                                    var xhrSetup = this.xhrSetup;
                                    try {
                                        if (xhrSetup) {
                                            try {
                                                xhrSetup(xhr, context.url);
                                            } catch (e) {
                                                xhr.open('GET', context.url, true);
                                                xhrSetup(xhr, context.url);
                                            }
                                        }
                                        if (!xhr.readyState) {
                                            xhr.open('GET', context.url, true);
                                        }
                                    } catch (e) {
                                        this.callbacks.onError({
                                            code: xhr.status,
                                            text: e.message
                                        }, context, xhr);
                                        return;
                                    }
                                    if (context.rangeEnd) {
                                        xhr.setRequestHeader('Range', 'bytes=' + context.rangeStart + '-' + (context.rangeEnd - 1));
                                    }
                                    xhr.onreadystatechange = this.readystatechange.bind(this);
                                    xhr.onprogress = this.loadprogress.bind(this);
                                    xhr.responseType = context.responseType;
                                    this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), this.config.timeout);
                                    xhr.send();
                                }
                                ;
                                XhrLoader.prototype.readystatechange = function readystatechange(event) {
                                    var xhr = event.currentTarget
                                        , readyState = xhr.readyState
                                        , stats = this.stats
                                        , context = this.context
                                        , config = this.config;
                                    if (stats.aborted) {
                                        return;
                                    }
                                    if (readyState >= 2) {
                                        window.clearTimeout(this.requestTimeout);
                                        if (stats.tfirst === 0) {
                                            stats.tfirst = Math.max(xhr_loader_performance.now(), stats.trequest);
                                        }
                                        if (readyState === 4) {
                                            var status = xhr.status;
                                            if (status >= 200 && status < 300) {
                                                stats.tload = Math.max(stats.tfirst, xhr_loader_performance.now());
                                                var data = void 0
                                                    , len = void 0;
                                                if (context.responseType === 'arraybuffer') {
                                                    data = xhr.response;
                                                    len = data.byteLength;
                                                } else {
                                                    data = xhr.responseText;
                                                    len = data.length;
                                                }
                                                stats.loaded = stats.total = len;
                                                var response = {
                                                    url: xhr.responseURL,
                                                    data: data
                                                };
                                                this.callbacks.onSuccess(response, stats, context, xhr);
                                            } else {
                                                if (stats.retry >= config.maxRetry || status >= 400 && status < 499) {
                                                    logger["b"].error(status + ' while loading ' + context.url);
                                                    this.callbacks.onError({
                                                        code: status,
                                                        text: xhr.statusText
                                                    }, context, xhr);
                                                } else {
                                                    logger["b"].warn(status + ' while loading ' + context.url + ', retrying in ' + this.retryDelay + '...');
                                                    this.destroy();
                                                    this.retryTimeout = window.setTimeout(this.loadInternal.bind(this), this.retryDelay);
                                                    this.retryDelay = Math.min(2 * this.retryDelay, config.maxRetryDelay);
                                                    stats.retry++;
                                                }
                                            }
                                        } else {
                                            this.requestTimeout = window.setTimeout(this.loadtimeout.bind(this), config.timeout);
                                        }
                                    }
                                }
                                ;
                                XhrLoader.prototype.loadtimeout = function loadtimeout() {
                                    logger["b"].warn('timeout while loading ' + this.context.url);
                                    this.callbacks.onTimeout(this.stats, this.context, null);
                                }
                                ;
                                XhrLoader.prototype.loadprogress = function loadprogress(event) {
                                    var xhr = event.currentTarget
                                        , stats = this.stats;
                                    stats.loaded = event.loaded;
                                    if (event.lengthComputable) {
                                        stats.total = event.total;
                                    }
                                    var onProgress = this.callbacks.onProgress;
                                    if (onProgress) {
                                        onProgress(stats, this.context, null, xhr);
                                    }
                                }
                                ;
                                return XhrLoader;
                            }();
                            var xhr_loader = xhr_loader_XhrLoader;
                            var empty = __webpack_require__(3);
                            var empty_default = __webpack_require__.n(empty);
                            var requestMediaKeySystemAccess = function() {
                                if (typeof window !== 'undefined' && window.navigator && window.navigator.requestMediaKeySystemAccess) {
                                    return window.navigator.requestMediaKeySystemAccess.bind(window.navigator);
                                } else {
                                    return null;
                                }
                            }();
                            var hlsDefaultConfig = {
                                autoStartLoad: true,
                                startPosition: -1,
                                defaultAudioCodec: undefined,
                                debug: false,
                                capLevelOnFPSDrop: false,
                                capLevelToPlayerSize: false,
                                initialLiveManifestSize: 1,
                                maxBufferLength: 30,
                                maxBufferSize: 60 * 1000 * 1000,
                                maxBufferHole: 0.5,
                                lowBufferWatchdogPeriod: 0.5,
                                highBufferWatchdogPeriod: 3,
                                nudgeOffset: 0.1,
                                nudgeMaxRetry: 3,
                                maxFragLookUpTolerance: 0.25,
                                liveSyncDurationCount: 3,
                                liveMaxLatencyDurationCount: Infinity,
                                liveSyncDuration: undefined,
                                liveMaxLatencyDuration: undefined,
                                liveDurationInfinity: false,
                                maxMaxBufferLength: 600,
                                enableWorker: true,
                                enableSoftwareAES: true,
                                manifestLoadingTimeOut: 10000,
                                manifestLoadingMaxRetry: 1,
                                manifestLoadingRetryDelay: 1000,
                                manifestLoadingMaxRetryTimeout: 64000,
                                startLevel: undefined,
                                levelLoadingTimeOut: 10000,
                                levelLoadingMaxRetry: 4,
                                levelLoadingRetryDelay: 1000,
                                levelLoadingMaxRetryTimeout: 64000,
                                fragLoadingTimeOut: 20000,
                                fragLoadingMaxRetry: 6,
                                fragLoadingRetryDelay: 1000,
                                fragLoadingMaxRetryTimeout: 64000,
                                startFragPrefetch: false,
                                fpsDroppedMonitoringPeriod: 5000,
                                fpsDroppedMonitoringThreshold: 0.2,
                                appendErrorMaxRetry: 3,
                                loader: xhr_loader,
                                fLoader: undefined,
                                pLoader: undefined,
                                xhrSetup: undefined,
                                licenseXhrSetup: undefined,
                                abrController: abr_controller,
                                bufferController: buffer_controller,
                                capLevelController: cap_level_controller,
                                fpsController: fps_controller,
                                stretchShortVideoTrack: false,
                                maxAudioFramesDrift: 1,
                                forceKeyFrameOnDiscontinuity: true,
                                abrEwmaFastLive: 3,
                                abrEwmaSlowLive: 9,
                                abrEwmaFastVoD: 3,
                                abrEwmaSlowVoD: 9,
                                abrEwmaDefaultEstimate: 5e5,
                                abrBandWidthFactor: 0.95,
                                abrBandWidthUpFactor: 0.7,
                                abrMaxWithRealBitrate: false,
                                maxStarvationDelay: 4,
                                maxLoadingDelay: 4,
                                minAutoBitrate: 0,
                                emeEnabled: false,
                                widevineLicenseUrl: undefined,
                                requestMediaKeySystemAccessFunc: requestMediaKeySystemAccess
                            };
                            if (false) {
                                hlsDefaultConfig.subtitleStreamController = SubtitleStreamController;
                                hlsDefaultConfig.subtitleTrackController = SubtitleTrackController;
                                hlsDefaultConfig.timelineController = TimelineController;
                                hlsDefaultConfig.cueHandler = Cues;
                                hlsDefaultConfig.enableCEA708Captions = true;
                                hlsDefaultConfig.enableWebVTT = true;
                                hlsDefaultConfig.captionsTextTrack1Label = 'English';
                                hlsDefaultConfig.captionsTextTrack1LanguageCode = 'en';
                                hlsDefaultConfig.captionsTextTrack2Label = 'Spanish';
                                hlsDefaultConfig.captionsTextTrack2LanguageCode = 'es';
                            }
                            if (false) {
                                hlsDefaultConfig.audioStreamController = AudioStreamController;
                                hlsDefaultConfig.audioTrackController = AudioTrackController;
                            }
                            if (false) {
                                hlsDefaultConfig.emeController = EMEController;
                            }
                            var hls__createClass = function() {
                                function defineProperties(target, props) {
                                    for (var i = 0; i < props.length; i++) {
                                        var descriptor = props[i];
                                        descriptor.enumerable = descriptor.enumerable || false;
                                        descriptor.configurable = true;
                                        if ("value"in descriptor)
                                            descriptor.writable = true;
                                        Object.defineProperty(target, descriptor.key, descriptor);
                                    }
                                }
                                return function(Constructor, protoProps, staticProps) {
                                    if (protoProps)
                                        defineProperties(Constructor.prototype, protoProps);
                                    if (staticProps)
                                        defineProperties(Constructor, staticProps);
                                    return Constructor;
                                }
                                    ;
                            }();
                            function hls__classCallCheck(instance, Constructor) {
                                if (!(instance instanceof Constructor)) {
                                    throw new TypeError("Cannot call a class as a function");
                                }
                            }
                            __webpack_require__(13);
                            var hls_Hls = function() {
                                Hls.isSupported = function isSupported() {
                                    return is_supported_isSupported();
                                }
                                ;
                                hls__createClass(Hls, null, [{
                                    key: 'version',
                                    get: function get() {
                                        return "0.10.0";
                                    }
                                }, {
                                    key: 'Events',
                                    get: function get() {
                                        return events["a"];
                                    }
                                }, {
                                    key: 'ErrorTypes',
                                    get: function get() {
                                        return errors["b"];
                                    }
                                }, {
                                    key: 'ErrorDetails',
                                    get: function get() {
                                        return errors["a"];
                                    }
                                }, {
                                    key: 'DefaultConfig',
                                    get: function get() {
                                        if (!Hls.defaultConfig) {
                                            return hlsDefaultConfig;
                                        }
                                        return Hls.defaultConfig;
                                    },
                                    set: function set(defaultConfig) {
                                        Hls.defaultConfig = defaultConfig;
                                    }
                                }]);
                                function Hls() {
                                    var _this = this;
                                    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
                                    hls__classCallCheck(this, Hls);
                                    var defaultConfig = Hls.DefaultConfig;
                                    if ((config.liveSyncDurationCount || config.liveMaxLatencyDurationCount) && (config.liveSyncDuration || config.liveMaxLatencyDuration)) {
                                        throw new Error('Illegal hls.js config: don\'t mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration');
                                    }
                                    for (var prop in defaultConfig) {
                                        if (prop in config)
                                            continue;
                                        config[prop] = defaultConfig[prop];
                                    }
                                    if (config.liveMaxLatencyDurationCount !== undefined && config.liveMaxLatencyDurationCount <= config.liveSyncDurationCount) {
                                        throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');
                                    }
                                    if (config.liveMaxLatencyDuration !== undefined && (config.liveMaxLatencyDuration <= config.liveSyncDuration || config.liveSyncDuration === undefined)) {
                                        throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');
                                    }
                                    Object(logger["a"])(config.debug);
                                    this.config = config;
                                    this._autoLevelCapping = -1;
                                    var observer = this.observer = new events_default.a();
                                    observer.trigger = function trigger(event) {
                                        for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                            data[_key - 1] = arguments[_key];
                                        }
                                        observer.emit.apply(observer, [event, event].concat(data));
                                    }
                                    ;
                                    observer.off = function off(event) {
                                        for (var _len2 = arguments.length, data = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                                            data[_key2 - 1] = arguments[_key2];
                                        }
                                        observer.removeListener.apply(observer, [event].concat(data));
                                    }
                                    ;
                                    this.on = observer.on.bind(observer);
                                    this.off = observer.off.bind(observer);
                                    this.once = observer.once.bind(observer);
                                    this.trigger = observer.trigger.bind(observer);
                                    var abrController = this.abrController = new config.abrController(this);
                                    var bufferController = new config.bufferController(this);
                                    var capLevelController = new config.capLevelController(this);
                                    var fpsController = new config.fpsController(this);
                                    var playListLoader = new playlist_loader(this);
                                    var fragmentLoader = new fragment_loader(this);
                                    var keyLoader = new key_loader(this);
                                    var id3TrackController = new id3_track_controller(this);
                                    var levelController = this.levelController = new level_controller(this);
                                    var fragmentTracker = new fragment_tracker_FragmentTracker(this);
                                    var streamController = this.streamController = new stream_controller(this,fragmentTracker);
                                    var networkControllers = [levelController, streamController];
                                    var Controller = config.audioStreamController;
                                    if (Controller) {
                                        networkControllers.push(new Controller(this,fragmentTracker));
                                    }
                                    this.networkControllers = networkControllers;
                                    var coreComponents = [playListLoader, fragmentLoader, keyLoader, abrController, bufferController, capLevelController, fpsController, id3TrackController, fragmentTracker];
                                    Controller = config.audioTrackController;
                                    if (Controller) {
                                        var audioTrackController = new Controller(this);
                                        this.audioTrackController = audioTrackController;
                                        coreComponents.push(audioTrackController);
                                    }
                                    Controller = config.subtitleTrackController;
                                    if (Controller) {
                                        var subtitleTrackController = new Controller(this);
                                        this.subtitleTrackController = subtitleTrackController;
                                        coreComponents.push(subtitleTrackController);
                                    }
                                    Controller = config.emeController;
                                    if (Controller) {
                                        var emeController = new Controller(this);
                                        this.emeController = emeController;
                                        coreComponents.push(emeController);
                                    }
                                    [config.subtitleStreamController, config.timelineController].forEach(function(Controller) {
                                        if (Controller) {
                                            coreComponents.push(new Controller(_this));
                                        }
                                    });
                                    this.coreComponents = coreComponents;
                                }
                                Hls.prototype.destroy = function destroy() {
                                    logger["b"].log('destroy');
                                    this.trigger(events["a"].DESTROYING);
                                    this.detachMedia();
                                    this.coreComponents.concat(this.networkControllers).forEach(function(component) {
                                        component.destroy();
                                    });
                                    this.url = null;
                                    this.observer.removeAllListeners();
                                    this._autoLevelCapping = -1;
                                }
                                ;
                                Hls.prototype.attachMedia = function attachMedia(media) {
                                    logger["b"].log('attachMedia');
                                    this.media = media;
                                    this.trigger(events["a"].MEDIA_ATTACHING, {
                                        media: media
                                    });
                                }
                                ;
                                Hls.prototype.detachMedia = function detachMedia() {
                                    logger["b"].log('detachMedia');
                                    this.trigger(events["a"].MEDIA_DETACHING);
                                    this.media = null;
                                }
                                ;
                                Hls.prototype.loadSource = function loadSource(url) {
                                    url = url_toolkit_default.a.buildAbsoluteURL(window.location.href, url, {
                                        alwaysNormalize: true
                                    });
                                    logger["b"].log('loadSource:' + url);
                                    this.url = url;
                                    this.trigger(events["a"].MANIFEST_LOADING, {
                                        url: url
                                    });
                                }
                                ;
                                Hls.prototype.startLoad = function startLoad() {
                                    var startPosition = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : -1;
                                    logger["b"].log('startLoad(' + startPosition + ')');
                                    this.networkControllers.forEach(function(controller) {
                                        controller.startLoad(startPosition);
                                    });
                                }
                                ;
                                Hls.prototype.stopLoad = function stopLoad() {
                                    logger["b"].log('stopLoad');
                                    this.networkControllers.forEach(function(controller) {
                                        controller.stopLoad();
                                    });
                                }
                                ;
                                Hls.prototype.swapAudioCodec = function swapAudioCodec() {
                                    logger["b"].log('swapAudioCodec');
                                    this.streamController.swapAudioCodec();
                                }
                                ;
                                Hls.prototype.recoverMediaError = function recoverMediaError() {
                                    logger["b"].log('recoverMediaError');
                                    var media = this.media;
                                    this.detachMedia();
                                    this.attachMedia(media);
                                }
                                ;
                                hls__createClass(Hls, [{
                                    key: 'levels',
                                    get: function get() {
                                        return this.levelController.levels;
                                    }
                                }, {
                                    key: 'currentLevel',
                                    get: function get() {
                                        return this.streamController.currentLevel;
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set currentLevel:' + newLevel);
                                        this.loadLevel = newLevel;
                                        this.streamController.immediateLevelSwitch();
                                    }
                                }, {
                                    key: 'nextLevel',
                                    get: function get() {
                                        return this.streamController.nextLevel;
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set nextLevel:' + newLevel);
                                        this.levelController.manualLevel = newLevel;
                                        this.streamController.nextLevelSwitch();
                                    }
                                }, {
                                    key: 'loadLevel',
                                    get: function get() {
                                        return this.levelController.level;
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set loadLevel:' + newLevel);
                                        this.levelController.manualLevel = newLevel;
                                    }
                                }, {
                                    key: 'nextLoadLevel',
                                    get: function get() {
                                        return this.levelController.nextLoadLevel;
                                    },
                                    set: function set(level) {
                                        this.levelController.nextLoadLevel = level;
                                    }
                                }, {
                                    key: 'firstLevel',
                                    get: function get() {
                                        return Math.max(this.levelController.firstLevel, this.minAutoLevel);
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set firstLevel:' + newLevel);
                                        this.levelController.firstLevel = newLevel;
                                    }
                                }, {
                                    key: 'startLevel',
                                    get: function get() {
                                        return this.levelController.startLevel;
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set startLevel:' + newLevel);
                                        var hls = this;
                                        if (newLevel !== -1) {
                                            newLevel = Math.max(newLevel, hls.minAutoLevel);
                                        }
                                        hls.levelController.startLevel = newLevel;
                                    }
                                }, {
                                    key: 'autoLevelCapping',
                                    get: function get() {
                                        return this._autoLevelCapping;
                                    },
                                    set: function set(newLevel) {
                                        logger["b"].log('set autoLevelCapping:' + newLevel);
                                        this._autoLevelCapping = newLevel;
                                    }
                                }, {
                                    key: 'autoLevelEnabled',
                                    get: function get() {
                                        return this.levelController.manualLevel === -1;
                                    }
                                }, {
                                    key: 'manualLevel',
                                    get: function get() {
                                        return this.levelController.manualLevel;
                                    }
                                }, {
                                    key: 'minAutoLevel',
                                    get: function get() {
                                        var hls = this
                                            , levels = hls.levels
                                            , minAutoBitrate = hls.config.minAutoBitrate
                                            , len = levels ? levels.length : 0;
                                        for (var i = 0; i < len; i++) {
                                            var levelNextBitrate = levels[i].realBitrate ? Math.max(levels[i].realBitrate, levels[i].bitrate) : levels[i].bitrate;
                                            if (levelNextBitrate > minAutoBitrate) {
                                                return i;
                                            }
                                        }
                                        return 0;
                                    }
                                }, {
                                    key: 'maxAutoLevel',
                                    get: function get() {
                                        var hls = this;
                                        var levels = hls.levels;
                                        var autoLevelCapping = hls.autoLevelCapping;
                                        var maxAutoLevel = void 0;
                                        if (autoLevelCapping === -1 && levels && levels.length) {
                                            maxAutoLevel = levels.length - 1;
                                        } else {
                                            maxAutoLevel = autoLevelCapping;
                                        }
                                        return maxAutoLevel;
                                    }
                                }, {
                                    key: 'nextAutoLevel',
                                    get: function get() {
                                        var hls = this;
                                        return Math.min(Math.max(hls.abrController.nextAutoLevel, hls.minAutoLevel), hls.maxAutoLevel);
                                    },
                                    set: function set(nextLevel) {
                                        var hls = this;
                                        hls.abrController.nextAutoLevel = Math.max(hls.minAutoLevel, nextLevel);
                                    }
                                }, {
                                    key: 'audioTracks',
                                    get: function get() {
                                        var audioTrackController = this.audioTrackController;
                                        return audioTrackController ? audioTrackController.audioTracks : [];
                                    }
                                }, {
                                    key: 'audioTrack',
                                    get: function get() {
                                        var audioTrackController = this.audioTrackController;
                                        return audioTrackController ? audioTrackController.audioTrack : -1;
                                    },
                                    set: function set(audioTrackId) {
                                        var audioTrackController = this.audioTrackController;
                                        if (audioTrackController) {
                                            audioTrackController.audioTrack = audioTrackId;
                                        }
                                    }
                                }, {
                                    key: 'liveSyncPosition',
                                    get: function get() {
                                        return this.streamController.liveSyncPosition;
                                    }
                                }, {
                                    key: 'subtitleTracks',
                                    get: function get() {
                                        var subtitleTrackController = this.subtitleTrackController;
                                        return subtitleTrackController ? subtitleTrackController.subtitleTracks : [];
                                    }
                                }, {
                                    key: 'subtitleTrack',
                                    get: function get() {
                                        var subtitleTrackController = this.subtitleTrackController;
                                        return subtitleTrackController ? subtitleTrackController.subtitleTrack : -1;
                                    },
                                    set: function set(subtitleTrackId) {
                                        var subtitleTrackController = this.subtitleTrackController;
                                        if (subtitleTrackController) {
                                            subtitleTrackController.subtitleTrack = subtitleTrackId;
                                        }
                                    }
                                }, {
                                    key: 'subtitleDisplay',
                                    get: function get() {
                                        var subtitleTrackController = this.subtitleTrackController;
                                        return subtitleTrackController ? subtitleTrackController.subtitleDisplay : false;
                                    },
                                    set: function set(value) {
                                        var subtitleTrackController = this.subtitleTrackController;
                                        if (subtitleTrackController) {
                                            subtitleTrackController.subtitleDisplay = value;
                                        }
                                    }
                                }]);
                                return Hls;
                            }();
                            var src_hls = __webpack_exports__["default"] = hls_Hls;
                        }
                        , function(module, exports, __webpack_require__) {
                            function webpackBootstrapFunc(modules) {
                                var installedModules = {};
                                function __webpack_require__(moduleId) {
                                    if (installedModules[moduleId])
                                        return installedModules[moduleId].exports;
                                    var module = installedModules[moduleId] = {
                                        i: moduleId,
                                        l: false,
                                        exports: {}
                                    };
                                    modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
                                    module.l = true;
                                    return module.exports;
                                }
                                __webpack_require__.m = modules;
                                __webpack_require__.c = installedModules;
                                __webpack_require__.i = function(value) {
                                    return value;
                                }
                                ;
                                __webpack_require__.d = function(exports, name, getter) {
                                    if (!__webpack_require__.o(exports, name)) {
                                        Object.defineProperty(exports, name, {
                                            configurable: false,
                                            enumerable: true,
                                            get: getter
                                        });
                                    }
                                }
                                ;
                                __webpack_require__.n = function(module) {
                                    var getter = module && module.__esModule ? function getDefault() {
                                            return module['default'];
                                        }
                                        : function getModuleExports() {
                                            return module;
                                        }
                                    ;
                                    __webpack_require__.d(getter, 'a', getter);
                                    return getter;
                                }
                                ;
                                __webpack_require__.o = function(object, property) {
                                    return Object.prototype.hasOwnProperty.call(object, property);
                                }
                                ;
                                __webpack_require__.p = "/";
                                __webpack_require__.oe = function(err) {
                                    console.error(err);
                                    throw err;
                                }
                                ;
                                var f = __webpack_require__(__webpack_require__.s = ENTRY_MODULE);
                                return f.default || f;
                            }
                            var moduleNameReqExp = '[\\.|\\-|\\+|\\w|\/|@]+';
                            var dependencyRegExp = '\\((\/\\*.*?\\*\/)?\s?.*?(' + moduleNameReqExp + ').*?\\)';
                            function quoteRegExp(str) {
                                return (str + '').replace(/[.?*+^$[\]\\(){}|-]/g, '\\$&');
                            }
                            function getModuleDependencies(sources, module, queueName) {
                                var retval = {};
                                retval[queueName] = [];
                                var fnString = module.toString();
                                var wrapperSignature = fnString.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);
                                if (!wrapperSignature)
                                    return retval;
                                var webpackRequireName = wrapperSignature[1];
                                var re = new RegExp('(\\\\n|\\W)' + quoteRegExp(webpackRequireName) + dependencyRegExp,'g');
                                var match;
                                while (match = re.exec(fnString)) {
                                    if (match[3] === 'dll-reference')
                                        continue;
                                    retval[queueName].push(match[3]);
                                }
                                re = new RegExp('\\(' + quoteRegExp(webpackRequireName) + '\\("(dll-reference\\s(' + moduleNameReqExp + '))"\\)\\)' + dependencyRegExp,'g');
                                while (match = re.exec(fnString)) {
                                    if (!sources[match[2]]) {
                                        retval[queueName].push(match[1]);
                                        sources[match[2]] = __webpack_require__(match[1]).m;
                                    }
                                    retval[match[2]] = retval[match[2]] || [];
                                    retval[match[2]].push(match[4]);
                                }
                                return retval;
                            }
                            function hasValuesInQueues(queues) {
                                var keys = Object.keys(queues);
                                return keys.reduce(function(hasValues, key) {
                                    return hasValues || queues[key].length > 0;
                                }, false);
                            }
                            function getRequiredModules(sources, moduleId) {
                                var modulesQueue = {
                                    main: [moduleId]
                                };
                                var requiredModules = {
                                    main: []
                                };
                                var seenModules = {
                                    main: {}
                                };
                                while (hasValuesInQueues(modulesQueue)) {
                                    var queues = Object.keys(modulesQueue);
                                    for (var i = 0; i < queues.length; i++) {
                                        var queueName = queues[i];
                                        var queue = modulesQueue[queueName];
                                        var moduleToCheck = queue.pop();
                                        seenModules[queueName] = seenModules[queueName] || {};
                                        if (seenModules[queueName][moduleToCheck] || !sources[queueName][moduleToCheck])
                                            continue;
                                        seenModules[queueName][moduleToCheck] = true;
                                        requiredModules[queueName] = requiredModules[queueName] || [];
                                        requiredModules[queueName].push(moduleToCheck);
                                        var newModules = getModuleDependencies(sources, sources[queueName][moduleToCheck], queueName);
                                        var newModulesKeys = Object.keys(newModules);
                                        for (var j = 0; j < newModulesKeys.length; j++) {
                                            modulesQueue[newModulesKeys[j]] = modulesQueue[newModulesKeys[j]] || [];
                                            modulesQueue[newModulesKeys[j]] = modulesQueue[newModulesKeys[j]].concat(newModules[newModulesKeys[j]]);
                                        }
                                    }
                                }
                                return requiredModules;
                            }
                            module.exports = function(moduleId, options) {
                                options = options || {};
                                var sources = {
                                    main: __webpack_require__.m
                                };
                                var requiredModules = options.all ? {
                                    main: Object.keys(sources)
                                } : getRequiredModules(sources, moduleId);
                                var src = '';
                                Object.keys(requiredModules).filter(function(m) {
                                    return m !== 'main';
                                }).forEach(function(module) {
                                    var entryModule = 0;
                                    while (requiredModules[module][entryModule]) {
                                        entryModule++;
                                    }
                                    requiredModules[module].push(entryModule);
                                    sources[module][entryModule] = '(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })';
                                    src = src + 'var ' + module + ' = (' + webpackBootstrapFunc.toString().replace('ENTRY_MODULE', JSON.stringify(entryModule)) + ')({' + requiredModules[module].map(function(id) {
                                        return '' + JSON.stringify(id) + ': ' + sources[module][id].toString();
                                    }).join(',') + '});\n';
                                });
                                src = src + '(' + webpackBootstrapFunc.toString().replace('ENTRY_MODULE', JSON.stringify(moduleId)) + ')({' + requiredModules.main.map(function(id) {
                                    return '' + JSON.stringify(id) + ': ' + sources.main[id].toString();
                                }).join(',') + '})(self);';
                                var blob = new window.Blob([src],{
                                    type: 'text/javascript'
                                });
                                if (options.bare) {
                                    return blob;
                                }
                                var URL = window.URL || window.webkitURL || window.mozURL || window.msURL;
                                var workerUrl = URL.createObjectURL(blob);
                                var worker = new window.Worker(workerUrl);
                                worker.objectURL = workerUrl;
                                return worker;
                            }
                            ;
                        }
                        , function(module, __webpack_exports__, __webpack_require__) {
                            "use strict";
                            Object.defineProperty(__webpack_exports__, "__esModule", {
                                value: true
                            });
                            var __WEBPACK_IMPORTED_MODULE_0__demux_demuxer_inline__ = __webpack_require__(9);
                            var __WEBPACK_IMPORTED_MODULE_1__events__ = __webpack_require__(1);
                            var __WEBPACK_IMPORTED_MODULE_2__utils_logger__ = __webpack_require__(0);
                            var __WEBPACK_IMPORTED_MODULE_3_events__ = __webpack_require__(6);
                            var __WEBPACK_IMPORTED_MODULE_3_events___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_events__);
                            var DemuxerWorker = function DemuxerWorker(self) {
                                var observer = new __WEBPACK_IMPORTED_MODULE_3_events___default.a();
                                observer.trigger = function trigger(event) {
                                    for (var _len = arguments.length, data = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                                        data[_key - 1] = arguments[_key];
                                    }
                                    observer.emit.apply(observer, [event, event].concat(data));
                                }
                                ;
                                observer.off = function off(event) {
                                    for (var _len2 = arguments.length, data = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                                        data[_key2 - 1] = arguments[_key2];
                                    }
                                    observer.removeListener.apply(observer, [event].concat(data));
                                }
                                ;
                                var forwardMessage = function forwardMessage(ev, data) {
                                    self.postMessage({
                                        event: ev,
                                        data: data
                                    });
                                };
                                self.addEventListener('message', function(ev) {
                                    var data = ev.data;
                                    switch (data.cmd) {
                                        case 'init':
                                            var config = JSON.parse(data.config);
                                            self.demuxer = new __WEBPACK_IMPORTED_MODULE_0__demux_demuxer_inline__["a"](observer,data.typeSupported,config,data.vendor);
                                            try {
                                                Object(__WEBPACK_IMPORTED_MODULE_2__utils_logger__["a"])(config.debug === true);
                                            } catch (err) {
                                                console.warn('demuxerWorker: unable to enable logs');
                                            }
                                            forwardMessage('init', null);
                                            break;
                                        case 'demux':
                                            self.demuxer.push(data.data, data.decryptdata, data.initSegment, data.audioCodec, data.videoCodec, data.timeOffset, data.discontinuity, data.trackSwitch, data.contiguous, data.duration, data.accurateTimeOffset, data.defaultInitPTS);
                                            break;
                                        default:
                                            break;
                                    }
                                });
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_DECRYPTED, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_INIT_SEGMENT, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSED, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].ERROR, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_METADATA, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_USERDATA, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].INIT_PTS_FOUND, forwardMessage);
                                observer.on(__WEBPACK_IMPORTED_MODULE_1__events__["a"].FRAG_PARSING_DATA, function(ev, data) {
                                    var transferable = [];
                                    var message = {
                                        event: ev,
                                        data: data
                                    };
                                    if (data.data1) {
                                        message.data1 = data.data1.buffer;
                                        transferable.push(data.data1.buffer);
                                        delete data.data1;
                                    }
                                    if (data.data2) {
                                        message.data2 = data.data2.buffer;
                                        transferable.push(data.data2.buffer);
                                        delete data.data2;
                                    }
                                    self.postMessage(message, transferable);
                                });
                            };
                            __webpack_exports__["default"] = DemuxerWorker;
                        }
                        , function(module, exports) {
                            if (!String.prototype.endsWith) {
                                (function() {
                                        'use strict';
                                        var defineProperty = function() {
                                            try {
                                                var object = {};
                                                var $defineProperty = Object.defineProperty;
                                                var result = $defineProperty(object, object, object) && $defineProperty;
                                            } catch (error) {}
                                            return result;
                                        }();
                                        var toString = {}.toString;
                                        var endsWith = function(search) {
                                            if (this == null) {
                                                throw TypeError();
                                            }
                                            var string = String(this);
                                            if (search && toString.call(search) == '[object RegExp]') {
                                                throw TypeError();
                                            }
                                            var stringLength = string.length;
                                            var searchString = String(search);
                                            var searchLength = searchString.length;
                                            var pos = stringLength;
                                            if (arguments.length > 1) {
                                                var position = arguments[1];
                                                if (position !== undefined) {
                                                    pos = position ? Number(position) : 0;
                                                    if (pos != pos) {
                                                        pos = 0;
                                                    }
                                                }
                                            }
                                            var end = Math.min(Math.max(pos, 0), stringLength);
                                            var start = end - searchLength;
                                            if (start < 0) {
                                                return false;
                                            }
                                            var index = -1;
                                            while (++index < searchLength) {
                                                if (string.charCodeAt(start + index) != searchString.charCodeAt(index)) {
                                                    return false;
                                                }
                                            }
                                            return true;
                                        };
                                        if (defineProperty) {
                                            defineProperty(String.prototype, 'endsWith', {
                                                'value': endsWith,
                                                'configurable': true,
                                                'writable': true
                                            });
                                        } else {
                                            String.prototype.endsWith = endsWith;
                                        }
                                    }
                                )();
                            }
                        }
                    ])["default"];
                });
                window.carodaHls = {
                    Hls: window.Hls,
                    MediaSource: window.MediaSource,
                    SourceBuffer: window.SourceBuffer
                }
                window.Hls = window._Hls
                window.MediaSource = window._MediaSource
                window.SourceBuffer = window._SourceBuffer
            }
        )()
        ;
        (function() {
                var VAST_PLAYER_SCRIPT = "<!doctype html><html><head><title>Caroda Content Player Frame</title><meta name=\"viewport\" content=\"width=device-width,initial-scale=1\"><meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"><style>.video-js .vjs-audio-button,.video-js .vjs-big-play-button,.video-js .vjs-captions-button,.video-js .vjs-chapters-button,.video-js .vjs-control.vjs-close-button,.video-js .vjs-descriptions-button,.video-js .vjs-fullscreen-control,.video-js .vjs-mouse-display,.video-js .vjs-mute-control,.video-js .vjs-mute-control.vjs-vol-0,.video-js .vjs-mute-control.vjs-vol-1,.video-js .vjs-mute-control.vjs-vol-2,.video-js .vjs-play-control,.video-js .vjs-play-control.vjs-playing,.video-js .vjs-play-progress,.video-js .vjs-subtitles-button,.video-js .vjs-volume-level,.video-js .vjs-volume-menu-button,.video-js .vjs-volume-menu-button.vjs-vol-0,.video-js .vjs-volume-menu-button.vjs-vol-1,.video-js .vjs-volume-menu-button.vjs-vol-2,.video-js.vjs-fullscreen .vjs-fullscreen-control,.vjs-icon-audio,.vjs-icon-audio-description,.vjs-icon-cancel,.vjs-icon-captions,.vjs-icon-chapters,.vjs-icon-circle,.vjs-icon-circle-inner-circle,.vjs-icon-circle-outline,.vjs-icon-cog,.vjs-icon-facebook,.vjs-icon-fullscreen-enter,.vjs-icon-fullscreen-exit,.vjs-icon-gplus,.vjs-icon-hd,.vjs-icon-linkedin,.vjs-icon-pause,.vjs-icon-pinterest,.vjs-icon-play,.vjs-icon-play-circle,.vjs-icon-replay,.vjs-icon-spinner,.vjs-icon-square,.vjs-icon-subtitles,.vjs-icon-tumblr,.vjs-icon-twitter,.vjs-icon-volume-high,.vjs-icon-volume-low,.vjs-icon-volume-mid,.vjs-icon-volume-mute{font-family:VideoJS;font-weight:400;font-style:normal}.video-js,.vjs-no-js{color:#fff;background-color:#000}.video-js .vjs-big-play-button:before,.video-js .vjs-control,.video-js .vjs-control:before,.vjs-menu li,.vjs-no-js{text-align:center}.video-js .vjs-big-play-button:before,.video-js .vjs-control:before,.video-js .vjs-modal-dialog,.vjs-modal-dialog .vjs-modal-dialog-content{position:absolute;top:0;left:0;width:100%;height:100%}@font-face{font-family:VideoJS;src:url(font/VideoJS.eot?#iefix) format(\"eot\")}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAA54AAoAAAAAFmgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWUZFeBWNtYXAAAAE0AAAAOgAAAUriMBC2Z2x5ZgAAAXAAAAouAAAPUFvx6AdoZWFkAAALoAAAACsAAAA2DIPpX2hoZWEAAAvMAAAAGAAAACQOogcgaG10eAAAC+QAAAAPAAAAfNkAAABsb2NhAAAL9AAAAEAAAABAMMg06m1heHAAAAw0AAAAHwAAACABMAB5bmFtZQAADFQAAAElAAACCtXH9aBwb3N0AAANfAAAAPwAAAGBZkSN43icY2BkZ2CcwMDKwMFSyPKMgYHhF4RmjmEIZzzHwMDEwMrMgBUEpLmmMDh8ZPwoxw7iLmSHCDOCCADvEAo+AAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGD7K/f8PUvCREUTzM0DVAwEjG8OIBwCPdwbVAAB4nI1Xe1CU1xX/zv1eLItLln0JwrIfC7sJGET2hRJ2N1GUoBJE8AESQEEhmBHjaB7UuBMTO4GMaSu7aY3RNlOdRPNqO2pqRmuTaSZtR6JJILUZk00a/4imjpmiecB303O/XUgMJOPufvd+99xzzz33nN855y4HHH7EfrGfIxwHRiANvF/sH71I9BzHszmpW+rGOQOXxXE6YhI4PoMT8zkT4cDFuf1cwMrZJI5cglM0HKVv0MaUFDgIFfg9mJJCG+kbKn1JkqBOVaFOkuhLpARq8fu0Nnc9/zdvfY9PxXW4PdH0C6N+PCejhorxFjAqRjgFRXSINEARbBGsoxcFK7IJmr4OycFJnInL59zIXwxui80fkGRbEHyosMWaATJKUfCskmwJQsAWANkmnIGOhlf514h7U8HNIv3owoHB0WMt0Eb3sx0guLi5pq/8Ny1q6969fKR9X9GBV6dPv6dp04K99SOwtmyPl47ApRa6n4ZpP1yjr5fn7MmYP/vXLUJs715UguklHBaHOZHZmG1N9FAIW2mf0MqWCIdo/8RZ1yGfxKUldDcGIbFA7ICO+vqOMSPTh/ZrSqgHi/bB/O8E8Mnzp+M+acxfpsTShBwej26TiGxBn7m4eEIO+Rueu6Hj+IFBnh88cAEUEQ//nVLx5C7kf+yIR47QEe+eMlhz9SqsGbe3hh2R03NGzoY6O42Kz8l7fB6fAk6LYnTyFo/FYyT6GGyNx2Jx2sdH4rA1Fo/HyCXaFyOp8dhYBCfJb2NIn1ImE6CYNGmgSTb52DawJR6jfXEmDU4xyTEmpgHHOIStoxfjSGdkbsK2w2jbdMQG4sgAstEONgURYCwGHhEhhscioQaAhhCf7McifEQc0l6+mxj9nI+gmSdiQ0Zbm7gZnIO7GSMEXG6UDAVocxAV8GcEXCKg1a02RcTtwANWRGIAyElor6n/+ZU2yOB3+T77Hb1MLqhn4KHVnQBjJnqe9QZSon6Kc5DxAD2vMdPL/BXSmQGwspa67z9wLUjdi9TN7QC7lyyBr9rpt7uXVC1CMpyjKRoXnGPHTuiaPLsNdc2dbAFQLAooPkXEh33FodHl4XpC6sPCIa0ftUIhHSYXVSu5iME+DIXsbZJ51BeidCgajcai43jU9nVzoSn2dPqcFvSoxSzJzgRKAx47WMRxOrIj3Wf0+hndxhJTiOkSEqxar3b3RKM9hY64oxBA64ieURLvCfpkDb8siBdUJ1bgT+urJ5PGfewQrmm5R5+0HmfyIPySD7OYkT0WxRePah8oEiyjlxIP74thVoRTURpmL6QhGuWS+QDjdANXjIM8SQa/1w128ODx0Qp4aLMNg9+JL3joUn8AMxW+aLNiuKjarn4uyyTdXjOzZTsh21uwldUvJoYza+zELALfu3p1L8/3krtyZ0Ag058J3hxHghvbGZn0dHZy6Mim/7Blre4lpHd1c28yVqRViO153F2oIWoXCIKbL4Z0cM1iaQn9mI5KuV2SzEvWXJDMNtkANpMdQoDDhIdD4A/YrP6Aye9ysxyE+uOEAcTDorgvVZJjcua043PnZ/PmdDqcbibZlXOOT8uSo7Kof0YUn9GL+Jo17ficymxiTofC6znUso0DhAxs1Fo+kF+d36vLmgZ8mk5cdGv2mwYj5k3Dm9m3LhJ1aVRNm6HrTbLgYAoWXDhDd/u4PGy5CT+xGMdiaBovewUCF/1BiWNljI9MLn7jeScpg+WyH6mfU62eVDql7hsrmvx1ezp/YldE2LhjbkiDnAn8tGy/MW3IXRMYJduvq9HpmIcKuFt+JCtgdGEGKAcF6UacVwIYbVPGfw/+YuNBS4cx/CUHcnyfc+wRDMtTr72mMSBjT/yn/GKSdeDWQUCH6Xoqq5R10RE60gV6erUL0iCti16d0hZjxut4QI/rEpgSh6WjnJXdBXRg1GKCucGJPtFqM27aD1tOqqKonsQ2KsFSSmEpmvRlsR+TcD9OFwrqXxIclL4sJTnGMSuG8KpkZvKdeVIOKDyWSyPLV16/p1QMPbP8NihwUzr47bdnXtwtjdCvqqpO0H+pOvIl3Pzv46e5CT/tQjklXCXXym1AaWY7bzHLkuDMc7ldKCvgxzLn8wYkJLBhEDyK7MT8bTbwbkxbfp+3mKAGsmTBpabSIEECzMIcQlzOPAMKsxMs7uhsnxPLuofPDTc1hkuq6MX9j16YU7CqegcYHbmWYuvAP6tCS97tgWf7dlQvnl25YPavXLVZvrzQPeHCpZmzzEUVq/xzu5sChnSTPTW7oOYmh69z4zL/gk3b+O6hoa733uviP82vnFcbqWlc9tDmZa23LVzaV1yXURi+JX+28NeBuj3+O8IrQ080Vm1eWB4OKjPmrJu7c1udWynvKF6/vs479lSW9+5gZkn+dKfellNGDPllzeULustz+A0bPvhgw7lkvEUwn/N4Ty7U7nhGsEpFkOfy+kutbOh1JQxhVDJumoW11hnkPThznh6FFlhfT+ra1x9sF56kx5YuDzVY9PQYAYA7iblw4frQ4TPCk2MK/xGU3rlmze62trHz6lsko+v+So/do74PT8KVkpJfOErKcv8znrMGsHTNxoEkWy1mYgDB6XBbPaWsuiS6CryGaL6zCjaXBgvtkuyXBua1wOKnh+k7L9AvPnYWffxK18FcJbuosGf3/Jo7amY+CE1vppzY+UTrva0FXc1i55pKQ/YjVL187N5fCn1kW5uot/1hi+DiZ+5atnJR9E+prvydJ9ZZ5mwOpU5gM4KYysMBQ71UzPuMTl9QQOyUo5nwioeYCPjFklrbK6s6X+ypUZ6rum9+CZYzWRiBJfSP0xzzSmrg7f86g0DKVj/wwFzieD9rRfPGFbeKMl05pn5j9/rsQJJ2iEgRrpohlyBo3f4QK7Kl+EcAYZgAoNVmZWXK704YAa3FwBxgSGUOs5htvGRz4Sgj3yFkSJFBuv/sxu5yk998T8WDJzvv/2RX19HtTUW1S+wpKRKRjJ6zzz/1/OPdFdWGlAKbvzS4PHOtURikg9AGz0LbIB85S/cPOpoXvuue8/iV2H1vPTy3ddvOeZ37HGmO3OmSzVzR+NS53+84dHlFhXPLqtzSO+5ruHM2vXtBdxP87LOzKAD359j/INYIbyPabIi3Cq6Wa+SaGe78diIzu7qcblcAa6/fJRvNopXFJnO+U9KKM5bqH5LM0iQSVmpPCPDu7ZT4Aoubz3709EBTyrTDjyx8MQXgUH1nqm7TWng4TzE4i4AsKskBITXfSyC4Fkl5MxnJDiKSIDSJAsGvd1y+/eNDp2e+A+5d8HeiiunrTkT6TqWLIs+/QRoWr98s0qj8uuzLuS22Ytufg3rdTaHn1m46sfgGKHXt0MGnLaRHdnwN37tvHcWKo2V6lnPxL4UvUQcRdOzmZSQs8X5CH5OxXMXpkATuDz8Et0SH4uyCRR+TjmBDP1GvsVrWEGVzEj33YVQ9jAtIKpqsl/s/0xrocwAAeJxjYGRgYADig3cEzsTz23xl4GZnAIHLRucNkWl2BrA4BwMTiAIAF4IITwB4nGNgZGBgZwCChWASxGZkQAXyABOUANh4nGNnYGBgHyAMADa8ANoAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqHicY2BkYGCQZ8hlYGcAASYg5gJCBob/YD4DABbVAaoAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2P2XLCMAxFfYFspGUp3Te+IB9lHJF4cOzUS2n/voaEGR6qB+lKo+WITdhga/a/bRnDBFPMkCBFhhwF5ihxg1sssMQKa9xhg3s84BFPeMYLXvGGd3zgE9tZr/hveXKVkFYoSnoeHJXfRoWOqi54mo9ameNFdrK+dLSyaVf7oJQTlkhXpD3Z5XXhR/rUfQVuKXO91Jps4cLOS6/I5YL3XhodRRsVWZe4NnZOhWnSAWgxhMoEr6SmzZieF43Mk7ZOBdeCVGrp9Eu+54J2xhySplfB5XHwQLXUmT9KH6+kPnQ7ZYuIEzNyfs1DLU1VU4SWZ6LkXGHsD1ZKbMw=) format(\"woff\"),url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMlGRXgUAAAEoAAAAVmNtYXDiMBC2AAAB/AAAAUpnbHlmW/HoBwAAA4gAAA9QaGVhZAyD6V8AAADQAAAANmhoZWEOogcgAAAArAAAACRobXR42QAAAAAAAYAAAAB8bG9jYTDINOoAAANIAAAAQG1heHABMAB5AAABCAAAACBuYW1l1cf1oAAAEtgAAAIKcG9zdGZEjeMAABTkAAABgQABAAAHAAAAAKEHAAAAAAAHAAABAAAAAAAAAAAAAAAAAAAAHwABAAAAAQAAwdxheF8PPPUACwcAAAAAANMyzzEAAAAA0zLPMQAAAAAHAAcAAAAACAACAAAAAAAAAAEAAAAfAG0ABwAAAAAAAgAAAAoACgAAAP8AAAAAAAAAAQcAAZAABQAIBHEE5gAAAPoEcQTmAAADXABXAc4AAAIABQMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUGZFZABA8QHxHgcAAAAAoQcAAAAAAAABAAAAAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAcAAAAHAAAABwAAAAAAAAMAAAADAAAAHAABAAAAAABEAAMAAQAAABwABAAoAAAABgAEAAEAAgAA8R7//wAAAADxAf//AAAPAAABAAAAAAAAAAABBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqAABAAAAAAWLBYsAAgAAAREBAlUDNgWL++oCCwAAAwAAAAAGawZrAAIADgAaAAAJAhMEAAMSAAUkABMCAAEmACc2ADcWABcGAALrAcD+QJX+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgIwAVABUAGbCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAAAAgAAAAAFQAWLAAMABwAAASERKQERIREBwAEr/tUCVQErAXUEFvvqBBYAAAAEAAAAAAYgBiAABgATACQAJwAAAS4BJxUXNjcGBxc+ATUmACcVFhIBBwEhESEBEQEGBxU+ATcXNwEHFwTQAWVVuAO7AidxJSgF/t/lpc77t18BYf6fASsBdQE+TF1OijuZX/1gnJwDgGSeK6W4GBhqW3FGnFT0AWM4mjT+9AHrX/6f/kD+iwH2/sI7HZoSRDGYXwSWnJwAAAEAAAAABKsF1gAFAAABESEBEQECCwEqAXb+igRg/kD+iwSq/osAAAACAAAAAAVmBdYABgAMAAABLgEnET4BAREhAREBBWUBZVRUZfwRASsBdf6LA4Bkniv9piueAUT+QP6LBKr+iwAAAwAAAAAGIAYPAAUADAAaAAATESEBEQEFLgEnET4BAxUWEhcGAgcVNgA3JgDgASsBdf6LAsUBZVVVZbqlzgMDzqXlASEFBf7fBGD+QP6LBKr+i+Bkniv9piueAvOaNP70tbX+9DSaOAFi9fUBYgAAAAQAAAAABYsFiwAFAAsAEQAXAAABIxEhNSMDMzUzNSEBIxUhESMDFTMVMxECC5YBduCWluD+igOA4AF2luDglgLr/oqWAgrglvyAlgF2AqCW4AF2AAQAAAAABYsFiwAFAAsAEQAXAAABMxUzESETIxUhESMBMzUzNSETNSMRITUBdeCW/org4AF2lgHAluD+ipaWAXYCVeABdgHAlgF2++rglgHA4P6KlgAAAAACAAAAAAXWBdYADwATAAABIQ4BBxEeARchPgE3ES4BAyERIQVA/IA/VQEBVT8DgD9VAQFVP/yAA4AF1QFVP/yAP1UBAVU/A4A/VfvsA4AAAAYAAAAABmsGawAHAAwAEwAbACAAKAAACQEmJw4BBwElLgEnAQUhATYSNyYFAQYCBxYXIQUeARcBMwEWFz4BNwECvgFkTlSH8GEBEgOONemh/u4C5f3QAXpcaAEB/BP+3VxoAQEOAjD95DXpoQESeP7dTlSH8GH+7gPwAmgSAQFYUP4nd6X2Pv4nS/1zZAEBk01NAfhk/v+TTUhLpfY+Adn+CBIBAVhQAdkAAAAFAAAAAAZrBdYADwATABcAGwAfAAABIQ4BBxEeARchPgE3ES4BASEVIQEhNSEFITUhNSE1IQXV+1ZAVAICVEAEqkBUAgJU+xYBKv7WAur9FgLqAcD+1gEq/RYC6gXVAVU//IA/VQEBVT8DgD9V/ayV/tWVlZWWlQADAAAAAAYgBdYADwAnAD8AAAEhDgEHER4BFyE+ATcRLgEBIzUjFTM1MxUUBgcjLgEnET4BNzMeARUFIzUjFTM1MxUOAQcjLgE1ETQ2NzMeARcFi/vqP1QCAlQ/BBY/VAICVP1rcJWVcCog4CAqAQEqIOAgKgILcJWVcAEqIOAgKiog4CAqAQXVAVU//IA/VQEBVT8DgD9V/fcl4CVKICoBASogASogKgEBKiBKJeAlSiAqAQEqIAEqICoBASogAAAGAAAAAAYgBPYAAwAHAAsADwATABcAABMzNSMRMzUjETM1IwEhNSERITUhERUhNeCVlZWVlZUBKwQV++sEFfvrBBUDNZb+QJUBwJX+QJb+QJUCVZWVAAAAAQAAAAAGIAZsAC4AAAEiBgcBNjQnAR4BMz4BNy4BJw4BBxQXAS4BIw4BBx4BFzI2NwEGBx4BFz4BNy4BBUArSh797AcHAg8eTixffwICf19ffwIH/fEeTixffwICf18sTh4CFAUBA3tcXHsDA3sCTx8bATcZNhkBNB0gAn9fX38CAn9fGxn+zRwgAn9fX38CIBz+yhcaXHsCAntcXXsAAAIAAAAABlkGawBDAE8AAAE2NCc3PgEnAy4BDwEmLwEuASchDgEPAQYHJyYGBwMGFh8BBhQXBw4BFxMeAT8BFh8BHgEXIT4BPwE2NxcWNjcTNiYnBS4BJz4BNx4BFw4BBasFBZ4KBgeWBxkNujpEHAMUD/7WDxQCHEU5ug0aB5UHBQudBQWdCwUHlQcaDbo5RRwCFA8BKg8UAhxFOboNGgeVBwUL/ThvlAIClG9vlAIClAM3JEokewkaDQEDDAkFSy0cxg4RAQERDsYcLUsFCQz+/QwbCXskSiR7CRoN/v0MCQVLLRzGDhEBAREOxhwtSwUJDAEDDBsJQQKUb2+UAgKUb2+UAAAAAAEAAAAABmsGawALAAATEgAFJAATAgAlBACVCAGmAT0BPQGmCAj+Wv7D/sP+WgOA/sP+WggIAaYBPQE9AaYICP5aAAAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAASYAJzYANxYAFwYAA4D+w/5aCAgBpgE9AT0BpggI/lr+w/3+rgYGAVL9/QFSBgb+rgZrCP5a/sP+w/5aCAgBpgE9AT0BpvrIBgFS/f0BUgYG/q79/f6uAAADAAAAAAZrBmsACwAXACMAAAEEAAMSAAUkABMCAAEmACc2ADcWABcGAAMOAQcuASc+ATceAQOA/sP+WggIAaYBPQE9AaYICP5a/sP9/q4GBgFS/f0BUgYG/q4dAn9fX38CAn9fX38Gawj+Wv7D/sP+WggIAaYBPQE9Aab6yAYBUv39AVIGBv6u/f3+rgJPX38CAn9fX38CAn8AAAAEAAAAAAYgBiAADwAbACUAKQAAASEOAQcRHgEXIT4BNxEuAQEjNSMVIxEzFTM1OwEhHgEXEQ4BByE3MzUjBYv76j9UAgJUPwQWP1QCAlT9a3CVcHCVcJYBKiAqAQEqIP7WcJWVBiACVD/76j9UAgJUPwQWP1T8gpWVAcC7uwEqIP7WICoBcOAAAgAAAAAGawZrAAsAFwAAAQQAAxIABSQAEwIAEwcJAScJATcJARcBA4D+w/5aCAgBpgE9AT0BpggI/lo4af70/vRpAQv+9WkBDAEMaf71BmsI/lr+w/7D/loICAGmAT0BPQGm/BFpAQv+9WkBDAEMaf71AQtp/vQAAQAAAAAF1ga2ABYAAAERCQERHgEXDgEHLgEnIxYAFzYANyYAA4D+iwF1vv0FBf2+vv0FlQYBUf7+AVEGBv6vBYsBKv6L/osBKgT9v779BQX9vv7+rwYGAVH+/gFRAAAAAQAAAAAFPwcAABQAAAERIyIGHQEhAyMRIREjETM1NDYzMgU/nVY8ASUn/v7O///QrZMG9P74SEi9/tj9CQL3ASjaus0AAAAABAAAAAAGjgcAADAARQBgAGwAAAEUHgMVFAcGBCMiJicmNTQ2NzYlLgE1NDcGIyImNTQ2Nz4BMyEHIx4BFRQOAycyNjc2NTQuAiMiBgcGFRQeAxMyPgI1NC4BLwEmLwImIyIOAxUUHgIBMxUjFSM1IzUzNTMDH0BbWkAwSP7qn4TlOSVZSoMBESAfFS4WlMtIP03TcAGiioNKTDFFRjGSJlAaNSI/akAqURkvFCs9WTY6a1s3Dg8THgocJU4QIDVob1M2RnF9A2vV1WnU1GkD5CRFQ1CATlpTenNTYDxHUYouUhIqQCkkMQTBlFKaNkJAWD+MWkhzRztAPiEbOWY6hn1SJyE7ZS5nZ1I0/JcaNF4+GTAkGCMLFx04Ag4kOF07Rms7HQNsbNvbbNkAAwAAAAAGgAZsAAMADgAqAAABESERARYGKwEiJjQ2MhYBESERNCYjIgYHBhURIRIQLwEhFSM+AzMyFgHd/rYBXwFnVAJSZGemZASP/rdRVj9VFQv+twIBAQFJAhQqR2c/q9AEj/whA98BMkliYpNhYfzd/cgCEml3RTMeM/3XAY8B8DAwkCAwOB/jAAABAAAAAAaUBgAAMQAAAQYHFhUUAg4BBCMgJxYzMjcuAScWMzI3LgE9ARYXLgE1NDcWBBcmNTQ2MzIXNjcGBzYGlENfAUyb1v7SrP7x4SMr4bBpph8hHCsqcJNETkJOLHkBW8YIvYaMYG1gJWldBWhiRQ4cgv797rdtkQSKAn1hBQsXsXUEJgMsjlNYS5WzCiYkhr1mFTlzPwoAAAABAAAAAAWABwAAIgAAARcOAQcGLgM1ESM1PgQ3PgE7AREhFSERFB4CNzYFMFAXsFlorXBOIahIckQwFAUBBwT0AU3+sg0gQzBOAc/tIz4BAjhceHg6AiDXGlddb1ctBQf+WPz9+h40NR4BAgABAAAAAAaABoAASgAAARQCBCMiJzY/AR4BMzI+ATU0LgEjIg4DFRQWFxY/ATY3NicmNTQ2MzIWFRQGIyImNz4CNTQmIyIGFRQXAwYXJgI1NBIkIAQSBoDO/p/Rb2s7EzYUaj15vmh34o5ptn9bK1BNHggIBgIGETPRqZepiWs9Sg4IJRc2Mj5WGWMRBM7+zgFhAaIBYc4DgNH+n84gXUfTJzmJ8JZyyH46YH2GQ2ieIAwgHxgGFxQ9WpfZpIOq7lc9I3VZHzJCclVJMf5eRmtbAXzp0QFhzs7+nwAABwAAAAAHAATPAA4AFwAqAD0AUABaAF0AAAERNh4CBw4BBwYmIycmNxY2NzYmBxEUBRY2Nz4BNy4BJyMGHwEeARcOARcWNjc+ATcuAScjBh8BHgEXFAYXFjY3PgE3LgEnIwYfAR4BFw4BBTM/ARUzESMGAyUVJwMchM2UWwgNq4JHrQgBAapUaAoJcWMBfiIhDiMrAQJLMB0BBAokNAIBPmMiIQ4iLAECSzAeAQUKJDQBP2MiIQ4iLAECSzAeAQUKJDQBAT75g+5B4arNLNIBJ44ByQL9BQ9mvYCKwA8FBQMDwwJVTGdzBf6VB8IHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvUwHNR08lld9uT4LCRA/qGNxvVJkAWUDDEf+tYP5AQAAAAEAAAAABiAGtgAbAAABBAADER4BFzMRITU2ADcWABcVIREzPgE3EQIAA4D+4v6FBwJ/X+D+1QYBJ97eAScG/tXgX38CB/6FBrUH/oX+4v32X38CAlWV3gEnBgb+2d6V/asCf18CCgEeAXsAAAAAEADGAAEAAAAAAAEABwAAAAEAAAAAAAIABwAHAAEAAAAAAAMABwAOAAEAAAAAAAQABwAVAAEAAAAAAAUACwAcAAEAAAAAAAYABwAnAAEAAAAAAAoAKwAuAAEAAAAAAAsAEwBZAAMAAQQJAAEADgBsAAMAAQQJAAIADgB6AAMAAQQJAAMADgCIAAMAAQQJAAQADgCWAAMAAQQJAAUAFgCkAAMAAQQJAAYADgC6AAMAAQQJAAoAVgDIAAMAAQQJAAsAJgEeVmlkZW9KU1JlZ3VsYXJWaWRlb0pTVmlkZW9KU1ZlcnNpb24gMS4wVmlkZW9KU0dlbmVyYXRlZCBieSBzdmcydHRmIGZyb20gRm9udGVsbG8gcHJvamVjdC5odHRwOi8vZm9udGVsbG8uY29tAFYAaQBkAGUAbwBKAFMAUgBlAGcAdQBsAGEAcgBWAGkAZABlAG8ASgBTAFYAaQBkAGUAbwBKAFMAVgBlAHIAcwBpAG8AbgAgADEALgAwAFYAaQBkAGUAbwBKAFMARwBlAG4AZQByAGEAdABlAGQAIABiAHkAIABzAHYAZwAyAHQAdABmACAAZgByAG8AbQAgAEYAbwBuAHQAZQBsAGwAbwAgAHAAcgBvAGoAZQBjAHQALgBoAHQAdABwADoALwAvAGYAbwBuAHQAZQBsAGwAbwAuAGMAbwBtAAAAAgAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfAAABAgEDAQQBBQEGAQcBCAEJAQoBCwEMAQ0BDgEPARABEQESARMBFAEVARYBFwEYARkBGgEbARwBHQEeAR8EcGxheQtwbGF5LWNpcmNsZQVwYXVzZQt2b2x1bWUtbXV0ZQp2b2x1bWUtbG93CnZvbHVtZS1taWQLdm9sdW1lLWhpZ2gQZnVsbHNjcmVlbi1lbnRlcg9mdWxsc2NyZWVuLWV4aXQGc3F1YXJlB3NwaW5uZXIJc3VidGl0bGVzCGNhcHRpb25zCGNoYXB0ZXJzBXNoYXJlA2NvZwZjaXJjbGUOY2lyY2xlLW91dGxpbmUTY2lyY2xlLWlubmVyLWNpcmNsZQJoZAZjYW5jZWwGcmVwbGF5CGZhY2Vib29rBWdwbHVzCGxpbmtlZGluB3R3aXR0ZXIGdHVtYmxyCXBpbnRlcmVzdBFhdWRpby1kZXNjcmlwdGlvbgVhdWRpbwAAAAAA) format(\"truetype\");font-weight:400;font-style:normal}.video-js .vjs-big-play-button:before,.video-js .vjs-play-control:before,.vjs-icon-play:before{content:\"\\f101\"}.vjs-icon-play-circle:before{content:\"\\f102\"}.video-js .vjs-play-control.vjs-playing:before,.vjs-icon-pause:before{content:\"\\f103\"}.video-js .vjs-mute-control.vjs-vol-0:before,.video-js .vjs-volume-menu-button.vjs-vol-0:before,.vjs-icon-volume-mute:before{content:\"\\f104\"}.video-js .vjs-mute-control.vjs-vol-1:before,.video-js .vjs-volume-menu-button.vjs-vol-1:before,.vjs-icon-volume-low:before{content:\"\\f105\"}.video-js .vjs-mute-control.vjs-vol-2:before,.video-js .vjs-volume-menu-button.vjs-vol-2:before,.vjs-icon-volume-mid:before{content:\"\\f106\"}.video-js .vjs-mute-control:before,.video-js .vjs-volume-menu-button:before,.vjs-icon-volume-high:before{content:\"\\f107\"}.video-js .vjs-fullscreen-control:before,.vjs-icon-fullscreen-enter:before{content:\"\\f108\"}.video-js.vjs-fullscreen .vjs-fullscreen-control:before,.vjs-icon-fullscreen-exit:before{content:\"\\f109\"}.vjs-icon-square:before{content:\"\\f10a\"}.vjs-icon-spinner:before{content:\"\\f10b\"}.video-js .vjs-subtitles-button:before,.vjs-icon-subtitles:before{content:\"\\f10c\"}.video-js .vjs-captions-button:before,.vjs-icon-captions:before{content:\"\\f10d\"}.video-js .vjs-chapters-button:before,.vjs-icon-chapters:before{content:\"\\f10e\"}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:\"\\f10f\"}.vjs-icon-cog:before{content:\"\\f110\"}.video-js .vjs-mouse-display:before,.video-js .vjs-play-progress:before,.video-js .vjs-volume-level:before,.vjs-icon-circle:before{content:\"\\f111\"}.vjs-icon-circle-outline:before{content:\"\\f112\"}.vjs-icon-circle-inner-circle:before{content:\"\\f113\"}.vjs-icon-hd:before{content:\"\\f114\"}.video-js .vjs-control.vjs-close-button:before,.vjs-icon-cancel:before{content:\"\\f115\"}.vjs-icon-replay:before{content:\"\\f116\"}.vjs-icon-facebook:before{content:\"\\f117\"}.vjs-icon-gplus:before{content:\"\\f118\"}.vjs-icon-linkedin:before{content:\"\\f119\"}.vjs-icon-twitter:before{content:\"\\f11a\"}.vjs-icon-tumblr:before{content:\"\\f11b\"}.vjs-icon-pinterest:before{content:\"\\f11c\"}.video-js .vjs-descriptions-button:before,.vjs-icon-audio-description:before{content:\"\\f11d\"}.video-js .vjs-audio-button:before,.vjs-icon-audio:before{content:\"\\f11e\"}.video-js{display:block;vertical-align:top;box-sizing:border-box;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js .vjs-tech,.video-js.vjs-fill{width:100%;height:100%}.video-js *,.video-js :after,.video-js :before{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.vjs-error .vjs-error-display:before,.vjs-menu .vjs-menu-content,.vjs-no-js{font-family:Arial,Helvetica,sans-serif}.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-fluid{width:100%;max-width:100%;height:0}.video-js.vjs-16-9{padding-top:56.25%}.video-js.vjs-4-3{padding-top:75%}.video-js .vjs-tech{position:absolute;top:0;left:0}body.vjs-full-window{padding:0;margin:0;height:100%;overflow-y:auto}.vjs-full-window .video-js.vjs-fullscreen{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen{width:100%!important;height:100%!important;padding-top:0!important}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1;visibility:visible}.vjs-no-js{padding:20px;font-size:18px;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.5em;width:3em;display:block;position:absolute;top:10px;left:10px;padding:0;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em;-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-big-play-centered .vjs-big-play-button{top:50%;left:50%;margin-top:-.75em;margin-left:-1.5em}.video-js .vjs-big-play-button:focus,.video-js:hover .vjs-big-play-button{outline:0;border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);-webkit-transition:all 0s;-moz-transition:all 0s;-o-transition:all 0s;transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-error .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:0 0;border:none;color:inherit;display:inline-block;overflow:visible;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;overflow:auto}.vjs-scrubbing .vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover{outline:0;background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-menu-button-popup .vjs-menu.vjs-lock-showing,.vjs-workinghover .vjs-menu-button-popup:hover .vjs-menu{display:block}.video-js .vjs-menu-button-inline{-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline.vjs-slider-active,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline:hover,.video-js.vjs-no-flex .vjs-menu-button-inline{width:12em}.video-js .vjs-menu-button-inline.vjs-slider-active{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;-webkit-transition:all .4s;-moz-transition:all .4s;-o-transition:all .4s;transition:all .4s}.vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline:hover .vjs-menu{display:block;opacity:1}.vjs-no-flex .vjs-menu-button-inline .vjs-menu{display:block;opacity:1;position:relative;width:auto}.vjs-no-flex .vjs-menu-button-inline.vjs-slider-active .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:focus .vjs-menu,.vjs-no-flex .vjs-menu-button-inline:hover .vjs-menu{width:auto}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;visibility:visible;opacity:1;-webkit-transition:visibility .1s,opacity .1s;-moz-transition:visibility .1s,opacity .1s;-o-transition:visibility .1s,opacity .1s;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-error .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible}.vjs-has-started.vjs-no-flex .vjs-control-bar{display:table}.video-js .vjs-control{outline:0;position:relative;margin:0;padding:0;height:100%;width:4em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.video-js .vjs-control:before{font-size:1.8em;line-height:1.67}.video-js .vjs-control:focus,.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before{text-shadow:0 0 1em #fff}.video-js .vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.vjs-no-flex .vjs-control{display:table-cell;vertical-align:middle}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;min-width:4em}.vjs-live .vjs-progress-control{display:none}.video-js .vjs-progress-holder{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;-webkit-transition:all .2s;-moz-transition:all .2s;-o-transition:all .2s;transition:all .2s;height:.3em}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.666666666666666666em}.video-js .vjs-progress-control:hover .vjs-mouse-display:after,.video-js .vjs-progress-control:hover .vjs-play-progress:after,.video-js .vjs-progress-control:hover .vjs-time-tooltip{font-family:Arial,Helvetica,sans-serif;visibility:visible;font-size:.6em}.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div,.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-tooltip-progress-bar{position:absolute;display:block;height:100%;margin:0;padding:0;width:0;left:0;top:0}.video-js .vjs-mouse-display:before,.video-js .vjs-progress-control .vjs-keep-tooltips-inside:after{display:none}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{position:absolute;top:-.333333333333333em;right:-.5em;font-size:.9em}.video-js .vjs-mouse-display:after,.video-js .vjs-play-progress:after,.video-js .vjs-time-tooltip{visibility:hidden;pointer-events:none;position:absolute;top:-3.4em;right:-1.9em;font-size:.9em;color:#000;content:attr(data-current-time);padding:6px 8px 8px;background-color:#fff;background-color:rgba(255,255,255,.8);-webkit-border-radius:.3em;-moz-border-radius:.3em;border-radius:.3em}.video-js .vjs-play-progress:after,.video-js .vjs-play-progress:before,.video-js .vjs-time-tooltip{z-index:1}.video-js .vjs-load-progress{background:#bfc7d3;background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:#fff;background:rgba(115,133,159,.75)}.video-js.vjs-no-flex .vjs-progress-control{width:auto}.video-js .vjs-time-tooltip{display:inline-block;height:2.4em;position:relative;float:right;right:-1.9em}.vjs-tooltip-progress-bar{visibility:hidden}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.vjs-no-flex .vjs-progress-control .vjs-mouse-display{z-index:0}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display,.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display:after{visibility:hidden;opacity:0;-webkit-transition:visibility 1s,opacity 1s;-moz-transition:visibility 1s,opacity 1s;-o-transition:visibility 1s,opacity 1s;transition:visibility 1s,opacity 1s}.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display,.video-js.vjs-user-inactive.vjs-no-flex .vjs-progress-control .vjs-mouse-display:after{display:none}.video-js .vjs-progress-control .vjs-mouse-display:after,.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{outline:0;position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider:focus{text-shadow:0 0 1em #fff;-webkit-box-shadow:0 0 1em #fff;-moz-box-shadow:0 0 1em #fff;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control,.video-js .vjs-volume-menu-button{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.video-js .vjs-volume-control{width:5em;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{top:-.3em;right:-.5em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.vjs-menu-button-popup.vjs-volume-menu-button .vjs-menu{display:block;width:0;height:0;border-top-color:transparent}.vjs-menu-button-popup.vjs-volume-menu-button-vertical .vjs-menu{left:.5em;height:8em}.vjs-menu-button-popup.vjs-volume-menu-button-horizontal .vjs-menu{left:-2em}.vjs-menu-button-popup.vjs-volume-menu-button .vjs-menu-content{height:0;width:0;overflow-x:hidden;overflow-y:hidden}.vjs-volume-menu-button-vertical .vjs-lock-showing .vjs-menu-content,.vjs-volume-menu-button-vertical.vjs-slider-active .vjs-menu-content,.vjs-volume-menu-button-vertical:focus .vjs-menu-content,.vjs-volume-menu-button-vertical:hover .vjs-menu-content{height:8em;width:2.9em}.vjs-volume-menu-button-horizontal .vjs-lock-showing .vjs-menu-content,.vjs-volume-menu-button-horizontal .vjs-slider-active .vjs-menu-content,.vjs-volume-menu-button-horizontal:focus .vjs-menu-content,.vjs-volume-menu-button-horizontal:hover .vjs-menu-content{height:2.9em;width:8em}.vjs-volume-menu-button.vjs-menu-button-inline .vjs-menu-content{background-color:transparent!important}.vjs-poster{display:inline-block;vertical-align:middle;background-repeat:no-repeat;background-position:50% 50%;background-size:contain;background-color:#000;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-poster img{display:block;vertical-align:middle;margin:0 auto;max-height:100%;padding:0;width:100%}.vjs-has-started .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster{display:block}.vjs-using-native-controls .vjs-poster{display:none}.video-js .vjs-live-control{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:flex-start;-webkit-align-items:flex-start;-ms-flex-align:flex-start;align-items:flex-start;-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto;font-size:1em;line-height:3em}.vjs-no-flex .vjs-live-control{display:table-cell;width:auto;text-align:left}.video-js .vjs-current-time,.video-js .vjs-duration,.vjs-live .vjs-time-control,.vjs-live .vjs-time-divider,.vjs-no-flex .vjs-current-time,.vjs-no-flex .vjs-duration{display:none}.video-js .vjs-time-control{-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-time-divider{display:none;line-height:3em}.video-js .vjs-play-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em;background-color:#000;background-color:rgba(0,0,0,.5)}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{-moz-transform:translateY(-3em);-ms-transform:translateY(-3em);-o-transform:translateY(-3em);-webkit-transform:translateY(-3em);transform:translateY(-3em)}.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{-moz-transform:translateY(-1.5em);-ms-transform:translateY(-1.5em);-o-transform:translateY(-1.5em);-webkit-transform:translateY(-1.5em);transform:translateY(-1.5em)}.video-js .vjs-fullscreen-control{cursor:pointer;-webkit-box-flex:none;-moz-box-flex:none;-webkit-flex:none;-ms-flex:none;flex:none}.vjs-playback-rate .vjs-playback-rate-value{font-size:1.5em;line-height:2;position:absolute;top:0;left:0;width:100%;height:100%;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:'X';font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;margin:-25px 0 0 -25px;opacity:.85;text-align:left;border:6px solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:50px;height:50px;border-radius:25px}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block}.vjs-loading-spinner:after,.vjs-loading-spinner:before{content:\"\";position:absolute;margin:-6px;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:#fff transparent transparent}.vjs-seeking .vjs-loading-spinner:after,.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before{-webkit-animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite;animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;-webkit-animation-delay:.44s;animation-delay:.44s}@keyframes vjs-spinner-spin{100%{transform:rotate(360deg)}}@-webkit-keyframes vjs-spinner-spin{100%{-webkit-transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}@-webkit-keyframes vjs-spinner-fade{0%,100%,20%,60%{border-top-color:#73859f}35%{border-top-color:#fff}}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-custom-control-spacer{-webkit-box-flex:auto;-moz-box-flex:auto;-webkit-flex:auto;-ms-flex:auto;flex:auto}.video-js.vjs-layout-tiny:not(.vjs-fullscreen).vjs-no-flex .vjs-custom-control-spacer{width:auto}.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-subtitles-button .vjs-audio-button,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-small:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-progress-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-tiny:not(.vjs-fullscreen) .vjs-volume-menu-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-audio-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-captions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-chapters-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-current-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-descriptions-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-duration,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-mute-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-playback-rate,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-remaining-time,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-subtitles-button,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-time-divider,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-control,.video-js.vjs-layout-x-small:not(.vjs-fullscreen) .vjs-volume-menu-button{display:none}.vjs-caption-settings{position:relative;top:1em;background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;margin:0 auto;padding:.5em;height:16em;font-size:12px;width:40em}.vjs-caption-settings .vjs-tracksettings{top:0;bottom:1em;left:0;right:0;position:absolute;overflow:auto}.vjs-caption-settings .vjs-tracksettings-colors,.vjs-caption-settings .vjs-tracksettings-font{float:left}.vjs-caption-settings .vjs-tracksettings-colors:after,.vjs-caption-settings .vjs-tracksettings-controls:after,.vjs-caption-settings .vjs-tracksettings-font:after{clear:both}.vjs-caption-settings .vjs-tracksettings-controls{position:absolute;bottom:1em;right:1em}.vjs-caption-settings .vjs-tracksetting{margin:5px;padding:3px;min-height:40px;border:none}.vjs-caption-settings .vjs-tracksetting label,.vjs-caption-settings .vjs-tracksetting legend{display:block;width:100px;margin-bottom:5px}.vjs-caption-settings .vjs-tracksetting span{display:inline;margin-left:5px;vertical-align:top;float:right}.vjs-caption-settings .vjs-tracksetting>div{margin-bottom:5px;min-height:20px}.vjs-caption-settings .vjs-tracksetting>div:last-child{margin-bottom:0;padding-bottom:0;min-height:0}.vjs-caption-settings label>input{margin-right:10px}.vjs-caption-settings fieldset{margin-top:1em;margin-left:.5em}.vjs-caption-settings fieldset .vjs-label{position:absolute;clip:rect(1px 1px 1px 1px);clip:rect(1px,1px,1px,1px);padding:0;border:0;height:1px;width:1px;overflow:hidden}.vjs-caption-settings input[type=button]{width:40px;height:40px}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:-webkit-linear-gradient(-90deg,rgba(0,0,0,.8),rgba(255,255,255,0));background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0))}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}@media print{.video-js>:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}@media \\0screen{.vjs-user-inactive.vjs-playing .vjs-control-bar :before{content:\"\"}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:hidden}}body,html{height:100%;margin:0;padding:0;overflow:hidden;font-family:arial,sans-serif;background:rgba(0,0,0,0)!important}.player{width:100%;height:100%}*{outline:0}.video-js{background:rgba(0,0,0,0)!important}.caroda-content-fullscreen{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important}.caroda-content-fullscreen .vjs-fullscreen-control:before{content:\"\\e902\"!important}.caroda-content-fullscreen .video-js{position:absolute!important;top:0!important;left:0!important;height:100%!important;width:100%!important}.video-js .vjs-tech{object-fit:contain}.video-js .vjs-poster{background-size:cover}.video-js .vjs-big-play-button,.video-js .vjs-fullscreen-control,.video-js .vjs-play-control,.video-js .vjs-volume-menu-button{font-family:Caroda!important}.video-js .vjs-big-play-button{color:#04b2d3;height:3em;line-height:3em;border:0;border-radius:50%;background:rgba(21,49,56,.75)}.video-js .vjs-big-play-button:before{font-size:1.5em;padding-left:.2em;content:\"\\e904\"}.video-js:hover .vjs-big-play-button{background:rgba(21,49,56,.85)}.video-js.vjs-big-play-centered .vjs-big-play-button{margin-top:-1.5em}.video-js .vjs-play-control{color:#fff;width:7em}.video-js .vjs-play-control:after{content:\" \";background:rgba(94,135,145,.8);position:absolute;right:0;width:1px;height:20px;top:13px}.video-js.vjs-paused .vjs-play-control:before{content:\"\\e904\"}.video-js:not(.vjs-paused) .vjs-play-control:before{font-family:VideoJS;font-size:24px!important}.video-js .vjs-control-bar{height:42px;background:rgba(21,49,56,.75);transition:opacity .6s ease-in-out!important}.video-js .vjs-control-bar .vjs-control:before{line-height:38px;margin-top:4px}.video-js .vjs-control-bar .vjs-control:focus,.video-js .vjs-control-bar .vjs-control:focus:before,.video-js .vjs-control-bar .vjs-control:hover:before{text-shadow:0 0 4px #04b2d3}.video-js .vjs-control-bar .vjs-progress-control{position:absolute;width:100%;top:0;left:0}.video-js .vjs-control-bar .vjs-progress-control,.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress,.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress>div,.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress,.video-js .vjs-control-bar .vjs-progress-control .vjs-progress-holder{height:4px!important}.video-js .vjs-control-bar .vjs-progress-control .vjs-progress-holder{background:rgba(94,135,145,.8);margin:0}.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress{background:#04b2d3}.video-js .vjs-control-bar .vjs-progress-control .vjs-play-progress:before{color:#f5a03e}.video-js .vjs-control-bar .vjs-progress-control .vjs-load-progress>div{background:#5e8791}.video-js .vjs-control-bar .vjs-fullscreen-control{color:#fff;position:absolute;top:4px;right:0;width:7em}.video-js .vjs-control-bar .vjs-fullscreen-control:after{content:\" \";background:rgba(94,135,145,.8);position:absolute;left:0;width:1px;height:20px;top:9px}.video-js .vjs-control-bar .vjs-fullscreen-control:before{top:-4px;content:\"\\e903\"}.video-js .vjs-control-bar .vjs-remaining-time{position:absolute;right:78px;line-height:38px;margin-top:4px;font-size:1.2em}.video-js .vjs-control-bar .vjs-volume-menu-button{color:#fff;display:block;width:42px;position:absolute;top:0;overflow:visible;left:86px}.video-js .vjs-control-bar .vjs-volume-menu-button:before{font-size:18px;content:\"\\e907\"}.video-js .vjs-control-bar .vjs-volume-menu-button.vjs-vol-3:before{content:\"\\e906\"}.video-js .vjs-control-bar .vjs-volume-menu-button.vjs-vol-0:before{content:\"\\e905\"}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu{display:block;opacity:1;left:44px;top:21px}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu .vjs-volume-bar{width:60px;height:4px;margin:0;background:#5e8791}.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu .vjs-volume-bar .vjs-volume-level{background:#04b2d3}.video-js .vjs-control-bar .vjs-volume-level{height:6px!important}.video-js .vjs-control-bar .vjs-captions-button,.video-js .vjs-control-bar .vjs-subtitles-button{display:none!important}.video-js .vjs-control-bar .vjs-volume-menu-button{display:block!important}.video-js .vjs-control-bar .vjs-volume-level:before{display:none}.audio>.video-js.vjs-has-started>.vjs-poster{display:inline-block}.short>.video-js{background-color:#fff}.short>.video-js.vjs-16-9{padding-top:50px}.short>.video-js .vjs-control-bar{display:block;visibility:visible!important;opacity:1!important;height:50px}.short>.video-js .vjs-control-bar .vjs-control{margin-top:8px}.short>.video-js .vjs-fullscreen-control{display:none}.short>.video-js .vjs-remaining-time{top:0;right:10px;pointer-events:none}.short>.video-js .vjs-remaining-time .vjs-remaining-time-display{margin-top:4px}.short>.video-js .vjs-current-time{display:block;position:absolute;top:0;right:55px;line-height:38px;pointer-events:none}.short>.video-js .vjs-current-time .vjs-current-time-display{margin-top:4px;font-size:1.2em}.short>.video-js .vjs-current-time:after{content:\"/\";position:absolute;top:5px;right:1px}.short>.video-js .vjs-loading-spinner{display:none!important}.short>.video-js .vjs-progress-control{width:calc(100% - 12px);left:6px}.short>.video-js .vjs-progress-control:hover .vjs-mouse-display:after,.short>.video-js .vjs-progress-control:hover .vjs-play-progress:after,.short>.video-js .vjs-progress-control:hover .vjs-time-tooltip{display:none}.mobile>.video-js .vjs-control-bar .vjs-control:not(.vjs-progress-control){width:6em}.mobile>.video-js .vjs-control-bar .vjs-control:before{font-size:1.8em;line-height:38px}.mobile>.video-js .vjs-control-bar .vjs-control.vjs-remaining-time{display:block;right:50px}.mobile>.video-js .vjs-control-bar .vjs-time-control{font-size:1.6em;margin-left:.7em}.mobile>.video-js .vjs-control-bar .vjs-volume-menu-button{margin-right:1em;left:73px}.mobile>.video-js .vjs-control-bar .vjs-time-control,.mobile>.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-volume-bar{display:none}.mobile>.video-js .vjs-control-bar .vjs-play-progress:after,.mobile>.video-js .vjs-control-bar .vjs-play-progress:before,.mobile>.video-js .vjs-control-bar .vjs-time-tooltip{transform:scale(2.3)}.mobile>.video-js .vjs-control-bar .vjs-progress-control:hover .vjs-mouse-display{display:none}@media only screen and (max-width:400px){:not(.short):not(.mobile)>.video-js .vjs-control-bar{height:25px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-control:before{font-size:13px;line-height:22px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-play-control{width:4em}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-play-control:after{height:10px;top:10px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-fullscreen-control{width:4em}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-fullscreen-control:after{height:10px;top:6px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-volume-menu-button{left:43px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-volume-menu-button .vjs-menu{left:29px;top:13px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-remaining-time{right:39px}:not(.short):not(.mobile)>.video-js .vjs-control-bar .vjs-remaining-time .vjs-remaining-time-display{line-height:22px}}@font-face{font-family:Caroda;src:url(data:application/x-font-ttf;base64,AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format(\"truetype\");font-weight:400;font-style:normal}.show-play-unmuted .autoplay-muted-indication{display:block}.show-play-unmuted:hover .vjs-big-play-button{display:block!important}.show-play-unmuted:hover .vjs-big-play-button:before{content:\"\\e906\";padding-left:.1em}.autoplay-muted-indication{display:none;position:absolute;top:0;left:0;right:0;height:100%;opacity:0;background:rgba(180,240,255,.3);transition:opacity .6s ease-in-out!important}.autoplay-muted-indication:hover{opacity:1;cursor:pointer}</style></head><body><div class=\"player\"></div><script>window.HELP_IMPROVE_VIDEOJS = false;\n    setUpHls()\n\n    function setUpHls() {\n        window.Hls = window.parent.window.carodaHls.Hls;\n        window.MediaSource = window.parent.window.carodaHls.MediaSource;\n        window.SourceBuffer = window.parent.window.carodaHls.SourceBuffer;\n    }</script><script>var runtime=function(exports){\"use strict\";var Op=Object.prototype;var hasOwn=Op.hasOwnProperty;var undefined;var $Symbol=typeof Symbol===\"function\"?Symbol:{};var iteratorSymbol=$Symbol.iterator||\"@@iterator\";var asyncIteratorSymbol=$Symbol.asyncIterator||\"@@asyncIterator\";var toStringTagSymbol=$Symbol.toStringTag||\"@@toStringTag\";function define(obj,key,value){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});return obj[key];}try{define({},\"\");}catch(err){define=function(obj,key,value){return obj[key]=value;};}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator;var generator=Object.create(protoGenerator.prototype);var context=new Context(tryLocsList||[]);generator._invoke=makeInvokeMethod(innerFn,self,context);return generator;}exports.wrap=wrap;function tryCatch(fn,obj,arg){try{return{type:\"normal\",arg:fn.call(obj,arg)};}catch(err){return{type:\"throw\",arg:err};}}var GenStateSuspendedStart=\"suspendedStart\";var GenStateSuspendedYield=\"suspendedYield\";var GenStateExecuting=\"executing\";var GenStateCompleted=\"completed\";var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,function(){return this;});var getProto=Object.getPrototypeOf;var NativeIteratorPrototype=getProto&&getProto(getProto(values([])));if(NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)){IteratorPrototype=NativeIteratorPrototype;}var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=GeneratorFunctionPrototype;define(Gp,\"constructor\",GeneratorFunctionPrototype);define(GeneratorFunctionPrototype,\"constructor\",GeneratorFunction);GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,\"GeneratorFunction\");function defineIteratorMethods(prototype){[\"next\",\"throw\",\"return\"].forEach(function(method){define(prototype,method,function(arg){return this._invoke(method,arg);});});}exports.isGeneratorFunction=function(genFun){var ctor=typeof genFun===\"function\"&&genFun.constructor;return ctor?ctor===GeneratorFunction||(ctor.displayName||ctor.name)===\"GeneratorFunction\":false;};exports.mark=function(genFun){if(Object.setPrototypeOf){Object.setPrototypeOf(genFun,GeneratorFunctionPrototype);}else{genFun.__proto__=GeneratorFunctionPrototype;define(genFun,toStringTagSymbol,\"GeneratorFunction\");}genFun.prototype=Object.create(Gp);return genFun;};exports.awrap=function(arg){return{__await:arg};};function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if(record.type===\"throw\"){reject(record.arg);}else{var result=record.arg;var value=result.value;if(value&&typeof value===\"object\"&&hasOwn.call(value,\"__await\")){return PromiseImpl.resolve(value.__await).then(function(value){invoke(\"next\",value,resolve,reject);},function(err){invoke(\"throw\",err,resolve,reject);});}return PromiseImpl.resolve(value).then(function(unwrapped){result.value=unwrapped;resolve(result);},function(error){return invoke(\"throw\",error,resolve,reject);});}}var previousPromise;function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl(function(resolve,reject){invoke(method,arg,resolve,reject);});}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg();}this._invoke=enqueue;}defineIteratorMethods(AsyncIterator.prototype);define(AsyncIterator.prototype,asyncIteratorSymbol,function(){return this;});exports.AsyncIterator=AsyncIterator;exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){if(PromiseImpl===void 0)PromiseImpl=Promise;var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next();});};function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function invoke(method,arg){if(state===GenStateExecuting){throw new Error(\"Generator is already running\");}if(state===GenStateCompleted){if(method===\"throw\"){throw arg;}return doneResult();}context.method=method;context.arg=arg;while(true){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult;}}if(context.method===\"next\"){context.sent=context._sent=context.arg;}else if(context.method===\"throw\"){if(state===GenStateSuspendedStart){state=GenStateCompleted;throw context.arg;}context.dispatchException(context.arg);}else if(context.method===\"return\"){context.abrupt(\"return\",context.arg);}state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if(record.type===\"normal\"){state=context.done?GenStateCompleted:GenStateSuspendedYield;if(record.arg===ContinueSentinel){continue;}return{value:record.arg,done:context.done};}else if(record.type===\"throw\"){state=GenStateCompleted;context.method=\"throw\";context.arg=record.arg;}}};}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){context.delegate=null;if(context.method===\"throw\"){if(delegate.iterator[\"return\"]){context.method=\"return\";context.arg=undefined;maybeInvokeDelegate(delegate,context);if(context.method===\"throw\"){return ContinueSentinel;}}context.method=\"throw\";context.arg=new TypeError(\"The iterator does not provide a 'throw' method\");}return ContinueSentinel;}var record=tryCatch(method,delegate.iterator,context.arg);if(record.type===\"throw\"){context.method=\"throw\";context.arg=record.arg;context.delegate=null;return ContinueSentinel;}var info=record.arg;if(!info){context.method=\"throw\";context.arg=new TypeError(\"iterator result is not an object\");context.delegate=null;return ContinueSentinel;}if(info.done){context[delegate.resultName]=info.value;context.next=delegate.nextLoc;if(context.method!==\"return\"){context.method=\"next\";context.arg=undefined;}}else{return info;}context.delegate=null;return ContinueSentinel;}defineIteratorMethods(Gp);define(Gp,toStringTagSymbol,\"Generator\");define(Gp,iteratorSymbol,function(){return this;});define(Gp,\"toString\",function(){return\"[object Generator]\";});function pushTryEntry(locs){var entry={tryLoc:locs[0]};if(1 in locs){entry.catchLoc=locs[1];}if(2 in locs){entry.finallyLoc=locs[2];entry.afterLoc=locs[3];}this.tryEntries.push(entry);}function resetTryEntry(entry){var record=entry.completion||{};record.type=\"normal\";delete record.arg;entry.completion=record;}function Context(tryLocsList){this.tryEntries=[{tryLoc:\"root\"}];tryLocsList.forEach(pushTryEntry,this);this.reset(true);}exports.keys=function(object){var keys=[];for(var key in object){keys.push(key);}keys.reverse();return function next(){while(keys.length){var key=keys.pop();if(key in object){next.value=key;next.done=false;return next;}}next.done=true;return next;};};function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod){return iteratorMethod.call(iterable);}if(typeof iterable.next===\"function\"){return iterable;}if(!isNaN(iterable.length)){var i=-1,next=function next(){while(++i<iterable.length){if(hasOwn.call(iterable,i)){next.value=iterable[i];next.done=false;return next;}}next.value=undefined;next.done=true;return next;};return next.next=next;}}return{next:doneResult};}exports.values=values;function doneResult(){return{value:undefined,done:true};}Context.prototype={constructor:Context,reset:function(skipTempReset){this.prev=0;this.next=0;this.sent=this._sent=undefined;this.done=false;this.delegate=null;this.method=\"next\";this.arg=undefined;this.tryEntries.forEach(resetTryEntry);if(!skipTempReset){for(var name in this){if(name.charAt(0)===\"t\"&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))){this[name]=undefined;}}}},stop:function(){this.done=true;var rootEntry=this.tryEntries[0];var rootRecord=rootEntry.completion;if(rootRecord.type===\"throw\"){throw rootRecord.arg;}return this.rval;},dispatchException:function(exception){if(this.done){throw exception;}var context=this;function handle(loc,caught){record.type=\"throw\";record.arg=exception;context.next=loc;if(caught){context.method=\"next\";context.arg=undefined;}return!!caught;}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];var record=entry.completion;if(entry.tryLoc===\"root\"){return handle(\"end\");}if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,\"catchLoc\");var hasFinally=hasOwn.call(entry,\"finallyLoc\");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}else if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else if(hasCatch){if(this.prev<entry.catchLoc){return handle(entry.catchLoc,true);}}else if(hasFinally){if(this.prev<entry.finallyLoc){return handle(entry.finallyLoc);}}else{throw new Error(\"try statement without catch or finally\");}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,\"finallyLoc\")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break;}}if(finallyEntry&&(type===\"break\"||type===\"continue\")&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc){finallyEntry=null;}var record=finallyEntry?finallyEntry.completion:{};record.type=type;record.arg=arg;if(finallyEntry){this.method=\"next\";this.next=finallyEntry.finallyLoc;return ContinueSentinel;}return this.complete(record);},complete:function(record,afterLoc){if(record.type===\"throw\"){throw record.arg;}if(record.type===\"break\"||record.type===\"continue\"){this.next=record.arg;}else if(record.type===\"return\"){this.rval=this.arg=record.arg;this.method=\"return\";this.next=\"end\";}else if(record.type===\"normal\"&&afterLoc){this.next=afterLoc;}return ContinueSentinel;},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc){this.complete(entry.completion,entry.afterLoc);resetTryEntry(entry);return ContinueSentinel;}}},\"catch\":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if(record.type===\"throw\"){var thrown=record.arg;resetTryEntry(entry);}return thrown;}}throw new Error(\"illegal catch attempt\");},delegateYield:function(iterable,resultName,nextLoc){this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc};if(this.method===\"next\"){this.arg=undefined;}return ContinueSentinel;}};return exports;}(typeof module===\"object\"?module.exports:{});try{regeneratorRuntime=runtime;}catch(accidentalStrictMode){if(typeof globalThis===\"object\"){globalThis.regeneratorRuntime=runtime;}else{Function(\"r\",\"regeneratorRuntime = r\")(runtime);}};/**\n * @license\n * Video.js 5.20.5 <http://videojs.com/>\n * Copyright Brightcove, Inc. <https://www.brightcove.com/>\n * Available under Apache License Version 2.0\n * <https://github.com/videojs/video.js/blob/master/LICENSE>\n *\n * Includes vtt.js <https://github.com/mozilla/vtt.js>\n * Available under Apache License Version 2.0\n * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>\n */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f();}else if(typeof define===\"function\"&&define.amd){define([],f);}else{var g;if(typeof window!==\"undefined\"){g=window;}else if(typeof global!==\"undefined\"){g=global;}else if(typeof self!==\"undefined\"){g=self;}else{g=this;}g.videojs=f();}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e);},l,l.exports,e,t,n,r);}return n[o].exports;}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s;}({1:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var BigPlayButton=function(_Button){_inherits(BigPlayButton,_Button);function BigPlayButton(player,options){_classCallCheck(this,BigPlayButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.mouseused_=false;_this.on('mousedown',_this.handleMouseDown);return _this;}BigPlayButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-big-play-button';};BigPlayButton.prototype.handleClick=function handleClick(event){var playPromise=this.player_.play();if(this.mouseused_&&event.clientX&&event.clientY){return;}var cb=this.player_.getChild('controlBar');var playToggle=cb&&cb.getChild('playToggle');if(!playToggle){this.player_.focus();return;}var playFocus=function playFocus(){return playToggle.focus();};if(playPromise&&playPromise.then){var ignoreRejectedPlayPromise=function ignoreRejectedPlayPromise(){};playPromise.then(playFocus,ignoreRejectedPlayPromise);}else{this.setTimeout(playFocus,1);}};BigPlayButton.prototype.handleKeyPress=function handleKeyPress(event){this.mouseused_=false;_Button.prototype.handleKeyPress.call(this,event);};BigPlayButton.prototype.handleMouseDown=function handleMouseDown(event){this.mouseused_=true;};return BigPlayButton;}(_button2['default']);BigPlayButton.prototype.controlText_='Play Video';_component2['default'].registerComponent('BigPlayButton',BigPlayButton);exports['default']=BigPlayButton;},{\"2\":2,\"5\":5}],2:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Button=function(_ClickableComponent){_inherits(Button,_ClickableComponent);function Button(){_classCallCheck(this,Button);return _possibleConstructorReturn(this,_ClickableComponent.apply(this,arguments));}Button.prototype.createEl=function createEl(){var tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'button';var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass()},props);if(tag!=='button'){_log2['default'].warn('Creating a Button with an HTML element of '+tag+' is deprecated; use ClickableComponent instead.');props=(0,_obj.assign)({tabIndex:0},props);attributes=(0,_obj.assign)({role:'button'},attributes);}attributes=(0,_obj.assign)({'type':'button','aria-live':'polite'},attributes);var el=_component2['default'].prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};Button.prototype.addChild=function addChild(child){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var className=this.constructor.name;_log2['default'].warn('Adding an actionable (user controllable) child to a Button ('+className+') is not supported; use a ClickableComponent instead.');return _component2['default'].prototype.addChild.call(this,child,options);};Button.prototype.enable=function enable(){_ClickableComponent.prototype.enable.call(this);this.el_.removeAttribute('disabled');};Button.prototype.disable=function disable(){_ClickableComponent.prototype.disable.call(this);this.el_.setAttribute('disabled','disabled');};Button.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===32||event.which===13){return;}_ClickableComponent.prototype.handleKeyPress.call(this,event);};return Button;}(_clickableComponent2['default']);_component2['default'].registerComponent('Button',Button);exports['default']=Button;},{\"3\":3,\"5\":5,\"86\":86,\"88\":88}],3:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ClickableComponent=function(_Component){_inherits(ClickableComponent,_Component);function ClickableComponent(player,options){_classCallCheck(this,ClickableComponent);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.emitTapEvents();_this.enable();return _this;}ClickableComponent.prototype.createEl=function createEl(){var tag=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'div';var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props=(0,_obj.assign)({className:this.buildCSSClass(),tabIndex:0},props);if(tag==='button'){_log2['default'].error('Creating a ClickableComponent with an HTML element of '+tag+' is not supported; use a Button instead.');}attributes=(0,_obj.assign)({'role':'button','aria-live':'polite'},attributes);this.tabIndex_=props.tabIndex;var el=_Component.prototype.createEl.call(this,tag,props,attributes);this.createControlTextEl(el);return el;};ClickableComponent.prototype.createControlTextEl=function createControlTextEl(el){this.controlTextEl_=Dom.createEl('span',{className:'vjs-control-text'});if(el){el.appendChild(this.controlTextEl_);}this.controlText(this.controlText_,el);return this.controlTextEl_;};ClickableComponent.prototype.controlText=function controlText(text){var el=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.el();if(text===undefined){return this.controlText_||'Need Text';}var localizedText=this.localize(text);this.controlText_=text;this.controlTextEl_.innerHTML=localizedText;if(!this.nonIconControl){el.setAttribute('title',localizedText);}return this;};ClickableComponent.prototype.buildCSSClass=function buildCSSClass(){return'vjs-control vjs-button '+_Component.prototype.buildCSSClass.call(this);};ClickableComponent.prototype.enable=function enable(){this.removeClass('vjs-disabled');this.el_.setAttribute('aria-disabled','false');if(typeof this.tabIndex_!=='undefined'){this.el_.setAttribute('tabIndex',this.tabIndex_);}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);this.on(['tap','click'],this.handleClick);this.on('focus',this.handleFocus);this.on('blur',this.handleBlur);return this;};ClickableComponent.prototype.disable=function disable(){this.addClass('vjs-disabled');this.el_.setAttribute('aria-disabled','true');if(typeof this.tabIndex_!=='undefined'){this.el_.removeAttribute('tabIndex');}this.off(['tap','click'],this.handleClick);this.off('focus',this.handleFocus);this.off('blur',this.handleBlur);return this;};ClickableComponent.prototype.handleClick=function handleClick(event){};ClickableComponent.prototype.handleFocus=function handleFocus(event){Events.on(_document2['default'],'keydown',Fn.bind(this,this.handleKeyPress));};ClickableComponent.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===32||event.which===13){event.preventDefault();this.handleClick(event);}else if(_Component.prototype.handleKeyPress){_Component.prototype.handleKeyPress.call(this,event);}};ClickableComponent.prototype.handleBlur=function handleBlur(event){Events.off(_document2['default'],'keydown',Fn.bind(this,this.handleKeyPress));};return ClickableComponent;}(_component2['default']);_component2['default'].registerComponent('ClickableComponent',ClickableComponent);exports['default']=ClickableComponent;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83,\"86\":86,\"88\":88,\"94\":94}],4:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CloseButton=function(_Button){_inherits(CloseButton,_Button);function CloseButton(player,options){_classCallCheck(this,CloseButton);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.controlText(options&&options.controlText||_this.localize('Close'));return _this;}CloseButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-close-button '+_Button.prototype.buildCSSClass.call(this);};CloseButton.prototype.handleClick=function handleClick(event){this.trigger({type:'close',bubbles:false});};return CloseButton;}(_button2['default']);_component2['default'].registerComponent('CloseButton',CloseButton);exports['default']=CloseButton;},{\"2\":2,\"5\":5}],5:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var Component=function(){function Component(player,options,ready){_classCallCheck(this,Component);if(!player&&this.play){this.player_=player=this;}else{this.player_=player;}this.options_=(0,_mergeOptions2['default'])({},this.options_);options=this.options_=(0,_mergeOptions2['default'])(this.options_,options);this.id_=options.id||options.el&&options.el.id;if(!this.id_){var id=player&&player.id&&player.id()||'no_player';this.id_=id+'_component_'+Guid.newGUID();}this.name_=options.name||null;if(options.el){this.el_=options.el;}else if(options.createEl!==false){this.el_=this.createEl();}this.children_=[];this.childIndex_={};this.childNameIndex_={};if(options.initChildren!==false){this.initChildren();}this.ready(ready);if(options.reportTouchActivity!==false){this.enableTouchActivity();}}Component.prototype.dispose=function dispose(){this.trigger({type:'dispose',bubbles:false});if(this.children_){for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i].dispose){this.children_[i].dispose();}}}this.children_=null;this.childIndex_=null;this.childNameIndex_=null;this.off();if(this.el_.parentNode){this.el_.parentNode.removeChild(this.el_);}Dom.removeElData(this.el_);this.el_=null;};Component.prototype.player=function player(){return this.player_;};Component.prototype.options=function options(obj){_log2['default'].warn('this.options() has been deprecated and will be moved to the constructor in 6.0');if(!obj){return this.options_;}this.options_=(0,_mergeOptions2['default'])(this.options_,obj);return this.options_;};Component.prototype.el=function el(){return this.el_;};Component.prototype.createEl=function createEl(tagName,properties,attributes){return Dom.createEl(tagName,properties,attributes);};Component.prototype.localize=function localize(string){var code=this.player_.language&&this.player_.language();var languages=this.player_.languages&&this.player_.languages();if(!code||!languages){return string;}var language=languages[code];if(language&&language[string]){return language[string];}var primaryCode=code.split('-')[0];var primaryLang=languages[primaryCode];if(primaryLang&&primaryLang[string]){return primaryLang[string];}return string;};Component.prototype.contentEl=function contentEl(){return this.contentEl_||this.el_;};Component.prototype.id=function id(){return this.id_;};Component.prototype.name=function name(){return this.name_;};Component.prototype.children=function children(){return this.children_;};Component.prototype.getChildById=function getChildById(id){return this.childIndex_[id];};Component.prototype.getChild=function getChild(name){if(!name){return;}name=(0,_toTitleCase2['default'])(name);return this.childNameIndex_[name];};Component.prototype.addChild=function addChild(child){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:this.children_.length;var component=void 0;var componentName=void 0;if(typeof child==='string'){componentName=(0,_toTitleCase2['default'])(child);if(!options){options={};}if(options===true){_log2['default'].warn('Initializing a child component with `true` is deprecated.'+'Children should be defined in an array when possible, '+'but if necessary use an object instead of `true`.');options={};}var componentClassName=options.componentClass||componentName;options.name=componentName;var ComponentClass=Component.getComponent(componentClassName);if(!ComponentClass){throw new Error('Component '+componentClassName+' does not exist');}if(typeof ComponentClass!=='function'){return null;}component=new ComponentClass(this.player_||this,options);}else{component=child;}this.children_.splice(index,0,component);if(typeof component.id==='function'){this.childIndex_[component.id()]=component;}componentName=componentName||component.name&&(0,_toTitleCase2['default'])(component.name());if(componentName){this.childNameIndex_[componentName]=component;}if(typeof component.el==='function'&&component.el()){var childNodes=this.contentEl().children;var refNode=childNodes[index]||null;this.contentEl().insertBefore(component.el(),refNode);}return component;};Component.prototype.removeChild=function removeChild(component){if(typeof component==='string'){component=this.getChild(component);}if(!component||!this.children_){return;}var childFound=false;for(var i=this.children_.length-1;i>=0;i--){if(this.children_[i]===component){childFound=true;this.children_.splice(i,1);break;}}if(!childFound){return;}this.childIndex_[component.id()]=null;this.childNameIndex_[component.name()]=null;var compEl=component.el();if(compEl&&compEl.parentNode===this.contentEl()){this.contentEl().removeChild(component.el());}};Component.prototype.initChildren=function initChildren(){var _this=this;var children=this.options_.children;if(children){var parentOptions=this.options_;var handleAdd=function handleAdd(child){var name=child.name;var opts=child.opts;if(parentOptions[name]!==undefined){opts=parentOptions[name];}if(opts===false){return;}if(opts===true){opts={};}opts.playerOptions=_this.options_.playerOptions;var newChild=_this.addChild(name,opts);if(newChild){_this[name]=newChild;}};var workingChildren=void 0;var Tech=Component.getComponent('Tech');if(Array.isArray(children)){workingChildren=children;}else{workingChildren=Object.keys(children);}workingChildren.concat(Object.keys(this.options_).filter(function(child){return!workingChildren.some(function(wchild){if(typeof wchild==='string'){return child===wchild;}return child===wchild.name;});})).map(function(child){var name=void 0;var opts=void 0;if(typeof child==='string'){name=child;opts=children[name]||_this.options_[name]||{};}else{name=child.name;opts=child;}return{name:name,opts:opts};}).filter(function(child){var c=Component.getComponent(child.opts.componentClass||(0,_toTitleCase2['default'])(child.name));return c&&!Tech.isTech(c);}).forEach(handleAdd);}};Component.prototype.buildCSSClass=function buildCSSClass(){return'';};Component.prototype.on=function on(first,second,third){var _this2=this;if(typeof first==='string'||Array.isArray(first)){Events.on(this.el_,first,Fn.bind(this,second));}else{var target=first;var type=second;var fn=Fn.bind(this,third);var removeOnDispose=function removeOnDispose(){return _this2.off(target,type,fn);};removeOnDispose.guid=fn.guid;this.on('dispose',removeOnDispose);var cleanRemover=function cleanRemover(){return _this2.off('dispose',removeOnDispose);};cleanRemover.guid=fn.guid;if(first.nodeName){Events.on(target,type,fn);Events.on(target,'dispose',cleanRemover);}else if(typeof first.on==='function'){target.on(type,fn);target.on('dispose',cleanRemover);}}return this;};Component.prototype.off=function off(first,second,third){if(!first||typeof first==='string'||Array.isArray(first)){Events.off(this.el_,first,second);}else{var target=first;var type=second;var fn=Fn.bind(this,third);this.off('dispose',fn);if(first.nodeName){Events.off(target,type,fn);Events.off(target,'dispose',fn);}else{target.off(type,fn);target.off('dispose',fn);}}return this;};Component.prototype.one=function one(first,second,third){var _this3=this,_arguments=arguments;if(typeof first==='string'||Array.isArray(first)){Events.one(this.el_,first,Fn.bind(this,second));}else{var target=first;var type=second;var fn=Fn.bind(this,third);var newFunc=function newFunc(){_this3.off(target,type,newFunc);fn.apply(null,_arguments);};newFunc.guid=fn.guid;this.on(target,type,newFunc);}return this;};Component.prototype.trigger=function trigger(event,hash){Events.trigger(this.el_,event,hash);return this;};Component.prototype.ready=function ready(fn){var sync=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(fn){if(this.isReady_){if(sync){fn.call(this);}else{this.setTimeout(fn,1);}}else{this.readyQueue_=this.readyQueue_||[];this.readyQueue_.push(fn);}}return this;};Component.prototype.triggerReady=function triggerReady(){this.isReady_=true;this.setTimeout(function(){var readyQueue=this.readyQueue_;this.readyQueue_=[];if(readyQueue&&readyQueue.length>0){readyQueue.forEach(function(fn){fn.call(this);},this);}this.trigger('ready');},1);};Component.prototype.$=function $(selector,context){return Dom.$(selector,context||this.contentEl());};Component.prototype.$$=function $$(selector,context){return Dom.$$(selector,context||this.contentEl());};Component.prototype.hasClass=function hasClass(classToCheck){return Dom.hasElClass(this.el_,classToCheck);};Component.prototype.addClass=function addClass(classToAdd){Dom.addElClass(this.el_,classToAdd);return this;};Component.prototype.removeClass=function removeClass(classToRemove){Dom.removeElClass(this.el_,classToRemove);return this;};Component.prototype.toggleClass=function toggleClass(classToToggle,predicate){Dom.toggleElClass(this.el_,classToToggle,predicate);return this;};Component.prototype.show=function show(){this.removeClass('vjs-hidden');return this;};Component.prototype.hide=function hide(){this.addClass('vjs-hidden');return this;};Component.prototype.lockShowing=function lockShowing(){this.addClass('vjs-lock-showing');return this;};Component.prototype.unlockShowing=function unlockShowing(){this.removeClass('vjs-lock-showing');return this;};Component.prototype.getAttribute=function getAttribute(attribute){return Dom.getAttribute(this.el_,attribute);};Component.prototype.setAttribute=function setAttribute(attribute,value){Dom.setAttribute(this.el_,attribute,value);return this;};Component.prototype.removeAttribute=function removeAttribute(attribute){Dom.removeAttribute(this.el_,attribute);return this;};Component.prototype.width=function width(num,skipListeners){return this.dimension('width',num,skipListeners);};Component.prototype.height=function height(num,skipListeners){return this.dimension('height',num,skipListeners);};Component.prototype.dimensions=function dimensions(width,height){return this.width(width,true).height(height);};Component.prototype.dimension=function dimension(widthOrHeight,num,skipListeners){if(num!==undefined){if(num===null||num!==num){num=0;}if((''+num).indexOf('%')!==-1||(''+num).indexOf('px')!==-1){this.el_.style[widthOrHeight]=num;}else if(num==='auto'){this.el_.style[widthOrHeight]='';}else{this.el_.style[widthOrHeight]=num+'px';}if(!skipListeners){this.trigger('resize');}return this;}if(!this.el_){return 0;}var val=this.el_.style[widthOrHeight];var pxIndex=val.indexOf('px');if(pxIndex!==-1){return parseInt(val.slice(0,pxIndex),10);}return parseInt(this.el_['offset'+(0,_toTitleCase2['default'])(widthOrHeight)],10);};Component.prototype.currentDimension=function currentDimension(widthOrHeight){var computedWidthOrHeight=0;if(widthOrHeight!=='width'&&widthOrHeight!=='height'){throw new Error('currentDimension only accepts width or height value');}if(typeof _window2['default'].getComputedStyle==='function'){var computedStyle=_window2['default'].getComputedStyle(this.el_);computedWidthOrHeight=computedStyle.getPropertyValue(widthOrHeight)||computedStyle[widthOrHeight];}computedWidthOrHeight=parseFloat(computedWidthOrHeight);if(computedWidthOrHeight===0){var rule='offset'+(0,_toTitleCase2['default'])(widthOrHeight);computedWidthOrHeight=this.el_[rule];}return computedWidthOrHeight;};Component.prototype.currentDimensions=function currentDimensions(){return{width:this.currentDimension('width'),height:this.currentDimension('height')};};Component.prototype.currentWidth=function currentWidth(){return this.currentDimension('width');};Component.prototype.currentHeight=function currentHeight(){return this.currentDimension('height');};Component.prototype.focus=function focus(){this.el_.focus();};Component.prototype.blur=function blur(){this.el_.blur();};Component.prototype.emitTapEvents=function emitTapEvents(){var touchStart=0;var firstTouch=null;var tapMovementThreshold=10;var touchTimeThreshold=200;var couldBeTap=void 0;this.on('touchstart',function(event){if(event.touches.length===1){firstTouch={pageX:event.touches[0].pageX,pageY:event.touches[0].pageY};touchStart=new Date().getTime();couldBeTap=true;}});this.on('touchmove',function(event){if(event.touches.length>1){couldBeTap=false;}else if(firstTouch){var xdiff=event.touches[0].pageX-firstTouch.pageX;var ydiff=event.touches[0].pageY-firstTouch.pageY;var touchDistance=Math.sqrt(xdiff*xdiff+ydiff*ydiff);if(touchDistance>tapMovementThreshold){couldBeTap=false;}}});var noTap=function noTap(){couldBeTap=false;};this.on('touchleave',noTap);this.on('touchcancel',noTap);this.on('touchend',function(event){firstTouch=null;if(couldBeTap===true){var touchTime=new Date().getTime()-touchStart;if(touchTime<touchTimeThreshold){event.preventDefault();this.trigger('tap');}}});};Component.prototype.enableTouchActivity=function enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity){return;}var report=Fn.bind(this.player(),this.player().reportUserActivity);var touchHolding=void 0;this.on('touchstart',function(){report();this.clearInterval(touchHolding);touchHolding=this.setInterval(report,250);});var touchEnd=function touchEnd(event){report();this.clearInterval(touchHolding);};this.on('touchmove',report);this.on('touchend',touchEnd);this.on('touchcancel',touchEnd);};Component.prototype.setTimeout=function setTimeout(fn,timeout){fn=Fn.bind(this,fn);var timeoutId=_window2['default'].setTimeout(fn,timeout);var disposeFn=function disposeFn(){this.clearTimeout(timeoutId);};disposeFn.guid='vjs-timeout-'+timeoutId;this.on('dispose',disposeFn);return timeoutId;};Component.prototype.clearTimeout=function clearTimeout(timeoutId){_window2['default'].clearTimeout(timeoutId);var disposeFn=function disposeFn(){};disposeFn.guid='vjs-timeout-'+timeoutId;this.off('dispose',disposeFn);return timeoutId;};Component.prototype.setInterval=function setInterval(fn,interval){fn=Fn.bind(this,fn);var intervalId=_window2['default'].setInterval(fn,interval);var disposeFn=function disposeFn(){this.clearInterval(intervalId);};disposeFn.guid='vjs-interval-'+intervalId;this.on('dispose',disposeFn);return intervalId;};Component.prototype.clearInterval=function clearInterval(intervalId){_window2['default'].clearInterval(intervalId);var disposeFn=function disposeFn(){};disposeFn.guid='vjs-interval-'+intervalId;this.off('dispose',disposeFn);return intervalId;};Component.registerComponent=function registerComponent(name,comp){if(!name){return;}name=(0,_toTitleCase2['default'])(name);if(!Component.components_){Component.components_={};}if(name==='Player'&&Component.components_[name]){var Player=Component.components_[name];if(Player.players&&Object.keys(Player.players).length>0&&Object.keys(Player.players).map(function(playerName){return Player.players[playerName];}).every(Boolean)){throw new Error('Can not register Player component after player has been created');}}Component.components_[name]=comp;return comp;};Component.getComponent=function getComponent(name){if(!name){return;}name=(0,_toTitleCase2['default'])(name);if(Component.components_&&Component.components_[name]){return Component.components_[name];}if(_window2['default']&&_window2['default'].videojs&&_window2['default'].videojs[name]){_log2['default'].warn('The '+name+' component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)');return _window2['default'].videojs[name];}};Component.extend=function extend(props){props=props||{};_log2['default'].warn('Component.extend({}) has been deprecated, '+' use videojs.extend(Component, {}) instead');var init=props.init||props.init||this.prototype.init||this.prototype.init||function(){};var subObj=function subObj(){init.apply(this,arguments);};subObj.prototype=Object.create(this.prototype);subObj.prototype.constructor=subObj;subObj.extend=Component.extend;for(var name in props){if(props.hasOwnProperty(name)){subObj.prototype[name]=props[name];}}return subObj;};return Component;}();Component.registerComponent('Component',Component);exports['default']=Component;},{\"81\":81,\"82\":82,\"83\":83,\"85\":85,\"86\":86,\"87\":87,\"91\":91,\"95\":95}],6:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackButton=_dereq_(36);var _trackButton2=_interopRequireDefault(_trackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _audioTrackMenuItem=_dereq_(7);var _audioTrackMenuItem2=_interopRequireDefault(_audioTrackMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrackButton=function(_TrackButton){_inherits(AudioTrackButton,_TrackButton);function AudioTrackButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,AudioTrackButton);options.tracks=player.audioTracks&&player.audioTracks();var _this=_possibleConstructorReturn(this,_TrackButton.call(this,player,options));_this.el_.setAttribute('aria-label','Audio Menu');return _this;}AudioTrackButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-audio-button '+_TrackButton.prototype.buildCSSClass.call(this);};AudioTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];this.hideThreshold_=1;var tracks=this.player_.audioTracks&&this.player_.audioTracks();if(!tracks){return items;}for(var i=0;i<tracks.length;i++){var track=tracks[i];items.push(new _audioTrackMenuItem2['default'](this.player_,{track:track,selectable:true}));}return items;};return AudioTrackButton;}(_trackButton2['default']);AudioTrackButton.prototype.controlText_='Audio Track';_component2['default'].registerComponent('AudioTrackButton',AudioTrackButton);exports['default']=AudioTrackButton;},{\"36\":36,\"5\":5,\"7\":7}],7:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrackMenuItem=function(_MenuItem){_inherits(AudioTrackMenuItem,_MenuItem);function AudioTrackMenuItem(player,options){_classCallCheck(this,AudioTrackMenuItem);var track=options.track;var tracks=player.audioTracks();options.label=track.label||track.language||'Unknown';options.selected=track.enabled;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}return _this;}AudioTrackMenuItem.prototype.handleClick=function handleClick(event){var tracks=this.player_.audioTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}for(var i=0;i<tracks.length;i++){var track=tracks[i];track.enabled=track===this.track;}};AudioTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected(this.track.enabled);};return AudioTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('AudioTrackMenuItem',AudioTrackMenuItem);exports['default']=AudioTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83}],8:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(12);_dereq_(32);_dereq_(33);_dereq_(35);_dereq_(34);_dereq_(10);_dereq_(18);_dereq_(9);_dereq_(38);_dereq_(40);_dereq_(11);_dereq_(25);_dereq_(27);_dereq_(29);_dereq_(24);_dereq_(6);_dereq_(13);_dereq_(21);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ControlBar=function(_Component){_inherits(ControlBar,_Component);function ControlBar(){_classCallCheck(this,ControlBar);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}ControlBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-control-bar',dir:'ltr'},{role:'group'});};return ControlBar;}(_component2['default']);ControlBar.prototype.options_={children:['playToggle','volumeMenuButton','currentTimeDisplay','timeDivider','durationDisplay','progressControl','liveDisplay','remainingTimeDisplay','customControlSpacer','playbackRateMenuButton','chaptersButton','descriptionsButton','subtitlesButton','captionsButton','audioTrackButton','fullscreenToggle']};_component2['default'].registerComponent('ControlBar',ControlBar);exports['default']=ControlBar;},{\"10\":10,\"11\":11,\"12\":12,\"13\":13,\"18\":18,\"21\":21,\"24\":24,\"25\":25,\"27\":27,\"29\":29,\"32\":32,\"33\":33,\"34\":34,\"35\":35,\"38\":38,\"40\":40,\"5\":5,\"6\":6,\"9\":9}],9:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var FullscreenToggle=function(_Button){_inherits(FullscreenToggle,_Button);function FullscreenToggle(player,options){_classCallCheck(this,FullscreenToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'fullscreenchange',_this.handleFullscreenChange);return _this;}FullscreenToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-fullscreen-control '+_Button.prototype.buildCSSClass.call(this);};FullscreenToggle.prototype.handleFullscreenChange=function handleFullscreenChange(event){if(this.player_.isFullscreen()){this.controlText('Non-Fullscreen');}else{this.controlText('Fullscreen');}};FullscreenToggle.prototype.handleClick=function handleClick(event){if(!this.player_.isFullscreen()){this.player_.requestFullscreen();}else{this.player_.exitFullscreen();}};return FullscreenToggle;}(_button2['default']);FullscreenToggle.prototype.controlText_='Fullscreen';_component2['default'].registerComponent('FullscreenToggle',FullscreenToggle);exports['default']=FullscreenToggle;},{\"2\":2,\"5\":5}],10:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LiveDisplay=function(_Component){_inherits(LiveDisplay,_Component);function LiveDisplay(player,options){_classCallCheck(this,LiveDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateShowing();_this.on(_this.player(),'durationchange',_this.updateShowing);return _this;}LiveDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-live-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-live-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Stream Type')+'</span>'+this.localize('LIVE')},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};LiveDisplay.prototype.updateShowing=function updateShowing(event){if(this.player().duration()===Infinity){this.show();}else{this.hide();}};return LiveDisplay;}(_component2['default']);_component2['default'].registerComponent('LiveDisplay',LiveDisplay);exports['default']=LiveDisplay;},{\"5\":5,\"81\":81}],11:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MuteToggle=function(_Button){_inherits(MuteToggle,_Button);function MuteToggle(player,options){_classCallCheck(this,MuteToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'volumechange',_this.update);if(player.tech_&&player.tech_.featuresVolumeControl===false){_this.addClass('vjs-hidden');}_this.on(player,'loadstart',function(){this.update();if(player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}});return _this;}MuteToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-mute-control '+_Button.prototype.buildCSSClass.call(this);};MuteToggle.prototype.handleClick=function handleClick(event){this.player_.muted(this.player_.muted()?false:true);};MuteToggle.prototype.update=function update(event){var vol=this.player_.volume();var level=3;if(this.player_.muted()){level=0;}else if(vol<0.33){level=1;}else if(vol<0.67){level=2;}var toMute=this.player_.muted()?'Unmute':'Mute';if(this.controlText()!==toMute){this.controlText(toMute);}for(var i=0;i<4;i++){Dom.removeElClass(this.el_,'vjs-vol-'+i);}Dom.addElClass(this.el_,'vjs-vol-'+level);};return MuteToggle;}(_button2['default']);MuteToggle.prototype.controlText_='Mute';_component2['default'].registerComponent('MuteToggle',MuteToggle);exports['default']=MuteToggle;},{\"2\":2,\"5\":5,\"81\":81}],12:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _button=_dereq_(2);var _button2=_interopRequireDefault(_button);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlayToggle=function(_Button){_inherits(PlayToggle,_Button);function PlayToggle(player,options){_classCallCheck(this,PlayToggle);var _this=_possibleConstructorReturn(this,_Button.call(this,player,options));_this.on(player,'play',_this.handlePlay);_this.on(player,'pause',_this.handlePause);return _this;}PlayToggle.prototype.buildCSSClass=function buildCSSClass(){return'vjs-play-control '+_Button.prototype.buildCSSClass.call(this);};PlayToggle.prototype.handleClick=function handleClick(event){if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}};PlayToggle.prototype.handlePlay=function handlePlay(event){this.removeClass('vjs-paused');this.addClass('vjs-playing');this.controlText('Pause');};PlayToggle.prototype.handlePause=function handlePause(event){this.removeClass('vjs-playing');this.addClass('vjs-paused');this.controlText('Play');};return PlayToggle;}(_button2['default']);PlayToggle.prototype.controlText_='Play';_component2['default'].registerComponent('PlayToggle',PlayToggle);exports['default']=PlayToggle;},{\"2\":2,\"5\":5}],13:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuButton=_dereq_(47);var _menuButton2=_interopRequireDefault(_menuButton);var _menu=_dereq_(49);var _menu2=_interopRequireDefault(_menu);var _playbackRateMenuItem=_dereq_(14);var _playbackRateMenuItem2=_interopRequireDefault(_playbackRateMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlaybackRateMenuButton=function(_MenuButton){_inherits(PlaybackRateMenuButton,_MenuButton);function PlaybackRateMenuButton(player,options){_classCallCheck(this,PlaybackRateMenuButton);var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));_this.updateVisibility();_this.updateLabel();_this.on(player,'loadstart',_this.updateVisibility);_this.on(player,'ratechange',_this.updateLabel);return _this;}PlaybackRateMenuButton.prototype.createEl=function createEl(){var el=_MenuButton.prototype.createEl.call(this);this.labelEl_=Dom.createEl('div',{className:'vjs-playback-rate-value',innerHTML:1.0});el.appendChild(this.labelEl_);return el;};PlaybackRateMenuButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-playback-rate '+_MenuButton.prototype.buildCSSClass.call(this);};PlaybackRateMenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2['default'](this.player());var rates=this.playbackRates();if(rates){for(var i=rates.length-1;i>=0;i--){menu.addChild(new _playbackRateMenuItem2['default'](this.player(),{rate:rates[i]+'x'}));}}return menu;};PlaybackRateMenuButton.prototype.updateARIAAttributes=function updateARIAAttributes(){this.el().setAttribute('aria-valuenow',this.player().playbackRate());};PlaybackRateMenuButton.prototype.handleClick=function handleClick(event){var currentRate=this.player().playbackRate();var rates=this.playbackRates();var newRate=rates[0];for(var i=0;i<rates.length;i++){if(rates[i]>currentRate){newRate=rates[i];break;}}this.player().playbackRate(newRate);};PlaybackRateMenuButton.prototype.playbackRates=function playbackRates(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates;};PlaybackRateMenuButton.prototype.playbackRateSupported=function playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0;};PlaybackRateMenuButton.prototype.updateVisibility=function updateVisibility(event){if(this.playbackRateSupported()){this.removeClass('vjs-hidden');}else{this.addClass('vjs-hidden');}};PlaybackRateMenuButton.prototype.updateLabel=function updateLabel(event){if(this.playbackRateSupported()){this.labelEl_.innerHTML=this.player().playbackRate()+'x';}};return PlaybackRateMenuButton;}(_menuButton2['default']);PlaybackRateMenuButton.prototype.controlText_='Playback Rate';_component2['default'].registerComponent('PlaybackRateMenuButton',PlaybackRateMenuButton);exports['default']=PlaybackRateMenuButton;},{\"14\":14,\"47\":47,\"49\":49,\"5\":5,\"81\":81}],14:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlaybackRateMenuItem=function(_MenuItem){_inherits(PlaybackRateMenuItem,_MenuItem);function PlaybackRateMenuItem(player,options){_classCallCheck(this,PlaybackRateMenuItem);var label=options.rate;var rate=parseFloat(label,10);options.label=label;options.selected=rate===1;options.selectable=true;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.label=label;_this.rate=rate;_this.on(player,'ratechange',_this.update);return _this;}PlaybackRateMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player().playbackRate(this.rate);};PlaybackRateMenuItem.prototype.update=function update(event){this.selected(this.player().playbackRate()===this.rate);};return PlaybackRateMenuItem;}(_menuItem2['default']);PlaybackRateMenuItem.prototype.contentElType='button';_component2['default'].registerComponent('PlaybackRateMenuItem',PlaybackRateMenuItem);exports['default']=PlaybackRateMenuItem;},{\"48\":48,\"5\":5}],15:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoadProgressBar=function(_Component){_inherits(LoadProgressBar,_Component);function LoadProgressBar(player,options){_classCallCheck(this,LoadProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.partEls_=[];_this.on(player,'progress',_this.update);return _this;}LoadProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-load-progress',innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize('Loaded')+'</span>: 0%</span>'});};LoadProgressBar.prototype.update=function update(event){var buffered=this.player_.buffered();var duration=this.player_.duration();var bufferedEnd=this.player_.bufferedEnd();var children=this.partEls_;var percentify=function percentify(time,end){var percent=time/end||0;return(percent>=1?1:percent)*100+'%';};this.el_.style.width=percentify(bufferedEnd,duration);for(var i=0;i<buffered.length;i++){var start=buffered.start(i);var end=buffered.end(i);var part=children[i];if(!part){part=this.el_.appendChild(Dom.createEl());children[i]=part;}part.style.left=percentify(start,bufferedEnd);part.style.width=percentify(end-start,bufferedEnd);}for(var _i=children.length;_i>buffered.length;_i--){this.el_.removeChild(children[_i-1]);}children.length=buffered.length;};return LoadProgressBar;}(_component2['default']);_component2['default'].registerComponent('LoadProgressBar',LoadProgressBar);exports['default']=LoadProgressBar;},{\"5\":5,\"81\":81}],16:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MouseTimeDisplay=function(_Component){_inherits(MouseTimeDisplay,_Component);function MouseTimeDisplay(player,options){_classCallCheck(this,MouseTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.tooltip=Dom.createEl('div',{className:'vjs-time-tooltip'});_this.el().appendChild(_this.tooltip);_this.addClass('vjs-keep-tooltips-inside');}_this.update(0,0);player.on('ready',function(){_this.on(player.controlBar.progressControl.el(),'mousemove',Fn.throttle(Fn.bind(_this,_this.handleMouseMove),25));});return _this;}MouseTimeDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-mouse-display'});};MouseTimeDisplay.prototype.handleMouseMove=function handleMouseMove(event){var duration=this.player_.duration();var newTime=this.calculateDistance(event)*duration;var position=event.pageX-Dom.findElPosition(this.el().parentNode).left;this.update(newTime,position);};MouseTimeDisplay.prototype.update=function update(newTime,position){var time=(0,_formatTime2['default'])(newTime,this.player_.duration());this.el().style.left=position+'px';this.el().setAttribute('data-current-time',time);if(this.keepTooltipsInside){var clampedPosition=this.clampPosition_(position);var difference=position-clampedPosition+1;var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltip,'width'));var tooltipWidthHalf=tooltipWidth/2;this.tooltip.innerHTML=time;this.tooltip.style.right='-'+(tooltipWidthHalf-difference)+'px';}};MouseTimeDisplay.prototype.calculateDistance=function calculateDistance(event){return Dom.getPointerPosition(this.el().parentNode,event).x;};MouseTimeDisplay.prototype.clampPosition_=function clampPosition_(position){if(!this.keepTooltipsInside){return position;}var playerWidth=parseFloat((0,_computedStyle2['default'])(this.player().el(),'width'));var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltip,'width'));var tooltipWidthHalf=tooltipWidth/2;var actualPosition=position;if(position<tooltipWidthHalf){actualPosition=Math.ceil(tooltipWidthHalf);}else if(position>playerWidth-tooltipWidthHalf){actualPosition=Math.floor(playerWidth-tooltipWidthHalf);}return actualPosition;};return MouseTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('MouseTimeDisplay',MouseTimeDisplay);exports['default']=MouseTimeDisplay;},{\"5\":5,\"80\":80,\"81\":81,\"83\":83,\"84\":84}],17:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PlayProgressBar=function(_Component){_inherits(PlayProgressBar,_Component);function PlayProgressBar(player,options){_classCallCheck(this,PlayProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateDataAttr();_this.on(player,'timeupdate',_this.updateDataAttr);player.ready(Fn.bind(_this,_this.updateDataAttr));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.addClass('vjs-keep-tooltips-inside');}return _this;}PlayProgressBar.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-play-progress vjs-slider-bar',innerHTML:'<span class=\"vjs-control-text\"><span>'+this.localize('Progress')+'</span>: 0%</span>'});};PlayProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute('data-current-time',(0,_formatTime2['default'])(time,this.player_.duration()));};return PlayProgressBar;}(_component2['default']);_component2['default'].registerComponent('PlayProgressBar',PlayProgressBar);exports['default']=PlayProgressBar;},{\"5\":5,\"83\":83,\"84\":84}],18:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(19);_dereq_(16);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ProgressControl=function(_Component){_inherits(ProgressControl,_Component);function ProgressControl(){_classCallCheck(this,ProgressControl);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}ProgressControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-progress-control vjs-control'});};return ProgressControl;}(_component2['default']);ProgressControl.prototype.options_={children:['seekBar']};_component2['default'].registerComponent('ProgressControl',ProgressControl);exports['default']=ProgressControl;},{\"16\":16,\"19\":19,\"5\":5}],19:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _slider=_dereq_(57);var _slider2=_interopRequireDefault(_slider);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);_dereq_(15);_dereq_(17);_dereq_(20);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SeekBar=function(_Slider){_inherits(SeekBar,_Slider);function SeekBar(player,options){_classCallCheck(this,SeekBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));_this.on(player,'timeupdate',_this.updateProgress);_this.on(player,'ended',_this.updateProgress);player.ready(Fn.bind(_this,_this.updateProgress));if(options.playerOptions&&options.playerOptions.controlBar&&options.playerOptions.controlBar.progressControl&&options.playerOptions.controlBar.progressControl.keepTooltipsInside){_this.keepTooltipsInside=options.playerOptions.controlBar.progressControl.keepTooltipsInside;}if(_this.keepTooltipsInside){_this.tooltipProgressBar=_this.addChild('TooltipProgressBar');}return _this;}SeekBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-progress-holder'},{'aria-label':'progress bar'});};SeekBar.prototype.updateProgress=function updateProgress(event){this.updateAriaAttributes(this.el_);if(this.keepTooltipsInside){this.updateAriaAttributes(this.tooltipProgressBar.el_);this.tooltipProgressBar.el_.style.width=this.bar.el_.style.width;var playerWidth=parseFloat((0,_computedStyle2['default'])(this.player().el(),'width'));var tooltipWidth=parseFloat((0,_computedStyle2['default'])(this.tooltipProgressBar.tooltip,'width'));var tooltipStyle=this.tooltipProgressBar.el().style;tooltipStyle.maxWidth=Math.floor(playerWidth-tooltipWidth/2)+'px';tooltipStyle.minWidth=Math.ceil(tooltipWidth/2)+'px';tooltipStyle.right='-'+tooltipWidth/2+'px';}};SeekBar.prototype.updateAriaAttributes=function updateAriaAttributes(el){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();el.setAttribute('aria-valuenow',(this.getPercent()*100).toFixed(2));el.setAttribute('aria-valuetext',(0,_formatTime2['default'])(time,this.player_.duration()));};SeekBar.prototype.getPercent=function getPercent(){var percent=this.player_.currentTime()/this.player_.duration();return percent>=1?1:percent;};SeekBar.prototype.handleMouseDown=function handleMouseDown(event){this.player_.scrubbing(true);this.videoWasPlaying=!this.player_.paused();this.player_.pause();_Slider.prototype.handleMouseDown.call(this,event);};SeekBar.prototype.handleMouseMove=function handleMouseMove(event){var newTime=this.calculateDistance(event)*this.player_.duration();if(newTime===this.player_.duration()){newTime=newTime-0.1;}this.player_.currentTime(newTime);};SeekBar.prototype.handleMouseUp=function handleMouseUp(event){_Slider.prototype.handleMouseUp.call(this,event);this.player_.scrubbing(false);if(this.videoWasPlaying){this.player_.play();}};SeekBar.prototype.stepForward=function stepForward(){this.player_.currentTime(this.player_.currentTime()+5);};SeekBar.prototype.stepBack=function stepBack(){this.player_.currentTime(this.player_.currentTime()-5);};return SeekBar;}(_slider2['default']);SeekBar.prototype.options_={children:['loadProgressBar','mouseTimeDisplay','playProgressBar'],barName:'playProgressBar'};SeekBar.prototype.playerEvent='timeupdate';_component2['default'].registerComponent('SeekBar',SeekBar);exports['default']=SeekBar;},{\"15\":15,\"17\":17,\"20\":20,\"5\":5,\"57\":57,\"80\":80,\"83\":83,\"84\":84}],20:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TooltipProgressBar=function(_Component){_inherits(TooltipProgressBar,_Component);function TooltipProgressBar(player,options){_classCallCheck(this,TooltipProgressBar);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.updateDataAttr();_this.on(player,'timeupdate',_this.updateDataAttr);player.ready(Fn.bind(_this,_this.updateDataAttr));return _this;}TooltipProgressBar.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-tooltip-progress-bar vjs-slider-bar',innerHTML:'<div class=\"vjs-time-tooltip\"></div>\\n        <span class=\"vjs-control-text\"><span>'+this.localize('Progress')+'</span>: 0%</span>'});this.tooltip=el.querySelector('.vjs-time-tooltip');return el;};TooltipProgressBar.prototype.updateDataAttr=function updateDataAttr(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var formattedTime=(0,_formatTime2['default'])(time,this.player_.duration());this.el_.setAttribute('data-current-time',formattedTime);this.tooltip.innerHTML=formattedTime;};return TooltipProgressBar;}(_component2['default']);_component2['default'].registerComponent('TooltipProgressBar',TooltipProgressBar);exports['default']=TooltipProgressBar;},{\"5\":5,\"83\":83,\"84\":84}],21:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _spacer=_dereq_(22);var _spacer2=_interopRequireDefault(_spacer);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CustomControlSpacer=function(_Spacer){_inherits(CustomControlSpacer,_Spacer);function CustomControlSpacer(){_classCallCheck(this,CustomControlSpacer);return _possibleConstructorReturn(this,_Spacer.apply(this,arguments));}CustomControlSpacer.prototype.buildCSSClass=function buildCSSClass(){return'vjs-custom-control-spacer '+_Spacer.prototype.buildCSSClass.call(this);};CustomControlSpacer.prototype.createEl=function createEl(){var el=_Spacer.prototype.createEl.call(this,{className:this.buildCSSClass()});el.innerHTML='&nbsp;';return el;};return CustomControlSpacer;}(_spacer2['default']);_component2['default'].registerComponent('CustomControlSpacer',CustomControlSpacer);exports['default']=CustomControlSpacer;},{\"22\":22,\"5\":5}],22:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Spacer=function(_Component){_inherits(Spacer,_Component);function Spacer(){_classCallCheck(this,Spacer);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}Spacer.prototype.buildCSSClass=function buildCSSClass(){return'vjs-spacer '+_Component.prototype.buildCSSClass.call(this);};Spacer.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};return Spacer;}(_component2['default']);_component2['default'].registerComponent('Spacer',Spacer);exports['default']=Spacer;},{\"5\":5}],23:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CaptionSettingsMenuItem=function(_TextTrackMenuItem){_inherits(CaptionSettingsMenuItem,_TextTrackMenuItem);function CaptionSettingsMenuItem(player,options){_classCallCheck(this,CaptionSettingsMenuItem);options.track={player:player,kind:options.kind,label:options.kind+' settings',selectable:false,'default':false,mode:'disabled'};options.selectable=false;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.addClass('vjs-texttrack-settings');_this.controlText(', opens '+options.kind+' settings dialog');return _this;}CaptionSettingsMenuItem.prototype.handleClick=function handleClick(event){this.player().getChild('textTrackSettings').show();this.player().getChild('textTrackSettings').el_.focus();};return CaptionSettingsMenuItem;}(_textTrackMenuItem2['default']);_component2['default'].registerComponent('CaptionSettingsMenuItem',CaptionSettingsMenuItem);exports['default']=CaptionSettingsMenuItem;},{\"31\":31,\"5\":5}],24:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _captionSettingsMenuItem=_dereq_(23);var _captionSettingsMenuItem2=_interopRequireDefault(_captionSettingsMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CaptionsButton=function(_TextTrackButton){_inherits(CaptionsButton,_TextTrackButton);function CaptionsButton(player,options,ready){_classCallCheck(this,CaptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Captions Menu');return _this;}CaptionsButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-captions-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};CaptionsButton.prototype.createItems=function createItems(){var items=[];if(!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)){items.push(new _captionSettingsMenuItem2['default'](this.player_,{kind:this.kind_}));this.hideThreshold_+=1;}return _TextTrackButton.prototype.createItems.call(this,items);};return CaptionsButton;}(_textTrackButton2['default']);CaptionsButton.prototype.kind_='captions';CaptionsButton.prototype.controlText_='Captions';_component2['default'].registerComponent('CaptionsButton',CaptionsButton);exports['default']=CaptionsButton;},{\"23\":23,\"30\":30,\"5\":5}],25:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _chaptersTrackMenuItem=_dereq_(26);var _chaptersTrackMenuItem2=_interopRequireDefault(_chaptersTrackMenuItem);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ChaptersButton=function(_TextTrackButton){_inherits(ChaptersButton,_TextTrackButton);function ChaptersButton(player,options,ready){_classCallCheck(this,ChaptersButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Chapters Menu');return _this;}ChaptersButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-chapters-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};ChaptersButton.prototype.update=function update(event){if(!this.track_||event&&(event.type==='addtrack'||event.type==='removetrack')){this.setTrack(this.findChaptersTrack());}_TextTrackButton.prototype.update.call(this);};ChaptersButton.prototype.setTrack=function setTrack(track){if(this.track_===track){return;}if(!this.updateHandler_){this.updateHandler_=this.update.bind(this);}if(this.track_){var remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(remoteTextTrackEl){remoteTextTrackEl.removeEventListener('load',this.updateHandler_);}this.track_=null;}this.track_=track;if(this.track_){this.track_.mode='hidden';var _remoteTextTrackEl=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);if(_remoteTextTrackEl){_remoteTextTrackEl.addEventListener('load',this.updateHandler_);}}};ChaptersButton.prototype.findChaptersTrack=function findChaptersTrack(){var tracks=this.player_.textTracks()||[];for(var i=tracks.length-1;i>=0;i--){var track=tracks[i];if(track.kind===this.kind_){return track;}}};ChaptersButton.prototype.getMenuCaption=function getMenuCaption(){if(this.track_&&this.track_.label){return this.track_.label;}return this.localize((0,_toTitleCase2['default'])(this.kind_));};ChaptersButton.prototype.createMenu=function createMenu(){this.options_.title=this.getMenuCaption();return _TextTrackButton.prototype.createMenu.call(this);};ChaptersButton.prototype.createItems=function createItems(){var items=[];if(!this.track_){return items;}var cues=this.track_.cues;if(!cues){return items;}for(var i=0,l=cues.length;i<l;i++){var cue=cues[i];var mi=new _chaptersTrackMenuItem2['default'](this.player_,{track:this.track_,cue:cue});items.push(mi);}return items;};return ChaptersButton;}(_textTrackButton2['default']);ChaptersButton.prototype.kind_='chapters';ChaptersButton.prototype.controlText_='Chapters';_component2['default'].registerComponent('ChaptersButton',ChaptersButton);exports['default']=ChaptersButton;},{\"26\":26,\"30\":30,\"5\":5,\"91\":91}],26:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ChaptersTrackMenuItem=function(_MenuItem){_inherits(ChaptersTrackMenuItem,_MenuItem);function ChaptersTrackMenuItem(player,options){_classCallCheck(this,ChaptersTrackMenuItem);var track=options.track;var cue=options.cue;var currentTime=player.currentTime();options.selectable=true;options.label=cue.text;options.selected=cue.startTime<=currentTime&&currentTime<cue.endTime;var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;_this.cue=cue;track.addEventListener('cuechange',Fn.bind(_this,_this.update));return _this;}ChaptersTrackMenuItem.prototype.handleClick=function handleClick(event){_MenuItem.prototype.handleClick.call(this);this.player_.currentTime(this.cue.startTime);this.update(this.cue.startTime);};ChaptersTrackMenuItem.prototype.update=function update(event){var cue=this.cue;var currentTime=this.player_.currentTime();this.selected(cue.startTime<=currentTime&&currentTime<cue.endTime);};return ChaptersTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('ChaptersTrackMenuItem',ChaptersTrackMenuItem);exports['default']=ChaptersTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83}],27:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DescriptionsButton=function(_TextTrackButton){_inherits(DescriptionsButton,_TextTrackButton);function DescriptionsButton(player,options,ready){_classCallCheck(this,DescriptionsButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Descriptions Menu');var tracks=player.textTracks();if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}return _this;}DescriptionsButton.prototype.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var disabled=false;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind!==this.kind_&&track.mode==='showing'){disabled=true;break;}}if(disabled){this.disable();}else{this.enable();}};DescriptionsButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-descriptions-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};return DescriptionsButton;}(_textTrackButton2['default']);DescriptionsButton.prototype.kind_='descriptions';DescriptionsButton.prototype.controlText_='Descriptions';_component2['default'].registerComponent('DescriptionsButton',DescriptionsButton);exports['default']=DescriptionsButton;},{\"30\":30,\"5\":5,\"83\":83}],28:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var OffTextTrackMenuItem=function(_TextTrackMenuItem){_inherits(OffTextTrackMenuItem,_TextTrackMenuItem);function OffTextTrackMenuItem(player,options){_classCallCheck(this,OffTextTrackMenuItem);options.track={player:player,kind:options.kind,label:options.kind+' off','default':false,mode:'disabled'};options.selectable=true;var _this=_possibleConstructorReturn(this,_TextTrackMenuItem.call(this,player,options));_this.selected(true);return _this;}OffTextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){var tracks=this.player().textTracks();var selected=true;for(var i=0,l=tracks.length;i<l;i++){var track=tracks[i];if(track.kind===this.track.kind&&track.mode==='showing'){selected=false;break;}}this.selected(selected);};return OffTextTrackMenuItem;}(_textTrackMenuItem2['default']);_component2['default'].registerComponent('OffTextTrackMenuItem',OffTextTrackMenuItem);exports['default']=OffTextTrackMenuItem;},{\"31\":31,\"5\":5}],29:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackButton=_dereq_(30);var _textTrackButton2=_interopRequireDefault(_textTrackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var SubtitlesButton=function(_TextTrackButton){_inherits(SubtitlesButton,_TextTrackButton);function SubtitlesButton(player,options,ready){_classCallCheck(this,SubtitlesButton);var _this=_possibleConstructorReturn(this,_TextTrackButton.call(this,player,options,ready));_this.el_.setAttribute('aria-label','Subtitles Menu');return _this;}SubtitlesButton.prototype.buildCSSClass=function buildCSSClass(){return'vjs-subtitles-button '+_TextTrackButton.prototype.buildCSSClass.call(this);};return SubtitlesButton;}(_textTrackButton2['default']);SubtitlesButton.prototype.kind_='subtitles';SubtitlesButton.prototype.controlText_='Subtitles';_component2['default'].registerComponent('SubtitlesButton',SubtitlesButton);exports['default']=SubtitlesButton;},{\"30\":30,\"5\":5}],30:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackButton=_dereq_(36);var _trackButton2=_interopRequireDefault(_trackButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _textTrackMenuItem=_dereq_(31);var _textTrackMenuItem2=_interopRequireDefault(_textTrackMenuItem);var _offTextTrackMenuItem=_dereq_(28);var _offTextTrackMenuItem2=_interopRequireDefault(_offTextTrackMenuItem);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackButton=function(_TrackButton){_inherits(TextTrackButton,_TrackButton);function TextTrackButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,TextTrackButton);options.tracks=player.textTracks();return _possibleConstructorReturn(this,_TrackButton.call(this,player,options));}TextTrackButton.prototype.createItems=function createItems(){var items=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];items.push(new _offTextTrackMenuItem2['default'](this.player_,{kind:this.kind_}));this.hideThreshold_+=1;var tracks=this.player_.textTracks();if(!tracks){return items;}for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind===this.kind_){items.push(new _textTrackMenuItem2['default'](this.player_,{track:track,selectable:true}));}}return items;};return TextTrackButton;}(_trackButton2['default']);_component2['default'].registerComponent('TextTrackButton',TextTrackButton);exports['default']=TextTrackButton;},{\"28\":28,\"31\":31,\"36\":36,\"5\":5}],31:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _menuItem=_dereq_(48);var _menuItem2=_interopRequireDefault(_menuItem);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackMenuItem=function(_MenuItem){_inherits(TextTrackMenuItem,_MenuItem);function TextTrackMenuItem(player,options){_classCallCheck(this,TextTrackMenuItem);var track=options.track;var tracks=player.textTracks();options.label=track.label||track.language||'Unknown';options.selected=track['default']||track.mode==='showing';var _this=_possibleConstructorReturn(this,_MenuItem.call(this,player,options));_this.track=track;if(tracks){var changeHandler=Fn.bind(_this,_this.handleTracksChange);player.on(['loadstart','texttrackchange'],changeHandler);tracks.addEventListener('change',changeHandler);_this.on('dispose',function(){tracks.removeEventListener('change',changeHandler);});}if(tracks&&tracks.onchange===undefined){var event=void 0;_this.on(['tap','click'],function(){if(_typeof(_window2['default'].Event)!=='object'){try{event=new _window2['default'].Event('change');}catch(err){}}if(!event){event=_document2['default'].createEvent('Event');event.initEvent('change',true,true);}tracks.dispatchEvent(event);});}return _this;}TextTrackMenuItem.prototype.handleClick=function handleClick(event){var kind=this.track.kind;var tracks=this.player_.textTracks();_MenuItem.prototype.handleClick.call(this,event);if(!tracks){return;}for(var i=0;i<tracks.length;i++){var track=tracks[i];if(track.kind!==kind){continue;}if(track===this.track){if(track.mode!=='showing'){track.mode='showing';}}else if(track.mode!=='disabled'){track.mode='disabled';}}};TextTrackMenuItem.prototype.handleTracksChange=function handleTracksChange(event){this.selected(this.track.mode==='showing');};return TextTrackMenuItem;}(_menuItem2['default']);_component2['default'].registerComponent('TextTrackMenuItem',TextTrackMenuItem);exports['default']=TextTrackMenuItem;},{\"48\":48,\"5\":5,\"83\":83,\"94\":94,\"95\":95}],32:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var CurrentTimeDisplay=function(_Component){_inherits(CurrentTimeDisplay,_Component);function CurrentTimeDisplay(player,options){_classCallCheck(this,CurrentTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'timeupdate',_this.updateContent);return _this;}CurrentTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-current-time vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-current-time-display',innerHTML:'<span class=\"vjs-control-text\">Current Time </span>'+'0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};CurrentTimeDisplay.prototype.updateContent=function updateContent(event){var time=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();var localizedText=this.localize('Current Time');var formattedTime=(0,_formatTime2['default'])(time,this.player_.duration());if(formattedTime!==this.formattedTime_){this.formattedTime_=formattedTime;this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> '+formattedTime;}};return CurrentTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('CurrentTimeDisplay',CurrentTimeDisplay);exports['default']=CurrentTimeDisplay;},{\"5\":5,\"81\":81,\"84\":84}],33:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var DurationDisplay=function(_Component){_inherits(DurationDisplay,_Component);function DurationDisplay(player,options){_classCallCheck(this,DurationDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'durationchange',_this.updateContent);_this.on(player,'timeupdate',_this.updateContent);_this.on(player,'loadedmetadata',_this.updateContent);return _this;}DurationDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-duration vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-duration-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Duration Time')+'</span> 0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};DurationDisplay.prototype.updateContent=function updateContent(event){var duration=this.player_.duration();if(duration&&this.duration_!==duration){this.duration_=duration;var localizedText=this.localize('Duration Time');var formattedTime=(0,_formatTime2['default'])(duration);this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> '+formattedTime;}};return DurationDisplay;}(_component2['default']);_component2['default'].registerComponent('DurationDisplay',DurationDisplay);exports['default']=DurationDisplay;},{\"5\":5,\"81\":81,\"84\":84}],34:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var RemainingTimeDisplay=function(_Component){_inherits(RemainingTimeDisplay,_Component);function RemainingTimeDisplay(player,options){_classCallCheck(this,RemainingTimeDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.on(player,'timeupdate',_this.updateContent);_this.on(player,'durationchange',_this.updateContent);return _this;}RemainingTimeDisplay.prototype.createEl=function createEl(){var el=_Component.prototype.createEl.call(this,'div',{className:'vjs-remaining-time vjs-time-control vjs-control'});this.contentEl_=Dom.createEl('div',{className:'vjs-remaining-time-display',innerHTML:'<span class=\"vjs-control-text\">'+this.localize('Remaining Time')+'</span> -0:00'},{'aria-live':'off'});el.appendChild(this.contentEl_);return el;};RemainingTimeDisplay.prototype.updateContent=function updateContent(event){if(this.player_.duration()){var localizedText=this.localize('Remaining Time');var formattedTime=(0,_formatTime2['default'])(this.player_.remainingTime());if(formattedTime!==this.formattedTime_){this.formattedTime_=formattedTime;this.contentEl_.innerHTML='<span class=\"vjs-control-text\">'+localizedText+'</span> -'+formattedTime;}}};return RemainingTimeDisplay;}(_component2['default']);_component2['default'].registerComponent('RemainingTimeDisplay',RemainingTimeDisplay);exports['default']=RemainingTimeDisplay;},{\"5\":5,\"81\":81,\"84\":84}],35:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TimeDivider=function(_Component){_inherits(TimeDivider,_Component);function TimeDivider(){_classCallCheck(this,TimeDivider);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}TimeDivider.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-time-control vjs-time-divider',innerHTML:'<div><span>/</span></div>'});};return TimeDivider;}(_component2['default']);_component2['default'].registerComponent('TimeDivider',TimeDivider);exports['default']=TimeDivider;},{\"5\":5}],36:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _menuButton=_dereq_(47);var _menuButton2=_interopRequireDefault(_menuButton);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TrackButton=function(_MenuButton){_inherits(TrackButton,_MenuButton);function TrackButton(player,options){_classCallCheck(this,TrackButton);var tracks=options.tracks;var _this=_possibleConstructorReturn(this,_MenuButton.call(this,player,options));if(_this.items.length<=1){_this.hide();}if(!tracks){return _possibleConstructorReturn(_this);}var updateHandler=Fn.bind(_this,_this.update);tracks.addEventListener('removetrack',updateHandler);tracks.addEventListener('addtrack',updateHandler);_this.player_.on('dispose',function(){tracks.removeEventListener('removetrack',updateHandler);tracks.removeEventListener('addtrack',updateHandler);});return _this;}return TrackButton;}(_menuButton2['default']);_component2['default'].registerComponent('TrackButton',TrackButton);exports['default']=TrackButton;},{\"47\":47,\"5\":5,\"83\":83}],37:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _slider=_dereq_(57);var _slider2=_interopRequireDefault(_slider);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);_dereq_(39);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeBar=function(_Slider){_inherits(VolumeBar,_Slider);function VolumeBar(player,options){_classCallCheck(this,VolumeBar);var _this=_possibleConstructorReturn(this,_Slider.call(this,player,options));_this.on(player,'volumechange',_this.updateARIAAttributes);player.ready(Fn.bind(_this,_this.updateARIAAttributes));return _this;}VolumeBar.prototype.createEl=function createEl(){return _Slider.prototype.createEl.call(this,'div',{className:'vjs-volume-bar vjs-slider-bar'},{'aria-label':'volume level'});};VolumeBar.prototype.handleMouseMove=function handleMouseMove(event){this.checkMuted();this.player_.volume(this.calculateDistance(event));};VolumeBar.prototype.checkMuted=function checkMuted(){if(this.player_.muted()){this.player_.muted(false);}};VolumeBar.prototype.getPercent=function getPercent(){if(this.player_.muted()){return 0;}return this.player_.volume();};VolumeBar.prototype.stepForward=function stepForward(){this.checkMuted();this.player_.volume(this.player_.volume()+0.1);};VolumeBar.prototype.stepBack=function stepBack(){this.checkMuted();this.player_.volume(this.player_.volume()-0.1);};VolumeBar.prototype.updateARIAAttributes=function updateARIAAttributes(event){var volume=(this.player_.volume()*100).toFixed(2);this.el_.setAttribute('aria-valuenow',volume);this.el_.setAttribute('aria-valuetext',volume+'%');};return VolumeBar;}(_slider2['default']);VolumeBar.prototype.options_={children:['volumeLevel'],barName:'volumeLevel'};VolumeBar.prototype.playerEvent='volumechange';_component2['default'].registerComponent('VolumeBar',VolumeBar);exports['default']=VolumeBar;},{\"39\":39,\"5\":5,\"57\":57,\"83\":83}],38:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);_dereq_(37);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeControl=function(_Component){_inherits(VolumeControl,_Component);function VolumeControl(player,options){_classCallCheck(this,VolumeControl);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));if(player.tech_&&player.tech_.featuresVolumeControl===false){_this.addClass('vjs-hidden');}_this.on(player,'loadstart',function(){if(player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}});return _this;}VolumeControl.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-control vjs-control'});};return VolumeControl;}(_component2['default']);VolumeControl.prototype.options_={children:['volumeBar']};_component2['default'].registerComponent('VolumeControl',VolumeControl);exports['default']=VolumeControl;},{\"37\":37,\"5\":5}],39:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeLevel=function(_Component){_inherits(VolumeLevel,_Component);function VolumeLevel(){_classCallCheck(this,VolumeLevel);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}VolumeLevel.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-volume-level',innerHTML:'<span class=\"vjs-control-text\"></span>'});};return VolumeLevel;}(_component2['default']);_component2['default'].registerComponent('VolumeLevel',VolumeLevel);exports['default']=VolumeLevel;},{\"5\":5}],40:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _popup=_dereq_(54);var _popup2=_interopRequireDefault(_popup);var _popupButton=_dereq_(53);var _popupButton2=_interopRequireDefault(_popupButton);var _muteToggle=_dereq_(11);var _muteToggle2=_interopRequireDefault(_muteToggle);var _volumeBar=_dereq_(37);var _volumeBar2=_interopRequireDefault(_volumeBar);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VolumeMenuButton=function(_PopupButton){_inherits(VolumeMenuButton,_PopupButton);function VolumeMenuButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,VolumeMenuButton);if(options.inline===undefined){options.inline=true;}if(options.vertical===undefined){if(options.inline){options.vertical=false;}else{options.vertical=true;}}options.volumeBar=options.volumeBar||{};options.volumeBar.vertical=!!options.vertical;var _this=_possibleConstructorReturn(this,_PopupButton.call(this,player,options));_this.on(player,'volumechange',_this.volumeUpdate);_this.on(player,'loadstart',_this.volumeUpdate);function updateVisibility(){if(player.tech_&&player.tech_.featuresVolumeControl===false){this.addClass('vjs-hidden');}else{this.removeClass('vjs-hidden');}}updateVisibility.call(_this);_this.on(player,'loadstart',updateVisibility);_this.on(_this.volumeBar,['slideractive','focus'],function(){this.addClass('vjs-slider-active');});_this.on(_this.volumeBar,['sliderinactive','blur'],function(){this.removeClass('vjs-slider-active');});_this.on(_this.volumeBar,['focus'],function(){this.addClass('vjs-lock-showing');});_this.on(_this.volumeBar,['blur'],function(){this.removeClass('vjs-lock-showing');});return _this;}VolumeMenuButton.prototype.buildCSSClass=function buildCSSClass(){var orientationClass='';if(this.options_.vertical){orientationClass='vjs-volume-menu-button-vertical';}else{orientationClass='vjs-volume-menu-button-horizontal';}return'vjs-volume-menu-button '+_PopupButton.prototype.buildCSSClass.call(this)+' '+orientationClass;};VolumeMenuButton.prototype.createPopup=function createPopup(){var popup=new _popup2['default'](this.player_,{contentElType:'div'});var vb=new _volumeBar2['default'](this.player_,this.options_.volumeBar);popup.addChild(vb);this.menuContent=popup;this.volumeBar=vb;this.attachVolumeBarEvents();return popup;};VolumeMenuButton.prototype.handleClick=function handleClick(event){_muteToggle2['default'].prototype.handleClick.call(this);_PopupButton.prototype.handleClick.call(this);};VolumeMenuButton.prototype.attachVolumeBarEvents=function attachVolumeBarEvents(){this.menuContent.on(['mousedown','touchdown'],Fn.bind(this,this.handleMouseDown));};VolumeMenuButton.prototype.handleMouseDown=function handleMouseDown(event){this.on(['mousemove','touchmove'],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove));this.on(this.el_.ownerDocument,['mouseup','touchend'],this.handleMouseUp);};VolumeMenuButton.prototype.handleMouseUp=function handleMouseUp(event){this.off(['mousemove','touchmove'],Fn.bind(this.volumeBar,this.volumeBar.handleMouseMove));};return VolumeMenuButton;}(_popupButton2['default']);VolumeMenuButton.prototype.volumeUpdate=_muteToggle2['default'].prototype.update;VolumeMenuButton.prototype.controlText_='Mute';_component2['default'].registerComponent('VolumeMenuButton',VolumeMenuButton);exports['default']=VolumeMenuButton;},{\"11\":11,\"37\":37,\"5\":5,\"53\":53,\"54\":54,\"83\":83}],41:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _modalDialog=_dereq_(50);var _modalDialog2=_interopRequireDefault(_modalDialog);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var ErrorDisplay=function(_ModalDialog){_inherits(ErrorDisplay,_ModalDialog);function ErrorDisplay(player,options){_classCallCheck(this,ErrorDisplay);var _this=_possibleConstructorReturn(this,_ModalDialog.call(this,player,options));_this.on(player,'error',_this.open);return _this;}ErrorDisplay.prototype.buildCSSClass=function buildCSSClass(){return'vjs-error-display '+_ModalDialog.prototype.buildCSSClass.call(this);};ErrorDisplay.prototype.content=function content(){var error=this.player().error();return error?this.localize(error.message):'';};return ErrorDisplay;}(_modalDialog2['default']);ErrorDisplay.prototype.options_=(0,_mergeOptions2['default'])(_modalDialog2['default'].prototype.options_,{pauseOnOpen:false,fillAlways:true,temporary:false,uncloseable:true});_component2['default'].registerComponent('ErrorDisplay',ErrorDisplay);exports['default']=ErrorDisplay;},{\"5\":5,\"50\":50,\"87\":87}],42:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var EventTarget=function EventTarget(){};EventTarget.prototype.allowedEvents_={};EventTarget.prototype.on=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){};Events.on(this,type,fn);this.addEventListener=ael;};EventTarget.prototype.addEventListener=EventTarget.prototype.on;EventTarget.prototype.off=function(type,fn){Events.off(this,type,fn);};EventTarget.prototype.removeEventListener=EventTarget.prototype.off;EventTarget.prototype.one=function(type,fn){var ael=this.addEventListener;this.addEventListener=function(){};Events.one(this,type,fn);this.addEventListener=ael;};EventTarget.prototype.trigger=function(event){var type=event.type||event;if(typeof event==='string'){event={type:type};}event=Events.fixEvent(event);if(this.allowedEvents_[type]&&this['on'+type]){this['on'+type](event);}Events.trigger(this,event);};EventTarget.prototype.dispatchEvent=EventTarget.prototype.trigger;exports['default']=EventTarget;},{\"82\":82}],43:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var _inherits=function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+(typeof superClass==='undefined'?'undefined':_typeof(superClass)));}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass){subClass.super_=superClass;}};var extendFn=function extendFn(superClass){var subClassMethods=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var subClass=function subClass(){superClass.apply(this,arguments);};var methods={};if((0,_obj.isObject)(subClassMethods)){if(typeof subClassMethods.init==='function'){_log2['default'].warn('Constructor logic via init() is deprecated; please use constructor() instead.');subClassMethods.constructor=subClassMethods.init;}if(subClassMethods.constructor!==Object.prototype.constructor){subClass=subClassMethods.constructor;}methods=subClassMethods;}else if(typeof subClassMethods==='function'){subClass=subClassMethods;}_inherits(subClass,superClass);for(var name in methods){if(methods.hasOwnProperty(name)){subClass.prototype[name]=methods[name];}}return subClass;};exports['default']=extendFn;},{\"86\":86,\"88\":88}],44:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var FullscreenApi={};var apiMap=[['requestFullscreen','exitFullscreen','fullscreenElement','fullscreenEnabled','fullscreenchange','fullscreenerror'],['webkitRequestFullscreen','webkitExitFullscreen','webkitFullscreenElement','webkitFullscreenEnabled','webkitfullscreenchange','webkitfullscreenerror'],['webkitRequestFullScreen','webkitCancelFullScreen','webkitCurrentFullScreenElement','webkitCancelFullScreen','webkitfullscreenchange','webkitfullscreenerror'],['mozRequestFullScreen','mozCancelFullScreen','mozFullScreenElement','mozFullScreenEnabled','mozfullscreenchange','mozfullscreenerror'],['msRequestFullscreen','msExitFullscreen','msFullscreenElement','msFullscreenEnabled','MSFullscreenChange','MSFullscreenError']];var specApi=apiMap[0];var browserApi=void 0;for(var i=0;i<apiMap.length;i++){if(apiMap[i][1]in _document2['default']){browserApi=apiMap[i];break;}}if(browserApi){for(var _i=0;_i<browserApi.length;_i++){FullscreenApi[specApi[_i]]=browserApi[_i];}}exports['default']=FullscreenApi;},{\"94\":94}],45:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LoadingSpinner=function(_Component){_inherits(LoadingSpinner,_Component);function LoadingSpinner(){_classCallCheck(this,LoadingSpinner);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}LoadingSpinner.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-loading-spinner',dir:'ltr'});};return LoadingSpinner;}(_component2['default']);_component2['default'].registerComponent('LoadingSpinner',LoadingSpinner);exports['default']=LoadingSpinner;},{\"5\":5}],46:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _obj=_dereq_(88);function MediaError(value){if(value instanceof MediaError){return value;}if(typeof value==='number'){this.code=value;}else if(typeof value==='string'){this.message=value;}else if((0,_obj.isObject)(value)){if(typeof value.code==='number'){this.code=value.code;}(0,_obj.assign)(this,value);}if(!this.message){this.message=MediaError.defaultMessages[this.code]||'';}}MediaError.prototype.code=0;MediaError.prototype.message='';MediaError.prototype.status=null;MediaError.errorTypes=['MEDIA_ERR_CUSTOM','MEDIA_ERR_ABORTED','MEDIA_ERR_NETWORK','MEDIA_ERR_DECODE','MEDIA_ERR_SRC_NOT_SUPPORTED','MEDIA_ERR_ENCRYPTED'];MediaError.defaultMessages={1:'You aborted the media playback',2:'A network error caused the media download to fail part-way.',3:'The media playback was aborted due to a corruption problem or because the media used features your browser did not support.',4:'The media could not be loaded, either because the server or network failed or because the format is not supported.',5:'The media is encrypted and we do not have the keys to decrypt it.'};for(var errNum=0;errNum<MediaError.errorTypes.length;errNum++){MediaError[MediaError.errorTypes[errNum]]=errNum;MediaError.prototype[MediaError.errorTypes[errNum]]=errNum;}exports['default']=MediaError;},{\"88\":88}],47:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _menu=_dereq_(49);var _menu2=_interopRequireDefault(_menu);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MenuButton=function(_ClickableComponent){_inherits(MenuButton,_ClickableComponent);function MenuButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,MenuButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();_this.enabled_=true;_this.el_.setAttribute('aria-haspopup','true');_this.el_.setAttribute('role','menuitem');_this.on('keydown',_this.handleSubmenuKeyPress);return _this;}MenuButton.prototype.update=function update(){var menu=this.createMenu();if(this.menu){this.removeChild(this.menu);}this.menu=menu;this.addChild(menu);this.buttonPressed_=false;this.el_.setAttribute('aria-expanded','false');if(this.items&&this.items.length<=this.hideThreshold_){this.hide();}else{this.show();}};MenuButton.prototype.createMenu=function createMenu(){var menu=new _menu2['default'](this.player_);this.hideThreshold_=0;if(this.options_.title){var title=Dom.createEl('li',{className:'vjs-menu-title',innerHTML:(0,_toTitleCase2['default'])(this.options_.title),tabIndex:-1});this.hideThreshold_+=1;menu.children_.unshift(title);Dom.insertElFirst(title,menu.contentEl());}this.items=this.createItems();if(this.items){for(var i=0;i<this.items.length;i++){menu.addItem(this.items[i]);}}return menu;};MenuButton.prototype.createItems=function createItems(){};MenuButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};MenuButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return'vjs-menu-button '+menuButtonClass+' '+_ClickableComponent.prototype.buildCSSClass.call(this);};MenuButton.prototype.handleClick=function handleClick(event){this.one(this.menu.contentEl(),'mouseleave',Fn.bind(this,function(e){this.unpressButton();this.el_.blur();}));if(this.buttonPressed_){this.unpressButton();}else{this.pressButton();}};MenuButton.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===27||event.which===9){if(this.buttonPressed_){this.unpressButton();}if(event.which!==9){event.preventDefault();}}else if(event.which===38||event.which===40){if(!this.buttonPressed_){this.pressButton();event.preventDefault();}}else{_ClickableComponent.prototype.handleKeyPress.call(this,event);}};MenuButton.prototype.handleSubmenuKeyPress=function handleSubmenuKeyPress(event){if(event.which===27||event.which===9){if(this.buttonPressed_){this.unpressButton();}if(event.which!==9){event.preventDefault();}}};MenuButton.prototype.pressButton=function pressButton(){if(this.enabled_){this.buttonPressed_=true;this.menu.lockShowing();this.el_.setAttribute('aria-expanded','true');this.menu.focus();}};MenuButton.prototype.unpressButton=function unpressButton(){if(this.enabled_){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute('aria-expanded','false');this.el_.focus();}};MenuButton.prototype.disable=function disable(){this.buttonPressed_=false;this.menu.unlockShowing();this.el_.setAttribute('aria-expanded','false');this.enabled_=false;return _ClickableComponent.prototype.disable.call(this);};MenuButton.prototype.enable=function enable(){this.enabled_=true;return _ClickableComponent.prototype.enable.call(this);};return MenuButton;}(_clickableComponent2['default']);_component2['default'].registerComponent('MenuButton',MenuButton);exports['default']=MenuButton;},{\"3\":3,\"49\":49,\"5\":5,\"81\":81,\"83\":83,\"91\":91}],48:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MenuItem=function(_ClickableComponent){_inherits(MenuItem,_ClickableComponent);function MenuItem(player,options){_classCallCheck(this,MenuItem);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.selectable=options.selectable;_this.selected(options.selected);if(_this.selectable){_this.el_.setAttribute('role','menuitemcheckbox');}else{_this.el_.setAttribute('role','menuitem');}return _this;}MenuItem.prototype.createEl=function createEl(type,props,attrs){this.nonIconControl=true;return _ClickableComponent.prototype.createEl.call(this,'li',(0,_obj.assign)({className:'vjs-menu-item',innerHTML:this.localize(this.options_.label),tabIndex:-1},props),attrs);};MenuItem.prototype.handleClick=function handleClick(event){this.selected(true);};MenuItem.prototype.selected=function selected(_selected){if(this.selectable){if(_selected){this.addClass('vjs-selected');this.el_.setAttribute('aria-checked','true');this.controlText(', selected');}else{this.removeClass('vjs-selected');this.el_.setAttribute('aria-checked','false');this.controlText('');}}};return MenuItem;}(_clickableComponent2['default']);_component2['default'].registerComponent('MenuItem',MenuItem);exports['default']=MenuItem;},{\"3\":3,\"5\":5,\"88\":88}],49:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Menu=function(_Component){_inherits(Menu,_Component);function Menu(player,options){_classCallCheck(this,Menu);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.focusedChild_=-1;_this.on('keydown',_this.handleKeyPress);return _this;}Menu.prototype.addItem=function addItem(component){this.addChild(component);component.on('click',Fn.bind(this,function(event){this.unlockShowing();}));};Menu.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=Dom.createEl(contentElType,{className:'vjs-menu-content'});this.contentEl_.setAttribute('role','menu');var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.setAttribute('role','presentation');el.appendChild(this.contentEl_);Events.on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};Menu.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===37||event.which===40){event.preventDefault();this.stepForward();}else if(event.which===38||event.which===39){event.preventDefault();this.stepBack();}};Menu.prototype.stepForward=function stepForward(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_+1;}this.focus(stepChild);};Menu.prototype.stepBack=function stepBack(){var stepChild=0;if(this.focusedChild_!==undefined){stepChild=this.focusedChild_-1;}this.focus(stepChild);};Menu.prototype.focus=function focus(){var item=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var children=this.children().slice();var haveTitle=children.length&&children[0].className&&/vjs-menu-title/.test(children[0].className);if(haveTitle){children.shift();}if(children.length>0){if(item<0){item=0;}else if(item>=children.length){item=children.length-1;}this.focusedChild_=item;children[item].el_.focus();}};return Menu;}(_component2['default']);_component2['default'].registerComponent('Menu',Menu);exports['default']=Menu;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83}],50:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MODAL_CLASS_NAME='vjs-modal-dialog';var ESC=27;var ModalDialog=function(_Component){_inherits(ModalDialog,_Component);function ModalDialog(player,options){_classCallCheck(this,ModalDialog);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.opened_=_this.hasBeenOpened_=_this.hasBeenFilled_=false;_this.closeable(!_this.options_.uncloseable);_this.content(_this.options_.content);_this.contentEl_=Dom.createEl('div',{className:MODAL_CLASS_NAME+'-content'},{role:'document'});_this.descEl_=Dom.createEl('p',{className:MODAL_CLASS_NAME+'-description vjs-offscreen',id:_this.el().getAttribute('aria-describedby')});Dom.textContent(_this.descEl_,_this.description());_this.el_.appendChild(_this.descEl_);_this.el_.appendChild(_this.contentEl_);return _this;}ModalDialog.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:this.buildCSSClass(),tabIndex:-1},{'aria-describedby':this.id()+'_description','aria-hidden':'true','aria-label':this.label(),'role':'dialog'});};ModalDialog.prototype.buildCSSClass=function buildCSSClass(){return MODAL_CLASS_NAME+' vjs-hidden '+_Component.prototype.buildCSSClass.call(this);};ModalDialog.prototype.handleKeyPress=function handleKeyPress(e){if(e.which===ESC&&this.closeable()){this.close();}};ModalDialog.prototype.label=function label(){return this.options_.label||this.localize('Modal Window');};ModalDialog.prototype.description=function description(){var desc=this.options_.description||this.localize('This is a modal window.');if(this.closeable()){desc+=' '+this.localize('This modal can be closed by pressing the Escape key or activating the close button.');}return desc;};ModalDialog.prototype.open=function open(){if(!this.opened_){var player=this.player();this.trigger('beforemodalopen');this.opened_=true;if(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_){this.fill();}this.wasPlaying_=!player.paused();if(this.options_.pauseOnOpen&&this.wasPlaying_){player.pause();}if(this.closeable()){this.on(this.el_.ownerDocument,'keydown',Fn.bind(this,this.handleKeyPress));}player.controls(false);this.show();this.el().setAttribute('aria-hidden','false');this.trigger('modalopen');this.hasBeenOpened_=true;}return this;};ModalDialog.prototype.opened=function opened(value){if(typeof value==='boolean'){this[value?'open':'close']();}return this.opened_;};ModalDialog.prototype.close=function close(){if(this.opened_){var player=this.player();this.trigger('beforemodalclose');this.opened_=false;if(this.wasPlaying_&&this.options_.pauseOnOpen){player.play();}if(this.closeable()){this.off(this.el_.ownerDocument,'keydown',Fn.bind(this,this.handleKeyPress));}player.controls(true);this.hide();this.el().setAttribute('aria-hidden','true');this.trigger('modalclose');if(this.options_.temporary){this.dispose();}}return this;};ModalDialog.prototype.closeable=function closeable(value){if(typeof value==='boolean'){var closeable=this.closeable_=!!value;var close=this.getChild('closeButton');if(closeable&&!close){var temp=this.contentEl_;this.contentEl_=this.el_;close=this.addChild('closeButton',{controlText:'Close Modal Dialog'});this.contentEl_=temp;this.on(close,'close',this.close);}if(!closeable&&close){this.off(close,'close',this.close);this.removeChild(close);close.dispose();}}return this.closeable_;};ModalDialog.prototype.fill=function fill(){return this.fillWith(this.content());};ModalDialog.prototype.fillWith=function fillWith(content){var contentEl=this.contentEl();var parentEl=contentEl.parentNode;var nextSiblingEl=contentEl.nextSibling;this.trigger('beforemodalfill');this.hasBeenFilled_=true;parentEl.removeChild(contentEl);this.empty();Dom.insertContent(contentEl,content);this.trigger('modalfill');if(nextSiblingEl){parentEl.insertBefore(contentEl,nextSiblingEl);}else{parentEl.appendChild(contentEl);}return this;};ModalDialog.prototype.empty=function empty(){this.trigger('beforemodalempty');Dom.emptyEl(this.contentEl());this.trigger('modalempty');return this;};ModalDialog.prototype.content=function content(value){if(typeof value!=='undefined'){this.content_=value;}return this.content_;};return ModalDialog;}(_component2['default']);ModalDialog.prototype.options_={pauseOnOpen:true,temporary:true};_component2['default'].registerComponent('ModalDialog',ModalDialog);exports['default']=ModalDialog;},{\"5\":5,\"81\":81,\"83\":83}],51:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);var _timeRanges=_dereq_(90);var _buffer=_dereq_(79);var _stylesheet=_dereq_(89);var stylesheet=_interopRequireWildcard(_stylesheet);var _fullscreenApi=_dereq_(44);var _fullscreenApi2=_interopRequireDefault(_fullscreenApi);var _mediaError=_dereq_(46);var _mediaError2=_interopRequireDefault(_mediaError);var _tuple=_dereq_(97);var _tuple2=_interopRequireDefault(_tuple);var _obj=_dereq_(88);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _textTrackListConverter=_dereq_(69);var _textTrackListConverter2=_interopRequireDefault(_textTrackListConverter);var _modalDialog=_dereq_(50);var _modalDialog2=_interopRequireDefault(_modalDialog);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _audioTrackList=_dereq_(63);var _audioTrackList2=_interopRequireDefault(_audioTrackList);var _videoTrackList=_dereq_(76);var _videoTrackList2=_interopRequireDefault(_videoTrackList);_dereq_(61);_dereq_(59);_dereq_(55);_dereq_(68);_dereq_(45);_dereq_(1);_dereq_(4);_dereq_(8);_dereq_(41);_dereq_(71);_dereq_(60);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TECH_EVENTS_RETRIGGER=['progress','abort','suspend','emptied','stalled','loadedmetadata','loadeddata','timeupdate','ratechange','volumechange','texttrackchange'];var Player=function(_Component){_inherits(Player,_Component);function Player(tag,options,ready){_classCallCheck(this,Player);tag.id=tag.id||'vjs_video_'+Guid.newGUID();options=(0,_obj.assign)(Player.getTagSettings(tag),options);options.initChildren=false;options.createEl=false;options.reportTouchActivity=false;if(!options.language){if(typeof tag.closest==='function'){var closest=tag.closest('[lang]');if(closest){options.language=closest.getAttribute('lang');}}else{var element=tag;while(element&&element.nodeType===1){if(Dom.getElAttributes(element).hasOwnProperty('lang')){options.language=element.getAttribute('lang');break;}element=element.parentNode;}}}var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));if(!_this.options_||!_this.options_.techOrder||!_this.options_.techOrder.length){throw new Error('No techOrder specified. Did you overwrite '+'videojs.options instead of just changing the '+'properties you want to override?');}_this.tag=tag;_this.tagAttributes=tag&&Dom.getElAttributes(tag);_this.language(_this.options_.language);if(options.languages){var languagesToLower={};Object.getOwnPropertyNames(options.languages).forEach(function(name){languagesToLower[name.toLowerCase()]=options.languages[name];});_this.languages_=languagesToLower;}else{_this.languages_=Player.prototype.options_.languages;}_this.cache_={};_this.poster_=options.poster||'';_this.controls_=!!options.controls;tag.controls=false;_this.scrubbing_=false;_this.el_=_this.createEl();var playerOptionsCopy=(0,_mergeOptions2['default'])(_this.options_);if(options.plugins){var plugins=options.plugins;Object.getOwnPropertyNames(plugins).forEach(function(name){if(typeof this[name]==='function'){this[name](plugins[name]);}else{_log2['default'].error('Unable to find plugin:',name);}},_this);}_this.options_.playerOptions=playerOptionsCopy;_this.initChildren();_this.isAudio(tag.nodeName.toLowerCase()==='audio');if(_this.controls()){_this.addClass('vjs-controls-enabled');}else{_this.addClass('vjs-controls-disabled');}_this.el_.setAttribute('role','region');if(_this.isAudio()){_this.el_.setAttribute('aria-label','audio player');}else{_this.el_.setAttribute('aria-label','video player');}if(_this.isAudio()){_this.addClass('vjs-audio');}if(_this.flexNotSupported_()){_this.addClass('vjs-no-flex');}if(!browser.IS_IOS){_this.addClass('vjs-workinghover');}Player.players[_this.id_]=_this;var majorVersion='5.20.5'.split('.')[0];_this.addClass('vjs-v'+majorVersion);_this.userActive(true);_this.reportUserActivity();_this.listenForUserActivity_();_this.on('fullscreenchange',_this.handleFullscreenChange_);_this.on('stageclick',_this.handleStageClick_);return _this;}Player.prototype.dispose=function dispose(){this.trigger('dispose');this.off('dispose');if(this.styleEl_&&this.styleEl_.parentNode){this.styleEl_.parentNode.removeChild(this.styleEl_);}Player.players[this.id_]=null;if(this.tag&&this.tag.player){this.tag.player=null;}if(this.el_&&this.el_.player){this.el_.player=null;}if(this.tech_){this.tech_.dispose();}_Component.prototype.dispose.call(this);};Player.prototype.createEl=function createEl(){var tag=this.tag;var el=void 0;var playerElIngest=this.playerElIngest_=tag.parentNode&&tag.parentNode.hasAttribute&&tag.parentNode.hasAttribute('data-vjs-player');if(playerElIngest){el=this.el_=tag.parentNode;}else{el=this.el_=_Component.prototype.createEl.call(this,'div');}tag.setAttribute('tabindex','-1');tag.removeAttribute('width');tag.removeAttribute('height');var attrs=Dom.getElAttributes(tag);Object.getOwnPropertyNames(attrs).forEach(function(attr){if(attr==='class'){el.className+=' '+attrs[attr];}else{el.setAttribute(attr,attrs[attr]);}});tag.playerId=tag.id;tag.id+='_html5_api';tag.className='vjs-tech';tag.player=el.player=this;this.addClass('vjs-paused');if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE!==true){this.styleEl_=stylesheet.createStyleElement('vjs-styles-dimensions');var defaultsStyleEl=Dom.$('.vjs-styles-defaults');var head=Dom.$('head');head.insertBefore(this.styleEl_,defaultsStyleEl?defaultsStyleEl.nextSibling:head.firstChild);}this.width(this.options_.width);this.height(this.options_.height);this.fluid(this.options_.fluid);this.aspectRatio(this.options_.aspectRatio);var links=tag.getElementsByTagName('a');for(var i=0;i<links.length;i++){var linkEl=links.item(i);Dom.addElClass(linkEl,'vjs-hidden');linkEl.setAttribute('hidden','hidden');}tag.initNetworkState_=tag.networkState;if(tag.parentNode&&!playerElIngest){tag.parentNode.insertBefore(el,tag);}Dom.insertElFirst(tag,el);this.children_.unshift(tag);this.el_=el;return el;};Player.prototype.width=function width(value){return this.dimension('width',value);};Player.prototype.height=function height(value){return this.dimension('height',value);};Player.prototype.dimension=function dimension(_dimension,value){var privDimension=_dimension+'_';if(value===undefined){return this[privDimension]||0;}if(value===''){this[privDimension]=undefined;}else{var parsedVal=parseFloat(value);if(isNaN(parsedVal)){_log2['default'].error('Improper value \"'+value+'\" supplied for for '+_dimension);return this;}this[privDimension]=parsedVal;}this.updateStyleEl_();return this;};Player.prototype.fluid=function fluid(bool){if(bool===undefined){return!!this.fluid_;}this.fluid_=!!bool;if(bool){this.addClass('vjs-fluid');}else{this.removeClass('vjs-fluid');}this.updateStyleEl_();};Player.prototype.aspectRatio=function aspectRatio(ratio){if(ratio===undefined){return this.aspectRatio_;}if(!/^\\d+\\:\\d+$/.test(ratio)){throw new Error('Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.');}this.aspectRatio_=ratio;this.fluid(true);this.updateStyleEl_();};Player.prototype.updateStyleEl_=function updateStyleEl_(){if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE===true){var _width=typeof this.width_==='number'?this.width_:this.options_.width;var _height=typeof this.height_==='number'?this.height_:this.options_.height;var techEl=this.tech_&&this.tech_.el();if(techEl){if(_width>=0){techEl.width=_width;}if(_height>=0){techEl.height=_height;}}return;}var width=void 0;var height=void 0;var aspectRatio=void 0;var idClass=void 0;if(this.aspectRatio_!==undefined&&this.aspectRatio_!=='auto'){aspectRatio=this.aspectRatio_;}else if(this.videoWidth()>0){aspectRatio=this.videoWidth()+':'+this.videoHeight();}else{aspectRatio='16:9';}var ratioParts=aspectRatio.split(':');var ratioMultiplier=ratioParts[1]/ratioParts[0];if(this.width_!==undefined){width=this.width_;}else if(this.height_!==undefined){width=this.height_/ratioMultiplier;}else{width=this.videoWidth()||300;}if(this.height_!==undefined){height=this.height_;}else{height=width*ratioMultiplier;}if(/^[^a-zA-Z]/.test(this.id())){idClass='dimensions-'+this.id();}else{idClass=this.id()+'-dimensions';}this.addClass(idClass);stylesheet.setTextContent(this.styleEl_,'\\n      .'+idClass+' {\\n        width: '+width+'px;\\n        height: '+height+'px;\\n      }\\n\\n      .'+idClass+'.vjs-fluid {\\n        padding-top: '+ratioMultiplier*100+'%;\\n      }\\n    ');};Player.prototype.loadTech_=function loadTech_(techName,source){var _this2=this;if(this.tech_){this.unloadTech_();}if(techName!=='Html5'&&this.tag){_tech2['default'].getTech('Html5').disposeMediaElement(this.tag);this.tag.player=null;this.tag=null;}this.techName_=techName;this.isReady_=false;var techOptions=(0,_obj.assign)({source:source,'nativeControlsForTouch':this.options_.nativeControlsForTouch,'playerId':this.id(),'techId':this.id()+'_'+techName+'_api','videoTracks':this.videoTracks_,'textTracks':this.textTracks_,'audioTracks':this.audioTracks_,'autoplay':this.options_.autoplay,'playsinline':this.options_.playsinline,'preload':this.options_.preload,'loop':this.options_.loop,'muted':this.options_.muted,'poster':this.poster(),'language':this.language(),'playerElIngest':this.playerElIngest_||false,'vtt.js':this.options_['vtt.js']},this.options_[techName.toLowerCase()]);if(this.tag){techOptions.tag=this.tag;}if(source){this.currentType_=source.type;if(source.src===this.cache_.src&&this.cache_.currentTime>0){techOptions.startTime=this.cache_.currentTime;}this.cache_.sources=null;this.cache_.source=source;this.cache_.src=source.src;}var TechComponent=_tech2['default'].getTech(techName);if(!TechComponent){TechComponent=_component2['default'].getComponent(techName);}this.tech_=new TechComponent(techOptions);this.tech_.ready(Fn.bind(this,this.handleTechReady_),true);_textTrackListConverter2['default'].jsonToTextTracks(this.textTracksJson_||[],this.tech_);TECH_EVENTS_RETRIGGER.forEach(function(event){_this2.on(_this2.tech_,event,_this2['handleTech'+(0,_toTitleCase2['default'])(event)+'_']);});this.on(this.tech_,'loadstart',this.handleTechLoadStart_);this.on(this.tech_,'waiting',this.handleTechWaiting_);this.on(this.tech_,'canplay',this.handleTechCanPlay_);this.on(this.tech_,'canplaythrough',this.handleTechCanPlayThrough_);this.on(this.tech_,'playing',this.handleTechPlaying_);this.on(this.tech_,'ended',this.handleTechEnded_);this.on(this.tech_,'seeking',this.handleTechSeeking_);this.on(this.tech_,'seeked',this.handleTechSeeked_);this.on(this.tech_,'play',this.handleTechPlay_);this.on(this.tech_,'firstplay',this.handleTechFirstPlay_);this.on(this.tech_,'pause',this.handleTechPause_);this.on(this.tech_,'durationchange',this.handleTechDurationChange_);this.on(this.tech_,'fullscreenchange',this.handleTechFullscreenChange_);this.on(this.tech_,'error',this.handleTechError_);this.on(this.tech_,'loadedmetadata',this.updateStyleEl_);this.on(this.tech_,'posterchange',this.handleTechPosterChange_);this.on(this.tech_,'textdata',this.handleTechTextData_);this.usingNativeControls(this.techGet_('controls'));if(this.controls()&&!this.usingNativeControls()){this.addTechControlsListeners_();}if(this.tech_.el().parentNode!==this.el()&&(techName!=='Html5'||!this.tag)){Dom.insertElFirst(this.tech_.el(),this.el());}if(this.tag){this.tag.player=null;this.tag=null;}};Player.prototype.unloadTech_=function unloadTech_(){this.videoTracks_=this.videoTracks();this.textTracks_=this.textTracks();this.audioTracks_=this.audioTracks();this.textTracksJson_=_textTrackListConverter2['default'].textTracksToJson(this.tech_);this.isReady_=false;this.tech_.dispose();this.tech_=false;};Player.prototype.tech=function tech(safety){if(safety&&safety.IWillNotUseThisInPlugins){return this.tech_;}var errorText='\\n      Please make sure that you are not using this inside of a plugin.\\n      To disable this alert and error, please pass in an object with\\n      `IWillNotUseThisInPlugins` to the `tech` method. See\\n      https://github.com/videojs/video.js/issues/2617 for more info.\\n    ';_window2['default'].alert(errorText);throw new Error(errorText);};Player.prototype.addTechControlsListeners_=function addTechControlsListeners_(){this.removeTechControlsListeners_();this.on(this.tech_,'mousedown',this.handleTechClick_);this.on(this.tech_,'touchstart',this.handleTechTouchStart_);this.on(this.tech_,'touchmove',this.handleTechTouchMove_);this.on(this.tech_,'touchend',this.handleTechTouchEnd_);this.on(this.tech_,'tap',this.handleTechTap_);};Player.prototype.removeTechControlsListeners_=function removeTechControlsListeners_(){this.off(this.tech_,'tap',this.handleTechTap_);this.off(this.tech_,'touchstart',this.handleTechTouchStart_);this.off(this.tech_,'touchmove',this.handleTechTouchMove_);this.off(this.tech_,'touchend',this.handleTechTouchEnd_);this.off(this.tech_,'mousedown',this.handleTechClick_);};Player.prototype.handleTechReady_=function handleTechReady_(){this.triggerReady();if(this.cache_.volume){this.techCall_('setVolume',this.cache_.volume);}this.handleTechPosterChange_();this.handleTechDurationChange_();if((this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused()){try{delete this.tag.poster;}catch(e){(0,_log2['default'])('deleting tag.poster throws in some browsers',e);}this.play();}};Player.prototype.handleTechLoadStart_=function handleTechLoadStart_(){this.removeClass('vjs-ended');this.removeClass('vjs-seeking');this.error(null);if(!this.paused()){this.trigger('loadstart');this.trigger('firstplay');}else{this.hasStarted(false);this.trigger('loadstart');}};Player.prototype.hasStarted=function hasStarted(_hasStarted){if(_hasStarted!==undefined){if(this.hasStarted_!==_hasStarted){this.hasStarted_=_hasStarted;if(_hasStarted){this.addClass('vjs-has-started');this.trigger('firstplay');}else{this.removeClass('vjs-has-started');}}return this;}return!!this.hasStarted_;};Player.prototype.handleTechPlay_=function handleTechPlay_(){this.removeClass('vjs-ended');this.removeClass('vjs-paused');this.addClass('vjs-playing');this.hasStarted(true);this.trigger('play');};Player.prototype.handleTechWaiting_=function handleTechWaiting_(){var _this3=this;this.addClass('vjs-waiting');this.trigger('waiting');this.one('timeupdate',function(){return _this3.removeClass('vjs-waiting');});};Player.prototype.handleTechCanPlay_=function handleTechCanPlay_(){this.removeClass('vjs-waiting');this.trigger('canplay');};Player.prototype.handleTechCanPlayThrough_=function handleTechCanPlayThrough_(){this.removeClass('vjs-waiting');this.trigger('canplaythrough');};Player.prototype.handleTechPlaying_=function handleTechPlaying_(){this.removeClass('vjs-waiting');this.trigger('playing');};Player.prototype.handleTechSeeking_=function handleTechSeeking_(){this.addClass('vjs-seeking');this.trigger('seeking');};Player.prototype.handleTechSeeked_=function handleTechSeeked_(){this.removeClass('vjs-seeking');this.trigger('seeked');};Player.prototype.handleTechFirstPlay_=function handleTechFirstPlay_(){if(this.options_.starttime){_log2['default'].warn('Passing the `starttime` option to the player will be deprecated in 6.0');this.currentTime(this.options_.starttime);}this.addClass('vjs-has-started');this.trigger('firstplay');};Player.prototype.handleTechPause_=function handleTechPause_(){this.removeClass('vjs-playing');this.addClass('vjs-paused');this.trigger('pause');};Player.prototype.handleTechEnded_=function handleTechEnded_(){this.addClass('vjs-ended');if(this.options_.loop){this.currentTime(0);this.play();}else if(!this.paused()){this.pause();}this.trigger('ended');};Player.prototype.handleTechDurationChange_=function handleTechDurationChange_(){this.duration(this.techGet_('duration'));};Player.prototype.handleTechClick_=function handleTechClick_(event){if(event.button!==0){return;}if(this.controls()){if(this.paused()){this.play();}else{this.pause();}}};Player.prototype.handleTechTap_=function handleTechTap_(){this.userActive(!this.userActive());};Player.prototype.handleTechTouchStart_=function handleTechTouchStart_(){this.userWasActive=this.userActive();};Player.prototype.handleTechTouchMove_=function handleTechTouchMove_(){if(this.userWasActive){this.reportUserActivity();}};Player.prototype.handleTechTouchEnd_=function handleTechTouchEnd_(event){event.preventDefault();};Player.prototype.handleFullscreenChange_=function handleFullscreenChange_(){if(this.isFullscreen()){this.addClass('vjs-fullscreen');}else{this.removeClass('vjs-fullscreen');}};Player.prototype.handleStageClick_=function handleStageClick_(){this.reportUserActivity();};Player.prototype.handleTechFullscreenChange_=function handleTechFullscreenChange_(event,data){if(data){this.isFullscreen(data.isFullscreen);}this.trigger('fullscreenchange');};Player.prototype.handleTechError_=function handleTechError_(){var error=this.tech_.error();this.error(error);};Player.prototype.handleTechTextData_=function handleTechTextData_(){var data=null;if(arguments.length>1){data=arguments[1];}this.trigger('textdata',data);};Player.prototype.getCache=function getCache(){return this.cache_;};Player.prototype.techCall_=function techCall_(method,arg){if(this.tech_&&!this.tech_.isReady_){this.tech_.ready(function(){this[method](arg);},true);}else{try{if(this.tech_){this.tech_[method](arg);}}catch(e){(0,_log2['default'])(e);throw e;}}};Player.prototype.techGet_=function techGet_(method){if(this.tech_&&this.tech_.isReady_){try{return this.tech_[method]();}catch(e){if(this.tech_[method]===undefined){(0,_log2['default'])('Video.js: '+method+' method not defined for '+this.techName_+' playback technology.',e);}else if(e.name==='TypeError'){(0,_log2['default'])('Video.js: '+method+' unavailable on '+this.techName_+' playback technology element.',e);this.tech_.isReady_=false;}else{(0,_log2['default'])(e);}throw e;}}return;};Player.prototype.play=function play(){if(this.src()||this.currentSrc()){this.techCall_('play');}else{this.tech_.one('loadstart',function(){this.play();});}return this;};Player.prototype.pause=function pause(){this.techCall_('pause');return this;};Player.prototype.paused=function paused(){return this.techGet_('paused')===false?false:true;};Player.prototype.scrubbing=function scrubbing(isScrubbing){if(isScrubbing!==undefined){this.scrubbing_=!!isScrubbing;if(isScrubbing){this.addClass('vjs-scrubbing');}else{this.removeClass('vjs-scrubbing');}return this;}return this.scrubbing_;};Player.prototype.currentTime=function currentTime(seconds){if(seconds!==undefined){this.techCall_('setCurrentTime',seconds);return this;}this.cache_.currentTime=this.techGet_('currentTime')||0;return this.cache_.currentTime;};Player.prototype.duration=function duration(seconds){if(seconds===undefined){return this.cache_.duration!==undefined?this.cache_.duration:NaN;}seconds=parseFloat(seconds);if(seconds<0){seconds=Infinity;}if(seconds!==this.cache_.duration){this.cache_.duration=seconds;if(seconds===Infinity){this.addClass('vjs-live');}else{this.removeClass('vjs-live');}this.trigger('durationchange');}return this;};Player.prototype.remainingTime=function remainingTime(){return this.duration()-this.currentTime();};Player.prototype.buffered=function buffered(){var buffered=this.techGet_('buffered');if(!buffered||!buffered.length){buffered=(0,_timeRanges.createTimeRange)(0,0);}return buffered;};Player.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration());};Player.prototype.bufferedEnd=function bufferedEnd(){var buffered=this.buffered();var duration=this.duration();var end=buffered.end(buffered.length-1);if(end>duration){end=duration;}return end;};Player.prototype.volume=function volume(percentAsDecimal){var vol=void 0;if(percentAsDecimal!==undefined){vol=Math.max(0,Math.min(1,parseFloat(percentAsDecimal)));this.cache_.volume=vol;this.techCall_('setVolume',vol);return this;}vol=parseFloat(this.techGet_('volume'));return isNaN(vol)?1:vol;};Player.prototype.muted=function muted(_muted){if(_muted!==undefined){this.techCall_('setMuted',_muted);return this;}return this.techGet_('muted')||false;};Player.prototype.supportsFullScreen=function supportsFullScreen(){return this.techGet_('supportsFullScreen')||false;};Player.prototype.isFullscreen=function isFullscreen(isFS){if(isFS!==undefined){this.isFullscreen_=!!isFS;return this;}return!!this.isFullscreen_;};Player.prototype.requestFullscreen=function requestFullscreen(){var fsApi=_fullscreenApi2['default'];this.isFullscreen(true);if(fsApi.requestFullscreen){Events.on(_document2['default'],fsApi.fullscreenchange,Fn.bind(this,function documentFullscreenChange(e){this.isFullscreen(_document2['default'][fsApi.fullscreenElement]);if(this.isFullscreen()===false){Events.off(_document2['default'],fsApi.fullscreenchange,documentFullscreenChange);}this.trigger('fullscreenchange');}));this.el_[fsApi.requestFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('enterFullScreen');}else{this.enterFullWindow();this.trigger('fullscreenchange');}return this;};Player.prototype.exitFullscreen=function exitFullscreen(){var fsApi=_fullscreenApi2['default'];this.isFullscreen(false);if(fsApi.requestFullscreen){_document2['default'][fsApi.exitFullscreen]();}else if(this.tech_.supportsFullScreen()){this.techCall_('exitFullScreen');}else{this.exitFullWindow();this.trigger('fullscreenchange');}return this;};Player.prototype.enterFullWindow=function enterFullWindow(){this.isFullWindow=true;this.docOrigOverflow=_document2['default'].documentElement.style.overflow;Events.on(_document2['default'],'keydown',Fn.bind(this,this.fullWindowOnEscKey));_document2['default'].documentElement.style.overflow='hidden';Dom.addElClass(_document2['default'].body,'vjs-full-window');this.trigger('enterFullWindow');};Player.prototype.fullWindowOnEscKey=function fullWindowOnEscKey(event){if(event.keyCode===27){if(this.isFullscreen()===true){this.exitFullscreen();}else{this.exitFullWindow();}}};Player.prototype.exitFullWindow=function exitFullWindow(){this.isFullWindow=false;Events.off(_document2['default'],'keydown',this.fullWindowOnEscKey);_document2['default'].documentElement.style.overflow=this.docOrigOverflow;Dom.removeElClass(_document2['default'].body,'vjs-full-window');this.trigger('exitFullWindow');};Player.prototype.canPlayType=function canPlayType(type){var can=void 0;for(var i=0,j=this.options_.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2['default'])(j[i]);var tech=_tech2['default'].getTech(techName);if(!tech){tech=_component2['default'].getComponent(techName);}if(!tech){_log2['default'].error('The \"'+techName+'\" tech is undefined. Skipped browser support check for that tech.');continue;}if(tech.isSupported()){can=tech.canPlayType(type);if(can){return can;}}}return'';};Player.prototype.selectSource=function selectSource(sources){var _this4=this;var techs=this.options_.techOrder.map(_toTitleCase2['default']).map(function(techName){return[techName,_tech2['default'].getTech(techName)||_component2['default'].getComponent(techName)];}).filter(function(_ref){var techName=_ref[0],tech=_ref[1];if(tech){return tech.isSupported();}_log2['default'].error('The \"'+techName+'\" tech is undefined. Skipped browser support check for that tech.');return false;});var findFirstPassingTechSourcePair=function findFirstPassingTechSourcePair(outerArray,innerArray,tester){var found=void 0;outerArray.some(function(outerChoice){return innerArray.some(function(innerChoice){found=tester(outerChoice,innerChoice);if(found){return true;}});});return found;};var foundSourceAndTech=void 0;var flip=function flip(fn){return function(a,b){return fn(b,a);};};var finder=function finder(_ref2,source){var techName=_ref2[0],tech=_ref2[1];if(tech.canPlaySource(source,_this4.options_[techName.toLowerCase()])){return{source:source,tech:techName};}};if(this.options_.sourceOrder){foundSourceAndTech=findFirstPassingTechSourcePair(sources,techs,flip(finder));}else{foundSourceAndTech=findFirstPassingTechSourcePair(techs,sources,finder);}return foundSourceAndTech||false;};Player.prototype.src=function src(source){if(source===undefined){return this.techGet_('src');}var currentTech=_tech2['default'].getTech(this.techName_);if(!currentTech){currentTech=_component2['default'].getComponent(this.techName_);}if(Array.isArray(source)){this.sourceList_(source);}else if(typeof source==='string'){this.src({src:source});}else if(source instanceof Object){if(source.type&&!currentTech.canPlaySource(source,this.options_[this.techName_.toLowerCase()])){this.sourceList_([source]);}else{this.cache_.sources=null;this.cache_.source=source;this.cache_.src=source.src;this.currentType_=source.type||'';this.ready(function(){if(currentTech.prototype.hasOwnProperty('setSource')){this.techCall_('setSource',source);}else{this.techCall_('src',source.src);}if(this.options_.preload==='auto'){this.load();}if(this.options_.autoplay){this.play();}},true);}}return this;};Player.prototype.sourceList_=function sourceList_(sources){var sourceTech=this.selectSource(sources);if(sourceTech){if(sourceTech.tech===this.techName_){this.src(sourceTech.source);}else{this.loadTech_(sourceTech.tech,sourceTech.source);}this.cache_.sources=sources;}else{this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)});},0);this.triggerReady();}};Player.prototype.load=function load(){this.techCall_('load');return this;};Player.prototype.reset=function reset(){this.loadTech_((0,_toTitleCase2['default'])(this.options_.techOrder[0]),null);this.techCall_('reset');return this;};Player.prototype.currentSources=function currentSources(){var source=this.currentSource();var sources=[];if(Object.keys(source).length!==0){sources.push(source);}return this.cache_.sources||sources;};Player.prototype.currentSource=function currentSource(){var source={};var src=this.currentSrc();if(src){source.src=src;}return this.cache_.source||source;};Player.prototype.currentSrc=function currentSrc(){return this.techGet_('currentSrc')||this.cache_.src||'';};Player.prototype.currentType=function currentType(){return this.currentType_||'';};Player.prototype.preload=function preload(value){if(value!==undefined){this.techCall_('setPreload',value);this.options_.preload=value;return this;}return this.techGet_('preload');};Player.prototype.autoplay=function autoplay(value){if(value!==undefined){this.techCall_('setAutoplay',value);this.options_.autoplay=value;return this;}return this.techGet_('autoplay',value);};Player.prototype.playsinline=function playsinline(value){if(value!==undefined){this.techCall_('setPlaysinline',value);this.options_.playsinline=value;return this;}return this.techGet_('playsinline');};Player.prototype.loop=function loop(value){if(value!==undefined){this.techCall_('setLoop',value);this.options_.loop=value;return this;}return this.techGet_('loop');};Player.prototype.poster=function poster(src){if(src===undefined){return this.poster_;}if(!src){src='';}this.poster_=src;this.techCall_('setPoster',src);this.trigger('posterchange');return this;};Player.prototype.handleTechPosterChange_=function handleTechPosterChange_(){if(!this.poster_&&this.tech_&&this.tech_.poster){this.poster_=this.tech_.poster()||'';this.trigger('posterchange');}};Player.prototype.controls=function controls(bool){if(bool!==undefined){bool=!!bool;if(this.controls_!==bool){this.controls_=bool;if(this.usingNativeControls()){this.techCall_('setControls',bool);}if(bool){this.removeClass('vjs-controls-disabled');this.addClass('vjs-controls-enabled');this.trigger('controlsenabled');if(!this.usingNativeControls()){this.addTechControlsListeners_();}}else{this.removeClass('vjs-controls-enabled');this.addClass('vjs-controls-disabled');this.trigger('controlsdisabled');if(!this.usingNativeControls()){this.removeTechControlsListeners_();}}}return this;}return!!this.controls_;};Player.prototype.usingNativeControls=function usingNativeControls(bool){if(bool!==undefined){bool=!!bool;if(this.usingNativeControls_!==bool){this.usingNativeControls_=bool;if(bool){this.addClass('vjs-using-native-controls');this.trigger('usingnativecontrols');}else{this.removeClass('vjs-using-native-controls');this.trigger('usingcustomcontrols');}}return this;}return!!this.usingNativeControls_;};Player.prototype.error=function error(err){if(err===undefined){return this.error_||null;}if(err===null){this.error_=err;this.removeClass('vjs-error');if(this.errorDisplay){this.errorDisplay.close();}return this;}this.error_=new _mediaError2['default'](err);this.addClass('vjs-error');_log2['default'].error('(CODE:'+this.error_.code+' '+_mediaError2['default'].errorTypes[this.error_.code]+')',this.error_.message,this.error_);this.trigger('error');return this;};Player.prototype.reportUserActivity=function reportUserActivity(event){this.userActivity_=true;};Player.prototype.userActive=function userActive(bool){if(bool!==undefined){bool=!!bool;if(bool!==this.userActive_){this.userActive_=bool;if(bool){this.userActivity_=true;this.removeClass('vjs-user-inactive');this.addClass('vjs-user-active');this.trigger('useractive');}else{this.userActivity_=false;if(this.tech_){this.tech_.one('mousemove',function(e){e.stopPropagation();e.preventDefault();});}this.removeClass('vjs-user-active');this.addClass('vjs-user-inactive');this.trigger('userinactive');}}return this;}return this.userActive_;};Player.prototype.listenForUserActivity_=function listenForUserActivity_(){var mouseInProgress=void 0;var lastMoveX=void 0;var lastMoveY=void 0;var handleActivity=Fn.bind(this,this.reportUserActivity);var handleMouseMove=function handleMouseMove(e){if(e.screenX!==lastMoveX||e.screenY!==lastMoveY){lastMoveX=e.screenX;lastMoveY=e.screenY;handleActivity();}};var handleMouseDown=function handleMouseDown(){handleActivity();this.clearInterval(mouseInProgress);mouseInProgress=this.setInterval(handleActivity,250);};var handleMouseUp=function handleMouseUp(event){handleActivity();this.clearInterval(mouseInProgress);};this.on('mousedown',handleMouseDown);this.on('mousemove',handleMouseMove);this.on('mouseup',handleMouseUp);this.on('keydown',handleActivity);this.on('keyup',handleActivity);var inactivityTimeout=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=false;this.userActive(true);this.clearTimeout(inactivityTimeout);var timeout=this.options_.inactivityTimeout;if(timeout>0){inactivityTimeout=this.setTimeout(function(){if(!this.userActivity_){this.userActive(false);}},timeout);}}},250);};Player.prototype.playbackRate=function playbackRate(rate){if(rate!==undefined){this.techCall_('setPlaybackRate',rate);return this;}if(this.tech_&&this.tech_.featuresPlaybackRate){return this.techGet_('playbackRate');}return 1.0;};Player.prototype.isAudio=function isAudio(bool){if(bool!==undefined){this.isAudio_=!!bool;return this;}return!!this.isAudio_;};Player.prototype.videoTracks=function videoTracks(){if(!this.tech_){this.videoTracks_=this.videoTracks_||new _videoTrackList2['default']();return this.videoTracks_;}return this.tech_.videoTracks();};Player.prototype.audioTracks=function audioTracks(){if(!this.tech_){this.audioTracks_=this.audioTracks_||new _audioTrackList2['default']();return this.audioTracks_;}return this.tech_.audioTracks();};Player.prototype.textTracks=function textTracks(){if(this.tech_){return this.tech_.textTracks();}};Player.prototype.remoteTextTracks=function remoteTextTracks(){if(this.tech_){return this.tech_.remoteTextTracks();}};Player.prototype.remoteTextTrackEls=function remoteTextTrackEls(){if(this.tech_){return this.tech_.remoteTextTrackEls();}};Player.prototype.addTextTrack=function addTextTrack(kind,label,language){if(this.tech_){return this.tech_.addTextTrack(kind,label,language);}};Player.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){if(this.tech_){return this.tech_.addRemoteTextTrack(options,manualCleanup);}};Player.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(){var _ref3=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},_ref3$track=_ref3.track,track=_ref3$track===undefined?arguments[0]:_ref3$track;if(this.tech_){return this.tech_.removeRemoteTextTrack(track);}};Player.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return this.techGet_('getVideoPlaybackQuality');};Player.prototype.videoWidth=function videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0;};Player.prototype.videoHeight=function videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0;};Player.prototype.language=function language(code){if(code===undefined){return this.language_;}this.language_=String(code).toLowerCase();return this;};Player.prototype.languages=function languages(){return(0,_mergeOptions2['default'])(Player.prototype.options_.languages,this.languages_);};Player.prototype.toJSON=function toJSON(){var options=(0,_mergeOptions2['default'])(this.options_);var tracks=options.tracks;options.tracks=[];for(var i=0;i<tracks.length;i++){var track=tracks[i];track=(0,_mergeOptions2['default'])(track);track.player=undefined;options.tracks[i]=track;}return options;};Player.prototype.createModal=function createModal(content,options){var _this5=this;options=options||{};options.content=content||'';var modal=new _modalDialog2['default'](this,options);this.addChild(modal);modal.on('dispose',function(){_this5.removeChild(modal);});return modal.open();};Player.getTagSettings=function getTagSettings(tag){var baseOptions={sources:[],tracks:[]};var tagOptions=Dom.getElAttributes(tag);var dataSetup=tagOptions['data-setup'];if(Dom.hasElClass(tag,'vjs-fluid')){tagOptions.fluid=true;}if(dataSetup!==null){var _safeParseTuple=(0,_tuple2['default'])(dataSetup||'{}'),err=_safeParseTuple[0],data=_safeParseTuple[1];if(err){_log2['default'].error(err);}(0,_obj.assign)(tagOptions,data);}(0,_obj.assign)(baseOptions,tagOptions);if(tag.hasChildNodes()){var children=tag.childNodes;for(var i=0,j=children.length;i<j;i++){var child=children[i];var childName=child.nodeName.toLowerCase();if(childName==='source'){baseOptions.sources.push(Dom.getElAttributes(child));}else if(childName==='track'){baseOptions.tracks.push(Dom.getElAttributes(child));}}}return baseOptions;};Player.prototype.flexNotSupported_=function flexNotSupported_(){var elem=_document2['default'].createElement('i');return!('flexBasis'in elem.style||'webkitFlexBasis'in elem.style||'mozFlexBasis'in elem.style||'msFlexBasis'in elem.style||'msFlexOrder'in elem.style);};return Player;}(_component2['default']);Player.players={};var navigator=_window2['default'].navigator;Player.prototype.options_={techOrder:['html5','flash'],html5:{},flash:{},defaultVolume:0.00,inactivityTimeout:2000,playbackRates:[],children:['mediaLoader','posterImage','textTrackDisplay','loadingSpinner','bigPlayButton','controlBar','errorDisplay','textTrackSettings'],language:navigator&&(navigator.languages&&navigator.languages[0]||navigator.userLanguage||navigator.language)||'en',languages:{},notSupportedMessage:'No compatible source was found for this media.'};['ended','seeking','seekable','networkState','readyState'].forEach(function(fn){Player.prototype[fn]=function(){return this.techGet_(fn);};});TECH_EVENTS_RETRIGGER.forEach(function(event){Player.prototype['handleTech'+(0,_toTitleCase2['default'])(event)+'_']=function(){return this.trigger(event);};});_component2['default'].registerComponent('Player',Player);exports['default']=Player;},{\"1\":1,\"4\":4,\"41\":41,\"44\":44,\"45\":45,\"46\":46,\"5\":5,\"50\":50,\"55\":55,\"59\":59,\"60\":60,\"61\":61,\"62\":62,\"63\":63,\"68\":68,\"69\":69,\"71\":71,\"76\":76,\"78\":78,\"79\":79,\"8\":8,\"81\":81,\"82\":82,\"83\":83,\"85\":85,\"86\":86,\"87\":87,\"88\":88,\"89\":89,\"90\":90,\"91\":91,\"94\":94,\"95\":95,\"97\":97}],52:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _player=_dereq_(51);var _player2=_interopRequireDefault(_player);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var plugin=function plugin(name,init){_player2['default'].prototype[name]=init;};exports['default']=plugin;},{\"51\":51}],53:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PopupButton=function(_ClickableComponent){_inherits(PopupButton,_ClickableComponent);function PopupButton(player){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,PopupButton);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();return _this;}PopupButton.prototype.update=function update(){var popup=this.createPopup();if(this.popup){this.removeChild(this.popup);}this.popup=popup;this.addChild(popup);if(this.items&&this.items.length===0){this.hide();}else if(this.items&&this.items.length>1){this.show();}};PopupButton.prototype.createPopup=function createPopup(){};PopupButton.prototype.createEl=function createEl(){return _ClickableComponent.prototype.createEl.call(this,'div',{className:this.buildCSSClass()});};PopupButton.prototype.buildCSSClass=function buildCSSClass(){var menuButtonClass='vjs-menu-button';if(this.options_.inline===true){menuButtonClass+='-inline';}else{menuButtonClass+='-popup';}return'vjs-menu-button '+menuButtonClass+' '+_ClickableComponent.prototype.buildCSSClass.call(this);};return PopupButton;}(_clickableComponent2['default']);_component2['default'].registerComponent('PopupButton',PopupButton);exports['default']=PopupButton;},{\"3\":3,\"5\":5}],54:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Popup=function(_Component){_inherits(Popup,_Component);function Popup(){_classCallCheck(this,Popup);return _possibleConstructorReturn(this,_Component.apply(this,arguments));}Popup.prototype.addItem=function addItem(component){this.addChild(component);component.on('click',Fn.bind(this,function(){this.unlockShowing();}));};Popup.prototype.createEl=function createEl(){var contentElType=this.options_.contentElType||'ul';this.contentEl_=Dom.createEl(contentElType,{className:'vjs-menu-content'});var el=_Component.prototype.createEl.call(this,'div',{append:this.contentEl_,className:'vjs-menu'});el.appendChild(this.contentEl_);Events.on(el,'click',function(event){event.preventDefault();event.stopImmediatePropagation();});return el;};return Popup;}(_component2['default']);_component2['default'].registerComponent('Popup',Popup);exports['default']=Popup;},{\"5\":5,\"81\":81,\"82\":82,\"83\":83}],55:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _clickableComponent=_dereq_(3);var _clickableComponent2=_interopRequireDefault(_clickableComponent);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var PosterImage=function(_ClickableComponent){_inherits(PosterImage,_ClickableComponent);function PosterImage(player,options){_classCallCheck(this,PosterImage);var _this=_possibleConstructorReturn(this,_ClickableComponent.call(this,player,options));_this.update();player.on('posterchange',Fn.bind(_this,_this.update));return _this;}PosterImage.prototype.dispose=function dispose(){this.player().off('posterchange',this.update);_ClickableComponent.prototype.dispose.call(this);};PosterImage.prototype.createEl=function createEl(){var el=Dom.createEl('div',{className:'vjs-poster',tabIndex:-1});if(!browser.BACKGROUND_SIZE_SUPPORTED){this.fallbackImg_=Dom.createEl('img');el.appendChild(this.fallbackImg_);}return el;};PosterImage.prototype.update=function update(event){var url=this.player().poster();this.setSrc(url);if(url){this.show();}else{this.hide();}};PosterImage.prototype.setSrc=function setSrc(url){if(this.fallbackImg_){this.fallbackImg_.src=url;}else{var backgroundImage='';if(url){backgroundImage='url(\"'+url+'\")';}this.el_.style.backgroundImage=backgroundImage;}};PosterImage.prototype.handleClick=function handleClick(event){if(!this.player_.controls()){return;}if(this.player_.paused()){this.player_.play();}else{this.player_.pause();}};return PosterImage;}(_clickableComponent2['default']);_component2['default'].registerComponent('PosterImage',PosterImage);exports['default']=PosterImage;},{\"3\":3,\"5\":5,\"78\":78,\"81\":81,\"83\":83}],56:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.hasLoaded=exports.autoSetupTimeout=exports.autoSetup=undefined;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var _windowLoaded=false;var videojs=void 0;var autoSetup=function autoSetup(){if(!Dom.isReal()){return;}var vids=_document2['default'].getElementsByTagName('video');var audios=_document2['default'].getElementsByTagName('audio');var mediaEls=[];if(vids&&vids.length>0){for(var i=0,e=vids.length;i<e;i++){mediaEls.push(vids[i]);}}if(audios&&audios.length>0){for(var _i=0,_e=audios.length;_i<_e;_i++){mediaEls.push(audios[_i]);}}if(mediaEls&&mediaEls.length>0){for(var _i2=0,_e2=mediaEls.length;_i2<_e2;_i2++){var mediaEl=mediaEls[_i2];if(mediaEl&&mediaEl.getAttribute){if(mediaEl.player===undefined){var options=mediaEl.getAttribute('data-setup');if(options!==null){videojs(mediaEl);}}}else{autoSetupTimeout(1);break;}}}else if(!_windowLoaded){autoSetupTimeout(1);}};function autoSetupTimeout(wait,vjs){if(vjs){videojs=vjs;}_window2['default'].setTimeout(autoSetup,wait);}if(Dom.isReal()&&_document2['default'].readyState==='complete'){_windowLoaded=true;}else{Events.one(_window2['default'],'load',function(){_windowLoaded=true;});}var hasLoaded=function hasLoaded(){return _windowLoaded;};exports.autoSetup=autoSetup;exports.autoSetupTimeout=autoSetupTimeout;exports.hasLoaded=hasLoaded;},{\"81\":81,\"82\":82,\"94\":94,\"95\":95}],57:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Slider=function(_Component){_inherits(Slider,_Component);function Slider(player,options){_classCallCheck(this,Slider);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.bar=_this.getChild(_this.options_.barName);_this.vertical(!!_this.options_.vertical);_this.on('mousedown',_this.handleMouseDown);_this.on('touchstart',_this.handleMouseDown);_this.on('focus',_this.handleFocus);_this.on('blur',_this.handleBlur);_this.on('click',_this.handleClick);_this.on(player,'controlsvisible',_this.update);_this.on(player,_this.playerEvent,_this.update);return _this;}Slider.prototype.createEl=function createEl(type){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};props.className=props.className+' vjs-slider';props=(0,_obj.assign)({tabIndex:0},props);attributes=(0,_obj.assign)({'role':'slider','aria-valuenow':0,'aria-valuemin':0,'aria-valuemax':100,'tabIndex':0},attributes);return _Component.prototype.createEl.call(this,type,props,attributes);};Slider.prototype.handleMouseDown=function handleMouseDown(event){var doc=this.bar.el_.ownerDocument;event.preventDefault();Dom.blockTextSelection();this.addClass('vjs-sliding');this.trigger('slideractive');this.on(doc,'mousemove',this.handleMouseMove);this.on(doc,'mouseup',this.handleMouseUp);this.on(doc,'touchmove',this.handleMouseMove);this.on(doc,'touchend',this.handleMouseUp);this.handleMouseMove(event);};Slider.prototype.handleMouseMove=function handleMouseMove(event){};Slider.prototype.handleMouseUp=function handleMouseUp(){var doc=this.bar.el_.ownerDocument;Dom.unblockTextSelection();this.removeClass('vjs-sliding');this.trigger('sliderinactive');this.off(doc,'mousemove',this.handleMouseMove);this.off(doc,'mouseup',this.handleMouseUp);this.off(doc,'touchmove',this.handleMouseMove);this.off(doc,'touchend',this.handleMouseUp);this.update();};Slider.prototype.update=function update(){if(!this.el_){return;}var progress=this.getPercent();var bar=this.bar;if(!bar){return;}if(typeof progress!=='number'||progress!==progress||progress<0||progress===Infinity){progress=0;}var percentage=(progress*100).toFixed(2)+'%';if(this.vertical()){bar.el().style.height=percentage;}else{bar.el().style.width=percentage;}};Slider.prototype.calculateDistance=function calculateDistance(event){var position=Dom.getPointerPosition(this.el_,event);if(this.vertical()){return position.y;}return position.x;};Slider.prototype.handleFocus=function handleFocus(){this.on(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);};Slider.prototype.handleKeyPress=function handleKeyPress(event){if(event.which===37||event.which===40){event.preventDefault();this.stepBack();}else if(event.which===38||event.which===39){event.preventDefault();this.stepForward();}};Slider.prototype.handleBlur=function handleBlur(){this.off(this.bar.el_.ownerDocument,'keydown',this.handleKeyPress);};Slider.prototype.handleClick=function handleClick(event){event.stopImmediatePropagation();event.preventDefault();};Slider.prototype.vertical=function vertical(bool){if(bool===undefined){return this.vertical_||false;}this.vertical_=!!bool;if(this.vertical_){this.addClass('vjs-slider-vertical');}else{this.addClass('vjs-slider-horizontal');}return this;};return Slider;}(_component2['default']);_component2['default'].registerComponent('Slider',Slider);exports['default']=Slider;},{\"5\":5,\"81\":81,\"88\":88}],58:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function FlashRtmpDecorator(Flash){Flash.streamingFormats={'rtmp/mp4':'MP4','rtmp/flv':'FLV'};Flash.streamFromParts=function(connection,stream){return connection+'&'+stream;};Flash.streamToParts=function(src){var parts={connection:'',stream:''};if(!src){return parts;}var connEnd=src.search(/&(?!\\w+=)/);var streamBegin=void 0;if(connEnd!==-1){streamBegin=connEnd+1;}else{connEnd=streamBegin=src.lastIndexOf('/')+1;if(connEnd===0){connEnd=streamBegin=src.length;}}parts.connection=src.substring(0,connEnd);parts.stream=src.substring(streamBegin,src.length);return parts;};Flash.isStreamingType=function(srcType){return srcType in Flash.streamingFormats;};Flash.RTMP_RE=/^rtmp[set]?:\\/\\//i;Flash.isStreamingSrc=function(src){return Flash.RTMP_RE.test(src);};Flash.rtmpSourceHandler={};Flash.rtmpSourceHandler.canPlayType=function(type){if(Flash.isStreamingType(type)){return'maybe';}return'';};Flash.rtmpSourceHandler.canHandleSource=function(source,options){var can=Flash.rtmpSourceHandler.canPlayType(source.type);if(can){return can;}if(Flash.isStreamingSrc(source.src)){return'maybe';}return'';};Flash.rtmpSourceHandler.handleSource=function(source,tech,options){var srcParts=Flash.streamToParts(source.src);tech.setRtmpConnection(srcParts.connection);tech.setRtmpStream(srcParts.stream);};Flash.registerSourceHandler(Flash.rtmpSourceHandler);return Flash;}exports['default']=FlashRtmpDecorator;},{}],59:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _timeRanges=_dereq_(90);var _flashRtmp=_dereq_(58);var _flashRtmp2=_interopRequireDefault(_flashRtmp);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var navigator=_window2['default'].navigator;var Flash=function(_Tech){_inherits(Flash,_Tech);function Flash(options,ready){_classCallCheck(this,Flash);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready));if(options.source){_this.ready(function(){this.setSource(options.source);},true);}if(options.startTime){_this.ready(function(){this.load();this.play();this.currentTime(options.startTime);},true);}_window2['default'].videojs=_window2['default'].videojs||{};_window2['default'].videojs.Flash=_window2['default'].videojs.Flash||{};_window2['default'].videojs.Flash.onReady=Flash.onReady;_window2['default'].videojs.Flash.onEvent=Flash.onEvent;_window2['default'].videojs.Flash.onError=Flash.onError;_this.on('seeked',function(){this.lastSeekTarget_=undefined;});return _this;}Flash.prototype.createEl=function createEl(){var options=this.options_;if(!options.swf){var ver='5.4.1';options.swf='//vjs.zencdn.net/swf/'+ver+'/video-js.swf';}var objId=options.techId;var flashVars=(0,_obj.assign)({readyFunction:'videojs.Flash.onReady',eventProxyFunction:'videojs.Flash.onEvent',errorEventProxyFunction:'videojs.Flash.onError',autoplay:options.autoplay,preload:options.preload,loop:options.loop,muted:options.muted},options.flashVars);var params=(0,_obj.assign)({wmode:'opaque',bgcolor:'#000000'},options.params);var attributes=(0,_obj.assign)({id:objId,name:objId,'class':'vjs-tech'},options.attributes);this.el_=Flash.embed(options.swf,flashVars,params,attributes);this.el_.tech=this;return this.el_;};Flash.prototype.play=function play(){if(this.ended()){this.setCurrentTime(0);}this.el_.vjs_play();};Flash.prototype.pause=function pause(){this.el_.vjs_pause();};Flash.prototype.src=function src(_src){if(_src===undefined){return this.currentSrc();}return this.setSrc(_src);};Flash.prototype.setSrc=function setSrc(src){var _this2=this;src=Url.getAbsoluteURL(src);this.el_.vjs_src(src);if(this.autoplay()){this.setTimeout(function(){return _this2.play();},0);}};Flash.prototype.seeking=function seeking(){return this.lastSeekTarget_!==undefined;};Flash.prototype.setCurrentTime=function setCurrentTime(time){var seekable=this.seekable();if(seekable.length){time=time>seekable.start(0)?time:seekable.start(0);time=time<seekable.end(seekable.length-1)?time:seekable.end(seekable.length-1);this.lastSeekTarget_=time;this.trigger('seeking');this.el_.vjs_setProperty('currentTime',time);_Tech.prototype.setCurrentTime.call(this);}};Flash.prototype.currentTime=function currentTime(){if(this.seeking()){return this.lastSeekTarget_||0;}return this.el_.vjs_getProperty('currentTime');};Flash.prototype.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.vjs_getProperty('currentSrc');};Flash.prototype.duration=function duration(){if(this.readyState()===0){return NaN;}var duration=this.el_.vjs_getProperty('duration');return duration>=0?duration:Infinity;};Flash.prototype.load=function load(){this.el_.vjs_load();};Flash.prototype.poster=function poster(){this.el_.vjs_getProperty('poster');};Flash.prototype.setPoster=function setPoster(){};Flash.prototype.seekable=function seekable(){var duration=this.duration();if(duration===0){return(0,_timeRanges.createTimeRange)();}return(0,_timeRanges.createTimeRange)(0,duration);};Flash.prototype.buffered=function buffered(){var ranges=this.el_.vjs_getProperty('buffered');if(ranges.length===0){return(0,_timeRanges.createTimeRange)();}return(0,_timeRanges.createTimeRange)(ranges[0][0],ranges[0][1]);};Flash.prototype.supportsFullScreen=function supportsFullScreen(){return false;};Flash.prototype.enterFullScreen=function enterFullScreen(){return false;};Flash.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){var videoPlaybackQuality=this.el_.vjs_getProperty('getVideoPlaybackQuality');if(_window2['default'].performance&&typeof _window2['default'].performance.now==='function'){videoPlaybackQuality.creationTime=_window2['default'].performance.now();}else if(_window2['default'].performance&&_window2['default'].performance.timing&&typeof _window2['default'].performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=_window2['default'].Date.now()-_window2['default'].performance.timing.navigationStart;}return videoPlaybackQuality;};return Flash;}(_tech2['default']);var _api=Flash.prototype;var _readWrite='rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted'.split(',');var _readOnly='networkState,readyState,initialTime,startOffsetTime,paused,ended,videoWidth,videoHeight'.split(',');function _createSetter(attr){var attrUpper=attr.charAt(0).toUpperCase()+attr.slice(1);_api['set'+attrUpper]=function(val){return this.el_.vjs_setProperty(attr,val);};}function _createGetter(attr){_api[attr]=function(){return this.el_.vjs_getProperty(attr);};}for(var i=0;i<_readWrite.length;i++){_createGetter(_readWrite[i]);_createSetter(_readWrite[i]);}for(var _i=0;_i<_readOnly.length;_i++){_createGetter(_readOnly[_i]);}Flash.isSupported=function(){return Flash.version()[0]>=10;};_tech2['default'].withSourceHandlers(Flash);Flash.nativeSourceHandler={};Flash.nativeSourceHandler.canPlayType=function(type){if(type in Flash.formats){return'maybe';}return'';};Flash.nativeSourceHandler.canHandleSource=function(source,options){var type=void 0;function guessMimeType(src){var ext=Url.getFileExtension(src);if(ext){return'video/'+ext;}return'';}if(!source.type){type=guessMimeType(source.src);}else{type=source.type.replace(/;.*/,'').toLowerCase();}return Flash.nativeSourceHandler.canPlayType(type);};Flash.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};Flash.nativeSourceHandler.dispose=function(){};Flash.registerSourceHandler(Flash.nativeSourceHandler);Flash.formats={'video/flv':'FLV','video/x-flv':'FLV','video/mp4':'MP4','video/m4v':'MP4'};Flash.onReady=function(currSwf){var el=Dom.getEl(currSwf);var tech=el&&el.tech;if(tech&&tech.el()){Flash.checkReady(tech);}};Flash.checkReady=function(tech){if(!tech.el()){return;}if(tech.el().vjs_getProperty){tech.triggerReady();}else{this.setTimeout(function(){Flash.checkReady(tech);},50);}};Flash.onEvent=function(swfID,eventName){var tech=Dom.getEl(swfID).tech;var args=Array.prototype.slice.call(arguments,2);tech.setTimeout(function(){tech.trigger(eventName,args);},1);};Flash.onError=function(swfID,err){var tech=Dom.getEl(swfID).tech;if(err==='srcnotfound'){return tech.error(4);}tech.error('FLASH: '+err);};Flash.version=function(){var version='0,0,0';try{version=new _window2['default'].ActiveXObject('ShockwaveFlash.ShockwaveFlash').GetVariable('$version').replace(/\\D+/g,',').match(/^,?(.+),?$/)[1];}catch(e){try{if(navigator.mimeTypes['application/x-shockwave-flash'].enabledPlugin){version=(navigator.plugins['Shockwave Flash 2.0']||navigator.plugins['Shockwave Flash']).description.replace(/\\D+/g,',').match(/^,?(.+),?$/)[1];}}catch(err){}}return version.split(',');};Flash.embed=function(swf,flashVars,params,attributes){var code=Flash.getEmbedCode(swf,flashVars,params,attributes);var obj=Dom.createEl('div',{innerHTML:code}).childNodes[0];return obj;};Flash.getEmbedCode=function(swf,flashVars,params,attributes){var objTag='<object type=\"application/x-shockwave-flash\" ';var flashVarsString='';var paramsString='';var attrsString='';if(flashVars){Object.getOwnPropertyNames(flashVars).forEach(function(key){flashVarsString+=key+'='+flashVars[key]+'&amp;';});}params=(0,_obj.assign)({movie:swf,flashvars:flashVarsString,allowScriptAccess:'always',allowNetworking:'all'},params);Object.getOwnPropertyNames(params).forEach(function(key){paramsString+='<param name=\"'+key+'\" value=\"'+params[key]+'\" />';});attributes=(0,_obj.assign)({data:swf,width:'100%',height:'100%'},attributes);Object.getOwnPropertyNames(attributes).forEach(function(key){attrsString+=key+'=\"'+attributes[key]+'\" ';});return''+objTag+attrsString+'>'+paramsString+'</object>';};(0,_flashRtmp2['default'])(Flash);_component2['default'].registerComponent('Flash',Flash);_tech2['default'].registerTech('Flash',Flash);exports['default']=Flash;},{\"5\":5,\"58\":58,\"62\":62,\"81\":81,\"88\":88,\"90\":90,\"92\":92,\"95\":95}],60:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _templateObject=_taggedTemplateLiteralLoose(['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n            This may prevent text tracks from loading.'],['Text Tracks are being loaded from another origin but the crossorigin attribute isn\\'t used.\\n            This may prevent text tracks from loading.']);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _tsml=_dereq_(98);var _tsml2=_interopRequireDefault(_tsml);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _obj=_dereq_(88);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings;}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Html5=function(_Tech){_inherits(Html5,_Tech);function Html5(options,ready){_classCallCheck(this,Html5);var _this=_possibleConstructorReturn(this,_Tech.call(this,options,ready));var source=options.source;var crossoriginTracks=false;if(source&&(_this.el_.currentSrc!==source.src||options.tag&&options.tag.initNetworkState_===3)){_this.setSource(source);}else{_this.handleLateInit_(_this.el_);}if(_this.el_.hasChildNodes()){var nodes=_this.el_.childNodes;var nodesLength=nodes.length;var removeNodes=[];while(nodesLength--){var node=nodes[nodesLength];var nodeName=node.nodeName.toLowerCase();if(nodeName==='track'){if(!_this.featuresNativeTextTracks){removeNodes.push(node);}else{_this.remoteTextTrackEls().addTrackElement_(node);_this.remoteTextTracks().addTrack_(node.track);if(!crossoriginTracks&&!_this.el_.hasAttribute('crossorigin')&&Url.isCrossOrigin(node.src)){crossoriginTracks=true;}}}}for(var i=0;i<removeNodes.length;i++){_this.el_.removeChild(removeNodes[i]);}}var trackTypes=['audio','video'];trackTypes.forEach(function(type){var elTracks=_this.el()[type+'Tracks'];var techTracks=_this[type+'Tracks']();var capitalType=(0,_toTitleCase2['default'])(type);if(!_this['featuresNative'+capitalType+'Tracks']||!elTracks||!elTracks.addEventListener){return;}_this['handle'+capitalType+'TrackChange_']=function(e){techTracks.trigger({type:'change',target:techTracks,currentTarget:techTracks,srcElement:techTracks});};_this['handle'+capitalType+'TrackAdd_']=function(e){return techTracks.addTrack(e.track);};_this['handle'+capitalType+'TrackRemove_']=function(e){return techTracks.removeTrack(e.track);};elTracks.addEventListener('change',_this['handle'+capitalType+'TrackChange_']);elTracks.addEventListener('addtrack',_this['handle'+capitalType+'TrackAdd_']);elTracks.addEventListener('removetrack',_this['handle'+capitalType+'TrackRemove_']);_this['removeOld'+capitalType+'Tracks_']=function(e){return _this.removeOldTracks_(techTracks,elTracks);};_this.on('loadstart',_this['removeOld'+capitalType+'Tracks_']);});if(_this.featuresNativeTextTracks){if(crossoriginTracks){_log2['default'].warn((0,_tsml2['default'])(_templateObject));}_this.handleTextTrackChange_=Fn.bind(_this,_this.handleTextTrackChange);_this.handleTextTrackAdd_=Fn.bind(_this,_this.handleTextTrackAdd);_this.handleTextTrackRemove_=Fn.bind(_this,_this.handleTextTrackRemove);_this.proxyNativeTextTracks_();}_this.restoreMetadataTracksInIOSNativePlayer_();if((browser.TOUCH_ENABLED||browser.IS_IPHONE||browser.IS_NATIVE_ANDROID)&&options.nativeControlsForTouch===true){_this.setControls(true);}_this.proxyWebkitFullscreen_();_this.triggerReady();return _this;}Html5.prototype.dispose=function dispose(){var _this2=this;['audio','video','text'].forEach(function(type){var capitalType=(0,_toTitleCase2['default'])(type);var tl=_this2.el_[type+'Tracks'];if(tl&&tl.removeEventListener){tl.removeEventListener('change',_this2['handle'+capitalType+'TrackChange_']);tl.removeEventListener('addtrack',_this2['handle'+capitalType+'TrackAdd_']);tl.removeEventListener('removetrack',_this2['handle'+capitalType+'TrackRemove_']);}if(tl){_this2.off('loadstart',_this2['removeOld'+capitalType+'Tracks_']);}});Html5.disposeMediaElement(this.el_);_Tech.prototype.dispose.call(this);};Html5.prototype.restoreMetadataTracksInIOSNativePlayer_=function restoreMetadataTracksInIOSNativePlayer_(){var textTracks=this.textTracks();var metadataTracksPreFullscreenState=void 0;var takeMetadataTrackSnapshot=function takeMetadataTrackSnapshot(){metadataTracksPreFullscreenState=[];for(var i=0;i<textTracks.length;i++){var track=textTracks[i];if(track.kind==='metadata'){metadataTracksPreFullscreenState.push({track:track,storedMode:track.mode});}}};takeMetadataTrackSnapshot();textTracks.addEventListener('change',takeMetadataTrackSnapshot);var restoreTrackMode=function restoreTrackMode(){for(var i=0;i<metadataTracksPreFullscreenState.length;i++){var storedTrack=metadataTracksPreFullscreenState[i];if(storedTrack.track.mode==='disabled'&&storedTrack.track.mode!==storedTrack.storedMode){storedTrack.track.mode=storedTrack.storedMode;}}textTracks.removeEventListener('change',restoreTrackMode);};this.on('webkitbeginfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.removeEventListener('change',restoreTrackMode);textTracks.addEventListener('change',restoreTrackMode);});this.on('webkitendfullscreen',function(){textTracks.removeEventListener('change',takeMetadataTrackSnapshot);textTracks.addEventListener('change',takeMetadataTrackSnapshot);textTracks.removeEventListener('change',restoreTrackMode);});};Html5.prototype.createEl=function createEl(){var el=this.options_.tag;if(!el||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(el){var clone=el.cloneNode(true);if(el.parentNode){el.parentNode.insertBefore(clone,el);}Html5.disposeMediaElement(el);el=clone;}else{el=_document2['default'].createElement('video');var tagAttributes=this.options_.tag&&Dom.getElAttributes(this.options_.tag);var attributes=(0,_mergeOptions2['default'])({},tagAttributes);if(!browser.TOUCH_ENABLED||this.options_.nativeControlsForTouch!==true){delete attributes.controls;}Dom.setElAttributes(el,(0,_obj.assign)(attributes,{id:this.options_.techId,'class':'vjs-tech'}));}el.playerId=this.options_.playerId;}if(typeof this.options_.preload!=='undefined'){Dom.setAttribute(el,'preload',this.options_.preload);}var settingsAttrs=['loop','muted','playsinline','autoplay'];for(var i=settingsAttrs.length-1;i>=0;i--){var attr=settingsAttrs[i];var value=this.options_[attr];if(typeof value!=='undefined'){if(value){Dom.setAttribute(el,attr,attr);}else{Dom.removeAttribute(el,attr);}el[attr]=value;}}return el;};Html5.prototype.handleLateInit_=function handleLateInit_(el){if(el.networkState===0||el.networkState===3){return;}if(el.readyState===0){var loadstartFired=false;var setLoadstartFired=function setLoadstartFired(){loadstartFired=true;};this.on('loadstart',setLoadstartFired);var triggerLoadstart=function triggerLoadstart(){if(!loadstartFired){this.trigger('loadstart');}};this.on('loadedmetadata',triggerLoadstart);this.ready(function(){this.off('loadstart',setLoadstartFired);this.off('loadedmetadata',triggerLoadstart);if(!loadstartFired){this.trigger('loadstart');}});return;}var eventsToTrigger=['loadstart'];eventsToTrigger.push('loadedmetadata');if(el.readyState>=2){eventsToTrigger.push('loadeddata');}if(el.readyState>=3){eventsToTrigger.push('canplay');}if(el.readyState>=4){eventsToTrigger.push('canplaythrough');}this.ready(function(){eventsToTrigger.forEach(function(type){this.trigger(type);},this);});};Html5.prototype.proxyNativeTextTracks_=function proxyNativeTextTracks_(){var tt=this.el().textTracks;if(tt){for(var i=0;i<tt.length;i++){this.textTracks().addTrack_(tt[i]);}if(tt.addEventListener){tt.addEventListener('change',this.handleTextTrackChange_);tt.addEventListener('addtrack',this.handleTextTrackAdd_);tt.addEventListener('removetrack',this.handleTextTrackRemove_);}this.on('loadstart',this.removeOldTextTracks_);}};Html5.prototype.handleTextTrackChange=function handleTextTrackChange(e){var tt=this.textTracks();this.textTracks().trigger({type:'change',target:tt,currentTarget:tt,srcElement:tt});};Html5.prototype.handleTextTrackAdd=function handleTextTrackAdd(e){this.textTracks().addTrack_(e.track);};Html5.prototype.handleTextTrackRemove=function handleTextTrackRemove(e){this.textTracks().removeTrack_(e.track);};Html5.prototype.removeOldTracks_=function removeOldTracks_(techTracks,elTracks){var removeTracks=[];if(!elTracks){return;}for(var i=0;i<techTracks.length;i++){var techTrack=techTracks[i];var found=false;for(var j=0;j<elTracks.length;j++){if(elTracks[j]===techTrack){found=true;break;}}if(!found){removeTracks.push(techTrack);}}for(var _i=0;_i<removeTracks.length;_i++){var track=removeTracks[_i];techTracks.removeTrack_(track);}};Html5.prototype.removeOldTextTracks_=function removeOldTextTracks_(e){var techTracks=this.textTracks();var elTracks=this.el().textTracks;this.removeOldTracks_(techTracks,elTracks);};Html5.prototype.play=function play(){var playPromise=this.el_.play();if(playPromise!==undefined&&typeof playPromise.then==='function'){playPromise.then(null,function(e){});}};Html5.prototype.setCurrentTime=function setCurrentTime(seconds){try{this.el_.currentTime=seconds;}catch(e){(0,_log2['default'])(e,'Video is not ready. (Video.js)');}};Html5.prototype.duration=function duration(){var _this3=this;if(this.el_.duration===Infinity&&browser.IS_ANDROID&&browser.IS_CHROME){if(this.el_.currentTime===0){var checkProgress=function checkProgress(){if(_this3.el_.currentTime>0){if(_this3.el_.duration===Infinity){_this3.trigger('durationchange');}_this3.off('timeupdate',checkProgress);}};this.on('timeupdate',checkProgress);return NaN;}}return this.el_.duration||NaN;};Html5.prototype.width=function width(){return this.el_.offsetWidth;};Html5.prototype.height=function height(){return this.el_.offsetHeight;};Html5.prototype.proxyWebkitFullscreen_=function proxyWebkitFullscreen_(){var _this4=this;if(!('webkitDisplayingFullscreen'in this.el_)){return;}var endFn=function endFn(){this.trigger('fullscreenchange',{isFullscreen:false});};var beginFn=function beginFn(){if('webkitPresentationMode'in this.el_&&this.el_.webkitPresentationMode!=='picture-in-picture'){this.one('webkitendfullscreen',endFn);this.trigger('fullscreenchange',{isFullscreen:true});}};this.on('webkitbeginfullscreen',beginFn);this.on('dispose',function(){_this4.off('webkitbeginfullscreen',beginFn);_this4.off('webkitendfullscreen',endFn);});};Html5.prototype.supportsFullScreen=function supportsFullScreen(){if(typeof this.el_.webkitEnterFullScreen==='function'){var userAgent=_window2['default'].navigator&&_window2['default'].navigator.userAgent||'';if(/Android/.test(userAgent)||!/Chrome|Mac OS X 10.5/.test(userAgent)){return true;}}return false;};Html5.prototype.enterFullScreen=function enterFullScreen(){var video=this.el_;if(video.paused&&video.networkState<=video.HAVE_METADATA){this.el_.play();this.setTimeout(function(){video.pause();video.webkitEnterFullScreen();},0);}else{video.webkitEnterFullScreen();}};Html5.prototype.exitFullScreen=function exitFullScreen(){this.el_.webkitExitFullScreen();};Html5.prototype.src=function src(_src){if(_src===undefined){return this.el_.src;}this.setSrc(_src);};Html5.prototype.reset=function reset(){Html5.resetMediaElement(this.el_);};Html5.prototype.currentSrc=function currentSrc(){if(this.currentSource_){return this.currentSource_.src;}return this.el_.currentSrc;};Html5.prototype.setControls=function setControls(val){this.el_.controls=!!val;};Html5.prototype.addTextTrack=function addTextTrack(kind,label,language){if(!this.featuresNativeTextTracks){return _Tech.prototype.addTextTrack.call(this,kind,label,language);}return this.el_.addTextTrack(kind,label,language);};Html5.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){if(!this.featuresNativeTextTracks){return _Tech.prototype.createRemoteTextTrack.call(this,options);}var htmlTrackElement=_document2['default'].createElement('track');if(options.kind){htmlTrackElement.kind=options.kind;}if(options.label){htmlTrackElement.label=options.label;}if(options.language||options.srclang){htmlTrackElement.srclang=options.language||options.srclang;}if(options['default']){htmlTrackElement['default']=options['default'];}if(options.id){htmlTrackElement.id=options.id;}if(options.src){htmlTrackElement.src=options.src;}return htmlTrackElement;};Html5.prototype.addRemoteTextTrack=function addRemoteTextTrack(options,manualCleanup){var htmlTrackElement=_Tech.prototype.addRemoteTextTrack.call(this,options,manualCleanup);if(this.featuresNativeTextTracks){this.el().appendChild(htmlTrackElement);}return htmlTrackElement;};Html5.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){_Tech.prototype.removeRemoteTextTrack.call(this,track);if(this.featuresNativeTextTracks){var tracks=this.$$('track');var i=tracks.length;while(i--){if(track===tracks[i]||track===tracks[i].track){this.el().removeChild(tracks[i]);}}}};Html5.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality==='function'){return this.el().getVideoPlaybackQuality();}var videoPlaybackQuality={};if(typeof this.el().webkitDroppedFrameCount!=='undefined'&&typeof this.el().webkitDecodedFrameCount!=='undefined'){videoPlaybackQuality.droppedVideoFrames=this.el().webkitDroppedFrameCount;videoPlaybackQuality.totalVideoFrames=this.el().webkitDecodedFrameCount;}if(_window2['default'].performance&&typeof _window2['default'].performance.now==='function'){videoPlaybackQuality.creationTime=_window2['default'].performance.now();}else if(_window2['default'].performance&&_window2['default'].performance.timing&&typeof _window2['default'].performance.timing.navigationStart==='number'){videoPlaybackQuality.creationTime=_window2['default'].Date.now()-_window2['default'].performance.timing.navigationStart;}return videoPlaybackQuality;};return Html5;}(_tech2['default']);if(Dom.isReal()){Html5.TEST_VID=_document2['default'].createElement('video');var track=_document2['default'].createElement('track');track.kind='captions';track.srclang='en';track.label='English';Html5.TEST_VID.appendChild(track);}Html5.isSupported=function(){try{Html5.TEST_VID.volume=0.5;}catch(e){return false;}return!!(Html5.TEST_VID&&Html5.TEST_VID.canPlayType);};Html5.canControlVolume=function(){try{var volume=Html5.TEST_VID.volume;Html5.TEST_VID.volume=volume/2+0.1;return volume!==Html5.TEST_VID.volume;}catch(e){return false;}};Html5.canControlPlaybackRate=function(){if(browser.IS_ANDROID&&browser.IS_CHROME&&browser.CHROME_VERSION<58){return false;}try{var playbackRate=Html5.TEST_VID.playbackRate;Html5.TEST_VID.playbackRate=playbackRate/2+0.1;return playbackRate!==Html5.TEST_VID.playbackRate;}catch(e){return false;}};Html5.supportsNativeTextTracks=function(){return browser.IS_ANY_SAFARI;};Html5.supportsNativeVideoTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.videoTracks);};Html5.supportsNativeAudioTracks=function(){return!!(Html5.TEST_VID&&Html5.TEST_VID.audioTracks);};Html5.Events=['loadstart','suspend','abort','error','emptied','stalled','loadedmetadata','loadeddata','canplay','canplaythrough','playing','waiting','seeking','seeked','ended','durationchange','timeupdate','progress','play','pause','ratechange','volumechange'];Html5.prototype.featuresVolumeControl=Html5.canControlVolume();Html5.prototype.featuresPlaybackRate=Html5.canControlPlaybackRate();Html5.prototype.movingMediaElementInDOM=!browser.IS_IOS;Html5.prototype.featuresFullscreenResize=true;Html5.prototype.featuresProgressEvents=true;Html5.prototype.featuresTimeupdateEvents=true;Html5.prototype.featuresNativeTextTracks=Html5.supportsNativeTextTracks();Html5.prototype.featuresNativeVideoTracks=Html5.supportsNativeVideoTracks();Html5.prototype.featuresNativeAudioTracks=Html5.supportsNativeAudioTracks();var canPlayType=Html5.TEST_VID&&Html5.TEST_VID.constructor.prototype.canPlayType;var mpegurlRE=/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i;var mp4RE=/^video\\/mp4/i;Html5.patchCanPlayType=function(){if(browser.ANDROID_VERSION>=4.0&&!browser.IS_FIREFOX){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mpegurlRE.test(type)){return'maybe';}return canPlayType.call(this,type);};}else if(browser.IS_OLD_ANDROID){Html5.TEST_VID.constructor.prototype.canPlayType=function(type){if(type&&mp4RE.test(type)){return'maybe';}return canPlayType.call(this,type);};}};Html5.unpatchCanPlayType=function(){var r=Html5.TEST_VID.constructor.prototype.canPlayType;Html5.TEST_VID.constructor.prototype.canPlayType=canPlayType;return r;};Html5.patchCanPlayType();Html5.disposeMediaElement=function(el){if(!el){return;}if(el.parentNode){el.parentNode.removeChild(el);}while(el.hasChildNodes()){el.removeChild(el.firstChild);}el.removeAttribute('src');if(typeof el.load==='function'){(function(){try{el.load();}catch(e){}})();}};Html5.resetMediaElement=function(el){if(!el){return;}var sources=el.querySelectorAll('source');var i=sources.length;while(i--){el.removeChild(sources[i]);}el.removeAttribute('src');if(typeof el.load==='function'){(function(){try{el.load();}catch(e){}})();}};['muted','defaultMuted','autoplay','controls','loop','playsinline'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]||this.el_.hasAttribute(prop);};});['muted','defaultMuted','autoplay','loop','playsinline'].forEach(function(prop){Html5.prototype['set'+(0,_toTitleCase2['default'])(prop)]=function(v){this.el_[prop]=v;if(v){this.el_.setAttribute(prop,prop);}else{this.el_.removeAttribute(prop);}};});['paused','currentTime','buffered','volume','poster','preload','error','seeking','seekable','ended','playbackRate','played','networkState','readyState','videoWidth','videoHeight'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop];};});['volume','src','poster','preload','playbackRate'].forEach(function(prop){Html5.prototype['set'+(0,_toTitleCase2['default'])(prop)]=function(v){this.el_[prop]=v;};});['pause','load'].forEach(function(prop){Html5.prototype[prop]=function(){return this.el_[prop]();};});_tech2['default'].withSourceHandlers(Html5);Html5.nativeSourceHandler={};Html5.nativeSourceHandler.canPlayType=function(type){try{return Html5.TEST_VID.canPlayType(type);}catch(e){return'';}};Html5.nativeSourceHandler.canHandleSource=function(source,options){if(source.type){return Html5.nativeSourceHandler.canPlayType(source.type);}else if(source.src){var ext=Url.getFileExtension(source.src);return Html5.nativeSourceHandler.canPlayType('video/'+ext);}return'';};Html5.nativeSourceHandler.handleSource=function(source,tech,options){tech.setSrc(source.src);};Html5.nativeSourceHandler.dispose=function(){};Html5.registerSourceHandler(Html5.nativeSourceHandler);_component2['default'].registerComponent('Html5',Html5);_tech2['default'].registerTech('Html5',Html5);exports['default']=Html5;},{\"5\":5,\"62\":62,\"78\":78,\"81\":81,\"83\":83,\"86\":86,\"87\":87,\"88\":88,\"91\":91,\"92\":92,\"94\":94,\"95\":95,\"98\":98}],61:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);var _toTitleCase=_dereq_(91);var _toTitleCase2=_interopRequireDefault(_toTitleCase);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var MediaLoader=function(_Component){_inherits(MediaLoader,_Component);function MediaLoader(player,options,ready){_classCallCheck(this,MediaLoader);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));if(!options.playerOptions.sources||options.playerOptions.sources.length===0){for(var i=0,j=options.playerOptions.techOrder;i<j.length;i++){var techName=(0,_toTitleCase2['default'])(j[i]);var tech=_tech2['default'].getTech(techName);if(!techName){tech=_component2['default'].getComponent(techName);}if(tech&&tech.isSupported()){player.loadTech_(techName);break;}}}else{player.src(options.playerOptions.sources);}return _this;}return MediaLoader;}(_component2['default']);_component2['default'].registerComponent('MediaLoader',MediaLoader);exports['default']=MediaLoader;},{\"5\":5,\"62\":62,\"91\":91}],62:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _htmlTrackElement=_dereq_(66);var _htmlTrackElement2=_interopRequireDefault(_htmlTrackElement);var _htmlTrackElementList=_dereq_(65);var _htmlTrackElementList2=_interopRequireDefault(_htmlTrackElementList);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);var _textTrackList=_dereq_(70);var _textTrackList2=_interopRequireDefault(_textTrackList);var _videoTrackList=_dereq_(76);var _videoTrackList2=_interopRequireDefault(_videoTrackList);var _audioTrackList=_dereq_(63);var _audioTrackList2=_interopRequireDefault(_audioTrackList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _timeRanges=_dereq_(90);var _buffer=_dereq_(79);var _mediaError=_dereq_(46);var _mediaError2=_interopRequireDefault(_mediaError);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}function createTrackHelper(self,kind,label,language){var options=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{};var tracks=self.textTracks();options.kind=kind;if(label){options.label=label;}if(language){options.language=language;}options.tech=self;var track=new _textTrack2['default'](options);tracks.addTrack_(track);return track;}var Tech=function(_Component){_inherits(Tech,_Component);function Tech(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var ready=arguments.length>1&&arguments[1]!==undefined?arguments[1]:function(){};_classCallCheck(this,Tech);options.reportTouchActivity=false;var _this=_possibleConstructorReturn(this,_Component.call(this,null,options,ready));_this.hasStarted_=false;_this.on('playing',function(){this.hasStarted_=true;});_this.on('loadstart',function(){this.hasStarted_=false;});_this.textTracks_=options.textTracks;_this.videoTracks_=options.videoTracks;_this.audioTracks_=options.audioTracks;if(!_this.featuresProgressEvents){_this.manualProgressOn();}if(!_this.featuresTimeupdateEvents){_this.manualTimeUpdatesOn();}['Text','Audio','Video'].forEach(function(track){if(options['native'+track+'Tracks']===false){_this['featuresNative'+track+'Tracks']=false;}});if(options.nativeCaptions===false){_this.featuresNativeTextTracks=false;}if(!_this.featuresNativeTextTracks){_this.emulateTextTracks();}_this.autoRemoteTextTracks_=new _textTrackList2['default']();_this.initTextTrackListeners();_this.initTrackListeners();if(!options.nativeControlsForTouch){_this.emitTapEvents();}if(_this.constructor){_this.name_=_this.constructor.name||'Unknown Tech';}return _this;}Tech.prototype.manualProgressOn=function manualProgressOn(){this.on('durationchange',this.onDurationChange);this.manualProgress=true;this.one('ready',this.trackProgress);};Tech.prototype.manualProgressOff=function manualProgressOff(){this.manualProgress=false;this.stopTrackingProgress();this.off('durationchange',this.onDurationChange);};Tech.prototype.trackProgress=function trackProgress(event){this.stopTrackingProgress();this.progressInterval=this.setInterval(Fn.bind(this,function(){var numBufferedPercent=this.bufferedPercent();if(this.bufferedPercent_!==numBufferedPercent){this.trigger('progress');}this.bufferedPercent_=numBufferedPercent;if(numBufferedPercent===1){this.stopTrackingProgress();}}),500);};Tech.prototype.onDurationChange=function onDurationChange(event){this.duration_=this.duration();};Tech.prototype.buffered=function buffered(){return(0,_timeRanges.createTimeRange)(0,0);};Tech.prototype.bufferedPercent=function bufferedPercent(){return(0,_buffer.bufferedPercent)(this.buffered(),this.duration_);};Tech.prototype.stopTrackingProgress=function stopTrackingProgress(){this.clearInterval(this.progressInterval);};Tech.prototype.manualTimeUpdatesOn=function manualTimeUpdatesOn(){this.manualTimeUpdates=true;this.on('play',this.trackCurrentTime);this.on('pause',this.stopTrackingCurrentTime);};Tech.prototype.manualTimeUpdatesOff=function manualTimeUpdatesOff(){this.manualTimeUpdates=false;this.stopTrackingCurrentTime();this.off('play',this.trackCurrentTime);this.off('pause',this.stopTrackingCurrentTime);};Tech.prototype.trackCurrentTime=function trackCurrentTime(){if(this.currentTimeInterval){this.stopTrackingCurrentTime();}this.currentTimeInterval=this.setInterval(function(){this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});},250);};Tech.prototype.stopTrackingCurrentTime=function stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval);this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});};Tech.prototype.dispose=function dispose(){this.clearTracks(['audio','video','text']);if(this.manualProgress){this.manualProgressOff();}if(this.manualTimeUpdates){this.manualTimeUpdatesOff();}_Component.prototype.dispose.call(this);};Tech.prototype.clearTracks=function clearTracks(types){var _this2=this;types=[].concat(types);types.forEach(function(type){var list=_this2[type+'Tracks']()||[];var i=list.length;while(i--){var track=list[i];if(type==='text'){_this2.removeRemoteTextTrack(track);}list.removeTrack_(track);}});};Tech.prototype.cleanupAutoTextTracks=function cleanupAutoTextTracks(){var list=this.autoRemoteTextTracks_||[];var i=list.length;while(i--){var track=list[i];this.removeRemoteTextTrack(track);}};Tech.prototype.reset=function reset(){};Tech.prototype.error=function error(err){if(err!==undefined){this.error_=new _mediaError2['default'](err);this.trigger('error');}return this.error_;};Tech.prototype.played=function played(){if(this.hasStarted_){return(0,_timeRanges.createTimeRange)(0,0);}return(0,_timeRanges.createTimeRange)();};Tech.prototype.setCurrentTime=function setCurrentTime(){if(this.manualTimeUpdates){this.trigger({type:'timeupdate',target:this,manuallyTriggered:true});}};Tech.prototype.initTextTrackListeners=function initTextTrackListeners(){var textTrackListChanges=Fn.bind(this,function(){this.trigger('texttrackchange');});var tracks=this.textTracks();if(!tracks){return;}tracks.addEventListener('removetrack',textTrackListChanges);tracks.addEventListener('addtrack',textTrackListChanges);this.on('dispose',Fn.bind(this,function(){tracks.removeEventListener('removetrack',textTrackListChanges);tracks.removeEventListener('addtrack',textTrackListChanges);}));};Tech.prototype.initTrackListeners=function initTrackListeners(){var _this3=this;var trackTypes=['video','audio'];trackTypes.forEach(function(type){var trackListChanges=function trackListChanges(){_this3.trigger(type+'trackchange');};var tracks=_this3[type+'Tracks']();tracks.addEventListener('removetrack',trackListChanges);tracks.addEventListener('addtrack',trackListChanges);_this3.on('dispose',function(){tracks.removeEventListener('removetrack',trackListChanges);tracks.removeEventListener('addtrack',trackListChanges);});});};Tech.prototype.addWebVttScript_=function addWebVttScript_(){var _this4=this;if(_window2['default'].WebVTT){return;}if(_document2['default'].body.contains(this.el())){var vtt=_dereq_(99);if(!this.options_['vtt.js']&&(0,_obj.isPlain)(vtt)&&Object.keys(vtt).length>0){this.trigger('vttjsloaded');return;}var script=_document2['default'].createElement('script');script.src=this.options_['vtt.js']||'https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js';script.onload=function(){_this4.trigger('vttjsloaded');};script.onerror=function(){_this4.trigger('vttjserror');};this.on('dispose',function(){script.onload=null;script.onerror=null;});_window2['default'].WebVTT=true;this.el().parentNode.appendChild(script);}else{this.ready(this.addWebVttScript_);}};Tech.prototype.emulateTextTracks=function emulateTextTracks(){var _this5=this;var tracks=this.textTracks();if(!tracks){return;}var remoteTracks=this.remoteTextTracks();var handleAddTrack=function handleAddTrack(e){return tracks.addTrack_(e.track);};var handleRemoveTrack=function handleRemoveTrack(e){return tracks.removeTrack_(e.track);};remoteTracks.on('addtrack',handleAddTrack);remoteTracks.on('removetrack',handleRemoveTrack);this.addWebVttScript_();var updateDisplay=function updateDisplay(){return _this5.trigger('texttrackchange');};var textTracksChanges=function textTracksChanges(){updateDisplay();for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);if(track.mode==='showing'){track.addEventListener('cuechange',updateDisplay);}}};textTracksChanges();tracks.addEventListener('change',textTracksChanges);tracks.addEventListener('addtrack',textTracksChanges);tracks.addEventListener('removetrack',textTracksChanges);this.on('dispose',function(){remoteTracks.off('addtrack',handleAddTrack);remoteTracks.off('removetrack',handleRemoveTrack);tracks.removeEventListener('change',textTracksChanges);tracks.removeEventListener('addtrack',textTracksChanges);tracks.removeEventListener('removetrack',textTracksChanges);for(var i=0;i<tracks.length;i++){var track=tracks[i];track.removeEventListener('cuechange',updateDisplay);}});};Tech.prototype.videoTracks=function videoTracks(){this.videoTracks_=this.videoTracks_||new _videoTrackList2['default']();return this.videoTracks_;};Tech.prototype.audioTracks=function audioTracks(){this.audioTracks_=this.audioTracks_||new _audioTrackList2['default']();return this.audioTracks_;};Tech.prototype.textTracks=function textTracks(){this.textTracks_=this.textTracks_||new _textTrackList2['default']();return this.textTracks_;};Tech.prototype.remoteTextTracks=function remoteTextTracks(){this.remoteTextTracks_=this.remoteTextTracks_||new _textTrackList2['default']();return this.remoteTextTracks_;};Tech.prototype.remoteTextTrackEls=function remoteTextTrackEls(){this.remoteTextTrackEls_=this.remoteTextTrackEls_||new _htmlTrackElementList2['default']();return this.remoteTextTrackEls_;};Tech.prototype.addTextTrack=function addTextTrack(kind,label,language){if(!kind){throw new Error('TextTrack kind is required but was not provided');}return createTrackHelper(this,kind,label,language);};Tech.prototype.createRemoteTextTrack=function createRemoteTextTrack(options){var track=(0,_mergeOptions2['default'])(options,{tech:this});return new _htmlTrackElement2['default'](track);};Tech.prototype.addRemoteTextTrack=function addRemoteTextTrack(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var manualCleanup=arguments[1];var htmlTrackElement=this.createRemoteTextTrack(options);if(manualCleanup!==true&&manualCleanup!==false){_log2['default'].warn('Calling addRemoteTextTrack without explicitly setting the \"manualCleanup\" parameter to `true` is deprecated and default to `false` in future version of video.js');manualCleanup=true;}this.remoteTextTrackEls().addTrackElement_(htmlTrackElement);this.remoteTextTracks().addTrack_(htmlTrackElement.track);if(manualCleanup!==true){this.autoRemoteTextTracks_.addTrack_(htmlTrackElement.track);}return htmlTrackElement;};Tech.prototype.removeRemoteTextTrack=function removeRemoteTextTrack(track){var trackElement=this.remoteTextTrackEls().getTrackElementByTrack_(track);this.remoteTextTrackEls().removeTrackElement_(trackElement);this.remoteTextTracks().removeTrack_(track);this.autoRemoteTextTracks_.removeTrack_(track);};Tech.prototype.getVideoPlaybackQuality=function getVideoPlaybackQuality(){return{};};Tech.prototype.setPoster=function setPoster(){};Tech.prototype.playsinline=function playsinline(){};Tech.prototype.setPlaysinline=function setPlaysinline(){};Tech.prototype.canPlayType=function canPlayType(){return'';};Tech.isTech=function isTech(component){return component.prototype instanceof Tech||component instanceof Tech||component===Tech;};Tech.registerTech=function registerTech(name,tech){if(!Tech.techs_){Tech.techs_={};}if(!Tech.isTech(tech)){throw new Error('Tech '+name+' must be a Tech');}Tech.techs_[name]=tech;return tech;};Tech.getTech=function getTech(name){if(Tech.techs_&&Tech.techs_[name]){return Tech.techs_[name];}if(_window2['default']&&_window2['default'].videojs&&_window2['default'].videojs[name]){_log2['default'].warn('The '+name+' tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)');return _window2['default'].videojs[name];}};return Tech;}(_component2['default']);Tech.prototype.textTracks_;Tech.prototype.audioTracks_;Tech.prototype.videoTracks_;Tech.prototype.featuresVolumeControl=true;Tech.prototype.featuresFullscreenResize=false;Tech.prototype.featuresPlaybackRate=false;Tech.prototype.featuresProgressEvents=false;Tech.prototype.featuresTimeupdateEvents=false;Tech.prototype.featuresNativeTextTracks=false;Tech.withSourceHandlers=function(_Tech){_Tech.registerSourceHandler=function(handler,index){var handlers=_Tech.sourceHandlers;if(!handlers){handlers=_Tech.sourceHandlers=[];}if(index===undefined){index=handlers.length;}handlers.splice(index,0,handler);};_Tech.canPlayType=function(type){var handlers=_Tech.sourceHandlers||[];var can=void 0;for(var i=0;i<handlers.length;i++){can=handlers[i].canPlayType(type);if(can){return can;}}return'';};_Tech.selectSourceHandler=function(source,options){var handlers=_Tech.sourceHandlers||[];var can=void 0;for(var i=0;i<handlers.length;i++){can=handlers[i].canHandleSource(source,options);if(can){return handlers[i];}}return null;};_Tech.canPlaySource=function(srcObj,options){var sh=_Tech.selectSourceHandler(srcObj,options);if(sh){return sh.canHandleSource(srcObj,options);}return'';};var deferrable=['seekable','duration'];deferrable.forEach(function(fnName){var originalFn=this[fnName];if(typeof originalFn!=='function'){return;}this[fnName]=function(){if(this.sourceHandler_&&this.sourceHandler_[fnName]){return this.sourceHandler_[fnName].apply(this.sourceHandler_,arguments);}return originalFn.apply(this,arguments);};},_Tech.prototype);_Tech.prototype.setSource=function(source){var sh=_Tech.selectSourceHandler(source,this.options_);if(!sh){if(_Tech.nativeSourceHandler){sh=_Tech.nativeSourceHandler;}else{_log2['default'].error('No source hander found for the current source.');}}this.disposeSourceHandler();this.off('dispose',this.disposeSourceHandler);if(sh!==_Tech.nativeSourceHandler){this.currentSource_=source;this.off(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);this.off(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);this.one(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);}this.sourceHandler_=sh.handleSource(source,this,this.options_);this.on('dispose',this.disposeSourceHandler);return this;};_Tech.prototype.firstLoadStartListener_=function(){this.one(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);};_Tech.prototype.successiveLoadStartListener_=function(){this.disposeSourceHandler();this.one(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);};_Tech.prototype.disposeSourceHandler=function(){if(this.currentSource_){this.clearTracks(['audio','video']);this.currentSource_=null;}this.cleanupAutoTextTracks();if(this.sourceHandler_){this.off(this.el_,'loadstart',_Tech.prototype.firstLoadStartListener_);this.off(this.el_,'loadstart',_Tech.prototype.successiveLoadStartListener_);if(this.sourceHandler_.dispose){this.sourceHandler_.dispose();}this.sourceHandler_=null;}};};_component2['default'].registerComponent('Tech',Tech);_component2['default'].registerComponent('MediaTechController',Tech);Tech.registerTech('Tech',Tech);exports['default']=Tech;},{\"46\":46,\"5\":5,\"63\":63,\"65\":65,\"66\":66,\"70\":70,\"72\":72,\"76\":76,\"79\":79,\"83\":83,\"86\":86,\"87\":87,\"88\":88,\"90\":90,\"94\":94,\"95\":95,\"99\":99}],63:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(track.id===list[i].id){continue;}list[i].enabled=false;}};var AudioTrackList=function(_TrackList){_inherits(AudioTrackList,_TrackList);function AudioTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,AudioTrackList);var list=void 0;for(var i=tracks.length-1;i>=0;i--){if(tracks[i].enabled){disableOthers(tracks,tracks[i]);break;}}if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in AudioTrackList.prototype){if(_prop!=='constructor'){list[_prop]=AudioTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);list.changing_=false;return _ret=list,_possibleConstructorReturn(_this,_ret);}AudioTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;if(track.enabled){disableOthers(this,track);}_TrackList.prototype.addTrack_.call(this,track);if(!track.addEventListener){return;}track.addEventListener('enabledchange',function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');});};AudioTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track);};AudioTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track);};return AudioTrackList;}(_trackList2['default']);exports['default']=AudioTrackList;},{\"74\":74,\"78\":78,\"94\":94}],64:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackEnums=_dereq_(73);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AudioTrack=function(_Track){_inherits(AudioTrack,_Track);function AudioTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,AudioTrack);var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.AudioTrackKind[options.kind]||''});var track=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);var enabled=false;if(browser.IS_IE8){for(var prop in AudioTrack.prototype){if(prop!=='constructor'){track[prop]=AudioTrack.prototype[prop];}}}Object.defineProperty(track,'enabled',{get:function get(){return enabled;},set:function set(newEnabled){if(typeof newEnabled!=='boolean'||newEnabled===enabled){return;}enabled=newEnabled;this.trigger('enabledchange');}});if(settings.enabled){track.enabled=settings.enabled;}track.loaded_=true;return _ret=track,_possibleConstructorReturn(_this,_ret);}return AudioTrack;}(_track2['default']);exports['default']=AudioTrack;},{\"73\":73,\"75\":75,\"78\":78,\"87\":87}],65:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var HtmlTrackElementList=function(){function HtmlTrackElementList(){var trackElements=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,HtmlTrackElementList);var list=this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in HtmlTrackElementList.prototype){if(prop!=='constructor'){list[prop]=HtmlTrackElementList.prototype[prop];}}}list.trackElements_=[];Object.defineProperty(list,'length',{get:function get(){return this.trackElements_.length;}});for(var i=0,length=trackElements.length;i<length;i++){list.addTrackElement_(trackElements[i]);}if(browser.IS_IE8){return list;}}HtmlTrackElementList.prototype.addTrackElement_=function addTrackElement_(trackElement){var index=this.trackElements_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.trackElements_[index];}});}if(this.trackElements_.indexOf(trackElement)===-1){this.trackElements_.push(trackElement);}};HtmlTrackElementList.prototype.getTrackElementByTrack_=function getTrackElementByTrack_(track){var trackElement_=void 0;for(var i=0,length=this.trackElements_.length;i<length;i++){if(track===this.trackElements_[i].track){trackElement_=this.trackElements_[i];break;}}return trackElement_;};HtmlTrackElementList.prototype.removeTrackElement_=function removeTrackElement_(trackElement){for(var i=0,length=this.trackElements_.length;i<length;i++){if(trackElement===this.trackElements_[i]){this.trackElements_.splice(i,1);break;}}};return HtmlTrackElementList;}();exports['default']=HtmlTrackElementList;},{\"78\":78,\"94\":94}],66:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var NONE=0;var LOADING=1;var LOADED=2;var ERROR=3;var HTMLTrackElement=function(_EventTarget){_inherits(HTMLTrackElement,_EventTarget);function HTMLTrackElement(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,HTMLTrackElement);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));var readyState=void 0;var trackElement=_this;if(browser.IS_IE8){trackElement=_document2['default'].createElement('custom');for(var prop in HTMLTrackElement.prototype){if(prop!=='constructor'){trackElement[prop]=HTMLTrackElement.prototype[prop];}}}var track=new _textTrack2['default'](options);trackElement.kind=track.kind;trackElement.src=track.src;trackElement.srclang=track.language;trackElement.label=track.label;trackElement['default']=track['default'];Object.defineProperty(trackElement,'readyState',{get:function get(){return readyState;}});Object.defineProperty(trackElement,'track',{get:function get(){return track;}});readyState=NONE;track.addEventListener('loadeddata',function(){readyState=LOADED;trackElement.trigger({type:'load',target:trackElement});});if(browser.IS_IE8){var _ret;return _ret=trackElement,_possibleConstructorReturn(_this,_ret);}return _this;}return HTMLTrackElement;}(_eventTarget2['default']);HTMLTrackElement.prototype.allowedEvents_={load:'load'};HTMLTrackElement.NONE=NONE;HTMLTrackElement.LOADING=LOADING;HTMLTrackElement.LOADED=LOADED;HTMLTrackElement.ERROR=ERROR;exports['default']=HTMLTrackElement;},{\"42\":42,\"72\":72,\"78\":78,\"94\":94}],67:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}var TextTrackCueList=function(){function TextTrackCueList(cues){_classCallCheck(this,TextTrackCueList);var list=this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in TextTrackCueList.prototype){if(prop!=='constructor'){list[prop]=TextTrackCueList.prototype[prop];}}}TextTrackCueList.prototype.setCues_.call(list,cues);Object.defineProperty(list,'length',{get:function get(){return this.length_;}});if(browser.IS_IE8){return list;}}TextTrackCueList.prototype.setCues_=function setCues_(cues){var oldLength=this.length||0;var i=0;var l=cues.length;this.cues_=cues;this.length_=cues.length;var defineProp=function defineProp(index){if(!(''+index in this)){Object.defineProperty(this,''+index,{get:function get(){return this.cues_[index];}});}};if(oldLength<l){i=oldLength;for(;i<l;i++){defineProp.call(this,i);}}};TextTrackCueList.prototype.getCueById=function getCueById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var cue=this[i];if(cue.id===id){result=cue;break;}}return result;};return TextTrackCueList;}();exports['default']=TextTrackCueList;},{\"78\":78,\"94\":94}],68:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var darkGray='#222';var lightGray='#ccc';var fontMap={monospace:'monospace',sansSerif:'sans-serif',serif:'serif',monospaceSansSerif:'\"Andale Mono\", \"Lucida Console\", monospace',monospaceSerif:'\"Courier New\", monospace',proportionalSansSerif:'sans-serif',proportionalSerif:'serif',casual:'\"Comic Sans MS\", Impact, fantasy',script:'\"Monotype Corsiva\", cursive',smallcaps:'\"Andale Mono\", \"Lucida Console\", monospace, sans-serif'};function constructColor(color,opacity){return'rgba('+parseInt(color[1]+color[1],16)+','+parseInt(color[2]+color[2],16)+','+parseInt(color[3]+color[3],16)+','+opacity+')';}function tryUpdateStyle(el,style,rule){try{el.style[style]=rule;}catch(e){return;}}var TextTrackDisplay=function(_Component){_inherits(TextTrackDisplay,_Component);function TextTrackDisplay(player,options,ready){_classCallCheck(this,TextTrackDisplay);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options,ready));player.on('loadstart',Fn.bind(_this,_this.toggleDisplay));player.on('texttrackchange',Fn.bind(_this,_this.updateDisplay));player.ready(Fn.bind(_this,function(){if(player.tech_&&player.tech_.featuresNativeTextTracks){this.hide();return;}player.on('fullscreenchange',Fn.bind(this,this.updateDisplay));var tracks=this.options_.playerOptions.tracks||[];for(var i=0;i<tracks.length;i++){this.player_.addRemoteTextTrack(tracks[i],true);}var modes={captions:1,subtitles:1};var trackList=this.player_.textTracks();var firstDesc=void 0;var firstCaptions=void 0;if(trackList){for(var _i=0;_i<trackList.length;_i++){var track=trackList[_i];if(track['default']){if(track.kind==='descriptions'&&!firstDesc){firstDesc=track;}else if(track.kind in modes&&!firstCaptions){firstCaptions=track;}}}if(firstCaptions){firstCaptions.mode='showing';}else if(firstDesc){firstDesc.mode='showing';}}}));return _this;}TextTrackDisplay.prototype.toggleDisplay=function toggleDisplay(){if(this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks){this.hide();}else{this.show();}};TextTrackDisplay.prototype.createEl=function createEl(){return _Component.prototype.createEl.call(this,'div',{className:'vjs-text-track-display'},{'aria-live':'off','aria-atomic':'true'});};TextTrackDisplay.prototype.clearDisplay=function clearDisplay(){if(typeof _window2['default'].WebVTT==='function'){_window2['default'].WebVTT.processCues(_window2['default'],[],this.el_);}};TextTrackDisplay.prototype.updateDisplay=function updateDisplay(){var tracks=this.player_.textTracks();this.clearDisplay();if(!tracks){return;}var descriptionsTrack=null;var captionsSubtitlesTrack=null;var i=tracks.length;while(i--){var track=tracks[i];if(track.mode==='showing'){if(track.kind==='descriptions'){descriptionsTrack=track;}else{captionsSubtitlesTrack=track;}}}if(captionsSubtitlesTrack){if(this.getAttribute('aria-live')!=='off'){this.setAttribute('aria-live','off');}this.updateForTrack(captionsSubtitlesTrack);}else if(descriptionsTrack){if(this.getAttribute('aria-live')!=='assertive'){this.setAttribute('aria-live','assertive');}this.updateForTrack(descriptionsTrack);}};TextTrackDisplay.prototype.updateForTrack=function updateForTrack(track){if(typeof _window2['default'].WebVTT!=='function'||!track.activeCues){return;}var overrides=this.player_.textTrackSettings.getValues();var cues=[];for(var _i2=0;_i2<track.activeCues.length;_i2++){cues.push(track.activeCues[_i2]);}_window2['default'].WebVTT.processCues(_window2['default'],cues,this.el_);var i=cues.length;while(i--){var cue=cues[i];if(!cue){continue;}var cueDiv=cue.displayState;if(overrides.color){cueDiv.firstChild.style.color=overrides.color;}if(overrides.textOpacity){tryUpdateStyle(cueDiv.firstChild,'color',constructColor(overrides.color||'#fff',overrides.textOpacity));}if(overrides.backgroundColor){cueDiv.firstChild.style.backgroundColor=overrides.backgroundColor;}if(overrides.backgroundOpacity){tryUpdateStyle(cueDiv.firstChild,'backgroundColor',constructColor(overrides.backgroundColor||'#000',overrides.backgroundOpacity));}if(overrides.windowColor){if(overrides.windowOpacity){tryUpdateStyle(cueDiv,'backgroundColor',constructColor(overrides.windowColor,overrides.windowOpacity));}else{cueDiv.style.backgroundColor=overrides.windowColor;}}if(overrides.edgeStyle){if(overrides.edgeStyle==='dropshadow'){cueDiv.firstChild.style.textShadow='2px 2px 3px '+darkGray+', 2px 2px 4px '+darkGray+', 2px 2px 5px '+darkGray;}else if(overrides.edgeStyle==='raised'){cueDiv.firstChild.style.textShadow='1px 1px '+darkGray+', 2px 2px '+darkGray+', 3px 3px '+darkGray;}else if(overrides.edgeStyle==='depressed'){cueDiv.firstChild.style.textShadow='1px 1px '+lightGray+', 0 1px '+lightGray+', -1px -1px '+darkGray+', 0 -1px '+darkGray;}else if(overrides.edgeStyle==='uniform'){cueDiv.firstChild.style.textShadow='0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray+', 0 0 4px '+darkGray;}}if(overrides.fontPercent&&overrides.fontPercent!==1){var fontSize=_window2['default'].parseFloat(cueDiv.style.fontSize);cueDiv.style.fontSize=fontSize*overrides.fontPercent+'px';cueDiv.style.height='auto';cueDiv.style.top='auto';cueDiv.style.bottom='2px';}if(overrides.fontFamily&&overrides.fontFamily!=='default'){if(overrides.fontFamily==='small-caps'){cueDiv.firstChild.style.fontVariant='small-caps';}else{cueDiv.firstChild.style.fontFamily=fontMap[overrides.fontFamily];}}}};return TextTrackDisplay;}(_component2['default']);_component2['default'].registerComponent('TextTrackDisplay',TextTrackDisplay);exports['default']=TextTrackDisplay;},{\"5\":5,\"83\":83,\"95\":95}],69:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var trackToJson_=function trackToJson_(track){var ret=['kind','label','language','id','inBandMetadataTrackDispatchType','mode','src'].reduce(function(acc,prop,i){if(track[prop]){acc[prop]=track[prop];}return acc;},{cues:track.cues&&Array.prototype.map.call(track.cues,function(cue){return{startTime:cue.startTime,endTime:cue.endTime,text:cue.text,id:cue.id};})});return ret;};var textTracksToJson=function textTracksToJson(tech){var trackEls=tech.$$('track');var trackObjs=Array.prototype.map.call(trackEls,function(t){return t.track;});var tracks=Array.prototype.map.call(trackEls,function(trackEl){var json=trackToJson_(trackEl.track);if(trackEl.src){json.src=trackEl.src;}return json;});return tracks.concat(Array.prototype.filter.call(tech.textTracks(),function(track){return trackObjs.indexOf(track)===-1;}).map(trackToJson_));};var jsonToTextTracks=function jsonToTextTracks(json,tech){json.forEach(function(track){var addedTrack=tech.addRemoteTextTrack(track).track;if(!track.src&&track.cues){track.cues.forEach(function(cue){return addedTrack.addCue(cue);});}});return tech.textTracks();};exports['default']={textTracksToJson:textTracksToJson,jsonToTextTracks:jsonToTextTracks,trackToJson_:trackToJson_};},{}],70:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TextTrackList=function(_TrackList){_inherits(TextTrackList,_TrackList);function TextTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,TextTrackList);var list=void 0;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in TextTrackList.prototype){if(_prop!=='constructor'){list[_prop]=TextTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);return _ret=list,_possibleConstructorReturn(_this,_ret);}TextTrackList.prototype.addTrack_=function addTrack_(track){_TrackList.prototype.addTrack_.call(this,track);track.addEventListener('modechange',Fn.bind(this,function(){this.trigger('change');}));};return TextTrackList;}(_trackList2['default']);exports['default']=TextTrackList;},{\"74\":74,\"78\":78,\"83\":83,\"94\":94}],71:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _dom=_dereq_(81);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _obj=_dereq_(88);var Obj=_interopRequireWildcard(_obj);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var LOCAL_STORAGE_KEY='vjs-text-track-settings';var COLOR_BLACK=['#000','Black'];var COLOR_BLUE=['#00F','Blue'];var COLOR_CYAN=['#0FF','Cyan'];var COLOR_GREEN=['#0F0','Green'];var COLOR_MAGENTA=['#F0F','Magenta'];var COLOR_RED=['#F00','Red'];var COLOR_WHITE=['#FFF','White'];var COLOR_YELLOW=['#FF0','Yellow'];var OPACITY_OPAQUE=['1','Opaque'];var OPACITY_SEMI=['0.5','Semi-Transparent'];var OPACITY_TRANS=['0','Transparent'];var selectConfigs={backgroundColor:{selector:'.vjs-bg-color > select',id:'captions-background-color-%s',label:'Color',options:[COLOR_BLACK,COLOR_WHITE,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},backgroundOpacity:{selector:'.vjs-bg-opacity > select',id:'captions-background-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI,OPACITY_TRANS]},color:{selector:'.vjs-fg-color > select',id:'captions-foreground-color-%s',label:'Color',options:[COLOR_WHITE,COLOR_BLACK,COLOR_RED,COLOR_GREEN,COLOR_BLUE,COLOR_YELLOW,COLOR_MAGENTA,COLOR_CYAN]},edgeStyle:{selector:'.vjs-edge-style > select',id:'%s',label:'Text Edge Style',options:[['none','None'],['raised','Raised'],['depressed','Depressed'],['uniform','Uniform'],['dropshadow','Dropshadow']]},fontFamily:{selector:'.vjs-font-family > select',id:'captions-font-family-%s',label:'Font Family',options:[['proportionalSansSerif','Proportional Sans-Serif'],['monospaceSansSerif','Monospace Sans-Serif'],['proportionalSerif','Proportional Serif'],['monospaceSerif','Monospace Serif'],['casual','Casual'],['script','Script'],['small-caps','Small Caps']]},fontPercent:{selector:'.vjs-font-percent > select',id:'captions-font-size-%s',label:'Font Size',options:[['0.50','50%'],['0.75','75%'],['1.00','100%'],['1.25','125%'],['1.50','150%'],['1.75','175%'],['2.00','200%'],['3.00','300%'],['4.00','400%']],'default':2,parser:function parser(v){return v==='1.00'?null:Number(v);}},textOpacity:{selector:'.vjs-text-opacity > select',id:'captions-foreground-opacity-%s',label:'Transparency',options:[OPACITY_OPAQUE,OPACITY_SEMI]},windowColor:{selector:'.vjs-window-color > select',id:'captions-window-color-%s',label:'Color'},windowOpacity:{selector:'.vjs-window-opacity > select',id:'captions-window-opacity-%s',label:'Transparency',options:[OPACITY_TRANS,OPACITY_SEMI,OPACITY_OPAQUE]}};selectConfigs.windowColor.options=selectConfigs.backgroundColor.options;function parseOptionValue(value,parser){if(parser){value=parser(value);}if(value&&value!=='none'){return value;}}function getSelectedOptionValue(el,parser){var value=el.options[el.options.selectedIndex].value;return parseOptionValue(value,parser);}function setSelectedOption(el,value,parser){if(!value){return;}for(var i=0;i<el.options.length;i++){if(parseOptionValue(el.options[i].value,parser)===value){el.selectedIndex=i;break;}}}var TextTrackSettings=function(_Component){_inherits(TextTrackSettings,_Component);function TextTrackSettings(player,options){_classCallCheck(this,TextTrackSettings);var _this=_possibleConstructorReturn(this,_Component.call(this,player,options));_this.setDefaults();_this.hide();_this.updateDisplay=Fn.bind(_this,_this.updateDisplay);if(options.persistTextTrackSettings===undefined){_this.options_.persistTextTrackSettings=_this.options_.playerOptions.persistTextTrackSettings;}_this.on(_this.$('.vjs-done-button'),'click',function(){_this.saveSettings();_this.hide();});_this.on(_this.$('.vjs-default-button'),'click',function(){_this.setDefaults();_this.updateDisplay();});Obj.each(selectConfigs,function(config){_this.on(_this.$(config.selector),'change',_this.updateDisplay);});if(_this.options_.persistTextTrackSettings){_this.restoreSettings();}return _this;}TextTrackSettings.prototype.createElSelect_=function createElSelect_(key){var _this2=this;var config=selectConfigs[key];var id=config.id.replace('%s',this.id_);return[(0,_dom.createEl)('label',{className:'vjs-label',textContent:config.label},{'for':id}),(0,_dom.createEl)('select',{id:id},undefined,config.options.map(function(o){return(0,_dom.createEl)('option',{textContent:_this2.localize(o[1]),value:o[0]});}))];};TextTrackSettings.prototype.createElFgColor_=function createElFgColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Text')});var select=this.createElSelect_('color');var opacity=(0,_dom.createEl)('span',{className:'vjs-text-opacity vjs-opacity'},undefined,this.createElSelect_('textOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-fg-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElBgColor_=function createElBgColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Background')});var select=this.createElSelect_('backgroundColor');var opacity=(0,_dom.createEl)('span',{className:'vjs-bg-opacity vjs-opacity'},undefined,this.createElSelect_('backgroundOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-bg-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElWinColor_=function createElWinColor_(){var legend=(0,_dom.createEl)('legend',{textContent:this.localize('Window')});var select=this.createElSelect_('windowColor');var opacity=(0,_dom.createEl)('span',{className:'vjs-window-opacity vjs-opacity'},undefined,this.createElSelect_('windowOpacity'));return(0,_dom.createEl)('fieldset',{className:'vjs-window-color vjs-tracksetting'},undefined,[legend].concat(select,opacity));};TextTrackSettings.prototype.createElColors_=function createElColors_(){return(0,_dom.createEl)('div',{className:'vjs-tracksettings-colors'},undefined,[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()]);};TextTrackSettings.prototype.createElFont_=function createElFont_(){var fontPercent=(0,_dom.createEl)('div',{className:'vjs-font-percent vjs-tracksetting'},undefined,this.createElSelect_('fontPercent'));var edgeStyle=(0,_dom.createEl)('div',{className:'vjs-edge-style vjs-tracksetting'},undefined,this.createElSelect_('edgeStyle'));var fontFamily=(0,_dom.createEl)('div',{className:'vjs-font-family vjs-tracksetting'},undefined,this.createElSelect_('fontFamily'));return(0,_dom.createEl)('div',{className:'vjs-tracksettings-font'},undefined,[fontPercent,edgeStyle,fontFamily]);};TextTrackSettings.prototype.createElControls_=function createElControls_(){var defaultsButton=(0,_dom.createEl)('button',{className:'vjs-default-button',textContent:this.localize('Defaults')});var doneButton=(0,_dom.createEl)('button',{className:'vjs-done-button',textContent:'Done'});return(0,_dom.createEl)('div',{className:'vjs-tracksettings-controls'},undefined,[defaultsButton,doneButton]);};TextTrackSettings.prototype.createEl=function createEl(){var settings=(0,_dom.createEl)('div',{className:'vjs-tracksettings'},undefined,[this.createElColors_(),this.createElFont_(),this.createElControls_()]);var heading=(0,_dom.createEl)('div',{className:'vjs-control-text',id:'TTsettingsDialogLabel-'+this.id_,textContent:'Caption Settings Dialog'},{'aria-level':'1','role':'heading'});var description=(0,_dom.createEl)('div',{className:'vjs-control-text',id:'TTsettingsDialogDescription-'+this.id_,textContent:'Beginning of dialog window. Escape will cancel and close the window.'});var doc=(0,_dom.createEl)('div',undefined,{role:'document'},[heading,description,settings]);return(0,_dom.createEl)('div',{className:'vjs-caption-settings vjs-modal-overlay',tabIndex:-1},{'role':'dialog','aria-labelledby':heading.id,'aria-describedby':description.id},doc);};TextTrackSettings.prototype.getValues=function getValues(){var _this3=this;return Obj.reduce(selectConfigs,function(accum,config,key){var value=getSelectedOptionValue(_this3.$(config.selector),config.parser);if(value!==undefined){accum[key]=value;}return accum;},{});};TextTrackSettings.prototype.setValues=function setValues(values){var _this4=this;Obj.each(selectConfigs,function(config,key){setSelectedOption(_this4.$(config.selector),values[key],config.parser);});};TextTrackSettings.prototype.setDefaults=function setDefaults(){var _this5=this;Obj.each(selectConfigs,function(config){var index=config.hasOwnProperty('default')?config['default']:0;_this5.$(config.selector).selectedIndex=index;});};TextTrackSettings.prototype.restoreSettings=function restoreSettings(){var values=void 0;try{values=JSON.parse(_window2['default'].localStorage.getItem(LOCAL_STORAGE_KEY));}catch(err){_log2['default'].warn(err);}if(values){this.setValues(values);}};TextTrackSettings.prototype.saveSettings=function saveSettings(){if(!this.options_.persistTextTrackSettings){return;}var values=this.getValues();try{if(Object.keys(values).length){_window2['default'].localStorage.setItem(LOCAL_STORAGE_KEY,JSON.stringify(values));}else{_window2['default'].localStorage.removeItem(LOCAL_STORAGE_KEY);}}catch(err){_log2['default'].warn(err);}};TextTrackSettings.prototype.updateDisplay=function updateDisplay(){var ttDisplay=this.player_.getChild('textTrackDisplay');if(ttDisplay){ttDisplay.updateDisplay();}};return TextTrackSettings;}(_component2['default']);_component2['default'].registerComponent('TextTrackSettings',TextTrackSettings);exports['default']=TextTrackSettings;},{\"5\":5,\"81\":81,\"83\":83,\"86\":86,\"88\":88,\"95\":95}],72:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _textTrackCueList=_dereq_(67);var _textTrackCueList2=_interopRequireDefault(_textTrackCueList);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _trackEnums=_dereq_(73);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _url=_dereq_(92);var _xhr=_dereq_(104);var _xhr2=_interopRequireDefault(_xhr);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var parseCues=function parseCues(srcContent,track){var parser=new _window2['default'].WebVTT.Parser(_window2['default'],_window2['default'].vttjs,_window2['default'].WebVTT.StringDecoder());var errors=[];parser.oncue=function(cue){track.addCue(cue);};parser.onparsingerror=function(error){errors.push(error);};parser.onflush=function(){track.trigger({type:'loadeddata',target:track});};parser.parse(srcContent);if(errors.length>0){if(_window2['default'].console&&_window2['default'].console.groupCollapsed){_window2['default'].console.groupCollapsed('Text Track parsing errors for '+track.src);}errors.forEach(function(error){return _log2['default'].error(error);});if(_window2['default'].console&&_window2['default'].console.groupEnd){_window2['default'].console.groupEnd();}}parser.flush();};var loadTrack=function loadTrack(src,track){var opts={uri:src};var crossOrigin=(0,_url.isCrossOrigin)(src);if(crossOrigin){opts.cors=crossOrigin;}(0,_xhr2['default'])(opts,Fn.bind(this,function(err,response,responseBody){if(err){return _log2['default'].error(err,response);}track.loaded_=true;if(typeof _window2['default'].WebVTT!=='function'){if(track.tech_){var loadHandler=function loadHandler(){return parseCues(responseBody,track);};track.tech_.on('vttjsloaded',loadHandler);track.tech_.on('vttjserror',function(){_log2['default'].error('vttjs failed to load, stopping trying to process '+track.src);track.tech_.off('vttjsloaded',loadHandler);});}}else{parseCues(responseBody,track);}}));};var TextTrack=function(_Track){_inherits(TextTrack,_Track);function TextTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,TextTrack);if(!options.tech){throw new Error('A tech was not provided.');}var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.TextTrackKind[options.kind]||'subtitles',language:options.language||options.srclang||''});var mode=_trackEnums.TextTrackMode[settings.mode]||'disabled';var default_=settings['default'];if(settings.kind==='metadata'||settings.kind==='chapters'){mode='hidden';}var tt=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);tt.tech_=settings.tech;if(browser.IS_IE8){for(var prop in TextTrack.prototype){if(prop!=='constructor'){tt[prop]=TextTrack.prototype[prop];}}}tt.cues_=[];tt.activeCues_=[];var cues=new _textTrackCueList2['default'](tt.cues_);var activeCues=new _textTrackCueList2['default'](tt.activeCues_);var changed=false;var timeupdateHandler=Fn.bind(tt,function(){this.activeCues;if(changed){this.trigger('cuechange');changed=false;}});if(mode!=='disabled'){tt.tech_.ready(function(){tt.tech_.on('timeupdate',timeupdateHandler);},true);}Object.defineProperty(tt,'default',{get:function get(){return default_;},set:function set(){}});Object.defineProperty(tt,'mode',{get:function get(){return mode;},set:function set(newMode){var _this2=this;if(!_trackEnums.TextTrackMode[newMode]){return;}mode=newMode;if(mode==='showing'){this.tech_.ready(function(){_this2.tech_.on('timeupdate',timeupdateHandler);},true);}this.trigger('modechange');}});Object.defineProperty(tt,'cues',{get:function get(){if(!this.loaded_){return null;}return cues;},set:function set(){}});Object.defineProperty(tt,'activeCues',{get:function get(){if(!this.loaded_){return null;}if(this.cues.length===0){return activeCues;}var ct=this.tech_.currentTime();var active=[];for(var i=0,l=this.cues.length;i<l;i++){var cue=this.cues[i];if(cue.startTime<=ct&&cue.endTime>=ct){active.push(cue);}else if(cue.startTime===cue.endTime&&cue.startTime<=ct&&cue.startTime+0.5>=ct){active.push(cue);}}changed=false;if(active.length!==this.activeCues_.length){changed=true;}else{for(var _i=0;_i<active.length;_i++){if(this.activeCues_.indexOf(active[_i])===-1){changed=true;}}}this.activeCues_=active;activeCues.setCues_(this.activeCues_);return activeCues;},set:function set(){}});if(settings.src){tt.src=settings.src;loadTrack(settings.src,tt);}else{tt.loaded_=true;}return _ret=tt,_possibleConstructorReturn(_this,_ret);}TextTrack.prototype.addCue=function addCue(originalCue){var cue=originalCue;if(_window2['default'].vttjs&&!(originalCue instanceof _window2['default'].vttjs.VTTCue)){cue=new _window2['default'].vttjs.VTTCue(originalCue.startTime,originalCue.endTime,originalCue.text);for(var prop in originalCue){if(!(prop in cue)){cue[prop]=originalCue[prop];}}cue.id=originalCue.id;cue.originalCue_=originalCue;}var tracks=this.tech_.textTracks();if(tracks){for(var i=0;i<tracks.length;i++){if(tracks[i]!==this){tracks[i].removeCue(cue);}}}this.cues_.push(cue);this.cues.setCues_(this.cues_);};TextTrack.prototype.removeCue=function removeCue(_removeCue){var i=this.cues_.length;while(i--){var cue=this.cues_[i];if(cue===_removeCue||cue.originalCue_&&cue.originalCue_===_removeCue){this.cues_.splice(i,1);this.cues.setCues_(this.cues_);break;}}};return TextTrack;}(_track2['default']);TextTrack.prototype.allowedEvents_={cuechange:'cuechange'};exports['default']=TextTrack;},{\"104\":104,\"67\":67,\"73\":73,\"75\":75,\"78\":78,\"83\":83,\"86\":86,\"87\":87,\"92\":92,\"95\":95}],73:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var VideoTrackKind=exports.VideoTrackKind={alternative:'alternative',captions:'captions',main:'main',sign:'sign',subtitles:'subtitles',commentary:'commentary'};var AudioTrackKind=exports.AudioTrackKind={'alternative':'alternative','descriptions':'descriptions','main':'main','main-desc':'main-desc','translation':'translation','commentary':'commentary'};var TextTrackKind=exports.TextTrackKind={subtitles:'subtitles',captions:'captions',descriptions:'descriptions',chapters:'chapters',metadata:'metadata'};var TextTrackMode=exports.TextTrackMode={disabled:'disabled',hidden:'hidden',showing:'showing'};},{}],74:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TrackList=function(_EventTarget){_inherits(TrackList,_EventTarget);function TrackList(){var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var _ret;var list=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;_classCallCheck(this,TrackList);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));if(!list){list=_this;if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in TrackList.prototype){if(prop!=='constructor'){list[prop]=TrackList.prototype[prop];}}}}list.tracks_=[];Object.defineProperty(list,'length',{get:function get(){return this.tracks_.length;}});for(var i=0;i<tracks.length;i++){list.addTrack_(tracks[i]);}return _ret=list,_possibleConstructorReturn(_this,_ret);}TrackList.prototype.addTrack_=function addTrack_(track){var index=this.tracks_.length;if(!(''+index in this)){Object.defineProperty(this,index,{get:function get(){return this.tracks_[index];}});}if(this.tracks_.indexOf(track)===-1){this.tracks_.push(track);this.trigger({track:track,type:'addtrack'});}};TrackList.prototype.removeTrack_=function removeTrack_(rtrack){var track=void 0;for(var i=0,l=this.length;i<l;i++){if(this[i]===rtrack){track=this[i];if(track.off){track.off();}this.tracks_.splice(i,1);break;}}if(!track){return;}this.trigger({track:track,type:'removetrack'});};TrackList.prototype.getTrackById=function getTrackById(id){var result=null;for(var i=0,l=this.length;i<l;i++){var track=this[i];if(track.id===id){result=track;break;}}return result;};return TrackList;}(_eventTarget2['default']);TrackList.prototype.allowedEvents_={change:'change',addtrack:'addtrack',removetrack:'removetrack'};for(var event in TrackList.prototype.allowedEvents_){TrackList.prototype['on'+event]=null;}exports['default']=TrackList;},{\"42\":42,\"78\":78,\"94\":94}],75:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Track=function(_EventTarget){_inherits(Track,_EventTarget);function Track(){var _ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Track);var _this=_possibleConstructorReturn(this,_EventTarget.call(this));var track=_this;if(browser.IS_IE8){track=_document2['default'].createElement('custom');for(var prop in Track.prototype){if(prop!=='constructor'){track[prop]=Track.prototype[prop];}}}var trackProps={id:options.id||'vjs_track_'+Guid.newGUID(),kind:options.kind||'',label:options.label||'',language:options.language||''};var _loop=function _loop(key){Object.defineProperty(track,key,{get:function get(){return trackProps[key];},set:function set(){}});};for(var key in trackProps){_loop(key);}return _ret=track,_possibleConstructorReturn(_this,_ret);}return Track;}(_eventTarget2['default']);exports['default']=Track;},{\"42\":42,\"78\":78,\"85\":85,\"94\":94}],76:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackList=_dereq_(74);var _trackList2=_interopRequireDefault(_trackList);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var disableOthers=function disableOthers(list,track){for(var i=0;i<list.length;i++){if(track.id===list[i].id){continue;}list[i].selected=false;}};var VideoTrackList=function(_TrackList){_inherits(VideoTrackList,_TrackList);function VideoTrackList(){var _this,_ret;var tracks=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];_classCallCheck(this,VideoTrackList);var list=void 0;for(var i=tracks.length-1;i>=0;i--){if(tracks[i].selected){disableOthers(tracks,tracks[i]);break;}}if(browser.IS_IE8){list=_document2['default'].createElement('custom');for(var prop in _trackList2['default'].prototype){if(prop!=='constructor'){list[prop]=_trackList2['default'].prototype[prop];}}for(var _prop in VideoTrackList.prototype){if(_prop!=='constructor'){list[_prop]=VideoTrackList.prototype[_prop];}}}list=(_this=_possibleConstructorReturn(this,_TrackList.call(this,tracks,list)),_this);list.changing_=false;Object.defineProperty(list,'selectedIndex',{get:function get(){for(var _i=0;_i<this.length;_i++){if(this[_i].selected){return _i;}}return-1;},set:function set(){}});return _ret=list,_possibleConstructorReturn(_this,_ret);}VideoTrackList.prototype.addTrack_=function addTrack_(track){var _this2=this;if(track.selected){disableOthers(this,track);}_TrackList.prototype.addTrack_.call(this,track);if(!track.addEventListener){return;}track.addEventListener('selectedchange',function(){if(_this2.changing_){return;}_this2.changing_=true;disableOthers(_this2,track);_this2.changing_=false;_this2.trigger('change');});};VideoTrackList.prototype.addTrack=function addTrack(track){this.addTrack_(track);};VideoTrackList.prototype.removeTrack=function removeTrack(track){_TrackList.prototype.removeTrack_.call(this,track);};return VideoTrackList;}(_trackList2['default']);exports['default']=VideoTrackList;},{\"74\":74,\"78\":78,\"94\":94}],77:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _trackEnums=_dereq_(73);var _track=_dereq_(75);var _track2=_interopRequireDefault(_track);var _mergeOptions=_dereq_(87);var _mergeOptions2=_interopRequireDefault(_mergeOptions);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var VideoTrack=function(_Track){_inherits(VideoTrack,_Track);function VideoTrack(){var _this,_ret;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,VideoTrack);var settings=(0,_mergeOptions2['default'])(options,{kind:_trackEnums.VideoTrackKind[options.kind]||''});var track=(_this=_possibleConstructorReturn(this,_Track.call(this,settings)),_this);var selected=false;if(browser.IS_IE8){for(var prop in VideoTrack.prototype){if(prop!=='constructor'){track[prop]=VideoTrack.prototype[prop];}}}Object.defineProperty(track,'selected',{get:function get(){return selected;},set:function set(newSelected){if(typeof newSelected!=='boolean'||newSelected===selected){return;}selected=newSelected;this.trigger('selectedchange');}});if(settings.selected){track.selected=settings.selected;}return _ret=track,_possibleConstructorReturn(_this,_ret);}return VideoTrack;}(_track2['default']);exports['default']=VideoTrack;},{\"73\":73,\"75\":75,\"78\":78,\"87\":87}],78:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.BACKGROUND_SIZE_SUPPORTED=exports.TOUCH_ENABLED=exports.IS_ANY_SAFARI=exports.IS_SAFARI=exports.IE_VERSION=exports.IS_IE8=exports.CHROME_VERSION=exports.IS_CHROME=exports.IS_EDGE=exports.IS_FIREFOX=exports.IS_NATIVE_ANDROID=exports.IS_OLD_ANDROID=exports.ANDROID_VERSION=exports.IS_ANDROID=exports.IOS_VERSION=exports.IS_IOS=exports.IS_IPOD=exports.IS_IPHONE=exports.IS_IPAD=undefined;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}var USER_AGENT=_window2['default'].navigator&&_window2['default'].navigator.userAgent||'';var webkitVersionMap=/AppleWebKit\\/([\\d.]+)/i.exec(USER_AGENT);var appleWebkitVersion=webkitVersionMap?parseFloat(webkitVersionMap.pop()):null;var IS_IPAD=exports.IS_IPAD=/iPad/i.test(USER_AGENT);var IS_IPHONE=exports.IS_IPHONE=/iPhone/i.test(USER_AGENT)&&!IS_IPAD;var IS_IPOD=exports.IS_IPOD=/iPod/i.test(USER_AGENT);var IS_IOS=exports.IS_IOS=IS_IPHONE||IS_IPAD||IS_IPOD;var IOS_VERSION=exports.IOS_VERSION=function(){var match=USER_AGENT.match(/OS (\\d+)_/i);if(match&&match[1]){return match[1];}return null;}();var IS_ANDROID=exports.IS_ANDROID=/Android/i.test(USER_AGENT);var ANDROID_VERSION=exports.ANDROID_VERSION=function(){var match=USER_AGENT.match(/Android (\\d+)(?:\\.(\\d+))?(?:\\.(\\d+))*/i);if(!match){return null;}var major=match[1]&&parseFloat(match[1]);var minor=match[2]&&parseFloat(match[2]);if(major&&minor){return parseFloat(match[1]+'.'+match[2]);}else if(major){return major;}return null;}();var IS_OLD_ANDROID=exports.IS_OLD_ANDROID=IS_ANDROID&&/webkit/i.test(USER_AGENT)&&ANDROID_VERSION<2.3;var IS_NATIVE_ANDROID=exports.IS_NATIVE_ANDROID=IS_ANDROID&&ANDROID_VERSION<5&&appleWebkitVersion<537;var IS_FIREFOX=exports.IS_FIREFOX=/Firefox/i.test(USER_AGENT);var IS_EDGE=exports.IS_EDGE=/Edge/i.test(USER_AGENT);var IS_CHROME=exports.IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT);var CHROME_VERSION=exports.CHROME_VERSION=function(){var match=USER_AGENT.match(/Chrome\\/(\\d+)/);if(match&&match[1]){return parseFloat(match[1]);}return null;}();var IS_IE8=exports.IS_IE8=/MSIE\\s8\\.0/.test(USER_AGENT);var IE_VERSION=exports.IE_VERSION=function(){var result=/MSIE\\s(\\d+)\\.\\d/.exec(USER_AGENT);var version=result&&parseFloat(result[1]);if(!version&&/Trident\\/7.0/i.test(USER_AGENT)&&/rv:11.0/.test(USER_AGENT)){version=11.0;}return version;}();var IS_SAFARI=exports.IS_SAFARI=/Safari/i.test(USER_AGENT)&&!IS_CHROME&&!IS_ANDROID&&!IS_EDGE;var IS_ANY_SAFARI=exports.IS_ANY_SAFARI=IS_SAFARI||IS_IOS;var TOUCH_ENABLED=exports.TOUCH_ENABLED=Dom.isReal()&&('ontouchstart'in _window2['default']||_window2['default'].DocumentTouch&&_window2['default'].document instanceof _window2['default'].DocumentTouch);var BACKGROUND_SIZE_SUPPORTED=exports.BACKGROUND_SIZE_SUPPORTED=Dom.isReal()&&'backgroundSize'in _window2['default'].document.createElement('video').style;},{\"81\":81,\"95\":95}],79:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.bufferedPercent=bufferedPercent;var _timeRanges=_dereq_(90);function bufferedPercent(buffered,duration){var bufferedDuration=0;var start=void 0;var end=void 0;if(!duration){return 0;}if(!buffered||!buffered.length){buffered=(0,_timeRanges.createTimeRange)(0,0);}for(var i=0;i<buffered.length;i++){start=buffered.start(i);end=buffered.end(i);if(end>duration){end=duration;}bufferedDuration+=end-start;}return bufferedDuration/duration;}},{\"90\":90}],80:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports['default']=computedStyle;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function computedStyle(el,prop){if(!el||!prop){return'';}if(typeof _window2['default'].getComputedStyle==='function'){var cs=_window2['default'].getComputedStyle(el);return cs?cs[prop]:'';}return el.currentStyle[prop]||'';}},{\"95\":95}],81:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.$$=exports.$=undefined;var _templateObject=_taggedTemplateLiteralLoose(['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ',' to ','.'],['Setting attributes in the second argument of createEl()\\n                has been deprecated. Use the third argument instead.\\n                createEl(type, properties, attributes). Attempting to set ',' to ','.']);exports.isReal=isReal;exports.isEl=isEl;exports.getEl=getEl;exports.createEl=createEl;exports.textContent=textContent;exports.insertElFirst=insertElFirst;exports.getElData=getElData;exports.hasElData=hasElData;exports.removeElData=removeElData;exports.hasElClass=hasElClass;exports.addElClass=addElClass;exports.removeElClass=removeElClass;exports.toggleElClass=toggleElClass;exports.setElAttributes=setElAttributes;exports.getElAttributes=getElAttributes;exports.getAttribute=getAttribute;exports.setAttribute=setAttribute;exports.removeAttribute=removeAttribute;exports.blockTextSelection=blockTextSelection;exports.unblockTextSelection=unblockTextSelection;exports.findElPosition=findElPosition;exports.getPointerPosition=getPointerPosition;exports.isTextNode=isTextNode;exports.emptyEl=emptyEl;exports.normalizeContent=normalizeContent;exports.appendContent=appendContent;exports.insertContent=insertContent;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _tsml=_dereq_(98);var _tsml2=_interopRequireDefault(_tsml);var _obj=_dereq_(88);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _taggedTemplateLiteralLoose(strings,raw){strings.raw=raw;return strings;}function isNonBlankString(str){return typeof str==='string'&&/\\S/.test(str);}function throwIfWhitespace(str){if(/\\s/.test(str)){throw new Error('class has illegal whitespace characters');}}function classRegExp(className){return new RegExp('(^|\\\\s)'+className+'($|\\\\s)');}function isReal(){return _document2['default']===_window2['default'].document&&typeof _document2['default'].createElement!=='undefined';}function isEl(value){return(0,_obj.isObject)(value)&&value.nodeType===1;}function createQuerier(method){return function(selector,context){if(!isNonBlankString(selector)){return _document2['default'][method](null);}if(isNonBlankString(context)){context=_document2['default'].querySelector(context);}var ctx=isEl(context)?context:_document2['default'];return ctx[method]&&ctx[method](selector);};}function getEl(id){if(id.indexOf('#')===0){id=id.slice(1);}return _document2['default'].getElementById(id);}function createEl(){var tagName=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'div';var properties=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var attributes=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var content=arguments[3];var el=_document2['default'].createElement(tagName);Object.getOwnPropertyNames(properties).forEach(function(propName){var val=properties[propName];if(propName.indexOf('aria-')!==-1||propName==='role'||propName==='type'){_log2['default'].warn((0,_tsml2['default'])(_templateObject,propName,val));el.setAttribute(propName,val);}else if(propName==='textContent'){textContent(el,val);}else{el[propName]=val;}});Object.getOwnPropertyNames(attributes).forEach(function(attrName){el.setAttribute(attrName,attributes[attrName]);});if(content){appendContent(el,content);}return el;}function textContent(el,text){if(typeof el.textContent==='undefined'){el.innerText=text;}else{el.textContent=text;}return el;}function insertElFirst(child,parent){if(parent.firstChild){parent.insertBefore(child,parent.firstChild);}else{parent.appendChild(child);}}var elData={};var elIdAttr='vdata'+new Date().getTime();function getElData(el){var id=el[elIdAttr];if(!id){id=el[elIdAttr]=Guid.newGUID();}if(!elData[id]){elData[id]={};}return elData[id];}function hasElData(el){var id=el[elIdAttr];if(!id){return false;}return!!Object.getOwnPropertyNames(elData[id]).length;}function removeElData(el){var id=el[elIdAttr];if(!id){return;}delete elData[id];try{delete el[elIdAttr];}catch(e){if(el.removeAttribute){el.removeAttribute(elIdAttr);}else{el[elIdAttr]=null;}}}function hasElClass(element,classToCheck){throwIfWhitespace(classToCheck);if(element.classList){return element.classList.contains(classToCheck);}return classRegExp(classToCheck).test(element.className);}function addElClass(element,classToAdd){if(element.classList){element.classList.add(classToAdd);}else if(!hasElClass(element,classToAdd)){element.className=(element.className+' '+classToAdd).trim();}return element;}function removeElClass(element,classToRemove){if(element.classList){element.classList.remove(classToRemove);}else{throwIfWhitespace(classToRemove);element.className=element.className.split(/\\s+/).filter(function(c){return c!==classToRemove;}).join(' ');}return element;}function toggleElClass(element,classToToggle,predicate){var has=hasElClass(element,classToToggle);if(typeof predicate==='function'){predicate=predicate(element,classToToggle);}if(typeof predicate!=='boolean'){predicate=!has;}if(predicate===has){return;}if(predicate){addElClass(element,classToToggle);}else{removeElClass(element,classToToggle);}return element;}function setElAttributes(el,attributes){Object.getOwnPropertyNames(attributes).forEach(function(attrName){var attrValue=attributes[attrName];if(attrValue===null||typeof attrValue==='undefined'||attrValue===false){el.removeAttribute(attrName);}else{el.setAttribute(attrName,attrValue===true?'':attrValue);}});}function getElAttributes(tag){var obj={};var knownBooleans=','+'autoplay,controls,playsinline,loop,muted,default,defaultMuted'+',';if(tag&&tag.attributes&&tag.attributes.length>0){var attrs=tag.attributes;for(var i=attrs.length-1;i>=0;i--){var attrName=attrs[i].name;var attrVal=attrs[i].value;if(typeof tag[attrName]==='boolean'||knownBooleans.indexOf(','+attrName+',')!==-1){attrVal=attrVal!==null?true:false;}obj[attrName]=attrVal;}}return obj;}function getAttribute(el,attribute){return el.getAttribute(attribute);}function setAttribute(el,attribute,value){el.setAttribute(attribute,value);}function removeAttribute(el,attribute){el.removeAttribute(attribute);}function blockTextSelection(){_document2['default'].body.focus();_document2['default'].onselectstart=function(){return false;};}function unblockTextSelection(){_document2['default'].onselectstart=function(){return true;};}function findElPosition(el){var box=void 0;if(el.getBoundingClientRect&&el.parentNode){box=el.getBoundingClientRect();}if(!box){return{left:0,top:0};}var docEl=_document2['default'].documentElement;var body=_document2['default'].body;var clientLeft=docEl.clientLeft||body.clientLeft||0;var scrollLeft=_window2['default'].pageXOffset||body.scrollLeft;var left=box.left+scrollLeft-clientLeft;var clientTop=docEl.clientTop||body.clientTop||0;var scrollTop=_window2['default'].pageYOffset||body.scrollTop;var top=box.top+scrollTop-clientTop;return{left:Math.round(left),top:Math.round(top)};}function getPointerPosition(el,event){var position={};var box=findElPosition(el);var boxW=el.offsetWidth;var boxH=el.offsetHeight;var boxY=box.top;var boxX=box.left;var pageY=event.pageY;var pageX=event.pageX;if(event.changedTouches){pageX=event.changedTouches[0].pageX;pageY=event.changedTouches[0].pageY;}position.y=Math.max(0,Math.min(1,(boxY-pageY+boxH)/boxH));position.x=Math.max(0,Math.min(1,(pageX-boxX)/boxW));return position;}function isTextNode(value){return(0,_obj.isObject)(value)&&value.nodeType===3;}function emptyEl(el){while(el.firstChild){el.removeChild(el.firstChild);}return el;}function normalizeContent(content){if(typeof content==='function'){content=content();}return(Array.isArray(content)?content:[content]).map(function(value){if(typeof value==='function'){value=value();}if(isEl(value)||isTextNode(value)){return value;}if(typeof value==='string'&&/\\S/.test(value)){return _document2['default'].createTextNode(value);}}).filter(function(value){return value;});}function appendContent(el,content){normalizeContent(content).forEach(function(node){return el.appendChild(node);});return el;}function insertContent(el,content){return appendContent(emptyEl(el),content);}var $=exports.$=createQuerier('querySelector');var $$=exports.$$=createQuerier('querySelectorAll');},{\"85\":85,\"86\":86,\"88\":88,\"94\":94,\"95\":95,\"98\":98}],82:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.fixEvent=fixEvent;exports.on=on;exports.off=off;exports.trigger=trigger;exports.one=one;var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _guid=_dereq_(85);var Guid=_interopRequireWildcard(_guid);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _cleanUpEvents(elem,type){var data=Dom.getElData(elem);if(data.handlers[type].length===0){delete data.handlers[type];if(elem.removeEventListener){elem.removeEventListener(type,data.dispatcher,false);}else if(elem.detachEvent){elem.detachEvent('on'+type,data.dispatcher);}}if(Object.getOwnPropertyNames(data.handlers).length<=0){delete data.handlers;delete data.dispatcher;delete data.disabled;}if(Object.getOwnPropertyNames(data).length===0){Dom.removeElData(elem);}}function _handleMultipleEvents(fn,elem,types,callback){types.forEach(function(type){fn(elem,type,callback);});}function fixEvent(event){function returnTrue(){return true;}function returnFalse(){return false;}if(!event||!event.isPropagationStopped){var old=event||_window2['default'].event;event={};for(var key in old){if(key!=='layerX'&&key!=='layerY'&&key!=='keyLocation'&&key!=='webkitMovementX'&&key!=='webkitMovementY'){if(!(key==='returnValue'&&old.preventDefault)){event[key]=old[key];}}}if(!event.target){event.target=event.srcElement||_document2['default'];}if(!event.relatedTarget){event.relatedTarget=event.fromElement===event.target?event.toElement:event.fromElement;}event.preventDefault=function(){if(old.preventDefault){old.preventDefault();}event.returnValue=false;old.returnValue=false;event.defaultPrevented=true;};event.defaultPrevented=false;event.stopPropagation=function(){if(old.stopPropagation){old.stopPropagation();}event.cancelBubble=true;old.cancelBubble=true;event.isPropagationStopped=returnTrue;};event.isPropagationStopped=returnFalse;event.stopImmediatePropagation=function(){if(old.stopImmediatePropagation){old.stopImmediatePropagation();}event.isImmediatePropagationStopped=returnTrue;event.stopPropagation();};event.isImmediatePropagationStopped=returnFalse;if(event.clientX!==null&&event.clientX!==undefined){var doc=_document2['default'].documentElement;var body=_document2['default'].body;event.pageX=event.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=event.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}event.which=event.charCode||event.keyCode;if(event.button!==null&&event.button!==undefined){event.button=event.button&1?0:event.button&4?1:event.button&2?2:0;}}return event;}var _supportsPassive=false;(function(){try{var opts=Object.defineProperty({},'passive',{get:function get(){_supportsPassive=true;}});_window2['default'].addEventListener('test',null,opts);}catch(e){}})();var passiveEvents=['touchstart','touchmove'];function on(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(on,elem,type,fn);}var data=Dom.getElData(elem);if(!data.handlers){data.handlers={};}if(!data.handlers[type]){data.handlers[type]=[];}if(!fn.guid){fn.guid=Guid.newGUID();}data.handlers[type].push(fn);if(!data.dispatcher){data.disabled=false;data.dispatcher=function(event,hash){if(data.disabled){return;}event=fixEvent(event);var handlers=data.handlers[event.type];if(handlers){var handlersCopy=handlers.slice(0);for(var m=0,n=handlersCopy.length;m<n;m++){if(event.isImmediatePropagationStopped()){break;}else{try{handlersCopy[m].call(elem,event,hash);}catch(e){_log2['default'].error(e);}}}}};}if(data.handlers[type].length===1){if(elem.addEventListener){var options=false;if(_supportsPassive&&passiveEvents.indexOf(type)>-1){options={passive:true};}elem.addEventListener(type,data.dispatcher,options);}else if(elem.attachEvent){elem.attachEvent('on'+type,data.dispatcher);}}}function off(elem,type,fn){if(!Dom.hasElData(elem)){return;}var data=Dom.getElData(elem);if(!data.handlers){return;}if(Array.isArray(type)){return _handleMultipleEvents(off,elem,type,fn);}var removeType=function removeType(t){data.handlers[t]=[];_cleanUpEvents(elem,t);};if(!type){for(var t in data.handlers){removeType(t);}return;}var handlers=data.handlers[type];if(!handlers){return;}if(!fn){removeType(type);return;}if(fn.guid){for(var n=0;n<handlers.length;n++){if(handlers[n].guid===fn.guid){handlers.splice(n--,1);}}}_cleanUpEvents(elem,type);}function trigger(elem,event,hash){var elemData=Dom.hasElData(elem)?Dom.getElData(elem):{};var parent=elem.parentNode||elem.ownerDocument;if(typeof event==='string'){event={type:event,target:elem};}event=fixEvent(event);if(elemData.dispatcher){elemData.dispatcher.call(elem,event,hash);}if(parent&&!event.isPropagationStopped()&&event.bubbles===true){trigger.call(null,parent,event,hash);}else if(!parent&&!event.defaultPrevented){var targetData=Dom.getElData(event.target);if(event.target[event.type]){targetData.disabled=true;if(typeof event.target[event.type]==='function'){event.target[event.type]();}targetData.disabled=false;}}return!event.defaultPrevented;}function one(elem,type,fn){if(Array.isArray(type)){return _handleMultipleEvents(one,elem,type,fn);}var func=function func(){off(elem,type,func);fn.apply(this,arguments);};func.guid=fn.guid=fn.guid||Guid.newGUID();on(elem,type,func);}},{\"81\":81,\"85\":85,\"86\":86,\"94\":94,\"95\":95}],83:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.throttle=exports.bind=undefined;var _guid=_dereq_(85);var bind=exports.bind=function bind(context,fn,uid){if(!fn.guid){fn.guid=(0,_guid.newGUID)();}var bound=function bound(){return fn.apply(context,arguments);};bound.guid=uid?uid+'_'+fn.guid:fn.guid;return bound;};var throttle=exports.throttle=function throttle(fn,wait){var last=Date.now();var throttled=function throttled(){var now=Date.now();if(now-last>=wait){fn.apply(undefined,arguments);last=now;}};return throttled;};},{\"85\":85}],84:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function formatTime(seconds){var guide=arguments.length>1&&arguments[1]!==undefined?arguments[1]:seconds;seconds=seconds<0?0:seconds;var s=Math.floor(seconds%60);var m=Math.floor(seconds/60%60);var h=Math.floor(seconds/3600);var gm=Math.floor(guide/60%60);var gh=Math.floor(guide/3600);if(isNaN(seconds)||seconds===Infinity){h=m=s='-';}h=h>0||gh>0?h+':':'';m=((h||gm>=10)&&m<10?'0'+m:m)+':';s=s<10?'0'+s:s;return h+m+s;}exports['default']=formatTime;},{}],85:[function(_dereq_,module,exports){\"use strict\";exports.__esModule=true;exports.newGUID=newGUID;var _guid=1;function newGUID(){return _guid++;}},{}],86:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.logByType=undefined;var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _browser=_dereq_(78);var _obj=_dereq_(88);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var log=void 0;var logByType=exports.logByType=function logByType(type,args){var stringify=arguments.length>2&&arguments[2]!==undefined?arguments[2]:!!_browser.IE_VERSION&&_browser.IE_VERSION<11;if(type!=='log'){args.unshift(type.toUpperCase()+':');}log.history.push(args);args.unshift('VIDEOJS:');var fn=_window2['default'].console&&_window2['default'].console[type];if(!fn){return;}if(stringify){args=args.map(function(a){if((0,_obj.isObject)(a)||Array.isArray(a)){try{return JSON.stringify(a);}catch(x){return String(a);}}return String(a);}).join(' ');}if(!fn.apply){fn(args);}else{fn[Array.isArray(args)?'apply':'call'](_window2['default'].console,args);}};log=function log(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}logByType('log',args);};log.history=[];log.error=function(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return logByType('error',args);};log.warn=function(){for(var _len3=arguments.length,args=Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3];}return logByType('warn',args);};exports['default']=log;},{\"78\":78,\"88\":88,\"95\":95}],87:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports['default']=mergeOptions;var _obj=_dereq_(88);function mergeOptions(){var result={};for(var _len=arguments.length,sources=Array(_len),_key=0;_key<_len;_key++){sources[_key]=arguments[_key];}sources.forEach(function(source){if(!source){return;}(0,_obj.each)(source,function(value,key){if(!(0,_obj.isPlain)(value)){result[key]=value;return;}if(!(0,_obj.isPlain)(result[key])){result[key]={};}result[key]=mergeOptions(result[key],value);});});return result;}},{\"88\":88}],88:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};exports.each=each;exports.reduce=reduce;exports.assign=assign;exports.isObject=isObject;exports.isPlain=isPlain;var toString=Object.prototype.toString;var keys=function keys(object){return isObject(object)?Object.keys(object):[];};function each(object,fn){keys(object).forEach(function(key){return fn(object[key],key);});}function reduce(object,fn){var initial=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return keys(object).reduce(function(accum,key){return fn(accum,object[key],key);},initial);}function assign(target){for(var _len=arguments.length,sources=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){sources[_key-1]=arguments[_key];}if(Object.assign){return Object.assign.apply(Object,[target].concat(sources));}sources.forEach(function(source){if(!source){return;}each(source,function(value,key){target[key]=value;});});return target;}function isObject(value){return!!value&&(typeof value==='undefined'?'undefined':_typeof(value))==='object';}function isPlain(value){return isObject(value)&&toString.call(value)==='[object Object]'&&value.constructor===Object;}},{}],89:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.setTextContent=exports.createStyleElement=undefined;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var createStyleElement=exports.createStyleElement=function createStyleElement(className){var style=_document2['default'].createElement('style');style.className=className;return style;};var setTextContent=exports.setTextContent=function setTextContent(el,content){if(el.styleSheet){el.styleSheet.cssText=content;}else{el.textContent=content;}};},{\"94\":94}],90:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.createTimeRange=undefined;exports.createTimeRanges=createTimeRanges;var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}function rangeCheck(fnName,index,maxIndex){if(index<0||index>maxIndex){throw new Error('Failed to execute \\''+fnName+'\\' on \\'TimeRanges\\': The index provided ('+index+') is greater than or equal to the maximum bound ('+maxIndex+').');}}function getRange(fnName,valueIndex,ranges,rangeIndex){if(rangeIndex===undefined){_log2['default'].warn('DEPRECATED: Function \\''+fnName+'\\' on \\'TimeRanges\\' called without an index argument.');rangeIndex=0;}rangeCheck(fnName,rangeIndex,ranges.length-1);return ranges[rangeIndex][valueIndex];}function createTimeRangesObj(ranges){if(ranges===undefined||ranges.length===0){return{length:0,start:function start(){throw new Error('This TimeRanges object is empty');},end:function end(){throw new Error('This TimeRanges object is empty');}};}return{length:ranges.length,start:getRange.bind(null,'start',0,ranges),end:getRange.bind(null,'end',1,ranges)};}function createTimeRanges(start,end){if(Array.isArray(start)){return createTimeRangesObj(start);}else if(start===undefined||end===undefined){return createTimeRangesObj();}return createTimeRangesObj([[start,end]]);}exports.createTimeRange=createTimeRanges;},{\"86\":86}],91:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;function toTitleCase(string){if(typeof string!=='string'){return string;}return string.charAt(0).toUpperCase()+string.slice(1);}exports['default']=toTitleCase;},{}],92:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;exports.isCrossOrigin=exports.getFileExtension=exports.getAbsoluteURL=exports.parseUrl=undefined;var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}var parseUrl=exports.parseUrl=function parseUrl(url){var props=['protocol','hostname','port','pathname','search','hash','host'];var a=_document2['default'].createElement('a');a.href=url;var addToBody=a.host===''&&a.protocol!=='file:';var div=void 0;if(addToBody){div=_document2['default'].createElement('div');div.innerHTML='<a href=\"'+url+'\"></a>';a=div.firstChild;div.setAttribute('style','display:none; position:absolute;');_document2['default'].body.appendChild(div);}var details={};for(var i=0;i<props.length;i++){details[props[i]]=a[props[i]];}if(details.protocol==='http:'){details.host=details.host.replace(/:80$/,'');}if(details.protocol==='https:'){details.host=details.host.replace(/:443$/,'');}if(addToBody){_document2['default'].body.removeChild(div);}return details;};var getAbsoluteURL=exports.getAbsoluteURL=function getAbsoluteURL(url){if(!url.match(/^https?:\\/\\//)){var div=_document2['default'].createElement('div');div.innerHTML='<a href=\"'+url+'\">x</a>';url=div.firstChild.href;}return url;};var getFileExtension=exports.getFileExtension=function getFileExtension(path){if(typeof path==='string'){var splitPathRe=/^(\\/?)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?)(\\.([^\\.\\/\\?]+)))(?:[\\/]*|[\\?].*)$/i;var pathParts=splitPathRe.exec(path);if(pathParts){return pathParts.pop().toLowerCase();}}return'';};var isCrossOrigin=exports.isCrossOrigin=function isCrossOrigin(url){var winLoc=_window2['default'].location;var urlInfo=parseUrl(url);var srcProtocol=urlInfo.protocol===':'?winLoc.protocol:urlInfo.protocol;var crossOrigin=srcProtocol+urlInfo.host!==winLoc.protocol+winLoc.host;return crossOrigin;};},{\"94\":94,\"95\":95}],93:[function(_dereq_,module,exports){'use strict';exports.__esModule=true;var _typeof=typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"?function(obj){return typeof obj;}:function(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};var _window=_dereq_(95);var _window2=_interopRequireDefault(_window);var _document=_dereq_(94);var _document2=_interopRequireDefault(_document);var _browser=_dereq_(78);var browser=_interopRequireWildcard(_browser);var _dom=_dereq_(81);var Dom=_interopRequireWildcard(_dom);var _setup=_dereq_(56);var setup=_interopRequireWildcard(_setup);var _stylesheet=_dereq_(89);var stylesheet=_interopRequireWildcard(_stylesheet);var _component=_dereq_(5);var _component2=_interopRequireDefault(_component);var _eventTarget=_dereq_(42);var _eventTarget2=_interopRequireDefault(_eventTarget);var _events=_dereq_(82);var Events=_interopRequireWildcard(_events);var _player=_dereq_(51);var _player2=_interopRequireDefault(_player);var _plugins=_dereq_(52);var _plugins2=_interopRequireDefault(_plugins);var _mergeOptions2=_dereq_(87);var _mergeOptions3=_interopRequireDefault(_mergeOptions2);var _fn=_dereq_(83);var Fn=_interopRequireWildcard(_fn);var _textTrack=_dereq_(72);var _textTrack2=_interopRequireDefault(_textTrack);var _audioTrack=_dereq_(64);var _audioTrack2=_interopRequireDefault(_audioTrack);var _videoTrack=_dereq_(77);var _videoTrack2=_interopRequireDefault(_videoTrack);var _timeRanges=_dereq_(90);var _formatTime=_dereq_(84);var _formatTime2=_interopRequireDefault(_formatTime);var _log=_dereq_(86);var _log2=_interopRequireDefault(_log);var _url=_dereq_(92);var Url=_interopRequireWildcard(_url);var _obj=_dereq_(88);var _computedStyle=_dereq_(80);var _computedStyle2=_interopRequireDefault(_computedStyle);var _extend=_dereq_(43);var _extend2=_interopRequireDefault(_extend);var _xhr=_dereq_(104);var _xhr2=_interopRequireDefault(_xhr);var _tech=_dereq_(62);var _tech2=_interopRequireDefault(_tech);function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key];}}newObj['default']=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{'default':obj};}if(typeof HTMLVideoElement==='undefined'&&Dom.isReal()){_document2['default'].createElement('video');_document2['default'].createElement('audio');_document2['default'].createElement('track');}function videojs(id,options,ready){var tag=void 0;if(typeof id==='string'){if(id.indexOf('#')===0){id=id.slice(1);}if(videojs.getPlayers()[id]){if(options){_log2['default'].warn('Player \"'+id+'\" is already initialised. Options will not be applied.');}if(ready){videojs.getPlayers()[id].ready(ready);}return videojs.getPlayers()[id];}tag=Dom.getEl(id);}else{tag=id;}if(!tag||!tag.nodeName){throw new TypeError('The element or ID supplied is not valid. (videojs)');}if(tag.player||_player2['default'].players[tag.playerId]){return tag.player||_player2['default'].players[tag.playerId];}options=options||{};videojs.hooks('beforesetup').forEach(function(hookFunction){var opts=hookFunction(tag,(0,_mergeOptions3['default'])(options));if(!(0,_obj.isObject)(opts)||Array.isArray(opts)){_log2['default'].error('please return an object in beforesetup hooks');return;}options=(0,_mergeOptions3['default'])(options,opts);});var PlayerComponent=_component2['default'].getComponent('Player');var player=new PlayerComponent(tag,options,ready);videojs.hooks('setup').forEach(function(hookFunction){return hookFunction(player);});return player;}videojs.hooks_={};videojs.hooks=function(type,fn){videojs.hooks_[type]=videojs.hooks_[type]||[];if(fn){videojs.hooks_[type]=videojs.hooks_[type].concat(fn);}return videojs.hooks_[type];};videojs.hook=function(type,fn){videojs.hooks(type,fn);};videojs.removeHook=function(type,fn){var index=videojs.hooks(type).indexOf(fn);if(index<=-1){return false;}videojs.hooks_[type]=videojs.hooks_[type].slice();videojs.hooks_[type].splice(index,1);return true;};if(_window2['default'].VIDEOJS_NO_DYNAMIC_STYLE!==true&&Dom.isReal()){var style=Dom.$('.vjs-styles-defaults');if(!style){style=stylesheet.createStyleElement('vjs-styles-defaults');var head=Dom.$('head');if(head){head.insertBefore(style,head.firstChild);}stylesheet.setTextContent(style,'\\n      .video-js {\\n        width: 300px;\\n        height: 150px;\\n      }\\n\\n      .vjs-fluid {\\n        padding-top: 56.25%\\n      }\\n    ');}}setup.autoSetupTimeout(1,videojs);videojs.VERSION='5.20.5';videojs.options=_player2['default'].prototype.options_;videojs.getPlayers=function(){return _player2['default'].players;};videojs.players=_player2['default'].players;videojs.getComponent=_component2['default'].getComponent;videojs.registerComponent=function(name,comp){if(_tech2['default'].isTech(comp)){_log2['default'].warn('The '+name+' tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)');}_component2['default'].registerComponent.call(_component2['default'],name,comp);};videojs.getTech=_tech2['default'].getTech;videojs.registerTech=_tech2['default'].registerTech;videojs.browser=browser;videojs.TOUCH_ENABLED=browser.TOUCH_ENABLED;videojs.extend=_extend2['default'];videojs.mergeOptions=_mergeOptions3['default'];videojs.bind=Fn.bind;videojs.plugin=_plugins2['default'];videojs.addLanguage=function(code,data){var _mergeOptions;code=(''+code).toLowerCase();videojs.options.languages=(0,_mergeOptions3['default'])(videojs.options.languages,(_mergeOptions={},_mergeOptions[code]=data,_mergeOptions));return videojs.options.languages[code];};videojs.log=_log2['default'];videojs.createTimeRange=videojs.createTimeRanges=_timeRanges.createTimeRanges;videojs.formatTime=_formatTime2['default'];videojs.parseUrl=Url.parseUrl;videojs.isCrossOrigin=Url.isCrossOrigin;videojs.EventTarget=_eventTarget2['default'];videojs.on=Events.on;videojs.one=Events.one;videojs.off=Events.off;videojs.trigger=Events.trigger;videojs.xhr=_xhr2['default'];videojs.TextTrack=_textTrack2['default'];videojs.AudioTrack=_audioTrack2['default'];videojs.VideoTrack=_videoTrack2['default'];videojs.isEl=Dom.isEl;videojs.isTextNode=Dom.isTextNode;videojs.createEl=Dom.createEl;videojs.hasClass=Dom.hasElClass;videojs.addClass=Dom.addElClass;videojs.removeClass=Dom.removeElClass;videojs.toggleClass=Dom.toggleElClass;videojs.setAttributes=Dom.setElAttributes;videojs.getAttributes=Dom.getElAttributes;videojs.emptyEl=Dom.emptyEl;videojs.appendContent=Dom.appendContent;videojs.insertContent=Dom.insertContent;videojs.computedStyle=_computedStyle2['default'];if(typeof define==='function'&&define.amd){define('videojs',[],function(){return videojs;});}else if((typeof exports==='undefined'?'undefined':_typeof(exports))==='object'&&(typeof module==='undefined'?'undefined':_typeof(module))==='object'){module.exports=videojs;}exports['default']=videojs;},{\"104\":104,\"42\":42,\"43\":43,\"5\":5,\"51\":51,\"52\":52,\"56\":56,\"62\":62,\"64\":64,\"72\":72,\"77\":77,\"78\":78,\"80\":80,\"81\":81,\"82\":82,\"83\":83,\"84\":84,\"86\":86,\"87\":87,\"88\":88,\"89\":89,\"90\":90,\"92\":92,\"94\":94,\"95\":95}],94:[function(_dereq_,module,exports){(function(global){var topLevel=typeof global!=='undefined'?global:typeof window!=='undefined'?window:{};var minDoc=_dereq_(96);if(typeof document!=='undefined'){module.exports=document;}else{var doccy=topLevel['__GLOBAL_DOCUMENT_CACHE@4'];if(!doccy){doccy=topLevel['__GLOBAL_DOCUMENT_CACHE@4']=minDoc;}module.exports=doccy;}}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{\"96\":96}],95:[function(_dereq_,module,exports){(function(global){if(typeof window!==\"undefined\"){module.exports=window;}else if(typeof global!==\"undefined\"){module.exports=global;}else if(typeof self!==\"undefined\"){module.exports=self;}else{module.exports={};}}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{}],96:[function(_dereq_,module,exports){},{}],97:[function(_dereq_,module,exports){module.exports=SafeParseTuple;function SafeParseTuple(obj,reviver){var json;var error=null;try{json=JSON.parse(obj,reviver);}catch(err){error=err;}return[error,json];}},{}],98:[function(_dereq_,module,exports){function clean(s){return s.replace(/\\n\\r?\\s*/g,'');}module.exports=function tsml(sa){var s='',i=0;for(;i<arguments.length;i++)s+=clean(sa[i])+(arguments[i+1]||'');return s;};},{}],99:[function(_dereq_,module,exports){var window=_dereq_(103);var vttjs=module.exports={WebVTT:_dereq_(100),VTTCue:_dereq_(101),VTTRegion:_dereq_(102)};window.vttjs=vttjs;window.WebVTT=vttjs.WebVTT;var cueShim=vttjs.VTTCue;var regionShim=vttjs.VTTRegion;var nativeVTTCue=window.VTTCue;var nativeVTTRegion=window.VTTRegion;vttjs.shim=function(){window.VTTCue=cueShim;window.VTTRegion=regionShim;};vttjs.restore=function(){window.VTTCue=nativeVTTCue;window.VTTRegion=nativeVTTRegion;};if(!window.VTTCue){vttjs.shim();}},{\"100\":100,\"101\":101,\"102\":102,\"103\":103}],100:[function(_dereq_,module,exports){var _objCreate=Object.create||function(){function F(){}return function(o){if(arguments.length!==1){throw new Error('Object.create shim only accepts one parameter.');}F.prototype=o;return new F();};}();function ParsingError(errorData,message){this.name=\"ParsingError\";this.code=errorData.code;this.message=message||errorData.message;}ParsingError.prototype=_objCreate(Error.prototype);ParsingError.prototype.constructor=ParsingError;ParsingError.Errors={BadSignature:{code:0,message:\"Malformed WebVTT signature.\"},BadTimeStamp:{code:1,message:\"Malformed time stamp.\"}};function parseTimeStamp(input){function computeSeconds(h,m,s,f){return(h|0)*3600+(m|0)*60+(s|0)+(f|0)/1000;}var m=input.match(/^(\\d+):(\\d{2})(:\\d{2})?\\.(\\d{3})/);if(!m){return null;}if(m[3]){return computeSeconds(m[1],m[2],m[3].replace(\":\",\"\"),m[4]);}else if(m[1]>59){return computeSeconds(m[1],m[2],0,m[4]);}else{return computeSeconds(0,m[1],m[2],m[4]);}}function Settings(){this.values=_objCreate(null);}Settings.prototype={set:function(k,v){if(!this.get(k)&&v!==\"\"){this.values[k]=v;}},get:function(k,dflt,defaultKey){if(defaultKey){return this.has(k)?this.values[k]:dflt[defaultKey];}return this.has(k)?this.values[k]:dflt;},has:function(k){return k in this.values;},alt:function(k,v,a){for(var n=0;n<a.length;++n){if(v===a[n]){this.set(k,v);break;}}},integer:function(k,v){if(/^-?\\d+$/.test(v)){this.set(k,parseInt(v,10));}},percent:function(k,v){var m;if(m=v.match(/^([\\d]{1,3})(\\.[\\d]*)?%$/)){v=parseFloat(v);if(v>=0&&v<=100){this.set(k,v);return true;}}return false;}};function parseOptions(input,callback,keyValueDelim,groupDelim){var groups=groupDelim?input.split(groupDelim):[input];for(var i in groups){if(typeof groups[i]!==\"string\"){continue;}var kv=groups[i].split(keyValueDelim);if(kv.length!==2){continue;}var k=kv[0];var v=kv[1];callback(k,v);}}function parseCue(input,cue,regionList){var oInput=input;function consumeTimeStamp(){var ts=parseTimeStamp(input);if(ts===null){throw new ParsingError(ParsingError.Errors.BadTimeStamp,\"Malformed timestamp: \"+oInput);}input=input.replace(/^[^\\sa-zA-Z-]+/,\"\");return ts;}function consumeCueSettings(input,cue){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"region\":for(var i=regionList.length-1;i>=0;i--){if(regionList[i].id===v){settings.set(k,regionList[i].region);break;}}break;case\"vertical\":settings.alt(k,v,[\"rl\",\"lr\"]);break;case\"line\":var vals=v.split(\",\"),vals0=vals[0];settings.integer(k,vals0);settings.percent(k,vals0)?settings.set(\"snapToLines\",false):null;settings.alt(k,vals0,[\"auto\"]);if(vals.length===2){settings.alt(\"lineAlign\",vals[1],[\"start\",\"middle\",\"end\"]);}break;case\"position\":vals=v.split(\",\");settings.percent(k,vals[0]);if(vals.length===2){settings.alt(\"positionAlign\",vals[1],[\"start\",\"middle\",\"end\"]);}break;case\"size\":settings.percent(k,v);break;case\"align\":settings.alt(k,v,[\"start\",\"middle\",\"end\",\"left\",\"right\"]);break;}},/:/,/\\s/);cue.region=settings.get(\"region\",null);cue.vertical=settings.get(\"vertical\",\"\");cue.line=settings.get(\"line\",\"auto\");cue.lineAlign=settings.get(\"lineAlign\",\"start\");cue.snapToLines=settings.get(\"snapToLines\",true);cue.size=settings.get(\"size\",100);cue.align=settings.get(\"align\",\"middle\");cue.position=settings.get(\"position\",{start:0,left:0,middle:50,end:100,right:100},cue.align);cue.positionAlign=settings.get(\"positionAlign\",{start:\"start\",left:\"start\",middle:\"middle\",end:\"end\",right:\"end\"},cue.align);}function skipWhitespace(){input=input.replace(/^\\s+/,\"\");}skipWhitespace();cue.startTime=consumeTimeStamp();skipWhitespace();if(input.substr(0,3)!==\"-->\"){throw new ParsingError(ParsingError.Errors.BadTimeStamp,\"Malformed time stamp (time stamps must be separated by '-->'): \"+oInput);}input=input.substr(3);skipWhitespace();cue.endTime=consumeTimeStamp();skipWhitespace();consumeCueSettings(input,cue);}var ESCAPE={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&lrm;\":\"\\u200e\",\"&rlm;\":\"\\u200f\",\"&nbsp;\":\"\\u00a0\"};var TAG_NAME={c:\"span\",i:\"i\",b:\"b\",u:\"u\",ruby:\"ruby\",rt:\"rt\",v:\"span\",lang:\"span\"};var TAG_ANNOTATION={v:\"title\",lang:\"lang\"};var NEEDS_PARENT={rt:\"ruby\"};function parseContent(window,input){function nextToken(){if(!input){return null;}function consume(result){input=input.substr(result.length);return result;}var m=input.match(/^([^<]*)(<[^>]*>?)?/);return consume(m[1]?m[1]:m[2]);}function unescape1(e){return ESCAPE[e];}function unescape(s){while(m=s.match(/&(amp|lt|gt|lrm|rlm|nbsp);/)){s=s.replace(m[0],unescape1);}return s;}function shouldAdd(current,element){return!NEEDS_PARENT[element.localName]||NEEDS_PARENT[element.localName]===current.localName;}function createElement(type,annotation){var tagName=TAG_NAME[type];if(!tagName){return null;}var element=window.document.createElement(tagName);element.localName=tagName;var name=TAG_ANNOTATION[type];if(name&&annotation){element[name]=annotation.trim();}return element;}var rootDiv=window.document.createElement(\"div\"),current=rootDiv,t,tagStack=[];while((t=nextToken())!==null){if(t[0]==='<'){if(t[1]===\"/\"){if(tagStack.length&&tagStack[tagStack.length-1]===t.substr(2).replace(\">\",\"\")){tagStack.pop();current=current.parentNode;}continue;}var ts=parseTimeStamp(t.substr(1,t.length-2));var node;if(ts){node=window.document.createProcessingInstruction(\"timestamp\",ts);current.appendChild(node);continue;}var m=t.match(/^<([^.\\s/0-9>]+)(\\.[^\\s\\\\>]+)?([^>\\\\]+)?(\\\\?)>?$/);if(!m){continue;}node=createElement(m[1],m[3]);if(!node){continue;}if(!shouldAdd(current,node)){continue;}if(m[2]){node.className=m[2].substr(1).replace('.',' ');}tagStack.push(m[1]);current.appendChild(node);current=node;continue;}current.appendChild(window.document.createTextNode(unescape(t)));}return rootDiv;}var strongRTLRanges=[[0x5be,0x5be],[0x5c0,0x5c0],[0x5c3,0x5c3],[0x5c6,0x5c6],[0x5d0,0x5ea],[0x5f0,0x5f4],[0x608,0x608],[0x60b,0x60b],[0x60d,0x60d],[0x61b,0x61b],[0x61e,0x64a],[0x66d,0x66f],[0x671,0x6d5],[0x6e5,0x6e6],[0x6ee,0x6ef],[0x6fa,0x70d],[0x70f,0x710],[0x712,0x72f],[0x74d,0x7a5],[0x7b1,0x7b1],[0x7c0,0x7ea],[0x7f4,0x7f5],[0x7fa,0x7fa],[0x800,0x815],[0x81a,0x81a],[0x824,0x824],[0x828,0x828],[0x830,0x83e],[0x840,0x858],[0x85e,0x85e],[0x8a0,0x8a0],[0x8a2,0x8ac],[0x200f,0x200f],[0xfb1d,0xfb1d],[0xfb1f,0xfb28],[0xfb2a,0xfb36],[0xfb38,0xfb3c],[0xfb3e,0xfb3e],[0xfb40,0xfb41],[0xfb43,0xfb44],[0xfb46,0xfbc1],[0xfbd3,0xfd3d],[0xfd50,0xfd8f],[0xfd92,0xfdc7],[0xfdf0,0xfdfc],[0xfe70,0xfe74],[0xfe76,0xfefc],[0x10800,0x10805],[0x10808,0x10808],[0x1080a,0x10835],[0x10837,0x10838],[0x1083c,0x1083c],[0x1083f,0x10855],[0x10857,0x1085f],[0x10900,0x1091b],[0x10920,0x10939],[0x1093f,0x1093f],[0x10980,0x109b7],[0x109be,0x109bf],[0x10a00,0x10a00],[0x10a10,0x10a13],[0x10a15,0x10a17],[0x10a19,0x10a33],[0x10a40,0x10a47],[0x10a50,0x10a58],[0x10a60,0x10a7f],[0x10b00,0x10b35],[0x10b40,0x10b55],[0x10b58,0x10b72],[0x10b78,0x10b7f],[0x10c00,0x10c48],[0x1ee00,0x1ee03],[0x1ee05,0x1ee1f],[0x1ee21,0x1ee22],[0x1ee24,0x1ee24],[0x1ee27,0x1ee27],[0x1ee29,0x1ee32],[0x1ee34,0x1ee37],[0x1ee39,0x1ee39],[0x1ee3b,0x1ee3b],[0x1ee42,0x1ee42],[0x1ee47,0x1ee47],[0x1ee49,0x1ee49],[0x1ee4b,0x1ee4b],[0x1ee4d,0x1ee4f],[0x1ee51,0x1ee52],[0x1ee54,0x1ee54],[0x1ee57,0x1ee57],[0x1ee59,0x1ee59],[0x1ee5b,0x1ee5b],[0x1ee5d,0x1ee5d],[0x1ee5f,0x1ee5f],[0x1ee61,0x1ee62],[0x1ee64,0x1ee64],[0x1ee67,0x1ee6a],[0x1ee6c,0x1ee72],[0x1ee74,0x1ee77],[0x1ee79,0x1ee7c],[0x1ee7e,0x1ee7e],[0x1ee80,0x1ee89],[0x1ee8b,0x1ee9b],[0x1eea1,0x1eea3],[0x1eea5,0x1eea9],[0x1eeab,0x1eebb],[0x10fffd,0x10fffd]];function isStrongRTLChar(charCode){for(var i=0;i<strongRTLRanges.length;i++){var currentRange=strongRTLRanges[i];if(charCode>=currentRange[0]&&charCode<=currentRange[1]){return true;}}return false;}function determineBidi(cueDiv){var nodeStack=[],text=\"\",charCode;if(!cueDiv||!cueDiv.childNodes){return\"ltr\";}function pushNodes(nodeStack,node){for(var i=node.childNodes.length-1;i>=0;i--){nodeStack.push(node.childNodes[i]);}}function nextTextNode(nodeStack){if(!nodeStack||!nodeStack.length){return null;}var node=nodeStack.pop(),text=node.textContent||node.innerText;if(text){var m=text.match(/^.*(\\n|\\r)/);if(m){nodeStack.length=0;return m[0];}return text;}if(node.tagName===\"ruby\"){return nextTextNode(nodeStack);}if(node.childNodes){pushNodes(nodeStack,node);return nextTextNode(nodeStack);}}pushNodes(nodeStack,cueDiv);while(text=nextTextNode(nodeStack)){for(var i=0;i<text.length;i++){charCode=text.charCodeAt(i);if(isStrongRTLChar(charCode)){return\"rtl\";}}}return\"ltr\";}function computeLinePos(cue){if(typeof cue.line===\"number\"&&(cue.snapToLines||cue.line>=0&&cue.line<=100)){return cue.line;}if(!cue.track||!cue.track.textTrackList||!cue.track.textTrackList.mediaElement){return-1;}var track=cue.track,trackList=track.textTrackList,count=0;for(var i=0;i<trackList.length&&trackList[i]!==track;i++){if(trackList[i].mode===\"showing\"){count++;}}return++count*-1;}function StyleBox(){}StyleBox.prototype.applyStyles=function(styles,div){div=div||this.div;for(var prop in styles){if(styles.hasOwnProperty(prop)){div.style[prop]=styles[prop];}}};StyleBox.prototype.formatStyle=function(val,unit){return val===0?0:val+unit;};function CueStyleBox(window,cue,styleOptions){var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var color=\"rgba(255, 255, 255, 1)\";var backgroundColor=\"rgba(0, 0, 0, 0.8)\";if(isIE8){color=\"rgb(255, 255, 255)\";backgroundColor=\"rgb(0, 0, 0)\";}StyleBox.call(this);this.cue=cue;this.cueDiv=parseContent(window,cue.text);var styles={color:color,backgroundColor:backgroundColor,position:\"relative\",left:0,right:0,top:0,bottom:0,display:\"inline\"};if(!isIE8){styles.writingMode=cue.vertical===\"\"?\"horizontal-tb\":cue.vertical===\"lr\"?\"vertical-lr\":\"vertical-rl\";styles.unicodeBidi=\"plaintext\";}this.applyStyles(styles,this.cueDiv);this.div=window.document.createElement(\"div\");styles={textAlign:cue.align===\"middle\"?\"center\":cue.align,font:styleOptions.font,whiteSpace:\"pre-line\",position:\"absolute\"};if(!isIE8){styles.direction=determineBidi(this.cueDiv);styles.writingMode=cue.vertical===\"\"?\"horizontal-tb\":cue.vertical===\"lr\"?\"vertical-lr\":\"vertical-rl\".stylesunicodeBidi=\"plaintext\";}this.applyStyles(styles);this.div.appendChild(this.cueDiv);var textPos=0;switch(cue.positionAlign){case\"start\":textPos=cue.position;break;case\"middle\":textPos=cue.position-cue.size/2;break;case\"end\":textPos=cue.position-cue.size;break;}if(cue.vertical===\"\"){this.applyStyles({left:this.formatStyle(textPos,\"%\"),width:this.formatStyle(cue.size,\"%\")});}else{this.applyStyles({top:this.formatStyle(textPos,\"%\"),height:this.formatStyle(cue.size,\"%\")});}this.move=function(box){this.applyStyles({top:this.formatStyle(box.top,\"px\"),bottom:this.formatStyle(box.bottom,\"px\"),left:this.formatStyle(box.left,\"px\"),right:this.formatStyle(box.right,\"px\"),height:this.formatStyle(box.height,\"px\"),width:this.formatStyle(box.width,\"px\")});};}CueStyleBox.prototype=_objCreate(StyleBox.prototype);CueStyleBox.prototype.constructor=CueStyleBox;function BoxPosition(obj){var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var lh,height,width,top;if(obj.div){height=obj.div.offsetHeight;width=obj.div.offsetWidth;top=obj.div.offsetTop;var rects=(rects=obj.div.childNodes)&&(rects=rects[0])&&rects.getClientRects&&rects.getClientRects();obj=obj.div.getBoundingClientRect();lh=rects?Math.max(rects[0]&&rects[0].height||0,obj.height/rects.length):0;}this.left=obj.left;this.right=obj.right;this.top=obj.top||top;this.height=obj.height||height;this.bottom=obj.bottom||top+(obj.height||height);this.width=obj.width||width;this.lineHeight=lh!==undefined?lh:obj.lineHeight;if(isIE8&&!this.lineHeight){this.lineHeight=13;}}BoxPosition.prototype.move=function(axis,toMove){toMove=toMove!==undefined?toMove:this.lineHeight;switch(axis){case\"+x\":this.left+=toMove;this.right+=toMove;break;case\"-x\":this.left-=toMove;this.right-=toMove;break;case\"+y\":this.top+=toMove;this.bottom+=toMove;break;case\"-y\":this.top-=toMove;this.bottom-=toMove;break;}};BoxPosition.prototype.overlaps=function(b2){return this.left<b2.right&&this.right>b2.left&&this.top<b2.bottom&&this.bottom>b2.top;};BoxPosition.prototype.overlapsAny=function(boxes){for(var i=0;i<boxes.length;i++){if(this.overlaps(boxes[i])){return true;}}return false;};BoxPosition.prototype.within=function(container){return this.top>=container.top&&this.bottom<=container.bottom&&this.left>=container.left&&this.right<=container.right;};BoxPosition.prototype.overlapsOppositeAxis=function(container,axis){switch(axis){case\"+x\":return this.left<container.left;case\"-x\":return this.right>container.right;case\"+y\":return this.top<container.top;case\"-y\":return this.bottom>container.bottom;}};BoxPosition.prototype.intersectPercentage=function(b2){var x=Math.max(0,Math.min(this.right,b2.right)-Math.max(this.left,b2.left)),y=Math.max(0,Math.min(this.bottom,b2.bottom)-Math.max(this.top,b2.top)),intersectArea=x*y;return intersectArea/(this.height*this.width);};BoxPosition.prototype.toCSSCompatValues=function(reference){return{top:this.top-reference.top,bottom:reference.bottom-this.bottom,left:this.left-reference.left,right:reference.right-this.right,height:this.height,width:this.width};};BoxPosition.getSimpleBoxPosition=function(obj){var height=obj.div?obj.div.offsetHeight:obj.tagName?obj.offsetHeight:0;var width=obj.div?obj.div.offsetWidth:obj.tagName?obj.offsetWidth:0;var top=obj.div?obj.div.offsetTop:obj.tagName?obj.offsetTop:0;obj=obj.div?obj.div.getBoundingClientRect():obj.tagName?obj.getBoundingClientRect():obj;var ret={left:obj.left,right:obj.right,top:obj.top||top,height:obj.height||height,bottom:obj.bottom||top+(obj.height||height),width:obj.width||width};return ret;};function moveBoxToLinePosition(window,styleBox,containerBox,boxPositions){function findBestPosition(b,axis){var bestPosition,specifiedPosition=new BoxPosition(b),percentage=1;for(var i=0;i<axis.length;i++){while(b.overlapsOppositeAxis(containerBox,axis[i])||b.within(containerBox)&&b.overlapsAny(boxPositions)){b.move(axis[i]);}if(b.within(containerBox)){return b;}var p=b.intersectPercentage(containerBox);if(percentage>p){bestPosition=new BoxPosition(b);percentage=p;}b=new BoxPosition(specifiedPosition);}return bestPosition||specifiedPosition;}var boxPosition=new BoxPosition(styleBox),cue=styleBox.cue,linePos=computeLinePos(cue),axis=[];if(cue.snapToLines){var size;switch(cue.vertical){case\"\":axis=[\"+y\",\"-y\"];size=\"height\";break;case\"rl\":axis=[\"+x\",\"-x\"];size=\"width\";break;case\"lr\":axis=[\"-x\",\"+x\"];size=\"width\";break;}var step=boxPosition.lineHeight,position=step*Math.round(linePos),maxPosition=containerBox[size]+step,initialAxis=axis[0];if(Math.abs(position)>maxPosition){position=position<0?-1:1;position*=Math.ceil(maxPosition/step)*step;}if(linePos<0){position+=cue.vertical===\"\"?containerBox.height:containerBox.width;axis=axis.reverse();}boxPosition.move(initialAxis,position);}else{var calculatedPercentage=boxPosition.lineHeight/containerBox.height*100;switch(cue.lineAlign){case\"middle\":linePos-=calculatedPercentage/2;break;case\"end\":linePos-=calculatedPercentage;break;}switch(cue.vertical){case\"\":styleBox.applyStyles({top:styleBox.formatStyle(linePos,\"%\")});break;case\"rl\":styleBox.applyStyles({left:styleBox.formatStyle(linePos,\"%\")});break;case\"lr\":styleBox.applyStyles({right:styleBox.formatStyle(linePos,\"%\")});break;}axis=[\"+y\",\"-x\",\"+x\",\"-y\"];boxPosition=new BoxPosition(styleBox);}var bestPosition=findBestPosition(boxPosition,axis);styleBox.move(bestPosition.toCSSCompatValues(containerBox));}function WebVTT(){}WebVTT.StringDecoder=function(){return{decode:function(data){if(!data){return\"\";}if(typeof data!==\"string\"){throw new Error(\"Error - expected string data.\");}return decodeURIComponent(encodeURIComponent(data));}};};WebVTT.convertCueToDOMTree=function(window,cuetext){if(!window||!cuetext){return null;}return parseContent(window,cuetext);};var FONT_SIZE_PERCENT=0.05;var FONT_STYLE=\"sans-serif\";var CUE_BACKGROUND_PADDING=\"1.5%\";WebVTT.processCues=function(window,cues,overlay){if(!window||!cues||!overlay){return null;}while(overlay.firstChild){overlay.removeChild(overlay.firstChild);}var paddedOverlay=window.document.createElement(\"div\");paddedOverlay.style.position=\"absolute\";paddedOverlay.style.left=\"0\";paddedOverlay.style.right=\"0\";paddedOverlay.style.top=\"0\";paddedOverlay.style.bottom=\"0\";paddedOverlay.style.margin=CUE_BACKGROUND_PADDING;overlay.appendChild(paddedOverlay);function shouldCompute(cues){for(var i=0;i<cues.length;i++){if(cues[i].hasBeenReset||!cues[i].displayState){return true;}}return false;}if(!shouldCompute(cues)){for(var i=0;i<cues.length;i++){paddedOverlay.appendChild(cues[i].displayState);}return;}var boxPositions=[],containerBox=BoxPosition.getSimpleBoxPosition(paddedOverlay),fontSize=Math.round(containerBox.height*FONT_SIZE_PERCENT*100)/100;var styleOptions={font:fontSize+\"px \"+FONT_STYLE};(function(){var styleBox,cue;for(var i=0;i<cues.length;i++){cue=cues[i];styleBox=new CueStyleBox(window,cue,styleOptions);paddedOverlay.appendChild(styleBox.div);moveBoxToLinePosition(window,styleBox,containerBox,boxPositions);cue.displayState=styleBox.div;boxPositions.push(BoxPosition.getSimpleBoxPosition(styleBox));}})();};WebVTT.Parser=function(window,vttjs,decoder){if(!decoder){decoder=vttjs;vttjs={};}if(!vttjs){vttjs={};}this.window=window;this.vttjs=vttjs;this.state=\"INITIAL\";this.buffer=\"\";this.decoder=decoder||new TextDecoder(\"utf8\");this.regionList=[];};WebVTT.Parser.prototype={reportOrThrowError:function(e){if(e instanceof ParsingError){this.onparsingerror&&this.onparsingerror(e);}else{throw e;}},parse:function(data){var self=this;if(data){self.buffer+=self.decoder.decode(data,{stream:true});}function collectNextLine(){var buffer=self.buffer;var pos=0;while(pos<buffer.length&&buffer[pos]!=='\\r'&&buffer[pos]!=='\\n'){++pos;}var line=buffer.substr(0,pos);if(buffer[pos]==='\\r'){++pos;}if(buffer[pos]==='\\n'){++pos;}self.buffer=buffer.substr(pos);return line;}function parseRegion(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"id\":settings.set(k,v);break;case\"width\":settings.percent(k,v);break;case\"lines\":settings.integer(k,v);break;case\"regionanchor\":case\"viewportanchor\":var xy=v.split(',');if(xy.length!==2){break;}var anchor=new Settings();anchor.percent(\"x\",xy[0]);anchor.percent(\"y\",xy[1]);if(!anchor.has(\"x\")||!anchor.has(\"y\")){break;}settings.set(k+\"X\",anchor.get(\"x\"));settings.set(k+\"Y\",anchor.get(\"y\"));break;case\"scroll\":settings.alt(k,v,[\"up\"]);break;}},/=/,/\\s/);if(settings.has(\"id\")){var region=new(self.vttjs.VTTRegion||self.window.VTTRegion)();region.width=settings.get(\"width\",100);region.lines=settings.get(\"lines\",3);region.regionAnchorX=settings.get(\"regionanchorX\",0);region.regionAnchorY=settings.get(\"regionanchorY\",100);region.viewportAnchorX=settings.get(\"viewportanchorX\",0);region.viewportAnchorY=settings.get(\"viewportanchorY\",100);region.scroll=settings.get(\"scroll\",\"\");self.onregion&&self.onregion(region);self.regionList.push({id:settings.get(\"id\"),region:region});}}function parseTimestampMap(input){var settings=new Settings();parseOptions(input,function(k,v){switch(k){case\"MPEGT\":settings.integer(k+'S',v);break;case\"LOCA\":settings.set(k+'L',parseTimeStamp(v));break;}},/[^\\d]:/,/,/);self.ontimestampmap&&self.ontimestampmap({\"MPEGTS\":settings.get(\"MPEGTS\"),\"LOCAL\":settings.get(\"LOCAL\")});}function parseHeader(input){if(input.match(/X-TIMESTAMP-MAP/)){parseOptions(input,function(k,v){switch(k){case\"X-TIMESTAMP-MAP\":parseTimestampMap(v);break;}},/=/);}else{parseOptions(input,function(k,v){switch(k){case\"Region\":parseRegion(v);break;}},/:/);}}try{var line;if(self.state===\"INITIAL\"){if(!/\\r\\n|\\n/.test(self.buffer)){return this;}line=collectNextLine();var m=line.match(/^WEBVTT([ \\t].*)?$/);if(!m||!m[0]){throw new ParsingError(ParsingError.Errors.BadSignature);}self.state=\"HEADER\";}var alreadyCollectedLine=false;while(self.buffer){if(!/\\r\\n|\\n/.test(self.buffer)){return this;}if(!alreadyCollectedLine){line=collectNextLine();}else{alreadyCollectedLine=false;}switch(self.state){case\"HEADER\":if(/:/.test(line)){parseHeader(line);}else if(!line){self.state=\"ID\";}continue;case\"NOTE\":if(!line){self.state=\"ID\";}continue;case\"ID\":if(/^NOTE($|[ \\t])/.test(line)){self.state=\"NOTE\";break;}if(!line){continue;}self.cue=new(self.vttjs.VTTCue||self.window.VTTCue)(0,0,\"\");self.state=\"CUE\";if(line.indexOf(\"-->\")===-1){self.cue.id=line;continue;}case\"CUE\":try{parseCue(line,self.cue,self.regionList);}catch(e){self.reportOrThrowError(e);self.cue=null;self.state=\"BADCUE\";continue;}self.state=\"CUETEXT\";continue;case\"CUETEXT\":var hasSubstring=line.indexOf(\"-->\")!==-1;if(!line||hasSubstring&&(alreadyCollectedLine=true)){self.oncue&&self.oncue(self.cue);self.cue=null;self.state=\"ID\";continue;}if(self.cue.text){self.cue.text+=\"\\n\";}self.cue.text+=line;continue;case\"BADCUE\":if(!line){self.state=\"ID\";}continue;}}}catch(e){self.reportOrThrowError(e);if(self.state===\"CUETEXT\"&&self.cue&&self.oncue){self.oncue(self.cue);}self.cue=null;self.state=self.state===\"INITIAL\"?\"BADWEBVTT\":\"BADCUE\";}return this;},flush:function(){var self=this;try{self.buffer+=self.decoder.decode();if(self.cue||self.state===\"HEADER\"){self.buffer+=\"\\n\\n\";self.parse();}if(self.state===\"INITIAL\"){throw new ParsingError(ParsingError.Errors.BadSignature);}}catch(e){self.reportOrThrowError(e);}self.onflush&&self.onflush();return this;}};module.exports=WebVTT;},{}],101:[function(_dereq_,module,exports){var autoKeyword=\"auto\";var directionSetting={\"\":true,\"lr\":true,\"rl\":true};var alignSetting={\"start\":true,\"middle\":true,\"end\":true,\"left\":true,\"right\":true};function findDirectionSetting(value){if(typeof value!==\"string\"){return false;}var dir=directionSetting[value.toLowerCase()];return dir?value.toLowerCase():false;}function findAlignSetting(value){if(typeof value!==\"string\"){return false;}var align=alignSetting[value.toLowerCase()];return align?value.toLowerCase():false;}function extend(obj){var i=1;for(;i<arguments.length;i++){var cobj=arguments[i];for(var p in cobj){obj[p]=cobj[p];}}return obj;}function VTTCue(startTime,endTime,text){var cue=this;var isIE8=/MSIE\\s8\\.0/.test(navigator.userAgent);var baseObj={};if(isIE8){cue=document.createElement('custom');}else{baseObj.enumerable=true;}cue.hasBeenReset=false;var _id=\"\";var _pauseOnExit=false;var _startTime=startTime;var _endTime=endTime;var _text=text;var _region=null;var _vertical=\"\";var _snapToLines=true;var _line=\"auto\";var _lineAlign=\"start\";var _position=50;var _positionAlign=\"middle\";var _size=50;var _align=\"middle\";Object.defineProperty(cue,\"id\",extend({},baseObj,{get:function(){return _id;},set:function(value){_id=\"\"+value;}}));Object.defineProperty(cue,\"pauseOnExit\",extend({},baseObj,{get:function(){return _pauseOnExit;},set:function(value){_pauseOnExit=!!value;}}));Object.defineProperty(cue,\"startTime\",extend({},baseObj,{get:function(){return _startTime;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"Start time must be set to a number.\");}_startTime=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"endTime\",extend({},baseObj,{get:function(){return _endTime;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"End time must be set to a number.\");}_endTime=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"text\",extend({},baseObj,{get:function(){return _text;},set:function(value){_text=\"\"+value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"region\",extend({},baseObj,{get:function(){return _region;},set:function(value){_region=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"vertical\",extend({},baseObj,{get:function(){return _vertical;},set:function(value){var setting=findDirectionSetting(value);if(setting===false){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_vertical=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"snapToLines\",extend({},baseObj,{get:function(){return _snapToLines;},set:function(value){_snapToLines=!!value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"line\",extend({},baseObj,{get:function(){return _line;},set:function(value){if(typeof value!==\"number\"&&value!==autoKeyword){throw new SyntaxError(\"An invalid number or illegal string was specified.\");}_line=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"lineAlign\",extend({},baseObj,{get:function(){return _lineAlign;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_lineAlign=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"position\",extend({},baseObj,{get:function(){return _position;},set:function(value){if(value<0||value>100){throw new Error(\"Position must be between 0 and 100.\");}_position=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"positionAlign\",extend({},baseObj,{get:function(){return _positionAlign;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_positionAlign=setting;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"size\",extend({},baseObj,{get:function(){return _size;},set:function(value){if(value<0||value>100){throw new Error(\"Size must be between 0 and 100.\");}_size=value;this.hasBeenReset=true;}}));Object.defineProperty(cue,\"align\",extend({},baseObj,{get:function(){return _align;},set:function(value){var setting=findAlignSetting(value);if(!setting){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_align=setting;this.hasBeenReset=true;}}));cue.displayState=undefined;if(isIE8){return cue;}}VTTCue.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text);};module.exports=VTTCue;},{}],102:[function(_dereq_,module,exports){var scrollSetting={\"\":true,\"up\":true};function findScrollSetting(value){if(typeof value!==\"string\"){return false;}var scroll=scrollSetting[value.toLowerCase()];return scroll?value.toLowerCase():false;}function isValidPercentValue(value){return typeof value===\"number\"&&value>=0&&value<=100;}function VTTRegion(){var _width=100;var _lines=3;var _regionAnchorX=0;var _regionAnchorY=100;var _viewportAnchorX=0;var _viewportAnchorY=100;var _scroll=\"\";Object.defineProperties(this,{\"width\":{enumerable:true,get:function(){return _width;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"Width must be between 0 and 100.\");}_width=value;}},\"lines\":{enumerable:true,get:function(){return _lines;},set:function(value){if(typeof value!==\"number\"){throw new TypeError(\"Lines must be set to a number.\");}_lines=value;}},\"regionAnchorY\":{enumerable:true,get:function(){return _regionAnchorY;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"RegionAnchorX must be between 0 and 100.\");}_regionAnchorY=value;}},\"regionAnchorX\":{enumerable:true,get:function(){return _regionAnchorX;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"RegionAnchorY must be between 0 and 100.\");}_regionAnchorX=value;}},\"viewportAnchorY\":{enumerable:true,get:function(){return _viewportAnchorY;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"ViewportAnchorY must be between 0 and 100.\");}_viewportAnchorY=value;}},\"viewportAnchorX\":{enumerable:true,get:function(){return _viewportAnchorX;},set:function(value){if(!isValidPercentValue(value)){throw new Error(\"ViewportAnchorX must be between 0 and 100.\");}_viewportAnchorX=value;}},\"scroll\":{enumerable:true,get:function(){return _scroll;},set:function(value){var setting=findScrollSetting(value);if(setting===false){throw new SyntaxError(\"An invalid or illegal string was specified.\");}_scroll=setting;}}});}module.exports=VTTRegion;},{}],103:[function(_dereq_,module,exports){(function(global){var win;if(typeof window!==\"undefined\"){win=window;}else if(typeof global!==\"undefined\"){win=global;}else if(typeof self!==\"undefined\"){win=self;}else{win={};}module.exports=win;}).call(this,typeof global!==\"undefined\"?global:typeof self!==\"undefined\"?self:typeof window!==\"undefined\"?window:{});},{}],104:[function(_dereq_,module,exports){\"use strict\";var window=_dereq_(95);var isFunction=_dereq_(105);var parseHeaders=_dereq_(108);var xtend=_dereq_(109);module.exports=createXHR;createXHR.XMLHttpRequest=window.XMLHttpRequest||noop;createXHR.XDomainRequest=\"withCredentials\"in new createXHR.XMLHttpRequest()?createXHR.XMLHttpRequest:window.XDomainRequest;forEachArray([\"get\",\"put\",\"post\",\"patch\",\"head\",\"delete\"],function(method){createXHR[method===\"delete\"?\"del\":method]=function(uri,options,callback){options=initParams(uri,options,callback);options.method=method.toUpperCase();return _createXHR(options);};});function forEachArray(array,iterator){for(var i=0;i<array.length;i++){iterator(array[i]);}}function isEmpty(obj){for(var i in obj){if(obj.hasOwnProperty(i))return false;}return true;}function initParams(uri,options,callback){var params=uri;if(isFunction(options)){callback=options;if(typeof uri===\"string\"){params={uri:uri};}}else{params=xtend(options,{uri:uri});}params.callback=callback;return params;}function createXHR(uri,options,callback){options=initParams(uri,options,callback);return _createXHR(options);}function _createXHR(options){if(typeof options.callback===\"undefined\"){throw new Error(\"callback argument missing\");}var called=false;var callback=function cbOnce(err,response,body){if(!called){called=true;options.callback(err,response,body);}};function readystatechange(){if(xhr.readyState===4){loadFunc();}}function getBody(){var body=undefined;if(xhr.response){body=xhr.response;}else{body=xhr.responseText||getXml(xhr);}if(isJson){try{body=JSON.parse(body);}catch(e){}}return body;}var failureResponse={body:undefined,headers:{},statusCode:0,method:method,url:uri,rawRequest:xhr};function errorFunc(evt){clearTimeout(timeoutTimer);if(!(evt instanceof Error)){evt=new Error(\"\"+(evt||\"Unknown XMLHttpRequest Error\"));}evt.statusCode=0;return callback(evt,failureResponse);}function loadFunc(){if(aborted)return;var status;clearTimeout(timeoutTimer);if(options.useXDR&&xhr.status===undefined){status=200;}else{status=xhr.status===1223?204:xhr.status;}var response=failureResponse;var err=null;if(status!==0){response={body:getBody(),statusCode:status,method:method,headers:{},url:uri,rawRequest:xhr};if(xhr.getAllResponseHeaders){response.headers=parseHeaders(xhr.getAllResponseHeaders());}}else{err=new Error(\"Internal XMLHttpRequest Error\");}return callback(err,response,response.body);}var xhr=options.xhr||null;if(!xhr){if(options.cors||options.useXDR){xhr=new createXHR.XDomainRequest();}else{xhr=new createXHR.XMLHttpRequest();}}var key;var aborted;var uri=xhr.url=options.uri||options.url;var method=xhr.method=options.method||\"GET\";var body=options.body||options.data||null;var headers=xhr.headers=options.headers||{};var sync=!!options.sync;var isJson=false;var timeoutTimer;if(\"json\"in options){isJson=true;headers[\"accept\"]||headers[\"Accept\"]||(headers[\"Accept\"]=\"application/json\");if(method!==\"GET\"&&method!==\"HEAD\"){headers[\"content-type\"]||headers[\"Content-Type\"]||(headers[\"Content-Type\"]=\"application/json\");body=JSON.stringify(options.json);}}xhr.onreadystatechange=readystatechange;xhr.onload=loadFunc;xhr.onerror=errorFunc;xhr.onprogress=function(){};xhr.ontimeout=errorFunc;xhr.open(method,uri,!sync,options.username,options.password);if(!sync){xhr.withCredentials=!!options.withCredentials;}if(!sync&&options.timeout>0){timeoutTimer=setTimeout(function(){aborted=true;xhr.abort(\"timeout\");var e=new Error(\"XMLHttpRequest timeout\");e.code=\"ETIMEDOUT\";errorFunc(e);},options.timeout);}if(xhr.setRequestHeader){for(key in headers){if(headers.hasOwnProperty(key)){xhr.setRequestHeader(key,headers[key]);}}}else if(options.headers&&!isEmpty(options.headers)){throw new Error(\"Headers cannot be set on an XDomainRequest object\");}if(\"responseType\"in options){xhr.responseType=options.responseType;}if(\"beforeSend\"in options&&typeof options.beforeSend===\"function\"){options.beforeSend(xhr);}xhr.send(body);return xhr;}function getXml(xhr){if(xhr.responseType===\"document\"){return xhr.responseXML;}var firefoxBugTakenEffect=xhr.status===204&&xhr.responseXML&&xhr.responseXML.documentElement.nodeName===\"parsererror\";if(xhr.responseType===\"\"&&!firefoxBugTakenEffect){return xhr.responseXML;}return null;}function noop(){}},{\"105\":105,\"108\":108,\"109\":109,\"95\":95}],105:[function(_dereq_,module,exports){module.exports=isFunction;var toString=Object.prototype.toString;function isFunction(fn){var string=toString.call(fn);return string==='[object Function]'||typeof fn==='function'&&string!=='[object RegExp]'||typeof window!=='undefined'&&(fn===window.setTimeout||fn===window.alert||fn===window.confirm||fn===window.prompt);};},{}],106:[function(_dereq_,module,exports){var isFunction=_dereq_(105);module.exports=forEach;var toString=Object.prototype.toString;var hasOwnProperty=Object.prototype.hasOwnProperty;function forEach(list,iterator,context){if(!isFunction(iterator)){throw new TypeError('iterator must be a function');}if(arguments.length<3){context=this;}if(toString.call(list)==='[object Array]')forEachArray(list,iterator,context);else if(typeof list==='string')forEachString(list,iterator,context);else forEachObject(list,iterator,context);}function forEachArray(array,iterator,context){for(var i=0,len=array.length;i<len;i++){if(hasOwnProperty.call(array,i)){iterator.call(context,array[i],i,array);}}}function forEachString(string,iterator,context){for(var i=0,len=string.length;i<len;i++){iterator.call(context,string.charAt(i),i,string);}}function forEachObject(object,iterator,context){for(var k in object){if(hasOwnProperty.call(object,k)){iterator.call(context,object[k],k,object);}}}},{\"105\":105}],107:[function(_dereq_,module,exports){exports=module.exports=trim;function trim(str){return str.replace(/^\\s*|\\s*$/g,'');}exports.left=function(str){return str.replace(/^\\s*/,'');};exports.right=function(str){return str.replace(/\\s*$/,'');};},{}],108:[function(_dereq_,module,exports){var trim=_dereq_(107),forEach=_dereq_(106),isArray=function(arg){return Object.prototype.toString.call(arg)==='[object Array]';};module.exports=function(headers){if(!headers)return{};var result={};forEach(trim(headers).split('\\n'),function(row){var index=row.indexOf(':'),key=trim(row.slice(0,index)).toLowerCase(),value=trim(row.slice(index+1));if(typeof result[key]==='undefined'){result[key]=value;}else if(isArray(result[key])){result[key].push(value);}else{result[key]=[result[key],value];}});return result;};},{\"106\":106,\"107\":107}],109:[function(_dereq_,module,exports){module.exports=extend;var hasOwnProperty=Object.prototype.hasOwnProperty;function extend(){var target={};for(var i=0;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;}},{}]},{},[93])(93);});;(function(window,videojs,Hls){'use strict';var Component=videojs.getComponent('Component'),Tech=videojs.getTech('Tech'),Html5=videojs.getComponent('Html5');var Hlsjs=videojs.extend(Html5,{initHls_:function(){this.options_.hls.autoStartLoad=false;this.hls_=new Hls(this.options_.hls);this.bindExternalCallbacks_();this.hls_.on(Hls.Events.MEDIA_ATTACHED,videojs.bind(this,this.onMediaAttached_));this.hls_.on(Hls.Events.MANIFEST_PARSED,videojs.bind(this,this.onManifestParsed_));this.hls_.on(Hls.Events.MANIFEST_LOADED,videojs.bind(this,this.initAudioTracks_));this.hls_.on(Hls.Events.MANIFEST_LOADED,videojs.bind(this,this.initTextTracks_));this.hls_.on(Hls.Events.LEVEL_UPDATE,videojs.bind(this,this.updateTimeRange_));this.hls_.on(Hls.Events.ERROR,videojs.bind(this,this.onError_));this.el_.addEventListener('error',videojs.bind(this,this.onMediaError_));this.currentLevel_=undefined;this.setLevelOnLoad_=undefined;this.lastLevel_=undefined;this.timeRange_=undefined;this.starttime_=-1;this.levels_=[];this.hls_.attachMedia(this.el_);},bindExternalCallbacks_:function(){var resolveCallbackFromOptions=function(evt,options,hls){var capitalize=function(str){return str.charAt(0).toUpperCase()+str.slice(1);},createCallback=function(callback,hls){return function(evt,data){callback(hls,data);};},callback=options['on'+capitalize(evt)];if(callback&&typeof callback==='function'){return createCallback(callback,hls);}},key;for(key in Hls.Events){if(Object.prototype.hasOwnProperty.call(Hls.Events,key)){var evt=Hls.Events[key],callback=resolveCallbackFromOptions(evt,this.options_,this.hls_);if(callback){this.hls_.on(evt,videojs.bind(this,callback));}}}},onMediaAttached_:function(){this.triggerReady();},updateTimeRange_:function(){var range;if(this.hls_&&this.hls_.currentLevel>=0){var details=this.hls_.levels[this.hls_.currentLevel].details;if(details){var fragments=details.fragments,isLive=details.live,firstFragmentIndex=!isLive?0:2,firstFragment=fragments[firstFragmentIndex>fragments.length?0:firstFragmentIndex],liveSyncDurationCount=this.hls_.config.liveSyncDurationCount,lastFragmentIndex=!isLive?fragments.length-1:fragments.length-liveSyncDurationCount,lastFragment=fragments[lastFragmentIndex<0?0:lastFragmentIndex];range={start:firstFragment.start,end:lastFragment.start+lastFragment.duration};}}if(!range&&!this.timeRange_){var duration=Html5.prototype.duration.apply(this);if(duration&&!isNaN(duration)){range={start:0,end:duration};}}else if(!range){range=this.timeRange_;}this.timeRange_=range;},play:function(){if(this.preload()==='none'&&!this.hasStarted_){if(this.setLevelOnLoad_){this.setLevel(this.setLevelOnLoad_);}this.hls_.startLoad(this.starttime());}Html5.prototype.play.apply(this);},duration:function(){this.updateTimeRange_();return this.timeRange_?this.timeRange_.end-this.timeRange_.start:undefined;},currentTime:function(){this.updateTimeRange_();if(this.hls_.currentLevel!==this.lastLevel_){this.trigger('levelswitched');}this.lastLevel_=this.hls_.currentLevel;return Html5.prototype.currentTime.apply(this);},seekable:function(){if(this.timeRange_){return{start:function(){return this.timeRange_.start;}.bind(this),end:function(){return this.timeRange_.end;}.bind(this),length:1};}else{return{length:0};}},onManifestParsed_:function(){var hasAutoLevel=!this.options_.disableAutoLevel,startLevel,autoLevel;this.parseLevels_();if(this.levels_.length>0){if(this.options_.setLevelByHeight){startLevel=this.getLevelByHeight_(this.options_.setLevelByHeight);autoLevel=false;}else if(this.options_.startLevelByHeight){startLevel=this.getLevelByHeight_(this.options_.startLevelByHeight);autoLevel=hasAutoLevel;}if(!hasAutoLevel&&(!startLevel||startLevel.index===-1)){startLevel=this.levels_[this.levels_.length-1];autoLevel=false;}}else if(!hasAutoLevel){startLevel={index:this.hls_.levels.length-1};autoLevel=false;}if(startLevel){this.hls_.startLevel=startLevel.index;}if(this.preload()!=='none'){if(!autoLevel&&startLevel){this.setLevel(startLevel);}this.hls_.startLoad(this.starttime());}else if(!autoLevel&&startLevel){this.setLevelOnLoad_=startLevel;this.currentLevel_=startLevel;}if(this.autoplay()&&this.paused()){this.play();}this.trigger('levelsloaded');},initAudioTracks_:function(){var i,toRemove=[],vjsTracks=this.audioTracks(),hlsTracks=this.hls_.audioTracks,hlsGroups=[],hlsGroupTracks=[],isEnabled=function(track){var hls=this.hls_;return track.groups.reduce(function(acc,g){return acc||g.id===hls.audioTrack;},false);},modeChanged=function(tech){if(this.enabled){var level=tech.currentLevel();var id=this.__hlsGroups.reduce(function(acc,group){if(group.groupId===level.audio){acc=group.id;}return acc;},this.__hlsTrackId);if(id!==this.__hlsTrackId){tech.hls_.audioTrack=id;}}};var g=0;hlsTracks.forEach(function(track){var name=typeof track.groupId!=='undefined'?track.name:'no-groups';var group={id:track.id,groupId:track.groupId};if(typeof hlsGroups[name]==='undefined'){hlsGroups[name]=g;hlsGroupTracks[g]=[];var t=track;t.groups=[];t.groups.push(group);hlsGroupTracks[g]=t;g++;}else{hlsGroupTracks[hlsGroups[track.name]].groups.push(group);}});for(i=0;i<vjsTracks.length;i++){var track=vjsTracks[i];if(track.__hlsTrackId!==undefined){toRemove.push(track);}}for(i=0;i<toRemove.length;i++){vjsTracks.removeTrack_(toRemove[i]);}for(i=0;i<hlsGroupTracks.length;i++){var hlsTrack=hlsGroupTracks[i];var vjsTrack=new videojs.AudioTrack({type:hlsTrack.type,language:hlsTrack.lang,label:hlsTrack.name,enabled:isEnabled.bind(this,hlsTrack)()});vjsTrack.__hlsTrackId=hlsTrack.id;vjsTrack.__hlsGroups=hlsTrack.groups;vjsTrack.addEventListener('enabledchange',modeChanged.bind(vjsTrack,this));vjsTracks.addTrack(vjsTrack);}},initTextTracks_:function(){var i,toRemove=[],vjsTracks=this.textTracks(),hlsTracks=this.hls_.subtitleTracks,modeChanged=function(){this.tech_.el_.textTracks[this.__hlsTrack.vjsId].mode=this.mode;};for(i=0;i<vjsTracks.length;i++){var track=vjsTracks[i];if(track.__hlsTrack!==undefined){toRemove.push(track);}}for(i=0;i<toRemove.length;i++){vjsTracks.removeTrack_(toRemove[i]);}var hlsHasDefaultTrack=false;for(i=0;i<hlsTracks.length;i++){var hlsTrack=hlsTracks[i],vjsTrack=new videojs.TextTrack({srclang:hlsTrack.lang,label:hlsTrack.name,mode:typeof hlsTrack.default!=='undefined'&&hlsTrack.default&&!hlsHasDefaultTrack?'showing':'hidden',tech:this});if(typeof hlsTrack.default!=='undefined'&&hlsTrack.default){hlsHasDefaultTrack=true;}vjsTrack.__hlsTrack=hlsTrack;vjsTrack.__hlsTrack.vjsId=i+1;vjsTrack.addEventListener('modechange',modeChanged);vjsTracks.addTrack_(vjsTrack);}if(hlsHasDefaultTrack){this.trigger('texttrackchange');}},getLevelByHeight_:function(h){var i,result;for(i=0;i<this.levels_.length;i++){var cLevel=this.levels_[i],cDiff=Math.abs(h-cLevel.height),pLevel=result,pDiff=pLevel!==undefined?Math.abs(h-pLevel.height):undefined;if(pDiff===undefined||pDiff>cDiff){result=this.levels_[i];}}return result;},parseLevels_:function(){this.levels_=[];this.currentLevel_=undefined;if(this.hls_.levels){var i;if(!this.options_.disableAutoLevel){this.levels_.push({label:'auto',index:-1,height:-1});this.currentLevel_=this.levels_[0];}for(i=0;i<this.hls_.levels.length;i++){var level=this.hls_.levels[i];var lvl=null;if(level.height){lvl={label:level.height+'p',index:i,height:level.height};}if(typeof level.attrs.AUDIO!=='undefined'){lvl=lvl||{};lvl.index=i;lvl.audio=level.attrs.AUDIO;}if(lvl){this.levels_.push(lvl);}}if(this.levels_.length<=1){this.levels_=[];this.currentLevel_=undefined;}}},setSrc:function(src){if(this.hls_){this.hls_.destroy();}if(this.currentLevel_){this.options_.setLevelByHeight=this.currentLevel_.height;}this.initHls_();this.hls_.loadSource(src);},onMediaError_:function(event){var error=event.currentTarget.error;if(error&&error.code===error.MEDIA_ERR_DECODE){var data={type:Hls.ErrorTypes.MEDIA_ERROR,fatal:true,details:'mediaErrorDecode'};this.onError_(event,data);}},onError_:function(event,data){var abort=[Hls.ErrorDetails.MANIFEST_LOAD_ERROR,Hls.ErrorDetails.MANIFEST_LOAD_TIMEOUT,Hls.ErrorDetails.MANIFEST_PARSING_ERROR];if(abort.indexOf(data.details)>=0){videojs.log.error('HLSJS: Fatal error: \"'+data.details+'\", aborting playback.');this.hls_.destroy();this.error=function(){return{code:3};};this.trigger('error');}else{if(data.fatal){switch(data.type){case Hls.ErrorTypes.NETWORK_ERROR:videojs.log.warn('HLSJS: Network error: \"'+data.details+'\", trying to recover...');this.hls_.startLoad();this.trigger('waiting');break;case Hls.ErrorTypes.MEDIA_ERROR:var startLoad=function(){this.hls_.startLoad();this.hls_.off(Hls.Events.MEDIA_ATTACHED,startLoad);}.bind(this);videojs.log.warn('HLSJS: Media error: \"'+data.details+'\", trying to recover...');this.hls_.swapAudioCodec();this.hls_.recoverMediaError();this.hls_.on(Hls.Events.MEDIA_ATTACHED,startLoad);this.trigger('waiting');break;default:videojs.log.error('HLSJS: Fatal error: \"'+data.details+'\", aborting playback.');this.hls_.destroy();this.error=function(){return{code:3};};this.trigger('error');break;}}}},currentLevel:function(){var hasAutoLevel=!this.options_.disableAutoLevel;return this.currentLevel_&&this.currentLevel_.index===-1?this.levels_[hasAutoLevel?this.hls_.currentLevel+1:this.hls_.currentLevel]:this.currentLevel_;},isAutoLevel:function(){return this.currentLevel_&&this.currentLevel_.index===-1;},setLevel:function(level){this.currentLevel_=level;this.setLevelOnLoad_=undefined;this.hls_.currentLevel=level.index;this.hls_.loadLevel=level.index;},getLevels:function(){return this.levels_;},supportsStarttime:function(){return true;},starttime:function(starttime){if(starttime){this.starttime_=starttime;}else{return this.starttime_;}},dispose:function(){if(this.hls_){this.hls_.destroy();}return Html5.prototype.dispose.apply(this);}});Hlsjs.isSupported=function(){return Hls.isSupported();};Hlsjs.canPlaySource=function(source){return!(videojs.options.hlsjs.favorNativeHLS&&Html5.canPlaySource(source))&&source.type&&/^application\\/(?:x-|vnd\\.apple\\.)mpegurl/i.test(source.type)&&Hls.isSupported();};videojs.options.hlsjs={favorNativeHLS:true,hls:{}};Component.registerComponent('Hlsjs',Hlsjs);Tech.registerTech('hlsjs',Hlsjs);videojs.options.techOrder.push('hlsjs');})(window,window.videojs,window.Hls);;\nfunction noop(){}function assign(t,e){for(var n in e)t[n]=e[n];return t}function appendNode(t,e){e.appendChild(t)}function insertNode(t,e,n){e.insertBefore(t,n)}function detachNode(t){t.parentNode.removeChild(t)}function createElement(t){return document.createElement(t)}function createText(t){return document.createTextNode(t)}function addListener(t,e,n){t.addEventListener(e,n,!1)}function removeListener(t,e,n){t.removeEventListener(e,n,!1)}function setAttribute(t,e,n){t.setAttribute(e,n)}function blankObject(){return Object.create(null)}function destroy(t){this.destroy=noop,this.fire(\"destroy\"),this.set=this.get=noop,!1!==t&&this._fragment.u(),this._fragment.d(),this._fragment=this._state=null}function _differs(t,e){return t!=t?e==e:t!==e||t&&\"object\"==typeof t||\"function\"==typeof t}function fire(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var s=n[i];s.__calling||(s.__calling=!0,s.call(this,e),s.__calling=!1)}}function get(t){return t?this._state[t]:this._state}function init(t,e){t._handlers=blankObject(),t._bind=e._bind,t.options=e,t.root=e.root||t,t.store=t.root.store||e.store}function observe(t,e,n){var i=e.bind(this);return n&&!1===n.init||i(this.get()[t],void 0),this.on(n&&n.defer?\"update\":\"state\",function(e){e.changed[t]&&i(e.current[t],e.previous&&e.previous[t])})}function on(t,e){if(\"teardown\"===t)return this.on(\"destroy\",e);var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function set(t){this._set(assign({},t)),this.root._lock||(this.root._lock=!0,callAll(this.root._beforecreate),callAll(this.root._oncreate),callAll(this.root._aftercreate),this.root._lock=!1)}function _set(t){var e=this._state,n={},i=!1;for(var s in t)this._differs(t[s],e[s])&&(n[s]=i=!0);i&&(this._state=assign(assign({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire(\"state\",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire(\"update\",{changed:n,current:this._state,previous:e})))}function callAll(t){for(;t&&t.length;)t.shift()()}function _mount(t,e){this._fragment[this._fragment.i?\"i\":\"m\"](t,e||null)}function _unmount(){this._fragment&&this._fragment.u()}var proto={destroy:destroy,get:get,fire:fire,observe:observe,on:on,set:set,teardown:destroy,_recompute:noop,_set:_set,_mount:_mount,_unmount:_unmount,_differs:_differs};function create_main_fragment(t,e){var n,i,s,r,o;function a(e){t.fire(\"play-unmuted\")}return{c:function(){n=createElement(\"div\"),i=createElement(\"video\"),s=createText(\"\\n    \"),r=createElement(\"div\"),this.h()},h:function(){i.id=e.id,i.preload=\"none\",i.className=\"video-js vjs-default-skin vjs-16-9 vjs-big-play-centered\",setAttribute(i,\"playsinline\",!0),addListener(r,\"click\",a),r.className=\"autoplay-muted-indication\",r.title=\"Unmute and play\",n.className=o=\"container \"+e.containerClasses.join(\" \")},m:function(t,e){insertNode(n,t,e),appendNode(i,n),appendNode(s,n),appendNode(r,n)},p:function(t,e){t.id&&(i.id=e.id),t.containerClasses&&o!==(o=\"container \"+e.containerClasses.join(\" \"))&&(n.className=o)},u:function(){detachNode(n)},d:function(){removeListener(r,\"click\",a)}}}function Player(t){init(this,t),this._state=assign({},t.data),this._fragment=create_main_fragment(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}assign(Player.prototype,proto);\n;\nvar bundle=function(e){\"use strict\";var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,a){try{var o=t[i](a),u=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(u).then(function(e){r(\"next\",e)},function(e){r(\"throw\",e)});e(u)}(\"next\")})}},n=function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};function a(){var e;window.carodaDebugVideoElementProxy&&(e=console).log.apply(e,arguments)}function o(e,t,n){if(!n)return[];var r=t<=0?Object.keys(e):[],a=Object.getPrototypeOf(e);return[].concat(i(r),i(a?o(a,t-1,n-1):[]))}function u(e,t){var n=o(e,3,100).filter(function(e){return\"parentNode\"!==e}),r=o(e,0,3),i=document.createElement(\"video\");return e.parentElement.insertBefore(i,e),function(e,t,n,r,i){a(e,t);var o=function(e){\"function\"==typeof n[e]?n[e]=function(){return a(\"method1\",e,arguments),i[e].apply(i,arguments),r[e].apply(r,arguments)}:Object.defineProperty(n,e,{get:function(){return a(\"get1\",e),r[e]},set:function(t){a(\"set1\",e,t),r[e]=t,i[e]=t}})},u=!0,s=!1,l=void 0;try{for(var c,p=e[Symbol.iterator]();!(u=(c=p.next()).done);u=!0)o(c.value)}catch(e){s=!0,l=e}finally{try{!u&&p.return&&p.return()}finally{if(s)throw l}}var h=function(e){\"function\"==typeof n[e]?n[e]=function(){return a(\"method2\",e,arguments),i[e].apply(i,arguments)}:Object.defineProperty(n,e,{get:function(){return a(\"get2\",e),i[e]},set:function(t){a(\"set2\",e,t),i[e]=t}})},d=!0,f=!1,y=void 0;try{for(var m,v=t[Symbol.iterator]();!(d=(m=v.next()).done);d=!0)h(m.value)}catch(e){f=!0,y=e}finally{try{!d&&v.return&&v.return()}finally{if(f)throw y}}}(n,r,i,e,t),i}var s,l=(s=t(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=g(t),!n){e.next=5;break}return i={src:n},n.match(/m3u8$/)&&(i.type=\"application/x-mpegURL\"),e.abrupt(\"return\",i);case 5:if(v.HLS!==r){e.next=7;break}return e.abrupt(\"return\",{src:f+\"/video/\"+t+\".m3u8\",type:\"application/x-mpegURL\"});case 7:if(v.Audio!==r){e.next=9;break}return e.abrupt(\"return\",{src:y+\"/output/\"+t+\"/audio.mp3\",type:\"audio/mpeg\"});case 9:throw new Error(\"Source id \"+t+\" unsupported\");case 10:case\"end\":return e.stop()}},e,this)})),function(e,t){return s.apply(this,arguments)}),c=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),p=window.chrome,h=!!window.navigator.userAgent.match(/Trident/),d=-1!==navigator.userAgent.toLowerCase().indexOf(\"safari/\"),f=\"https://api.caroda.io\",y=\"https://cdn4.caroda.io\",m=\"https://caroda-media-storage.imgix.net\",v={HLS:\"hls\",External:\"external\",Audio:\"audio\",Unknown:\"unknown\"};function g(e){return e.match(/^vz[a-f0-9]+au$/)&&v.Audio||e.match(/^vz[a-f0-9]+$/)&&v.HLS||v.Unknown}var k=function(){function e(t){if(n(this,e),t.apiPrefix&&(f=t.apiPrefix),t.videoCdnPrefix&&(y=t.videoCdnPrefix),t.imageCdnPrefix&&(m=t.imageCdnPrefix),t.playerSkin){var r=document.createElement(\"style\");r.innerHTML=t.playerSkin,document.head.appendChild(r)}var i={containerClasses:[],id:\"content-player-\"+Math.floor(1e9*Math.random())};if(this.id=t.id,this.vid=t.vid,this.autoplay=t.autoplay,this.loop=t.loop,this.volume=t.volume,this.muted=t.muted,this.isFullscreen=!1,this.fallbackSource=t.fallbackSource,this.sourceType=g(this.vid),this.poster=t.poster,this.eventHandlers=[],this.topFrameVideoId=t.topFrameVideoId,navigator.userAgent.match(/iPhone|iPad|Android/i)&&i.containerClasses.push(\"mobile\"),this.sourceType===v.Audio&&i.containerClasses.push(\"audio\"),this.fallbackSource&&this.fallbackSource.match(/mp3$/)&&i.containerClasses.push(\"audio\"),this.muted&&this.autoplay&&!t.disablePlayUnmutedScreen&&i.containerClasses.push(\"show-play-unmuted\"),!this.poster){if(this.fallbackSource&&!this.fallbackSource.match(/m3u8$/))this.poster=this.fallbackSource;else if(v.HLS===this.sourceType){var a=window.innerWidth,o=a-a%10,u=Math.floor(9*o/16);this.poster=m+\"/\"+this.vid+\"/thumbnail/cover.jpg?fit=crop&w=\"+o+\"&h=\"+u}v.Audio===this.sourceType&&(this.isShort=!0,i.containerClasses.push(\"short\"))}this.event({type:\"playerConstructed\",value:{poster:this.poster}}),this.$=this.component=new Player({target:t.target,data:i}),this.registerMessageHandler(),this.initVjs()}return r(e,[{key:\"registerMessageHandler\",value:function(){var e=this;window.addEventListener(\"message\",function(t){try{var n=t.data.match(/^([^:]+):\\/\\/(.*)$/),r=JSON.parse(n[2]);e.eventHandlers.filter(function(e){return e.type===r.type}).forEach(function(e){return e.handler(r)})}catch(e){console.error(e)}})}},{key:\"event\",value:function(e){window.parent.postMessage(this.id+\"://\"+JSON.stringify(e),\"*\")}},{key:\"onEvent\",value:function(e,t){this.eventHandlers.push({type:e,handler:t})}},{key:\"oneEvent\",value:function(e,t){var n=this,r={type:e,handler:function(e){t(e),n.eventHandlers=n.eventHandlers.filter(function(e){return e!==r})}};this.eventHandlers.push(r)}},{key:\"initVjs\",value:function(){var e=t(regeneratorRuntime.mark(function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isInit){e.next=2;break}return e.abrupt(\"return\");case 2:return e.prev=2,t={autoplay:this.autoplay,muted:this.muted,loop:this.loop,controls:!0,techOrder:[\"hlsjs\",\"html5\"],hlsjs:{hls:{capLevelToPlayerSize:!0,maxBufferLength:0,maxMaxBufferLength:90}}},this.isShort&&(t.bigPlayButton=!1),n=document.getElementById(this.$.get(\"id\")),(r=p&&!c)&&(n=this.proxyVideoElement(n)),this.player=videojs(n,t,function(){}),i=r?this.patchCreateElement(n):void 0,e.t0=this.player,e.next=13,l(this.vid,this.fallbackSource);case 13:e.t1=e.sent,e.t0.src.call(e.t0,e.t1),r&&i(),this.player.volume(this.muted?0:this.volume||1),this.poster&&this.player.poster(this.poster),this.rewriteFullscreenButton(),this.registerPlayerEventTracking(),this.$.on(\"play-unmuted\",function(){a.player.currentTime(0),a.player.play(),a.unmute(),a.$.set({containerClasses:a.$.get(\"containerClasses\").filter(function(e){return\"show-play-unmuted\"!==e})})}),this.player.on(\"timeupdate\",function(){return a.event({type:\"timeUpdate\",value:{currentTime:a.player.currentTime(),duration:a.player.duration()}})}),e.next=27;break;case 24:e.prev=24,e.t2=e.catch(2),console.error(e.t2);case 27:this.isInit=!0;case 28:case\"end\":return e.stop()}},e,this,[[2,24]])}));return function(){return e.apply(this,arguments)}}()},{key:\"registerPlayerEventTracking\",value:function(){var e=this;this.player.one(\"play\",function(){e.event({type:\"play\"}),e.player.on(\"play\",function(){return e.event({type:\"resume\"})})}),this.player.on(\"pause\",function(){return e.event({type:\"pause\"})}),this.player.one(\"ended\",function(){return e.event({type:\"complete\"})}),this.player.on(\"seeking\",function(){return e.event({type:\"seek\"})}),this.player.on(\"volumechange\",function(){e.event({type:\"volumeChange\",value:{muted:e.player.muted(),volume:e.player.volume()}}),e.player.muted()||e.player.volume()||e.player.volume(1)})}},{key:\"rewriteFullscreenButton\",value:function(){var e=this,t=document.querySelector(\".vjs-fullscreen-control\"),n=t.cloneNode(!0);t.parentElement.insertBefore(n,t),t.parentElement.removeChild(t),n.addEventListener(\"click\",function(){return e.toggleFullscreen()}),this.onEvent(\"fullscreen\",function(t){t.value?(document.body.classList.add(\"caroda-content-fullscreen\"),e.isFullscreen=!0):(document.body.classList.remove(\"caroda-content-fullscreen\"),e.isFullscreen=!1)})}},{key:\"freeze\",value:function(){var e=this;this.freezeInterval||(document.body.style.pointerEvents=\"none\",this.freezeInterval=setInterval(function(){return e.player.pause()},500))}},{key:\"unfreeze\",value:function(e){this.freezeInterval&&(document.body.style.pointerEvents=\"all\",clearInterval(this.freezeInterval),delete this.freezeInterval,e&&this.player.play())}},{key:\"toggleFullscreen\",value:function(){var e;if(c)document.querySelector(\"video\").webkitEnterFullScreen();else if(this.event({type:\"toggleFullscreen\"}),!h&&!d){var t=window.parent.document.querySelector(\".fs-\"+this.id);this.isFullscreen?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen():(e=t).requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}},{key:\"play\",value:function(){this.player.play()}},{key:\"pause\",value:function(){this.player.pause()}},{key:\"mute\",value:function(){this.player.muted(!0)}},{key:\"unmute\",value:function(){this.player.muted(!1)}},{key:\"setVolume\",value:function(e){this.player.volume(e)}},{key:\"seek\",value:function(e){this.player.currentTime(e)}},{key:\"proxyVideoElement\",value:function(e){try{return u(e,window.parent.document.getElementById(this.topFrameVideoId))}catch(e){console.error(e)}}},{key:\"patchCreateElement\",value:function(e){var t=document.createElement;return document.createElement=function(n){return\"video\"===n.toLowerCase()?e:t(n)},function(){document.createElement=t}}}]),e}();return e.PlayerController=k,e}({});</script><script>function initController(opts) {\n        window.controller = window.controller || new bundle.PlayerController(opts)\n    }\n    function b64toBlob (b64Data, contentType, sliceSize) {\n        contentType = contentType || '';\n        sliceSize = sliceSize || 512;\n        var byteCharacters = atob(b64Data);\n        var byteArrays = [];\n        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n            var slice = byteCharacters.slice(offset, offset + sliceSize);\n            var byteNumbers = new Array(slice.length);\n            for (var i = 0; i < slice.length; i++) {\n                byteNumbers[i] = slice.charCodeAt(i);\n            }\n            var byteArray = new Uint8Array(byteNumbers);\n            byteArrays.push(byteArray);\n        }\n        var blob = new Blob(byteArrays, { type: contentType });\n        return blob;\n    }\n    var carodaFontB64 = 'AAEAAAALAIAAAwAwT1MvMg8SBukAAAC8AAAAYGNtYXAXVtKOAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5Zs7lu6YAAAF4AAAELGhlYWQTe/k1AAAFpAAAADZoaGVhCr0GywAABdwAAAAkaG10eC56AjMAAAYAAAAAMGxvY2EEsAPYAAAGMAAAABptYXhwABEAgAAABkwAAAAgbmFtZV1va/cAAAZsAAABenBvc3QAAwAAAAAH6AAAACAAAwS4AZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBwPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qf//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAACAEX/1Qb7A68ADAAZAAAJARY2NRE0JgcBBhQXIQEWNjURNCYHAQYUFwOnAoZFiYlF/XpDQ/yeAoZFiYlF/XpGRgFL/oonT1AC6k9PJv6JKZ0n/oonT1AC6k9PJv6JKZ0nAAAAAgAA/9UGugOvAAwAGQAACQEmBhURFBY3ATY0JyEBJgYVERQWNwE+AScDVP16RYmJRQKGRkYDZv12RYmJRQKGRgFDAjgBdyZPT/0WUE8nAXYnnSkBdyZPT/0WUE8nAXYnnSkAAAQAAP/ABXYDwAAFAAsAEQAXAAABMxEhNSElMxUhFSERIRUhFSMBIREjNSEBsoX9yQGyAY+DAbL9ywI1/k6D/L8CN4X+TgPA/oaD9/eD/vSD9wF6/ob3AAAEAAD/wAV2A8AABQALABEAFwAAEyMRIRUhBSM1ITUhESE1ITUzASERMxUhg4MCN/5MBPOD/k4CNf3LAbKD/MH9yYMBtAJGAXqD9/eD/ACF9f6GAXr1AAAAAQAA/9UDVQOtAAwAAAkBJgYVERQWNwE2NCcDVf1KNWpqNQK2NDQCHQGQHj08/N48PyABkB56IAABASUAgwLbAv0AEgAAJRE0Jg8BIyIGHQEUFjsBFxY2NQLbMhSYrxEYGBGvmBQyoAJAHBQTmBkR9hEZmBMUHAAABAASACED7gNdABIAOwBjAH0AACURNCYPASMiBh0BFBY7ARcWNjUFBiYnJjY3Njc+ATc2NTQnLgEnJicuATc+ARcWFx4BFxYVFAcOAQcGBxMUBw4BBwYHBiYnJjY3PgE1NCYnLgE3PgEzOAExMhYXJxYXHgEXFhUjFAYHBiYnJjY3PgE1NCYnMS4BNz4BFx4BFQHJMxOZrxEYGBGvmRMzATgTLAwMCxMpIiIxDQ0LDCofHyYTCA0NLBMyKCc3Dg8RET4rLDZICwspHR4jFCwMDAsTMjcyLBMIDQgYDQkQBwEiGholCQqkKiUULAwMCxQMDg0LEgkNDS0TISanAkAbFROZGBH3ERiYExQchgsKFBMsDBkjI1QxMDQvLS1SIyMbDSwTEwgNIy0taDo6PUI+Pm0tLSEBpiwpKkgeHhYMCxMTLQweYzo2YB4NLRMLDAUFARgeHkUnJygrSxcLChQTLAwIGA8OFwgNLRITCA0XSCgAAAAAAgC3AIMDSQL9ABIALAAAJRE0Jg8BIyIGHQEUFjsBFxY2NRMUBgcGJicmNjc+ATU0JicxLgE3PgEXHgEVAm4zFJivERgYEa+YFDPbKiUTLAwMCxMMDgwLEwgNDS0SIiWgAkAcFBOYGRH2ERmYExQcASArSxYMChQTLAwIGQ4OGAcNLRITCA0XSCgAAAABAAAAAQAA9cvx918PPPUACwQAAAAAANaw2lwAAAAA1rDaXAAA/8AG+wPAAAAACAACAAAAAAAAAAEAAAPA/8AAAAb+AAAAAAb7AAEAAAAAAAAAAAAAAAAAAAAMBAAAAAAAAAAAAAAAAgAAAAb+AEUG/gAABXYAAAV2AAADkgAABAABJQQAABIEAAC3AAAAAAAKABQAHgBQAIIArgDaAPYBFgHQAhYAAAABAAAADAB+AAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEABgAAAAEAAAAAAAIABwBXAAEAAAAAAAMABgAzAAEAAAAAAAQABgBsAAEAAAAAAAUACwASAAEAAAAAAAYABgBFAAEAAAAAAAoAGgB+AAMAAQQJAAEADAAGAAMAAQQJAAIADgBeAAMAAQQJAAMADAA5AAMAAQQJAAQADAByAAMAAQQJAAUAFgAdAAMAAQQJAAYADABLAAMAAQQJAAoANACYQ2Fyb2RhAEMAYQByAG8AZABhVmVyc2lvbiAxLjAAVgBlAHIAcwBpAG8AbgAgADEALgAwQ2Fyb2RhAEMAYQByAG8AZABhQ2Fyb2RhAEMAYQByAG8AZABhUmVndWxhcgBSAGUAZwB1AGwAYQByQ2Fyb2RhAEMAYQByAG8AZABhRm9udCBnZW5lcmF0ZWQgYnkgSWNvTW9vbi4ARgBvAG4AdAAgAGcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAuAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=='\n    var videoJsFontB64 = 'd09GRgABAAAAAA54AAoAAAAAFmgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABPUy8yAAAA9AAAAD4AAABWUZFeBWNtYXAAAAE0AAAAOgAAAUriMBC2Z2x5ZgAAAXAAAAouAAAPUFvx6AdoZWFkAAALoAAAACsAAAA2DIPpX2hoZWEAAAvMAAAAGAAAACQOogcgaG10eAAAC+QAAAAPAAAAfNkAAABsb2NhAAAL9AAAAEAAAABAMMg06m1heHAAAAw0AAAAHwAAACABMAB5bmFtZQAADFQAAAElAAACCtXH9aBwb3N0AAANfAAAAPwAAAGBZkSN43icY2BkZ2CcwMDKwMFSyPKMgYHhF4RmjmEIZzzHwMDEwMrMgBUEpLmmMDh8ZPwoxw7iLmSHCDOCCADvEAo+AAB4nGNgYGBmgGAZBkYGEHAB8hjBfBYGDSDNBqQZGZgYGD7K/f8PUvCREUTzM0DVAwEjG8OIBwCPdwbVAAB4nI1Xe1CU1xX/zv1eLItLln0JwrIfC7sJGET2hRJ2N1GUoBJE8AESQEEhmBHjaB7UuBMTO4GMaSu7aY3RNlOdRPNqO2pqRmuTaSZtR6JJILUZk00a/4imjpmiecB303O/XUgMJOPufvd+99xzzz33nN855y4HHH7EfrGfIxwHRiANvF/sH71I9BzHszmpW+rGOQOXxXE6YhI4PoMT8zkT4cDFuf1cwMrZJI5cglM0HKVv0MaUFDgIFfg9mJJCG+kbKn1JkqBOVaFOkuhLpARq8fu0Nnc9/zdvfY9PxXW4PdH0C6N+PCejhorxFjAqRjgFRXSINEARbBGsoxcFK7IJmr4OycFJnInL59zIXwxui80fkGRbEHyosMWaATJKUfCskmwJQsAWANkmnIGOhlf514h7U8HNIv3owoHB0WMt0Eb3sx0guLi5pq/8Ny1q6969fKR9X9GBV6dPv6dp04K99SOwtmyPl47ApRa6n4ZpP1yjr5fn7MmYP/vXLUJs715UguklHBaHOZHZmG1N9FAIW2mf0MqWCIdo/8RZ1yGfxKUldDcGIbFA7ICO+vqOMSPTh/ZrSqgHi/bB/O8E8Mnzp+M+acxfpsTShBwej26TiGxBn7m4eEIO+Rueu6Hj+IFBnh88cAEUEQ//nVLx5C7kf+yIR47QEe+eMlhz9SqsGbe3hh2R03NGzoY6O42Kz8l7fB6fAk6LYnTyFo/FYyT6GGyNx2Jx2sdH4rA1Fo/HyCXaFyOp8dhYBCfJb2NIn1ImE6CYNGmgSTb52DawJR6jfXEmDU4xyTEmpgHHOIStoxfjSGdkbsK2w2jbdMQG4sgAstEONgURYCwGHhEhhscioQaAhhCf7McifEQc0l6+mxj9nI+gmSdiQ0Zbm7gZnIO7GSMEXG6UDAVocxAV8GcEXCKg1a02RcTtwANWRGIAyElor6n/+ZU2yOB3+T77Hb1MLqhn4KHVnQBjJnqe9QZSon6Kc5DxAD2vMdPL/BXSmQGwspa67z9wLUjdi9TN7QC7lyyBr9rpt7uXVC1CMpyjKRoXnGPHTuiaPLsNdc2dbAFQLAooPkXEh33FodHl4XpC6sPCIa0ftUIhHSYXVSu5iME+DIXsbZJ51BeidCgajcai43jU9nVzoSn2dPqcFvSoxSzJzgRKAx47WMRxOrIj3Wf0+hndxhJTiOkSEqxar3b3RKM9hY64oxBA64ieURLvCfpkDb8siBdUJ1bgT+urJ5PGfewQrmm5R5+0HmfyIPySD7OYkT0WxRePah8oEiyjlxIP74thVoRTURpmL6QhGuWS+QDjdANXjIM8SQa/1w128ODx0Qp4aLMNg9+JL3joUn8AMxW+aLNiuKjarn4uyyTdXjOzZTsh21uwldUvJoYza+zELALfu3p1L8/3krtyZ0Ag058J3hxHghvbGZn0dHZy6Mim/7Blre4lpHd1c28yVqRViO153F2oIWoXCIKbL4Z0cM1iaQn9mI5KuV2SzEvWXJDMNtkANpMdQoDDhIdD4A/YrP6Aye9ysxyE+uOEAcTDorgvVZJjcua043PnZ/PmdDqcbibZlXOOT8uSo7Kof0YUn9GL+Jo17ficymxiTofC6znUso0DhAxs1Fo+kF+d36vLmgZ8mk5cdGv2mwYj5k3Dm9m3LhJ1aVRNm6HrTbLgYAoWXDhDd/u4PGy5CT+xGMdiaBovewUCF/1BiWNljI9MLn7jeScpg+WyH6mfU62eVDql7hsrmvx1ezp/YldE2LhjbkiDnAn8tGy/MW3IXRMYJduvq9HpmIcKuFt+JCtgdGEGKAcF6UacVwIYbVPGfw/+YuNBS4cx/CUHcnyfc+wRDMtTr72mMSBjT/yn/GKSdeDWQUCH6Xoqq5R10RE60gV6erUL0iCti16d0hZjxut4QI/rEpgSh6WjnJXdBXRg1GKCucGJPtFqM27aD1tOqqKonsQ2KsFSSmEpmvRlsR+TcD9OFwrqXxIclL4sJTnGMSuG8KpkZvKdeVIOKDyWSyPLV16/p1QMPbP8NihwUzr47bdnXtwtjdCvqqpO0H+pOvIl3Pzv46e5CT/tQjklXCXXym1AaWY7bzHLkuDMc7ldKCvgxzLn8wYkJLBhEDyK7MT8bTbwbkxbfp+3mKAGsmTBpabSIEECzMIcQlzOPAMKsxMs7uhsnxPLuofPDTc1hkuq6MX9j16YU7CqegcYHbmWYuvAP6tCS97tgWf7dlQvnl25YPavXLVZvrzQPeHCpZmzzEUVq/xzu5sChnSTPTW7oOYmh69z4zL/gk3b+O6hoa733uviP82vnFcbqWlc9tDmZa23LVzaV1yXURi+JX+28NeBuj3+O8IrQ080Vm1eWB4OKjPmrJu7c1udWynvKF6/vs479lSW9+5gZkn+dKfellNGDPllzeULustz+A0bPvhgw7lkvEUwn/N4Ty7U7nhGsEpFkOfy+kutbOh1JQxhVDJumoW11hnkPThznh6FFlhfT+ra1x9sF56kx5YuDzVY9PQYAYA7iblw4frQ4TPCk2MK/xGU3rlmze62trHz6lsko+v+So/do74PT8KVkpJfOErKcv8znrMGsHTNxoEkWy1mYgDB6XBbPaWsuiS6CryGaL6zCjaXBgvtkuyXBua1wOKnh+k7L9AvPnYWffxK18FcJbuosGf3/Jo7amY+CE1vppzY+UTrva0FXc1i55pKQ/YjVL187N5fCn1kW5uot/1hi+DiZ+5atnJR9E+prvydJ9ZZ5mwOpU5gM4KYysMBQ71UzPuMTl9QQOyUo5nwioeYCPjFklrbK6s6X+ypUZ6rum9+CZYzWRiBJfSP0xzzSmrg7f86g0DKVj/wwFzieD9rRfPGFbeKMl05pn5j9/rsQJJ2iEgRrpohlyBo3f4QK7Kl+EcAYZgAoNVmZWXK704YAa3FwBxgSGUOs5htvGRz4Sgj3yFkSJFBuv/sxu5yk998T8WDJzvv/2RX19HtTUW1S+wpKRKRjJ6zzz/1/OPdFdWGlAKbvzS4PHOtURikg9AGz0LbIB85S/cPOpoXvuue8/iV2H1vPTy3ddvOeZ37HGmO3OmSzVzR+NS53+84dHlFhXPLqtzSO+5ruHM2vXtBdxP87LOzKAD359j/INYIbyPabIi3Cq6Wa+SaGe78diIzu7qcblcAa6/fJRvNopXFJnO+U9KKM5bqH5LM0iQSVmpPCPDu7ZT4Aoubz3709EBTyrTDjyx8MQXgUH1nqm7TWng4TzE4i4AsKskBITXfSyC4Fkl5MxnJDiKSIDSJAsGvd1y+/eNDp2e+A+5d8HeiiunrTkT6TqWLIs+/QRoWr98s0qj8uuzLuS22Ytufg3rdTaHn1m46sfgGKHXt0MGnLaRHdnwN37tvHcWKo2V6lnPxL4UvUQcRdOzmZSQs8X5CH5OxXMXpkATuDz8Et0SH4uyCRR+TjmBDP1GvsVrWEGVzEj33YVQ9jAtIKpqsl/s/0xrocwAAeJxjYGRgYADig3cEzsTz23xl4GZnAIHLRucNkWl2BrA4BwMTiAIAF4IITwB4nGNgZGBgZwCChWASxGZkQAXyABOUANh4nGNnYGBgHyAMADa8ANoAAAAAAAAOAFAAZgCyAMYA5gEeAUgBdAGcAfICLgKOAroDCgOOA7AD6gQ4BHwEuAToBQwFogXoBjYGbAbaB3IHqHicY2BkYGCQZ8hlYGcAASYg5gJCBob/YD4DABbVAaoAeJxdkE1qg0AYhl8Tk9AIoVDaVSmzahcF87PMARLIMoFAl0ZHY1BHdBJIT9AT9AQ9RQ9Qeqy+yteNMzDzfM+88w0K4BY/cNAMB6N2bUaPPBLukybCLvleeAAPj8JD+hfhMV7hC3u4wxs7OO4NzQSZcI/8Ltwnfwi75E/hAR7wJTyk/xYeY49fYQ/PztM+jbTZ7LY6OWdBJdX/pqs6NYWa+zMxa13oKrA6Uoerqi/JwtpYxZXJ1coUVmeZUWVlTjq0/tHacjmdxuL90OR8O0UEDYMNdtiSEpz5XQGqzlm30kzUdAYFFOb8R7NOZk0q2lwAyz1i7oAr1xoXvrOgtYhZx8wY5KRV269JZ5yGpmzPTjQhvY9je6vEElPOuJP3mWKnP5M3V+YAAAB4nG2P2XLCMAxFfYFspGUp3Te+IB9lHJF4cOzUS2n/voaEGR6qB+lKo+WITdhga/a/bRnDBFPMkCBFhhwF5ihxg1sssMQKa9xhg3s84BFPeMYLXvGGd3zgE9tZr/hveXKVkFYoSnoeHJXfRoWOqi54mo9ameNFdrK+dLSyaVf7oJQTlkhXpD3Z5XXhR/rUfQVuKXO91Jps4cLOS6/I5YL3XhodRRsVWZe4NnZOhWnSAWgxhMoEr6SmzZieF43Mk7ZOBdeCVGrp9Eu+54J2xhySplfB5XHwQLXUmT9KH6+kPnQ7ZYuIEzNyfs1DLU1VU4SWZ6LkXGHsD1ZKbMw='\n    var carodaFontBlob = b64toBlob(carodaFontB64, 'application/x-font-ttf')\n    var videoJsFontB64 = b64toBlob(videoJsFontB64, 'application/font-woff')\n    var carodaFontUrl = window.URL.createObjectURL(carodaFontBlob)\n    var videoJsFontUrl = window.URL.createObjectURL(videoJsFontB64)\n    var css = '\\\n        @font-face { \\\n            font-family: \"VideoJS\"; \\\n            src: url(' + videoJsFontUrl + ') format(\"woff\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n        @font-face { \\\n            font-family: \"Caroda\"; \\\n            src: url(' + carodaFontUrl + ') format(\"truetype\"); \\\n            font-weight: normal; \\\n            font-style: normal; \\\n        } \\\n    ';\n    var style = document.createElement(\"STYLE\");\n    style.innerHTML = css;\n    document.head.appendChild(style);\n    (function(opts) {\n        opts.target = document.querySelector('.player')\n        try {\n            initController(opts)\n            window.addEventListener('message', function(evt) {\n                if (!evt.data.match || !evt.data.match(/^caroda-content-player:/)) { return }\n                var msg = JSON.parse(evt.data.replace(/^caroda-content-player:\\/\\//, ''))\n                if (msg.type === 'action') {\n                    var f = window.controller[msg.value]\n                    if (typeof f === 'function') {\n                        f.apply(window.controller, msg.args || [])\n                    }\n                }\n            })\n        } catch(e) {\n            window.parent.postMessage(opts.id + '://' + JSON.stringify({\n                type: 'adError',\n                message: e.message\n            }), '*')\n        }\n    }) (/* PLAYEROPTS */)</script></body></html>";
                var exports = window;
                "use strict";
                function assert(e, t) {
                    if (!e)
                        throw new Error(t)
                }
                ;var asyncToGenerator = function(e) {
                    return function() {
                        var t = e.apply(this, arguments);
                        return new Promise(function(e, n) {
                                return function s(r, i) {
                                    try {
                                        var a = t[r](i)
                                            , l = a.value
                                    } catch (e) {
                                        return void n(e)
                                    }
                                    if (!a.done)
                                        return Promise.resolve(l).then(function(e) {
                                            s("next", e)
                                        }, function(e) {
                                            s("throw", e)
                                        });
                                    e(l)
                                }("next")
                            }
                        )
                    }
                }
                    , classCallCheck = function(e, t) {
                        if (!(e instanceof t))
                            throw new TypeError("Cannot call a class as a function")
                    }
                    , createClass = function() {
                        function e(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var s = t[n];
                                s.enumerable = s.enumerable || !1,
                                    s.configurable = !0,
                                "value"in s && (s.writable = !0),
                                    Object.defineProperty(e, s.key, s)
                            }
                        }
                        return function(t, n, s) {
                            return n && e(t.prototype, n),
                            s && e(t, s),
                                t
                        }
                    }();
                function isInViewport(e) {
                    var t = e.getBoundingClientRect();
                    return t.top >= -t.height / 2 && t.left >= 0 && t.bottom <= (window.innerHeight || document.documentElement.clientHeight) + t.height / 2 && t.right <= (window.innerWidth || document.documentElement.clientWidth)
                }
                function isFullscreen() {
                    return document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement
                }
                function requestFullscreen(e) {
                    e.requestFullscreen ? e.requestFullscreen() : e.webkitRequestFullscreen ? e.webkitRequestFullscreen() : e.mozRequestFullScreen ? e.mozRequestFullScreen() : e.msRequestFullscreen && e.msRequestFullscreen()
                }
                function requestUnFullscreen() {
                    document.exitFullscreen ? document.exitFullscreen() : document.webkitExitFullscreen ? document.webkitExitFullscreen() : document.mozCancelFullScreen ? document.mozCancelFullScreen() : document.msExitFullscreen && document.msExitFullscreen()
                }
                var styleElem = document.createElement("style");
                styleElem.innerHTML = "\n    .caroda-content-fullscreen {\n        position: absolute !important;\n        top: 0 !important;\n        left: 0 !important;\n        height: 100% !important;\n        width: 100% !important;\n        padding: 0 !important;\n    }\n",
                    document.head.appendChild(styleElem);
                var PlayerEvents = ["tracking", "error", "play", "pause", "seek", "complete", "resume", "volumeChange", "timeUpdate", "toggleFullscreen", "playerConstructed"]
                    , ContentPlayer = function() {
                    function e(t) {
                        var n = this;
                        classCallCheck(this, e),
                            assert(t, "opts required"),
                            assert(t.vid, "opts.vid required"),
                            assert(t.container, "opts.container required"),
                            assert(t.fullScreenContainer, "opts.fullScreenContainer required");
                        var s = t.container;
                        delete t.container,
                            t.playerSkin = t.playerSkin || window.carodaVideoPlayerSkin;
                        var r = document.createElement("DIV");
                        this.id = t.id = "caroda-container-" + Math.floor(1e6 * Math.random()),
                            this.isLoaded = !1,
                            this.hasEnded = !1,
                            this.fullScreenContainer = t.fullScreenContainer || r,
                            this.fullScreenContainer.classList.add("fs-" + this.id),
                            this.preloadMessages = [],
                            delete t.fullScreenContainer,
                            r.style.width = "100%",
                            t.vid.match(/au$/) && !t.poster ? r.style.paddingBottom = "50px" : r.style.paddingBottom = "56.25%",
                            r.style.position = "relative",
                            r.className = "caroda-player-content";
                        var i = document.createElement("video");
                        i.id = "carodaTopFrameVideo-" + Math.floor(1e9 * Math.random()),
                            i.style.background = "#000",
                            i.style.position = "absolute",
                            i.style.top = "0",
                            i.style.left = "0",
                            i.style.width = "100%",
                            i.style.height = "100%",
                            t.topFrameVideoId = i.id;
                        var a, l = VAST_PLAYER_SCRIPT.replace("/* PLAYEROPTS */", JSON.stringify(t)), o = document.createElement("IFRAME");
                        setTimeout(function() {
                            var e = o.contentWindow.document;
                            e.open("text/html", "replace"),
                                e.write(l),
                                e.close()
                        }, 0),
                            o.setAttribute("allowtransparency", "true"),
                            o.setAttribute("border", 0),
                            o.style.position = "absolute",
                            o.style.top = "0",
                            o.style.left = "0",
                            o.style.width = "100%",
                            o.style.height = "100%",
                            o.style.border = "0",
                            o.style.paddingTop = "0",
                            o.style.paddingBottom = "0",
                            o.style.paddingLeft = "0",
                            o.style.paddingRight = "0",
                            r.appendChild(i),
                            r.appendChild(o),
                            s.appendChild(r),
                            this.iframe = o,
                            this.container = r,
                            this.refreshVisibility(),
                            this.visibleInterval = setInterval(function() {
                                n.refreshVisibility(),
                                    n.refreshFullscreen()
                            }, 500),
                            this.handlers = {},
                            window.addEventListener("message", function(e) {
                                if ("string" == typeof e.data && 0 === e.data.indexOf(n.id)) {
                                    var t = JSON.parse(e.data.replace(/^caroda-container-[0-9]+:\/\//, ""));
                                    n.handlers[t.type] && n.handlers[t.type].forEach(function(e) {
                                        return e(t)
                                    })
                                }
                            }),
                            this.addEventListener("playerConstructed", (a = asyncToGenerator(regeneratorRuntime.mark(function e(t) {
                                    return regeneratorRuntime.wrap(function(e) {
                                        for (; ; )
                                            switch (e.prev = e.next) {
                                                case 0:
                                                    n.thumbnailUrl = t.value.poster,
                                                        n.isLoaded = !0,
                                                        n.preloadMessages.forEach(function(e) {
                                                            return n.sendMessage(e)
                                                        }),
                                                        n.preloadMessages = [];
                                                case 4:
                                                case "end":
                                                    return e.stop()
                                            }
                                    }, e, n)
                                })),
                                    function(e) {
                                        return a.apply(this, arguments)
                                    }
                            )),
                            this.addEventListener("toggleFullscreen", function(e) {
                                isFullscreen() ? (requestUnFullscreen(),
                                    n.sendMessage({
                                        type: "fullscreen",
                                        value: !1
                                    })) : (requestFullscreen(n.fullScreenContainer),
                                    n.sendMessage({
                                        type: "fullscreen",
                                        value: !0
                                    }))
                            }),
                            this.volume = t.muted ? 0 : 1,
                            this.muted = t.muted,
                            this.duration = 0,
                            this.currentTime = 0,
                            this.addEventListener("timeUpdate", function(e) {
                                n.duration = e.value.duration,
                                    n.currentTime = e.value.currentTime
                            }),
                            this.addEventListener("volumeChange", function(e) {
                                n.volume = e.value.volume,
                                    n.muted = e.value.muted
                            })
                    }
                    return createClass(e, [{
                        key: "addEventListener",
                        value: function(e, t) {
                            assert(~PlayerEvents.indexOf(e), "eventName must be one of " + PlayerEvents.join(", ")),
                                this.handlers[e] = this.handlers[e] || [],
                                this.handlers[e].push(t)
                        }
                    }, {
                        key: "refreshVisibility",
                        value: function() {
                            this.sendMessage({
                                type: "visibility",
                                value: isInViewport(this.container)
                            })
                        }
                    }, {
                        key: "refreshFullscreen",
                        value: function() {
                            this.sendMessage({
                                type: "fullscreen",
                                value: isFullscreen()
                            }),
                                isFullscreen() ? this.container.classList.add("caroda-content-fullscreen") : this.container.classList.remove("caroda-content-fullscreen")
                        }
                    }, {
                        key: "sendMessage",
                        value: function(e) {
                            this.iframe && this.iframe.contentWindow && this.isLoaded ? this.iframe.contentWindow.postMessage("caroda-content-player://" + JSON.stringify(e), "*") : this.preloadMessages.push(e)
                        }
                    }, {
                        key: "paused",
                        value: function() {
                            if (this.iframe) {
                                var e = this.iframe.contentWindow.document.querySelector("video");
                                if (e)
                                    return e.paused
                            }
                        }
                    }, {
                        key: "play",
                        value: function() {
                            this.sendMessage({
                                type: "action",
                                value: "play"
                            })
                        }
                    }, {
                        key: "pause",
                        value: function() {
                            this.sendMessage({
                                type: "action",
                                value: "pause"
                            })
                        }
                    }, {
                        key: "mute",
                        value: function() {
                            this.sendMessage({
                                type: "action",
                                value: "mute"
                            })
                        }
                    }, {
                        key: "unmute",
                        value: function() {
                            this.sendMessage({
                                type: "action",
                                value: "unmute"
                            })
                        }
                    }, {
                        key: "volume",
                        value: function(e) {
                            this.sendMessage({
                                type: "action",
                                value: "setVolume",
                                args: [e]
                            })
                        }
                    }, {
                        key: "seek",
                        value: function(e) {
                            this.sendMessage({
                                type: "action",
                                value: "seek",
                                args: [e]
                            })
                        }
                    }, {
                        key: "destroy",
                        value: function() {
                            var e = this;
                            this.hasEnded || (clearInterval(this.visibleInterval),
                                this.sendMessage({
                                    type: "end"
                                }),
                                this.container.style.display = "none",
                                this.hasEnded = !0,
                                setTimeout(function() {
                                    return e.container.parentElement.removeChild(e.container)
                                }, 1e3))
                        }
                    }]),
                        e
                }();
                exports.ContentPlayer = ContentPlayer;
            }
        )();
        (function(exports) {
                ;var extendStatics = Object.setPrototypeOf || {
                        __proto__: []
                    }instanceof Array && function(e, t) {
                        e.__proto__ = t
                    }
                    || function(e, t) {
                        for (var n in t)
                            t.hasOwnProperty(n) && (e[n] = t[n])
                    }
                ;
                function __extends(e, t) {
                    function n() {
                        this.constructor = e
                    }
                    extendStatics(e, t),
                        e.prototype = null === t ? Object.create(t) : (n.prototype = t.prototype,
                            new n)
                }
                var __assign = Object.assign || function(e) {
                        for (var t, n = 1, r = arguments.length; n < r; n++)
                            for (var i in t = arguments[n])
                                Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                        return e
                    }
                ;
                function __rest(e, t) {
                    var n = {};
                    for (var r in e)
                        Object.prototype.hasOwnProperty.call(e, r) && t.indexOf(r) < 0 && (n[r] = e[r]);
                    if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
                        var i = 0;
                        for (r = Object.getOwnPropertySymbols(e); i < r.length; i++)
                            t.indexOf(r[i]) < 0 && (n[r[i]] = e[r[i]])
                    }
                    return n
                }
                function __awaiter(a, o, s, u) {
                    return new (s || (s = Promise))(function(e, t) {
                            function n(e) {
                                try {
                                    i(u.next(e))
                                } catch (e) {
                                    t(e)
                                }
                            }
                            function r(e) {
                                try {
                                    i(u.throw(e))
                                } catch (e) {
                                    t(e)
                                }
                            }
                            function i(t) {
                                t.done ? e(t.value) : new s(function(e) {
                                        e(t.value)
                                    }
                                ).then(n, r)
                            }
                            i((u = u.apply(a, o || [])).next())
                        }
                    )
                }
                function __generator(n, r) {
                    var i, a, o, e, s = {
                        label: 0,
                        sent: function() {
                            if (1 & o[0])
                                throw o[1];
                            return o[1]
                        },
                        trys: [],
                        ops: []
                    };
                    return e = {
                        next: t(0),
                        throw: t(1),
                        return: t(2)
                    },
                    "function" == typeof Symbol && (e[Symbol.iterator] = function() {
                            return this
                        }
                    ),
                        e;
                    function t(t) {
                        return function(e) {
                            return function(t) {
                                if (i)
                                    throw new TypeError("Generator is already executing.");
                                for (; s; )
                                    try {
                                        if (i = 1,
                                        a && (o = 2 & t[0] ? a.return : t[0] ? a.throw || ((o = a.return) && o.call(a),
                                            0) : a.next) && !(o = o.call(a, t[1])).done)
                                            return o;
                                        switch (a = 0,
                                        o && (t = [2 & t[0], o.value]),
                                            t[0]) {
                                            case 0:
                                            case 1:
                                                o = t;
                                                break;
                                            case 4:
                                                return s.label++,
                                                    {
                                                        value: t[1],
                                                        done: !1
                                                    };
                                            case 5:
                                                s.label++,
                                                    a = t[1],
                                                    t = [0];
                                                continue;
                                            case 7:
                                                t = s.ops.pop(),
                                                    s.trys.pop();
                                                continue;
                                            default:
                                                if (!(o = 0 < (o = s.trys).length && o[o.length - 1]) && (6 === t[0] || 2 === t[0])) {
                                                    s = 0;
                                                    continue
                                                }
                                                if (3 === t[0] && (!o || t[1] > o[0] && t[1] < o[3])) {
                                                    s.label = t[1];
                                                    break
                                                }
                                                if (6 === t[0] && s.label < o[1]) {
                                                    s.label = o[1],
                                                        o = t;
                                                    break
                                                }
                                                if (o && s.label < o[2]) {
                                                    s.label = o[2],
                                                        s.ops.push(t);
                                                    break
                                                }
                                                o[2] && s.ops.pop(),
                                                    s.trys.pop();
                                                continue
                                        }
                                        t = r.call(n, s)
                                    } catch (e) {
                                        t = [6, e],
                                            a = 0
                                    } finally {
                                        i = o = 0
                                    }
                                if (5 & t[0])
                                    throw t[1];
                                return {
                                    value: t[0] ? t[1] : void 0,
                                    done: !0
                                }
                            }([t, e])
                        }
                    }
                }
                var logWithSeverity = function(e) {
                    for (var t, n = [], r = 1; r < arguments.length; r++)
                        n[r - 1] = arguments[r];
                    return (t = window.carodaConsole)[e].apply(t, n)
                }
                    , carodaConsole = window.carodaConsole || ["log", "info", "warn", "error"].reduce(function(e, t) {
                    var n;
                    return __assign({}, e, ((n = {})[t] = logWithSeverity.bind(null, t),
                        n))
                }, {})
                    , VisSense = window.VisSense
                    , VastPlayerIma = window.VastPlayerIma
                    , VastPlayerMol = window.VastVpaidPlayer
                    , ContentPlayer = window.ContentPlayer
                    , domainExtMatch = window.location.host.match(/\.[a-z]+$/)
                    , domainExt = domainExtMatch ? domainExtMatch[0] : ""
                    , locale = getLocale()
                    , prebidSideload = window.carodaPrebidSideloadUrls || [];
                function getTargetingProfile() {
                    var e = __assign({}, window.carodaTargetingProfile || {});
                    return __assign({}, e, {
                        deviceType: e.device,
                        locale: locale,
                        path: encodeURIComponent(window.location.href.replace(/^https?..\/\/[^\/]+/, "").replace(/^([^\?]+)\?.*$/, "$1")),
                        url: encodeURIComponent(window.location.href)
                    })
                }
                var targetingProfile = getTargetingProfile();
                function getLocale() {
                    try {
                        var e = document.querySelector("[lang]")
                            , t = e && e.lang && e.lang.split("-")[0] || ".cz" === domainExt && "cs" || ".sk" === domainExt && "sk" || "en";
                        if (-1 === ["cs", "sk", "en"].indexOf(t))
                            throw new Error("unsupported language code " + t);
                        return t
                    } catch (e) {
                        return "en"
                    }
                }
                function getConfig(key) {
                    return eval(key) || ""
                }
                function stringHash(e) {
                    var t = 0;
                    if (0 === e.length)
                        return t;
                    for (var n = 0; n < e.length; n++) {
                        t = (t << 5) - t + e.charCodeAt(n),
                            t |= 0
                    }
                    return t
                }
                var EventTarget = function() {
                    function e() {
                        this.listeners = {}
                    }
                    return e.prototype.addEventListener = function(e, t) {
                        this.listeners[e] = this.getEventListeners(e).concat([t])
                    }
                        ,
                        e.prototype.triggerEvent = function(e) {
                            for (var t = [], n = 1; n < arguments.length; n++)
                                t[n - 1] = arguments[n];
                            this.getEventListeners(e).map(function(e) {
                                return e.apply(void 0, t)
                            })
                        }
                        ,
                        e.prototype.getEventListeners = function(e) {
                            return this.listeners[e] || []
                        }
                        ,
                        e
                }()
                    , VastToTeadsEventName = {
                    click_tracking: "AdClickThru",
                    complete: "AdVideoComplete",
                    first_quartile: "AdVideoFirstQuartile",
                    impression: "AdImpression",
                    midpoint: "AdVideoMidpoint",
                    start: "AdVideoStart",
                    third_quartile: "AdVideoThirdQuartile"
                }
                    , TeadsToVastEventName = Object.keys(VastToTeadsEventName).reduce(function(e, t) {
                    var n;
                    return __assign({}, e, ((n = {})[VastToTeadsEventName[t]] = t,
                        n))
                }, {})
                    , TeadsLogMonitor = function() {
                    function e(e) {
                        void 0 === e && (e = window),
                            carodaConsole.info("TeadsPlayerLogger", ".constructor", e),
                            this.window = e,
                            this.teadsLogs = [],
                            this.onEvent = {}
                    }
                    return e.prototype.on = function(e, t) {
                        this.onEvent[e] = this.onEvent[e] || [],
                            this.onEvent[e].push(t)
                    }
                        ,
                        e.prototype.processLogEvents = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o, s, u, c, l, d = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (n = this.window,
                                                r = n.teads && n.teads.FULL_LOGS) {
                                                for (i = r.slice(this.teadsLogs.length).map(function(e) {
                                                    return e.message
                                                }),
                                                         a = 0,
                                                         o = i; a < o.length; a++)
                                                    if (s = o[a],
                                                        carodaConsole.info("TeadsPlayerLogger", ".processLogEvents", s),
                                                    s.match(/player.plugin.Tracker/) && (u = s.match(/\[player.plugin.Tracker\]\s*([^\s]+)/),
                                                        c = u && u[1],
                                                    (l = this.onEvent[TeadsToVastEventName[c]]) && l.forEach(function(e) {
                                                        return e()
                                                    })),
                                                        s.match(/no.passback.to.exec/))
                                                        throw new Error("No ad");
                                                (t = this.teadsLogs).push.apply(t, i)
                                            }
                                            return [4, new Promise(function(e, t) {
                                                    return setTimeout(function() {
                                                        return d.processLogEvents().then(e, t)
                                                    }, 500)
                                                }
                                            )];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e
                }();
                function setItem(e, t) {
                    try {
                        localStorage.setItem(e, t)
                    } catch (e) {}
                }
                function getItem(e) {
                    var t = null;
                    try {
                        t = localStorage.getItem(e)
                    } catch (e) {}
                    return t
                }
                function removeItem(e) {
                    try {
                        localStorage.removeItem(e)
                    } catch (e) {}
                }
                function keys() {
                    var e = [];
                    try {
                        e = Object.keys(localStorage)
                    } catch (e) {}
                    return e
                }
                var localStorageHelper = {
                    getItem: getItem,
                    keys: keys,
                    removeItem: removeItem,
                    setItem: setItem
                }
                    , domainName = window.carodaWebsiteDomain
                    , storageKey = "caroda.history." + domainName;
                function getCampaignViewHistoryHeader() {
                    carodaConsole.info("CampaignViewHistory", "getCampaignViewHistoryHeader");
                    var e = localStorageHelper.getItem(storageKey);
                    return (!e || 8192 < e.length) && (carodaConsole.info("CampaignViewHistory", "getCampaignViewHistoryHeader", "cleared overflowed view history"),
                        e = "{}",
                        localStorageHelper.setItem(storageKey, e)),
                        e
                }
                function getCampaignViewHistory(e) {
                    carodaConsole.info("CampaignViewHistory", "getCampaignViewHistory");
                    try {
                        var t = getCampaignViewHistoryHeader()
                            , n = JSON.parse(t)["its_" + e];
                        return [n[0]].concat(n.slice(1).map(function(e) {
                            return e + n[0]
                        })).map(function(e) {
                            return 1e3 * e
                        })
                    } catch (e) {
                        return carodaConsole.info("CampaignViewHistory", "getCampaignViewHistory", "no history", e),
                            []
                    }
                }
                function enforceUserCapping(e) {
                    if (e.match(/.caroda.io/)) {
                        var t = e.split("?")[1].split("&").map(function(e) {
                            return e.split("=")
                        }).reduce(function(e, t) {
                            var n;
                            return __assign({}, e, ((n = {})[t[0]] = decodeURIComponent(t[1]),
                                n))
                        }, {});
                        "tracking" === t.type && "impression" === t.eventType && (carodaConsole.info("CampaignViewHistory", "enforceUserCapping", t),
                            iterateCampaignViewHistory(t.campaignId))
                    }
                }
                function iterateCampaignViewHistory(e) {
                    carodaConsole.info("CampaignViewHistory", "iterateCampaignViewHistory", e);
                    var t = {};
                    t = Object.assign({}, JSON.parse(localStorageHelper.getItem(storageKey))),
                        localStorageHelper.setItem(storageKey, "{}");
                    var n = "its_" + e;
                    t[n] = t[n] || [],
                        t[n].length ? t[n].push(Math.floor(Date.now() / 1e3) - t[n][0]) : t[n].push(Math.floor(Date.now() / 1e3)),
                        carodaConsole.info("CampaignViewHistory", "iterateCampaignViewHistory", "storing", storageKey, JSON.stringify(t)),
                        localStorageHelper.setItem(storageKey, JSON.stringify(t))
                }
                function getDoohWebsiteDomain(e) {
                    return e + "." + getConfig("carodaContributorToken") + ".caroda.dooh"
                }
                var otsCount = 0;
                function getOtsCount() {
                    return otsCount
                }
                function startUpdateOtsCountInterval(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t = 6e4,
                                        [4, updateOtsCount(n)];
                                case 1:
                                    return e.sent(),
                                        setInterval(function() {
                                            return updateOtsCount(n)
                                        }, t),
                                        [2]
                            }
                        })
                    })
                }
                function updateOtsCount(t) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, fetchOtsCount(t)];
                                case 1:
                                    return otsCount = e.sent(),
                                        [2]
                            }
                        })
                    })
                }
                function fetchOtsCount(i) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return e.trys.push([0, 3, , 4]),
                                        carodaConsole.info("OtsCount", "fetchOtsCount"),
                                        [4, fetch("https://publisher.caroda.io/getOtsCount?domain=" + getDoohWebsiteDomain(i))];
                                case 1:
                                    return [4, e.sent().json()];
                                case 2:
                                    return t = e.sent(),
                                        n = parseFloat(t.count),
                                        carodaConsole.info("OtsCount", "fetchOtsCount", {
                                            count: n
                                        }),
                                        [2, n];
                                case 3:
                                    return r = e.sent(),
                                        carodaConsole.error("OtsCount", "fetchOtsCount", r),
                                        [3, 4];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }
                function isNil(e) {
                    return null == e
                }
                var isNil_1 = isNil;
                function getFirstFibonacciGreaterThan(e) {
                    for (var t = 1, n = 1; t <= e; ) {
                        var r = t + n;
                        n = t,
                            t = r
                    }
                    return t
                }
                function getFirstMultipleGreaterThan(e, t) {
                    return e - e % t + t
                }
                var VALUE_UNKNOWN = -1
                    , VALUE_PRIVATE = -2;
                function replaceTargetingTemplate(e, s) {
                    void 0 === s && (s = {});
                    var u = getTargetingProfile()
                        , c = __assign({}, u, s.playerInfo || {})
                        , t = function(e, t) {
                        var n = extractMacroAndModifier(t.trim())
                            , r = n.macro
                            , i = n.modifier
                            , a = macroNameToVast4Format(r);
                        if (vast4Macros(u)[a]) {
                            var o = vast4Macros(u)[a](s);
                            return i && "number" == typeof o && (o = i(o)),
                                formatMacroValue(o)
                        }
                        return c.hasOwnProperty(r) ? isNil_1(c[r]) ? "" : c[r] : window.carodaTargetingProfile.hasOwnProperty(r) ? isNil_1(window.carodaTargetingProfile[r]) ? "" : window.carodaTargetingProfile[r] : e
                    };
                    return e.replace(/\{\{([^\}]+)\}\}/g, t).replace(/\[([^\]]+)\]/g, t)
                }
                function extractMacroAndModifier(e) {
                    if (!(0 < e.indexOf(":")))
                        return {
                            macro: e
                        };
                    var t = e.split(":")
                        , n = t[0];
                    return {
                        macro: t[1],
                        modifier: getModifierByName(n)
                    }
                }
                function getModifierByName(e) {
                    if ("fib" === e)
                        return function(e) {
                            return getFirstFibonacciGreaterThan(e)
                        }
                            ;
                    if (e.match(/(\d)n/)) {
                        var t = e.match(/(\d)n/)[1]
                            , n = parseInt(t, 10);
                        return function(e) {
                            return getFirstMultipleGreaterThan(e, n)
                        }
                    }
                }
                function macroNameToVast4Format(e) {
                    return e.replace(/_/g, "").toUpperCase()
                }
                function formatMacroValue(e) {
                    return void 0 === e ? "" : (Array.isArray(e) ? e.map(String) : [String(e)]).map(encodeURIComponent).join(",")
                }
                var vast4Macros = function(e) {
                    return {
                        TIMESTAMP: function() {
                            return (new Date).toISOString()
                        },
                        CACHEBUSTING: function() {
                            return Math.floor(1e7 + 9e7 * Math.random())
                        },
                        CONTENTPLAYHEAD: function(e) {
                            var t = e.contentPlayer;
                            return t ? secondsToTimeCode(t.getCurrentTime()) : VALUE_UNKNOWN
                        },
                        MEDIAPLAYHEAD: function(e) {
                            var t = e.contentPlayer;
                            return t ? secondsToTimeCode(t.getCurrentTime()) : VALUE_UNKNOWN
                        },
                        BREAKPOSITION: function(e) {
                            return adBreakPositionToVastCode(e.adBreakPosition)
                        },
                        TRANSACTIONID: function(e) {
                            return e.transactionId || VALUE_UNKNOWN
                        },
                        PLACEMENTTYPE: function(e) {
                            var t = e.adPlacement;
                            return t ? adPlacementToVastCode(t) : VALUE_UNKNOWN
                        },
                        ADTYPE: function(e) {
                            var t = e.vastContent;
                            return t ? getAdType(t) : VALUE_UNKNOWN
                        },
                        UNIVERSALADID: function(e) {
                            var t = e.vastContent;
                            return t ? getUniversalAdId(t) : VALUE_UNKNOWN
                        },
                        CLIENTUA: function() {
                            return "CarodaPlayer CarodaVastClient"
                        },
                        SERVERUA: function() {
                            return VALUE_UNKNOWN
                        },
                        DEVICEUA: function() {
                            return navigator.userAgent
                        },
                        SERVERSIDE: function() {
                            return 0
                        },
                        DEVICEIP: function() {
                            return VALUE_PRIVATE
                        },
                        LATLONG: function() {
                            return e.gpsY || e.gpsX ? [e.gpsY, e.gpsX] : VALUE_PRIVATE
                        },
                        DOMAIN: function() {
                            return window.location.hostname
                        },
                        PAGEURL: function() {
                            return window.location.href
                        },
                        APPBUNDLE: function(e) {
                            return e.isDooh ? "io.caroda.AdPlayer" : 0
                        },
                        VASTVERSIONS: function() {
                            return [7, 8, 9, 10, 11, 12, 13, 14]
                        },
                        APIFRAMEWORKS: function() {
                            return [2]
                        },
                        EXTENSIONS: function() {},
                        VERIFICATIONVENDORS: function() {},
                        OMIDPARTNER: function() {},
                        MEDIAMIME: function() {},
                        CLICKTYPE: function(e) {
                            var t = e.isDooh
                                , n = e.vastContent;
                            return t ? 0 : getClickType(n)
                        },
                        PLAYERSIZE: function(e) {
                            return getPlayerSize(e.playerInfo)
                        },
                        PODSEQUENCE: function(e) {
                            var t = e.vastContent;
                            return t ? getPodSequence(t) : VALUE_UNKNOWN
                        },
                        ADSERVINGID: function(e) {
                            var t = e.vastContent;
                            return t ? getAdServingId(t) : VALUE_UNKNOWN
                        },
                        REGULATIONS: function() {
                            return ["gdpr"]
                        },
                        GDPRCONSENT: function() {
                            return e.gdpr_consent ? e.gdpr_consent : VALUE_UNKNOWN
                        },
                        HASGDPRCONSENT: function() {
                            return e.gdpr_consent ? 1 : 0
                        },
                        OTS: function() {
                            return getOtsCount()
                        },
                        SID: function() {
                            return localStorageHelper.getItem("sid")
                        },
                        BLOCKEDADCATEGORIES: function() {
                            return VALUE_UNKNOWN
                        },
                        ADCATEGORIES: function() {
                            return VALUE_UNKNOWN
                        },
                        ADCOUNT: function() {
                            return VALUE_UNKNOWN
                        },
                        BREAKMAXDURATION: function() {
                            return VALUE_UNKNOWN
                        },
                        BREAKMINDURATION: function() {
                            return VALUE_UNKNOWN
                        },
                        BREAKMAXADS: function() {
                            return VALUE_UNKNOWN
                        },
                        BREAKMINADLENGTH: function() {
                            return VALUE_UNKNOWN
                        },
                        BREAKMAXADLENGTH: function() {
                            return VALUE_UNKNOWN
                        },
                        IFA: function() {
                            return VALUE_UNKNOWN
                        },
                        IFATYPE: function() {
                            return VALUE_UNKNOWN
                        },
                        PLAYERSTATE: function() {
                            return VALUE_UNKNOWN
                        },
                        INVENTORYSTATE: function() {
                            return VALUE_UNKNOWN
                        },
                        ADPLAYHEAD: function() {
                            return VALUE_UNKNOWN
                        },
                        ASSETURI: function() {
                            return VALUE_UNKNOWN
                        },
                        CONTENTID: function() {
                            return VALUE_UNKNOWN
                        },
                        CONTENTURI: function() {
                            return VALUE_UNKNOWN
                        },
                        CLICKPOS: function() {
                            return VALUE_UNKNOWN
                        },
                        ERRORCODE: function() {
                            return VALUE_UNKNOWN
                        },
                        REASON: function() {
                            return VALUE_UNKNOWN
                        },
                        LIMITADTRACKING: function() {
                            return VALUE_UNKNOWN
                        }
                    }
                };
                function secondsToTimeCode(e) {
                    var t = new Date(0);
                    return t.setSeconds(e),
                        t.toISOString().substr(11, 8)
                }
                function adBreakPositionToVastCode(e) {
                    switch (void 0 === e && (e = "standalone"),
                        e) {
                        case "preroll":
                            return 1;
                        case "midroll":
                            return 2;
                        case "postroll":
                            return 3;
                        case "standalone":
                            return 4;
                        default:
                            return 0
                    }
                }
                function adPlacementToVastCode(e) {
                    switch (e) {
                        case "in-stream":
                            return 1;
                        case "in-banner":
                            return 2;
                        case "in-article":
                            return 3;
                        case "in-feed":
                            return 4;
                        case "interstitial":
                            return 5;
                        default:
                            return VALUE_UNKNOWN
                    }
                }
                function getUniversalAdId(e) {
                    try {
                        var t = (new DOMParser).parseFromString(e, "text/xml").querySelector("UniversalAdId");
                        return t.getAttribute("idRegistry") + " " + (t.getAttribute("idValue") || t.textContent).trim()
                    } catch (e) {
                        return VALUE_UNKNOWN
                    }
                }
                function getClickType(e) {
                    try {
                        return "vpaid" === ((new DOMParser).parseFromString(e, "text/xml").querySelector("MediaFile").getAttribute("apiFramework") || "").trim().toLowerCase() ? VALUE_UNKNOWN : 1
                    } catch (e) {
                        return VALUE_UNKNOWN
                    }
                }
                function getPlayerSize(e) {
                    return e && e.playerWidth && e.playerHeight ? [e.playerWidth, e.playerHeight] : VALUE_UNKNOWN
                }
                function getPodSequence(e) {
                    try {
                        var t = (new DOMParser).parseFromString(e, "text/xml").querySelector("Ad").getAttribute("sequence");
                        return t && parseInt(t, 10) || VALUE_UNKNOWN
                    } catch (e) {
                        return VALUE_UNKNOWN
                    }
                }
                function getAdServingId(e) {
                    try {
                        return (new DOMParser).parseFromString(e, "text/xml").querySelector("Ad inline AdServingId").textContent.trim()
                    } catch (e) {
                        return VALUE_UNKNOWN
                    }
                }
                function getAdType(e) {
                    try {
                        return (new DOMParser).parseFromString(e, "text/xml").querySelector("Ad").getAttribute("adType") || VALUE_UNKNOWN
                    } catch (e) {
                        return VALUE_UNKNOWN
                    }
                }
                function isInVerticalView(e) {
                    var t = e.getBoundingClientRect()
                        , n = window.innerHeight || document.documentElement.clientHeight;
                    return !(!t.height && !t.width) && (t.top >= -t.height / 2 && t.bottom <= n + t.height / 2)
                }
                function isInViewport(e) {
                    var t = e.getBoundingClientRect();
                    return 0 <= t.top && t.top <= (window.innerHeight || document.documentElement.clientHeight)
                }
                function getPlayerDimensions(e, t) {
                    void 0 === t && (t = 16 / 9);
                    var n = e.getBoundingClientRect()
                        , r = Math.floor(n.width || 640);
                    return {
                        playerHeight: Math.floor(n.height || r / t),
                        playerWidth: r
                    }
                }
                function isInClippedDiv(e) {
                    return !!e && ("hidden" === window.getComputedStyle(e).overflow || isInClippedDiv(e.parentElement))
                }
                function isFullWidthPage() {
                    return Math.abs(document.documentElement.clientWidth - window.screen.width) < 20
                }
                function waitUntilInView(t) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return isInViewport(t) || !window.IntersectionObserver ? [2] : [2, new Promise(function(n) {
                                    new IntersectionObserver(function(e, t) {
                                            .5 < e[0].intersectionRatio && (t.disconnect(),
                                                n())
                                        }
                                        ,{
                                            threshold: [.25, .5, .75, 1]
                                        }).observe(t)
                                }
                            )]
                        })
                    })
                }
                function isHidden(e) {
                    return "hidden" === window.getComputedStyle(e).visibility
                }
                function isThere3rdPartyFullscreen(e) {
                    return !!document.fullscreenElement && !document.fullscreenElement.contains(e)
                }
                function getHiddenProp() {
                    return "hidden"in document ? "hidden" : ["webkit", "moz", "ms", "o"].find(function(e) {
                        return e + "Hidden"in document
                    })
                }
                function isBrowserHidden() {
                    var e = getHiddenProp();
                    return !!e && document[e]
                }
                var Tracking = function() {
                    function s(e) {
                        void 0 === e && (e = {}),
                            carodaConsole.info("Tracking", ".constructor", e),
                            this.multipliedEvents = e.multipliedEvents || "impressions",
                            this.playerContainer = e.playerContainer,
                            this.doohPlacementId = e.doohPlacementId,
                            this.context = e.context || {},
                            this.creativeMetadata = null
                    }
                    return s.setUniqueImpression = function(e) {
                        var t = s.getUniqueImpressionDict();
                        return !t || t[e] ? "fail" : (t[e] = !0,
                            localStorageHelper.setItem("caroda.uniqueImpressions", JSON.stringify(t)),
                            "ok")
                    }
                        ,
                        s.getUniqueImpressionDict = function() {
                            var e = window;
                            if (e.carodaUniqueImpressions)
                                return e.carodaUniqueImpressions;
                            e.carodaUniqueImpressions = {};
                            var t = localStorageHelper.getItem("caroda.uniqueImpressions");
                            if (!t)
                                return e.carodaUniqueImpressions;
                            try {
                                e.carodaUniqueImpressions = JSON.parse(t)
                            } catch (e) {
                                return void carodaConsole.error("Tracking", ".isUniqueImpression", e)
                            }
                            return e.carodaUniqueImpressions
                        }
                        ,
                        s.prototype.setCreativeMetadata = function(e) {
                            this.creativeMetadata = e
                        }
                        ,
                        s.prototype.addToContext = function(e) {
                            this.context = __assign({}, this.context, e)
                        }
                        ,
                        s.prototype.setPlayerContainer = function(e) {
                            this.playerContainer = e
                        }
                        ,
                        s.prototype.hitTrackingUrl = function(e, t, n) {
                            void 0 === t && (t = !1),
                            void 0 === n && (n = !1);
                            var r = e.match(/^https:\/\/data.caroda.io.*campaignId=(cz[^&]+)/)
                                , i = this.creativeMetadata && this.creativeMetadata.durationSeconds;
                            n && e.match(/impression_/) && (t = !0);
                            var a = this.getHitTimes(e, t);
                            if (window.carodaOnTrackingEvent && window.carodaOnTrackingEvent(e, this.playerContainer),
                                enforceUserCapping(e = replaceTargetingTemplate(e, __assign({}, this.context, {
                                    playerInfo: __assign({}, this.context.playerInfo || {}, this.playerContainer ? getPlayerDimensions(this.playerContainer) : {})
                                }))),
                            t && r && !n && "ok" === s.setUniqueImpression(r[1]) && this.hitTrackingUrl(e.replace("=impression", "=unique_impression"), !1, !1),
                            r && e.match(/type=tracking/) && i && (e += "&adDuration=" + Math.round(i)),
                                carodaConsole.info("Tracking", ".hitTrackingUrl", "processed url", e, "x", a),
                                !carodaConsole.debugMode)
                                for (var o = 0; o < a; o++)
                                    this.callUrl(e)
                        }
                        ,
                        s.prototype.hitPlayerEvent = function(e, t, n, r) {
                            void 0 === t && (t = ["", ""]);
                            var i = this.createPlayerEventTrackingUrl(e, t, n, r);
                            this.hitTrackingUrl(i, !1, !0)
                        }
                        ,
                        s.prototype.createPlayerEventTrackingUrl = function(e, t, n, r) {
                            if (void 0 === t && (t = ["", ""]),
                            window.is3rdPartyFrame && e.match(/opportunity/))
                                e = e.replace(/opportunity/, "missed_app_opportunity");
                            else if (window.carodaDisableAds && e.match(/opportunity/))
                                return void carodaConsole.info("hitPlayerEvent", "disabled", e);
                            var i = this.context.isDooh ? getDoohWebsiteDomain(this.doohPlacementId) : window.carodaWebsiteDomain
                                , a = t[0]
                                , o = t[1];
                            return ["https://data.caroda.io/api/hit.gif?type=player", "&ctok=", n = n || window.carodaContributorToken, "&domainName=", i].concat(a ? ["&sspUrl=", encodeURIComponent(a)] : [], o ? ["&dspUrl=", encodeURIComponent(o)] : [], r ? ["&format=", r] : [], ["&eventType=", e]).join("")
                        }
                        ,
                        s.prototype.getHitTimes = function(e, t) {
                            var n = e.startsWith("https://data.caroda.io/")
                                , r = !this.creativeMetadata || this.creativeMetadata.supportsTrackingMultiplication;
                            return (n || r) && this.context.isDooh && (t || "allEvents" === this.multipliedEvents) ? getOtsCount() || 0 : 1
                        }
                        ,
                        s.prototype.uncacheUrl = function(e) {
                            var t = 0 <= e.indexOf("?") ? "&" : "?";
                            return "" + e + t + "uncache=" + Math.floor(1e6 * Math.random())
                        }
                        ,
                        s.prototype.callUrl = function(e) {
                            if (window.carodaEnqueueTracking)
                                return window.carodaTrackingQueue = window.carodaTrackingQueue || [],
                                    void window.carodaTrackingQueue.push({
                                        timestamp: Date.now(),
                                        url: e
                                    });
                            new Image(1,1).src = this.uncacheUrl(e)
                        }
                        ,
                        s
                }(), interval;
                function mergeTrackingContext(e, t) {
                    if (t) {
                        var n = t.getCampaignView()
                            , r = n ? n.vastContent : e.context.vastContent;
                        e.addToContext({
                            vastContent: r
                        }),
                            t.getTracking().addToContext(e.context)
                    }
                }
                var waiters = [];
                function iterateWaiters() {
                    (waiters = waiters.filter(function(t) {
                        try {
                            return !t[0]() || (t[1](),
                                !1)
                        } catch (e) {
                            return t[2](e),
                                !1
                        }
                    })).length || (clearInterval(interval),
                        interval = null)
                }
                function waitFor(i, a) {
                    return void 0 === a && (a = 0),
                        __awaiter(this, void 0, void 0, function() {
                            var n, t, r;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return n = i,
                                        a && (t = Date.now(),
                                                n = function() {
                                                    if (Date.now() - t > a)
                                                        throw new Error("waiter timed out [max " + a + "ms]");
                                                    return i()
                                                }
                                        ),
                                            r = new Promise(function(e, t) {
                                                    return waiters.push([n, e, t])
                                                }
                                            ),
                                        interval || (interval = setInterval(iterateWaiters, 100)),
                                            [4, r];
                                    case 1:
                                        return e.sent(),
                                            [2]
                                }
                            })
                        })
                }
                function wait(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            return t = Date.now(),
                                [2, waitFor(function() {
                                    return Date.now() - t > n
                                })]
                        })
                    })
                }
                var BannerPlayer = function(i) {
                    function e(e, t, n) {
                        void 0 === n && (n = {});
                        var r = i.call(this) || this;
                        return carodaConsole.info("BannerPlayer", ".constructor", e.id),
                            r.campaignView = e,
                            r.trackingHooks = e.trackingHooks,
                            r.bannerScript = e.bannerScript,
                            r.bannerContainerElement = document.createElement("div"),
                            r.bannerContainerElement.className = "carodaBannerContainer",
                            r.bannerElement = document.createElement("div"),
                            r.bannerElement.className = "carodaBanner",
                        e.prebidAdUnitCode && (r.bannerElement.id = e.prebidAdUnitCode),
                        r.isTeadsPrebid() && r.bannerContainerElement.classList.add("carodaTeadsPrebid"),
                            r.tracking = new Tracking(__assign({}, n, {
                                context: __assign({}, n.context || {}, {
                                    transactionId: e.transactionId
                                }),
                                playerContainer: r.bannerElement
                            })),
                            r.containerElement = t,
                        e.expire && e.expire(),
                            r
                    }
                    return __extends(e, i),
                        e.prototype.load = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    return carodaConsole.info("BannerPlayer", ".load", "redundant"),
                                        [2]
                                })
                            })
                        }
                        ,
                        e.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("BannerPlayer", ".play", "adding banner"),
                                                this.isGPT() || this.isTeadsPrebid() ? [2, this.playInIframe()] : (this.bannerContainerElement.appendChild(this.bannerElement),
                                                    this.containerElement.appendChild(this.bannerContainerElement),
                                                    t = getPlayerDimensions(this.bannerElement),
                                                    n = replaceTargetingTemplate(this.bannerScript, {
                                                        playerInfo: t,
                                                        transactionId: this.tracking.context.transactionId
                                                    }),
                                                    r = window.postscribe,
                                                    carodaConsole.info("BannerPlayer", ".play", "adding banner with postscribe", n),
                                                    r(this.bannerElement, n),
                                                    setTimeout(function() {
                                                        return carodaConsole.info("BannerPlayer", ".play", "banner unfolded", {
                                                            height: i.bannerElement.getBoundingClientRect().height
                                                        }, i.containerElement.innerHTML)
                                                    }, 3e3),
                                                    [4, waitFor(function() {
                                                        return 30 < i.bannerElement.getBoundingClientRect().height
                                                    })]);
                                        case 1:
                                            return e.sent(),
                                                carodaConsole.info("BannerPlayer", ".play", "banner rendered"),
                                                this.triggerEvent("rendered"),
                                                this.monitorImpression(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.playInIframe = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    return carodaConsole.info("BannerPlayer", ".playInIframe", "adding banner"),
                                        this.bannerContainerElement.appendChild(this.bannerElement),
                                        this.containerElement.appendChild(this.bannerContainerElement),
                                        t = document.createElement("iframe"),
                                        this.bannerElement.appendChild(t),
                                        this.bannerElement.style.border = "0",
                                        t.frameBorder = "0",
                                        t.srcdoc = '<html>\n            <head>\n                <title>Caroda Iframe Banner Player</title>\n                <style>\n                    body { margin: 0; }\n                    div[id*="google_ads_iframe"] {\n                        text-align: center;\n                    }\n                    iframe, div[data-google-query-id] {\n                        margin-left: auto;\n                        margin-right: auto;\n                    }\n                </style>\n            </head>\n            <body>\n                ' + this.bannerScript + "\n                <script>\n                    window.isTeads = " + JSON.stringify(this.isTeadsPrebid()) + ";\n                    " + initIframeBannerWindow.toString() + "\n                    initIframeBannerWindow(window);\n                <\/script>\n            </body>\n        </html>",
                                        t.style.width = "100%",
                                        t.style.height = "10px",
                                        this.triggerEvent("rendered"),
                                        this.monitorImpression(t.contentWindow),
                                        [2]
                                })
                            })
                        }
                        ,
                        e.prototype.destroy = function() {
                            carodaConsole.error("BannerPlayer", ".destroy", "not implemented")
                        }
                        ,
                        e.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        e.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        e.prototype.getBannerElement = function() {
                            return this.bannerElement
                        }
                        ,
                        e.prototype.isGPT = function() {
                            return !!this.bannerScript.match(/(googletagservices.com|doubleclick.net)(\/tag\/js\/gpt|\/dbm\/ad)/)
                        }
                        ,
                        e.prototype.isTeadsPrebid = function() {
                            return -1 !== this.bannerScript.indexOf("a.teads.tv/hb/ad/")
                        }
                        ,
                        e.prototype.monitorImpression = function(t) {
                            return void 0 === t && (t = window),
                                __awaiter(this, void 0, void 0, function() {
                                    var r, i = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.isTeadsPrebid() ? (this.bannerContainerElement.classList.add("loaded"),
                                                    (r = new TeadsLogMonitor(t)).on("impression", function() {
                                                        i.tracking.hitPlayerEvent("impression_other_players", ["//teads.tv", "//teads.tv"])
                                                    }),
                                                    this.trackingHooks.forEach(function(e) {
                                                        var t = e.VastEvent
                                                            , n = e.TrackingUrl;
                                                        return r.on(t, function() {
                                                            return i.tracking.hitTrackingUrl(n, "impression" === t)
                                                        })
                                                    }),
                                                    [4, r.processLogEvents()]) : [3, 2];
                                            case 1:
                                                return e.sent(),
                                                    [2];
                                            case 2:
                                                return carodaConsole.info("BannerPlayer", ".monitorImpression", "waiting for impression"),
                                                    [4, waitFor(function() {
                                                        return isInVerticalView(i.bannerElement) && 30 < i.bannerElement.getBoundingClientRect().height
                                                    })];
                                            case 3:
                                                return e.sent(),
                                                    [4, wait(250)];
                                            case 4:
                                                return e.sent(),
                                                    [4, waitFor(function() {
                                                        return isInVerticalView(i.bannerElement) && 30 < i.bannerElement.getBoundingClientRect().height
                                                    })];
                                            case 5:
                                                return e.sent(),
                                                    carodaConsole.info("BannerPlayer", ".monitorImpression", "condition met"),
                                                    this.trackingHooks.filter(function(e) {
                                                        return "impression" === e.VastEvent
                                                    }).map(function(e) {
                                                        return e.TrackingUrl
                                                    }).forEach(function(e) {
                                                        return i.tracking.hitTrackingUrl(e, !0)
                                                    }),
                                                    carodaConsole.info("BannerPlayer", ".monitorImpression", "hit campaign tracking"),
                                                    this.tracking.hitPlayerEvent("impression_banner"),
                                                    carodaConsole.info("BannerPlayer", ".monitorImpression", "hit player tracking"),
                                                    this.bannerContainerElement.className += " loaded",
                                                    [2]
                                        }
                                    })
                                })
                        }
                        ,
                        e
                }(EventTarget);
                function initIframeBannerWindow(a) {
                    var o = a.document
                        , s = null;
                    function u() {
                        requestAnimationFrame(function() {
                            var e = o.createElement("DIV");
                            e.style.position = "fixed",
                                e.style.top = "0",
                                e.style.left = "0",
                                e.style.right = "0",
                                e.style.bottom = "0",
                                e.style.background = "rgba(255, 255, 255, 0.01)",
                                e.style.pointerEvents = "none",
                                e.style.zIndex = "9999999999",
                                o.body.appendChild(e),
                                requestAnimationFrame(function() {
                                    return e.remove()
                                })
                        })
                    }
                    new MutationObserver(function() {
                            var e, t = a.frameElement, n = Math.max(o.body.scrollHeight, a.isTeads ? 1 : 20), r = Math.max(o.body.scrollWidth, 20), i = t.getBoundingClientRect();
                            if (i.width !== r && (t.style.width = r + "px"),
                            i.height !== n && (t.style.height = n + "px"),
                            null === s && (s = o.querySelector("iframe[id*=google_ads_iframe]")))
                                try {
                                    e = s,
                                        setTimeout(u, 0),
                                        setTimeout(u, 200),
                                        setTimeout(u, 600),
                                        setTimeout(u, 1200),
                                        setTimeout(u, 2400),
                                        function(e) {
                                            var t = e.createElement("style");
                                            t.innerHTML = '\n            div[id*="creative-"] > span[id*="label-"] {\n                display: none !important;\n            }\n        ',
                                                e.head.appendChild(t);
                                            var n = e.querySelector('div[id*="creative-"]');
                                            n && !n.children.length && (n.style.display = "none")
                                        }(e.contentDocument)
                                } catch (e) {}
                        }
                    ).observe(o.body, {
                        childList: !0
                    })
                }
                var at, ch, escapee = {
                    '"': '"',
                    "\\": "\\",
                    "/": "/",
                    b: "\b",
                    f: "\f",
                    n: "\n",
                    r: "\r",
                    t: "\t"
                }, text, error = function(e) {
                    throw {
                        name: "SyntaxError",
                        message: e,
                        at: at,
                        text: text
                    }
                }, next = function(e) {
                    return e && e !== ch && error("Expected '" + e + "' instead of '" + ch + "'"),
                        ch = text.charAt(at),
                        at += 1,
                        ch
                }, number = function() {
                    var e, t = "";
                    for ("-" === ch && next(t = "-"); "0" <= ch && ch <= "9"; )
                        t += ch,
                            next();
                    if ("." === ch)
                        for (t += "."; next() && "0" <= ch && ch <= "9"; )
                            t += ch;
                    if ("e" === ch || "E" === ch)
                        for (t += ch,
                                 next(),
                             "-" !== ch && "+" !== ch || (t += ch,
                                 next()); "0" <= ch && ch <= "9"; )
                            t += ch,
                                next();
                    if (e = +t,
                        isFinite(e))
                        return e;
                    error("Bad number")
                }, string = function() {
                    var e, t, n, r = "";
                    if ('"' === ch)
                        for (; next(); ) {
                            if ('"' === ch)
                                return next(),
                                    r;
                            if ("\\" === ch)
                                if (next(),
                                "u" === ch) {
                                    for (t = n = 0; t < 4 && (e = parseInt(next(), 16),
                                        isFinite(e)); t += 1)
                                        n = 16 * n + e;
                                    r += String.fromCharCode(n)
                                } else {
                                    if ("string" != typeof escapee[ch])
                                        break;
                                    r += escapee[ch]
                                }
                            else
                                r += ch
                        }
                    error("Bad string")
                }, white = function() {
                    for (; ch && ch <= " "; )
                        next()
                }, word = function() {
                    switch (ch) {
                        case "t":
                            return next("t"),
                                next("r"),
                                next("u"),
                                next("e"),
                                !0;
                        case "f":
                            return next("f"),
                                next("a"),
                                next("l"),
                                next("s"),
                                next("e"),
                                !1;
                        case "n":
                            return next("n"),
                                next("u"),
                                next("l"),
                                next("l"),
                                null
                    }
                    error("Unexpected '" + ch + "'")
                }, value, array = function() {
                    var e = [];
                    if ("[" === ch) {
                        if (next("["),
                            white(),
                        "]" === ch)
                            return next("]"),
                                e;
                        for (; ch; ) {
                            if (e.push(value()),
                                white(),
                            "]" === ch)
                                return next("]"),
                                    e;
                            next(","),
                                white()
                        }
                    }
                    error("Bad array")
                }, object = function() {
                    var e, t = {};
                    if ("{" === ch) {
                        if (next("{"),
                            white(),
                        "}" === ch)
                            return next("}"),
                                t;
                        for (; ch; ) {
                            if (e = string(),
                                white(),
                                next(":"),
                            Object.hasOwnProperty.call(t, e) && error('Duplicate key "' + e + '"'),
                                t[e] = value(),
                                white(),
                            "}" === ch)
                                return next("}"),
                                    t;
                            next(","),
                                white()
                        }
                    }
                    error("Bad object")
                };
                value = function() {
                    switch (white(),
                        ch) {
                        case "{":
                            return object();
                        case "[":
                            return array();
                        case '"':
                            return string();
                        case "-":
                            return number();
                        default:
                            return "0" <= ch && ch <= "9" ? number() : word()
                    }
                }
                ;
                var parse = function(e, o) {
                    var t;
                    return text = e,
                        at = 0,
                        ch = " ",
                        t = value(),
                        white(),
                    ch && error("Syntax error"),
                        "function" == typeof o ? function e(t, n) {
                            var r, i, a = t[n];
                            if (a && "object" == typeof a)
                                for (r in a)
                                    Object.prototype.hasOwnProperty.call(a, r) && (void 0 !== (i = e(a, r)) ? a[r] = i : delete a[r]);
                            return o.call(t, n, a)
                        }({
                            "": t
                        }, "") : t
                }, escapable = /[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g, gap, indent, meta = {
                    "\b": "\\b",
                    "\t": "\\t",
                    "\n": "\\n",
                    "\f": "\\f",
                    "\r": "\\r",
                    '"': '\\"',
                    "\\": "\\\\"
                }, rep;
                function quote(e) {
                    return escapable.lastIndex = 0,
                        escapable.test(e) ? '"' + e.replace(escapable, function(e) {
                            var t = meta[e];
                            return "string" == typeof t ? t : "\\u" + ("0000" + e.charCodeAt(0).toString(16)).slice(-4)
                        }) + '"' : '"' + e + '"'
                }
                function str(e, t) {
                    var n, r, i, a, o, s = gap, u = t[e];
                    switch (u && "object" == typeof u && "function" == typeof u.toJSON && (u = u.toJSON(e)),
                    "function" == typeof rep && (u = rep.call(t, e, u)),
                        typeof u) {
                        case "string":
                            return quote(u);
                        case "number":
                            return isFinite(u) ? String(u) : "null";
                        case "boolean":
                        case "null":
                            return String(u);
                        case "object":
                            if (!u)
                                return "null";
                            if (gap += indent,
                                o = [],
                            "[object Array]" === Object.prototype.toString.apply(u)) {
                                for (a = u.length,
                                         n = 0; n < a; n += 1)
                                    o[n] = str(n, u) || "null";
                                return i = 0 === o.length ? "[]" : gap ? "[\n" + gap + o.join(",\n" + gap) + "\n" + s + "]" : "[" + o.join(",") + "]",
                                    gap = s,
                                    i
                            }
                            if (rep && "object" == typeof rep)
                                for (a = rep.length,
                                         n = 0; n < a; n += 1)
                                    "string" == typeof (r = rep[n]) && (i = str(r, u)) && o.push(quote(r) + (gap ? ": " : ":") + i);
                            else
                                for (r in u)
                                    Object.prototype.hasOwnProperty.call(u, r) && (i = str(r, u)) && o.push(quote(r) + (gap ? ": " : ":") + i);
                            return i = 0 === o.length ? "{}" : gap ? "{\n" + gap + o.join(",\n" + gap) + "\n" + s + "}" : "{" + o.join(",") + "}",
                                gap = s,
                                i
                    }
                }
                var stringify = function(e, t, n) {
                    var r;
                    if (indent = gap = "",
                    "number" == typeof n)
                        for (r = 0; r < n; r += 1)
                            indent += " ";
                    else
                        "string" == typeof n && (indent = n);
                    if ((rep = t) && "function" != typeof t && ("object" != typeof t || "number" != typeof t.length))
                        throw new Error("JSON.stringify");
                    return str("", {
                        "": e
                    })
                }
                    , parse$1 = parse
                    , stringify$1 = stringify
                    , jsonify = {
                    parse: parse$1,
                    stringify: stringify$1
                }
                    , json = "undefined" != typeof JSON ? JSON : jsonify
                    , jsonStableStringify = function(e, t) {
                    t || (t = {}),
                    "function" == typeof t && (t = {
                        cmp: t
                    });
                    var p = t.space || "";
                    "number" == typeof p && (p = Array(p + 1).join(" "));
                    var a, h = "boolean" == typeof t.cycles && t.cycles, g = t.replacer || function(e, t) {
                        return t
                    }
                        , m = t.cmp && (a = t.cmp,
                            function(i) {
                                return function(e, t) {
                                    var n = {
                                        key: e,
                                        value: i[e]
                                    }
                                        , r = {
                                        key: t,
                                        value: i[t]
                                    };
                                    return a(n, r)
                                }
                            }
                    ), y = [];
                    return function e(t, n, r, i) {
                        var a = p ? "\n" + new Array(i + 1).join(p) : ""
                            , o = p ? ": " : ":";
                        if (r && r.toJSON && "function" == typeof r.toJSON && (r = r.toJSON()),
                        void 0 !== (r = g.call(t, n, r))) {
                            if ("object" != typeof r || null === r)
                                return json.stringify(r);
                            if (isArray(r)) {
                                for (var s = [], u = 0; u < r.length; u++) {
                                    var c = e(r, u, r[u], i + 1) || json.stringify(null);
                                    s.push(a + p + c)
                                }
                                return "[" + s.join(",") + a + "]"
                            }
                            if (-1 !== y.indexOf(r)) {
                                if (h)
                                    return json.stringify("__cycle__");
                                throw new TypeError("Converting circular structure to JSON")
                            }
                            y.push(r);
                            var l = objectKeys(r).sort(m && m(r));
                            for (s = [],
                                     u = 0; u < l.length; u++) {
                                var d = e(r, n = l[u], r[n], i + 1);
                                if (d) {
                                    var f = json.stringify(n) + o + d;
                                    s.push(a + p + f)
                                }
                            }
                            return y.splice(y.indexOf(r), 1),
                            "{" + s.join(",") + a + "}"
                        }
                    }({
                        "": e
                    }, "", e, 0)
                }
                    , isArray = Array.isArray || function(e) {
                    return "[object Array]" === {}.toString.call(e)
                }
                    , objectKeys = Object.keys || function(e) {
                    var t = Object.prototype.hasOwnProperty || function() {
                        return !0
                    }
                        , n = [];
                    for (var r in e)
                        t.call(e, r) && n.push(r);
                    return n
                }
                    , _stringify = Object.freeze({
                    default: jsonStableStringify,
                    __moduleExports: jsonStableStringify
                });
                function getVideoAdAspectRatio(o) {
                    return [[16 / 9, "horizontal"], [9 / 16, "vertical"], [1, "square"], [4 / 3, "horizontal-4-3"], [.75, "vertical-3-4"]].reduce(function(e, t) {
                        var n = e[0]
                            , r = e[1]
                            , i = t[0]
                            , a = t[1];
                        return Math.abs(i - o) < Math.abs(n - o) ? [i, a] : [n, r]
                    })[1]
                }
                var labels = {
                    cs: {
                        advertising: "Reklama",
                        noAd: decodeURIComponent("Nebyla%20nalezena%20%C5%BE%C3%A1dn%C3%A1%20dal%C5%A1%C3%AD%20reklama"),
                        playAgain: decodeURIComponent("P%C5%99ehr%C3%A1t%20znovu")
                    },
                    en: {
                        advertising: "Advertising",
                        noAd: "No additional ad could be returned",
                        playAgain: "Play again"
                    },
                    sk: {
                        advertising: "Reklama",
                        noAd: decodeURIComponent("Nebola%20n%C3%A1jden%C3%A1%20%C5%BEiadna%20%C4%8Fal%C5%A1ia%20reklama"),
                        playAgain: decodeURIComponent("Prehra%C5%A5%20znova")
                    }
                }
                    , Spinner = function() {
                    function t(e) {
                        this.container = e,
                            this.overlay = this.createOverlay();
                        var t = this.createSpinner();
                        this.overlay.appendChild(t),
                            e.appendChild(this.overlay)
                    }
                    return t.prototype.show = function() {
                        this.log("show", this.overlay),
                            this.container.classList.add(t.CONTAINER_SHOW_CLASS_NAME)
                    }
                        ,
                        t.prototype.hide = function() {
                            this.log("hide", this.overlay),
                                this.container.classList.remove(t.CONTAINER_SHOW_CLASS_NAME)
                        }
                        ,
                        t.prototype.remove = function() {
                            this.log("remove", this.overlay),
                                this.container.classList.remove(t.CONTAINER_SHOW_CLASS_NAME),
                                this.overlay.remove()
                        }
                        ,
                        t.prototype.createOverlay = function() {
                            var e = document.createElement("div");
                            return e.classList.add(t.OVERLAY_CLASS_NAME),
                                e
                        }
                        ,
                        t.prototype.createSpinner = function() {
                            var e = document.createElement("div");
                            return e.classList.add(t.SPINNER_CLASS_NAME),
                                e
                        }
                        ,
                        t.prototype.log = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            carodaConsole.info.apply(carodaConsole, ["Spinner"].concat(e))
                        }
                        ,
                        t.OVERLAY_CLASS_NAME = "caroda-spinner-container",
                        t.SPINNER_CLASS_NAME = "caroda-spinner",
                        t.CONTAINER_SHOW_CLASS_NAME = "caroda-show-spinner",
                        t
                }()
                    , ReplayButton = function() {
                    function e(e, t) {
                        this.logger = carodaConsole.getInstanceLogger("ReplayButton"),
                            this.container = e,
                            this.button = this.createButton(),
                            e.appendChild(this.button),
                            this.button.addEventListener("click", this.createOnClick(t)),
                            this.spinner = new Spinner(e)
                    }
                    return e.prototype.createButton = function() {
                        var e = document.createElement("button");
                        return e.classList.add("carodaReplayButton"),
                        "mobile" === targetingProfile.device && e.classList.add("mobile"),
                            e.title = labels[targetingProfile.locale].playAgain,
                            e
                    }
                        ,
                        e.prototype.createOnClick = function(n) {
                            var e = this;
                            return function() {
                                return __awaiter(e, void 0, void 0, function() {
                                    var t;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                this.logger.info(".onClick"),
                                                    this.button.remove(),
                                                    this.spinner.show(),
                                                    e.label = 1;
                                            case 1:
                                                return e.trys.push([1, 3, , 4]),
                                                    [4, n()];
                                            case 2:
                                                if (!e.sent())
                                                    throw new Error("onClick failed");
                                                return this.spinner.remove(),
                                                    this.logger.info(".onClick", "success"),
                                                    [3, 4];
                                            case 3:
                                                return t = e.sent(),
                                                    this.logger.info(".onClick", t),
                                                    this.spinner.remove(),
                                                    this.renderErrorMessage(),
                                                    [3, 4];
                                            case 4:
                                                return [2]
                                        }
                                    })
                                })
                            }
                        }
                        ,
                        e.prototype.renderErrorMessage = function() {
                            var e = document.createElement("span");
                            e.classList.add("carodaReplayButtonErrorMessage"),
                                e.textContent = labels[targetingProfile.locale].noAd,
                                this.container.appendChild(e)
                        }
                        ,
                        e
                }()
                    , stringify$2 = jsonStableStringify || _stringify
                    , ImaPlayer = function() {
                    function e(n, e, t) {
                        void 0 === t && (t = {});
                        var r = this;
                        carodaConsole.info("ImaPlayer", ".constructor", n.id, t),
                            this.campaignView = n,
                        window.carodaDefaultAdFrameOptions && Object.assign(t, window.carodaDefaultAdFrameOptions),
                            this.containerElement = document.createElement("div"),
                            this.containerElement.className = "carodaImaOutstreamPlayer",
                            this.tracking = new Tracking(__assign({}, t.trackingConfig || {}, {
                                context: __assign({}, t.trackingConfig && t.trackingConfig.context || {}, {
                                    transactionId: n.transactionId
                                }),
                                playerContainer: this.containerElement
                            })),
                            this.parentElement = e,
                            this.trackingHooks = n.trackingHooks,
                            this.isFrozen = Boolean(t.isFrozen),
                            this.muted = this.isFrozen || !1 !== t.muted,
                            this.volume = t.volume || 1,
                            this.thumbnailUrl = t.thumbnailUrl,
                            this.instream = !!t.instream,
                            this.vastContent = n.vastContent,
                            this.expireCache = n.expire,
                            this.sspUrl = n.sspUrl,
                            this.dspUrl = n.dspUrl,
                            this.trackAsSlider = t.trackAsSlider,
                        n.shouldExcludeRepeated && (this.adRejected = !1,
                                this.excludeRepeated = function(t) {
                                    try {
                                        carodaConsole.info("ImaPlayer", ".excludeRepeated", n.adsGroup, t),
                                            n.throwIfRepeated(t),
                                            n.markAsViewed(t)
                                    } catch (e) {
                                        if (carodaConsole.info("ImaPlayer", ".excludeRepeated", "rejected", n.adsGroup, t),
                                            r.adRejected)
                                            return;
                                        r.adRejected = !0,
                                            r.iframePlayer.reject()
                                    }
                                }
                        ),
                            this.hideCarodaUI = !!t.hideCarodaUI,
                            this.error = !1,
                            this.disablePauseWhenOutOfView = !!t.disablePauseWhenOutOfView,
                            this.adEnded = !1,
                            this.volumeChangedTriggered = !1,
                            this.adCanPlay = !1,
                            this.hadImpression = !1,
                        n.vastContentAspectRatio && this.containerElement.classList.add("outstreamFormat-" + n.vastContentAspectRatio)
                    }
                    return e.prototype.play = function() {
                        return __awaiter(this, void 0, void 0, function() {
                            var t, r = this;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return carodaConsole.info("ImaPlayer", ".play"),
                                            document.fullscreenElement && !document.fullscreenElement.contains(this.parentElement) ? (carodaConsole.info("ImaPlayer", ".play", "an element that is not an ancestor is in fullscreen mode"),
                                                [2]) : (this.parentElement.contains(this.containerElement) || this.parentElement.appendChild(this.containerElement),
                                                carodaConsole.info("ImaPlayer", ".play", "creating ima frame"),
                                                this.iframePlayer = new VastPlayerIma({
                                                    container: this.containerElement,
                                                    disablePauseWhenOutOfView: this.disablePauseWhenOutOfView,
                                                    fullScreenContainer: this.containerElement.parentElement,
                                                    hideCarodaUI: this.hideCarodaUI,
                                                    instream: this.instream,
                                                    language: targetingProfile.locale,
                                                    startMuted: this.muted,
                                                    thumbnailUrl: this.thumbnailUrl,
                                                    vast: this.vastContent,
                                                    volume: this.volume
                                                }),
                                                carodaConsole.info("ImaPlayer", ".play", "registering events"),
                                                this.iframePlayer.addEventListener("adCanPlay", function(e) {
                                                    carodaConsole.info("ImaPlayer", ".play", "on adCanPlay", e);
                                                    var t = r.extractAd(e.currentAd)
                                                        , n = t.vastMediaWidth / t.vastMediaHeight;
                                                    r.format = getVideoAdAspectRatio(n),
                                                        r.creativeMetadata = r.composeCreativeMetadata(t),
                                                        carodaConsole.info("ImaPlayer", ".play", "on adCanPlay", r.creativeMetadata),
                                                    r.excludeRepeated && r.excludeRepeated(stringify$2(r.creativeMetadata)),
                                                    r.adRejected || (r.resolvePendingCreativeMetadataPromise(),
                                                        r.containerElement.className += " loaded",
                                                        r.containerElement.parentElement.className += " adLoaded",
                                                        r.adCanPlay = !0)
                                                }),
                                                this.iframePlayer.addEventListener("adEnded", function() {
                                                    r.containerElement.classList.remove("loaded"),
                                                        r.renderReplayButton()
                                                }),
                                                this.iframePlayer.addEventListener("adError", function() {
                                                    r.error = !0,
                                                        r.containerElement.classList.remove("loaded"),
                                                        r.resolvePendingCreativeMetadataPromise(),
                                                        r.renderReplayButton()
                                                }),
                                                this.iframePlayer.addEventListener("log", function(e) {
                                                    return carodaConsole.info("ImaPlayer", ".play", "iframe", e.message)
                                                }),
                                                this.trackingHooks.forEach(function(e) {
                                                    return r.iframePlayer.addTrackingUrl(e.VastEvent, e.TrackingUrl)
                                                }),
                                                this.iframePlayer.addEventListener("tracking", function(e) {
                                                    var t = "impression" === e.eventName;
                                                    if (e.trackingUrls.forEach(function(e) {
                                                        return r.tracking.hitTrackingUrl(e, t)
                                                    }),
                                                        t) {
                                                        var n = (r.instream ? "impression_instream" : r.trackAsSlider && "impression_outstream_slider") || "impression_outstream";
                                                        r.tracking.hitPlayerEvent(n, [r.sspUrl, r.dspUrl], void 0, "ima_unknown"),
                                                            r.hadImpression = !0,
                                                        r.expireCache && r.expireCache().catch(function(e) {
                                                            return carodaConsole.warn("ImaPlayer", ".play", e)
                                                        })
                                                    }
                                                }),
                                                this.iframePlayer.addEventListener("volumeChanged", function(e) {
                                                    var t = e.volume;
                                                    r.volume = t
                                                }),
                                                t = null,
                                                this.iframePlayer.addEventListener("adError", function(e) {
                                                    t = e,
                                                        r.adEnded = !0
                                                }),
                                                this.iframePlayer.addEventListener("adEnded", function() {
                                                    r.adEnded = !0
                                                }),
                                                this.isFrozen ? [3, 2] : [4, waitFor(function() {
                                                    return !!r.disablePauseWhenOutOfView || isInVerticalView(r.containerElement) || r.adEnded
                                                })]);
                                    case 1:
                                        e.sent(),
                                            this.unfreeze(!this.muted),
                                            e.label = 2;
                                    case 2:
                                        return [4, waitFor(function() {
                                            return r.adEnded
                                        })];
                                    case 3:
                                        if (e.sent(),
                                        t && !this.hadImpression)
                                            throw carodaConsole.error("ImaPlayer", ".play", t),
                                                new Error("ima exception");
                                        return [2]
                                }
                            })
                        })
                    }
                        ,
                        e.prototype.destroy = function() {
                            carodaConsole.info("ImaPlayer", ".destroy");
                            try {
                                this.containerElement.parentElement && this.containerElement.parentElement.removeChild(this.containerElement)
                            } catch (e) {
                                carodaConsole.error("ImaPlayer", ".destroy", e)
                            }
                        }
                        ,
                        e.prototype.getVolume = function() {
                            return this.volumeChangedTriggered ? this.volume : this.muted ? 0 : this.volume
                        }
                        ,
                        e.prototype.setVolume = function(e) {
                            this.adEnded || (this.volume = e,
                                this.volumeChangedTriggered = !0,
                                this.iframePlayer.setVolume(e))
                        }
                        ,
                        e.prototype.getCreativeMetadata = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var n = this;
                                return __generator(this, function(e) {
                                    if (this.adRejected)
                                        throw new Error("ad rejected");
                                    if (this.error)
                                        throw new Error("ad errored");
                                    return this.creativeMetadata ? [2, this.creativeMetadata] : [2, new Promise(function(e, t) {
                                            n.creativeMetadataResolve = e,
                                                n.creativeMetadataReject = t
                                        }
                                    )]
                                })
                            })
                        }
                        ,
                        e.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        e.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        e.prototype.unfreeze = function(n) {
                            return void 0 === n && (n = !1),
                                __awaiter(this, void 0, void 0, function() {
                                    var t = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return carodaConsole.info("ImaPlayer", ".unfreeze", {
                                                    iframeLoaded: Boolean(this.iframePlayer),
                                                    unmute: n
                                                }),
                                                    this.adEnded ? [2] : isThere3rdPartyFullscreen(this.parentElement) ? (carodaConsole.info("ImaPlayer", ".unfreeze", "an element that is not an ancestor is in fullscreen mode"),
                                                        this.adEnded = !0,
                                                        [2]) : (n && (carodaConsole.info("ImaPlayer", ".unfreeze", "unmute"),
                                                        this.iframePlayer.unmute()),
                                                        this.iframePlayer.unfreeze(),
                                                        [4, waitFor(function() {
                                                            return t.adEnded
                                                        })]);
                                            case 1:
                                                return e.sent(),
                                                    [2]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.isError = function() {
                            return this.error
                        }
                        ,
                        e.prototype.canPlayAd = function() {
                            return this.adCanPlay
                        }
                        ,
                        e.prototype.waitForAdValid = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return t.canPlayAd() || t.isError() || t.adRejected
                                            })];
                                        case 1:
                                            if (e.sent(),
                                            this.error || this.adRejected)
                                                throw carodaConsole.error("ImaPlayer", ".waitForAdValid", {
                                                    error: this.error,
                                                    adRejected: this.adRejected
                                                }),
                                                    new Error("ima exception");
                                            return [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.waitForAdIndexed = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    return [2, waitFor(function() {
                                        return t.hadImpression || t.adEnded
                                    })]
                                })
                            })
                        }
                        ,
                        e.prototype.getParentElement = function() {
                            return this.parentElement
                        }
                        ,
                        e.prototype.getFormat = function() {
                            return this.format
                        }
                        ,
                        e.prototype.isValid = function() {
                            return this.adCanPlay || this.adEnded
                        }
                        ,
                        e.prototype.isEnded = function() {
                            return this.adEnded
                        }
                        ,
                        e.prototype.renderReplayButton = function() {
                            var e = this;
                            this.instream || !this.hadImpression || this.error || new ReplayButton(this.containerElement.parentElement,function() {
                                    return __awaiter(e, void 0, void 0, function() {
                                        return __generator(this, function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return this.campaignView.reset(),
                                                        this.error = !1,
                                                        this.adEnded = !1,
                                                        this.adCanPlay = !1,
                                                        this.hadImpression = !1,
                                                        this.play(),
                                                        [4, this.waitForAdValid()];
                                                case 1:
                                                    return e.sent(),
                                                        [2, !this.error]
                                            }
                                        })
                                    })
                                }
                            )
                        }
                        ,
                        e.prototype.composeCreativeMetadata = function(e) {
                            return {
                                description: e.description,
                                durationSeconds: e.duration,
                                id: e.adId,
                                supportsTrackingMultiplication: !1,
                                title: e.title
                            }
                        }
                        ,
                        e.prototype.resolvePendingCreativeMetadataPromise = function() {
                            this.creativeMetadataResolve ? this.adRejected ? this.creativeMetadataReject(new Error("ad rejected")) : this.error ? this.creativeMetadataReject(new Error("ad errored")) : (this.creativeMetadataResolve(this.creativeMetadata),
                                this.tracking.setCreativeMetadata(this.creativeMetadata)) : this.tracking.setCreativeMetadata(this.creativeMetadata)
                        }
                        ,
                        e.prototype.extractAd = function(e) {
                            return e[Object.keys(e)[0]]
                        }
                        ,
                        e
                }()
                    , SliderImaPlayer = function(r) {
                    function e(e, t, n) {
                        return carodaConsole.info("SliderImaPlayer", ".constructor", e.id, n),
                        r.call(this, e, t, __assign({}, n, {
                            isFrozen: !0
                        })) || this
                    }
                    return __extends(e, r),
                        e.prototype.renderReplayButton = function() {
                            carodaConsole.info("SliderImaPlayer", ".renderReplayButton", "not implemented")
                        }
                        ,
                        e
                }(ImaPlayer)
                    , commonjsGlobal = "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : {};
                function unwrapExports(e) {
                    return e && e.__esModule && Object.prototype.hasOwnProperty.call(e, "default") ? e.default : e
                }
                function createCommonjsModule(e, t) {
                    return e(t = {
                        exports: {}
                    }, t.exports),
                        t.exports
                }
                var nameStartChar = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/
                    , nameChar = new RegExp("[\\-\\.0-9" + nameStartChar.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]")
                    , tagNamePattern = new RegExp("^" + nameStartChar.source + nameChar.source + "*(?::" + nameStartChar.source + nameChar.source + "*)?$")
                    , S_TAG = 0
                    , S_ATTR = 1
                    , S_ATTR_SPACE = 2
                    , S_EQ = 3
                    , S_ATTR_NOQUOT_VALUE = 4
                    , S_ATTR_END = 5
                    , S_TAG_SPACE = 6
                    , S_TAG_CLOSE = 7;
                function XMLReader() {}
                function parse$2(n, e, r, i, a) {
                    function o(e) {
                        var t = e.slice(1, -1);
                        return t in r ? r[t] : "#" === t.charAt(0) ? function(e) {
                            if (65535 < e) {
                                var t = 55296 + ((e -= 65536) >> 10)
                                    , n = 56320 + (1023 & e);
                                return String.fromCharCode(t, n)
                            }
                            return String.fromCharCode(e)
                        }(parseInt(t.substr(1).replace("x", "0x"))) : (a.error("entity not found:" + e),
                            e)
                    }
                    function t(e) {
                        if (h < e) {
                            var t = n.substring(h, e).replace(/&#?\w+;/g, o);
                            d && s(h),
                                i.characters(t, 0, e - h),
                                h = e
                        }
                    }
                    function s(e, t) {
                        for (; c <= e && (t = l.exec(n)); )
                            u = t.index,
                                c = u + t[0].length,
                                d.lineNumber++;
                        d.columnNumber = e - u + 1
                    }
                    for (var u = 0, c = 0, l = /.*(?:\r\n?|\n)|.*$/g, d = i.locator, f = [{
                        currentNSMap: e
                    }], p = {}, h = 0; ; ) {
                        try {
                            var g = n.indexOf("<", h);
                            if (g < 0) {
                                if (!n.substr(h).match(/^\s*$/)) {
                                    var m = i.doc
                                        , y = m.createTextNode(n.substr(h));
                                    m.appendChild(y),
                                        i.currentElement = y
                                }
                                return
                            }
                            switch (h < g && t(g),
                                n.charAt(g + 1)) {
                                case "/":
                                    var v = n.indexOf(">", g + 3)
                                        , _ = n.substring(g + 2, v)
                                        , b = f.pop();
                                    v < 0 ? (_ = n.substring(g + 2).replace(/[\s<].*/, ""),
                                        a.error("end tag name: " + _ + " is not complete:" + b.tagName),
                                        v = g + 1 + _.length) : _.match(/\s</) && (_ = _.replace(/[\s<].*/, ""),
                                        a.error("end tag name: " + _ + " maybe not complete"),
                                        v = g + 1 + _.length);
                                    var w = b.localNSMap
                                        , C = b.tagName == _;
                                    if (C || b.tagName && b.tagName.toLowerCase() == _.toLowerCase()) {
                                        if (i.endElement(b.uri, b.localName, _),
                                            w)
                                            for (var E in w)
                                                i.endPrefixMapping(E);
                                        C || a.fatalError("end tag name: " + _ + " is not match the current start tagName:" + b.tagName)
                                    } else
                                        f.push(b);
                                    v++;
                                    break;
                                case "?":
                                    d && s(g),
                                        v = parseInstruction(n, g, i);
                                    break;
                                case "!":
                                    d && s(g),
                                        v = parseDCC(n, g, i, a);
                                    break;
                                default:
                                    d && s(g);
                                    var A = new ElementAttributes
                                        , P = f[f.length - 1].currentNSMap
                                        , T = (v = parseElementStartPart(n, g, A, P, o, a),
                                        A.length);
                                    if (!A.closed && fixSelfClosed(n, v, A.tagName, p) && (A.closed = !0,
                                    r.nbsp || a.warning("unclosed xml attribute")),
                                    d && T) {
                                        for (var S = copyLocator(d, {}), k = 0; k < T; k++) {
                                            var O = A[k];
                                            s(O.offset),
                                                O.locator = copyLocator(d, {})
                                        }
                                        i.locator = S,
                                        appendElement(A, i, P) && f.push(A),
                                            i.locator = d
                                    } else
                                        appendElement(A, i, P) && f.push(A);
                                    "http://www.w3.org/1999/xhtml" !== A.uri || A.closed ? v++ : v = parseHtmlSpecialContent(n, v, A.tagName, o, i)
                            }
                        } catch (e) {
                            a.error("element parse error: " + e),
                                v = -1
                        }
                        h < v ? h = v : t(Math.max(g, h) + 1)
                    }
                }
                function copyLocator(e, t) {
                    return t.lineNumber = e.lineNumber,
                        t.columnNumber = e.columnNumber,
                        t
                }
                function parseElementStartPart(e, t, n, r, i, a) {
                    for (var o, s = ++t, u = S_TAG; ; ) {
                        var c = e.charAt(s);
                        switch (c) {
                            case "=":
                                if (u === S_ATTR)
                                    o = e.slice(t, s),
                                        u = S_EQ;
                                else {
                                    if (u !== S_ATTR_SPACE)
                                        throw new Error("attribute equal must after attrName");
                                    u = S_EQ
                                }
                                break;
                            case "'":
                            case '"':
                                if (u === S_EQ || u === S_ATTR) {
                                    if (u === S_ATTR && (a.warning('attribute value must after "="'),
                                        o = e.slice(t, s)),
                                        t = s + 1,
                                        !(0 < (s = e.indexOf(c, t))))
                                        throw new Error("attribute value no end '" + c + "' match");
                                    l = e.slice(t, s).replace(/&#?\w+;/g, i),
                                        n.add(o, l, t - 1),
                                        u = S_ATTR_END
                                } else {
                                    if (u != S_ATTR_NOQUOT_VALUE)
                                        throw new Error('attribute value must after "="');
                                    l = e.slice(t, s).replace(/&#?\w+;/g, i),
                                        n.add(o, l, t),
                                        a.warning('attribute "' + o + '" missed start quot(' + c + ")!!"),
                                        t = s + 1,
                                        u = S_ATTR_END
                                }
                                break;
                            case "/":
                                switch (u) {
                                    case S_TAG:
                                        n.setTagName(e.slice(t, s));
                                    case S_ATTR_END:
                                    case S_TAG_SPACE:
                                    case S_TAG_CLOSE:
                                        u = S_TAG_CLOSE,
                                            n.closed = !0;
                                    case S_ATTR_NOQUOT_VALUE:
                                    case S_ATTR:
                                    case S_ATTR_SPACE:
                                        break;
                                    default:
                                        throw new Error("attribute invalid close char('/')")
                                }
                                break;
                            case "":
                                return a.error("unexpected end of input"),
                                u == S_TAG && n.setTagName(e.slice(t, s)),
                                    s;
                            case ">":
                                switch (u) {
                                    case S_TAG:
                                        n.setTagName(e.slice(t, s));
                                    case S_ATTR_END:
                                    case S_TAG_SPACE:
                                    case S_TAG_CLOSE:
                                        break;
                                    case S_ATTR_NOQUOT_VALUE:
                                    case S_ATTR:
                                        "/" === (l = e.slice(t, s)).slice(-1) && (n.closed = !0,
                                            l = l.slice(0, -1));
                                    case S_ATTR_SPACE:
                                        u === S_ATTR_SPACE && (l = o),
                                            u == S_ATTR_NOQUOT_VALUE ? (a.warning('attribute "' + l + '" missed quot(")!!'),
                                                n.add(o, l.replace(/&#?\w+;/g, i), t)) : ("http://www.w3.org/1999/xhtml" === r[""] && l.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + l + '" missed value!! "' + l + '" instead!!'),
                                                n.add(l, l, t));
                                        break;
                                    case S_EQ:
                                        throw new Error("attribute value missed!!")
                                }
                                return s;
                            case "":
                                c = " ";
                            default:
                                if (c <= " ")
                                    switch (u) {
                                        case S_TAG:
                                            n.setTagName(e.slice(t, s)),
                                                u = S_TAG_SPACE;
                                            break;
                                        case S_ATTR:
                                            o = e.slice(t, s),
                                                u = S_ATTR_SPACE;
                                            break;
                                        case S_ATTR_NOQUOT_VALUE:
                                            var l = e.slice(t, s).replace(/&#?\w+;/g, i);
                                            a.warning('attribute "' + l + '" missed quot(")!!'),
                                                n.add(o, l, t);
                                        case S_ATTR_END:
                                            u = S_TAG_SPACE
                                    }
                                else
                                    switch (u) {
                                        case S_ATTR_SPACE:
                                            n.tagName;
                                            "http://www.w3.org/1999/xhtml" === r[""] && o.match(/^(?:disabled|checked|selected)$/i) || a.warning('attribute "' + o + '" missed value!! "' + o + '" instead2!!'),
                                                n.add(o, o, t),
                                                t = s,
                                                u = S_ATTR;
                                            break;
                                        case S_ATTR_END:
                                            a.warning('attribute space is required"' + o + '"!!');
                                        case S_TAG_SPACE:
                                            u = S_ATTR,
                                                t = s;
                                            break;
                                        case S_EQ:
                                            u = S_ATTR_NOQUOT_VALUE,
                                                t = s;
                                            break;
                                        case S_TAG_CLOSE:
                                            throw new Error("elements closed character '/' and '>' must be connected to")
                                    }
                        }
                        s++
                    }
                }
                function appendElement(e, t, n) {
                    for (var r = e.tagName, i = null, a = e.length; a--; ) {
                        var o = e[a]
                            , s = o.qName
                            , u = o.value;
                        if (0 < (f = s.indexOf(":")))
                            var c = o.prefix = s.slice(0, f)
                                , l = s.slice(f + 1)
                                , d = "xmlns" === c && l;
                        else
                            c = null,
                                d = "xmlns" === (l = s) && "";
                        o.localName = l,
                        !1 !== d && (null == i && (i = {},
                            _copy(n, n = {})),
                            n[d] = i[d] = u,
                            o.uri = "http://www.w3.org/2000/xmlns/",
                            t.startPrefixMapping(d, u))
                    }
                    for (a = e.length; a--; ) {
                        (c = (o = e[a]).prefix) && ("xml" === c && (o.uri = "http://www.w3.org/XML/1998/namespace"),
                        "xmlns" !== c && (o.uri = n[c || ""]))
                    }
                    var f = r.indexOf(":");
                    l = e.localName = 0 < f ? (c = e.prefix = r.slice(0, f),
                        r.slice(f + 1)) : (c = null,
                        r);
                    var p = e.uri = n[c || ""];
                    if (t.startElement(p, l, r, e),
                        !e.closed)
                        return e.currentNSMap = n,
                            e.localNSMap = i,
                            !0;
                    if (t.endElement(p, l, r),
                        i)
                        for (c in i)
                            t.endPrefixMapping(c)
                }
                function parseHtmlSpecialContent(e, t, n, r, i) {
                    if (/^(?:script|textarea)$/i.test(n)) {
                        var a = e.indexOf("</" + n + ">", t)
                            , o = e.substring(t + 1, a);
                        if (/[&<]/.test(o))
                            return /^script$/i.test(n) || (o = o.replace(/&#?\w+;/g, r)),
                                i.characters(o, 0, o.length),
                                a
                    }
                    return t + 1
                }
                function fixSelfClosed(e, t, n, r) {
                    var i = r[n];
                    return null == i && ((i = e.lastIndexOf("</" + n + ">")) < t && (i = e.lastIndexOf("</" + n)),
                        r[n] = i),
                    i < t
                }
                function _copy(e, t) {
                    for (var n in e)
                        t[n] = e[n]
                }
                function parseDCC(e, t, n, r) {
                    switch (e.charAt(t + 2)) {
                        case "-":
                            return "-" !== e.charAt(t + 3) ? -1 : t < (i = e.indexOf("--\x3e", t + 4)) ? (n.comment(e, t + 4, i - t - 4),
                            i + 3) : (r.error("Unclosed comment"),
                                -1);
                        default:
                            if ("CDATA[" == e.substr(t + 3, 6)) {
                                var i = e.indexOf("]]>", t + 9);
                                return n.startCDATA(),
                                    n.characters(e, t + 9, i - t - 9),
                                    n.endCDATA(),
                                i + 3
                            }
                            var a = split(e, t)
                                , o = a.length;
                            if (1 < o && /!doctype/i.test(a[0][0])) {
                                var s = a[1][0]
                                    , u = 3 < o && /^public$/i.test(a[2][0]) && a[3][0]
                                    , c = 4 < o && a[4][0]
                                    , l = a[o - 1];
                                return n.startDTD(s, u && u.replace(/^(['"])(.*?)\1$/, "$2"), c && c.replace(/^(['"])(.*?)\1$/, "$2")),
                                    n.endDTD(),
                                l.index + l[0].length
                            }
                    }
                    return -1
                }
                function parseInstruction(e, t, n) {
                    var r = e.indexOf("?>", t);
                    if (r) {
                        var i = e.substring(t, r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
                        if (i) {
                            i[0].length;
                            return n.processingInstruction(i[1], i[2]),
                            r + 2
                        }
                        return -1
                    }
                    return -1
                }
                function ElementAttributes(e) {}
                function _set_proto_(e, t) {
                    return e.__proto__ = t,
                        e
                }
                function split(e, t) {
                    var n, r = [], i = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                    for (i.lastIndex = t,
                             i.exec(e); n = i.exec(e); )
                        if (r.push(n),
                            n[1])
                            return r
                }
                XMLReader.prototype = {
                    parse: function(e, t, n) {
                        var r = this.domBuilder;
                        r.startDocument(),
                            _copy(t, t = {}),
                            parse$2(e, t, n, r, this.errorHandler),
                            r.endDocument()
                    }
                },
                    ElementAttributes.prototype = {
                        setTagName: function(e) {
                            if (!tagNamePattern.test(e))
                                throw new Error("invalid tagName:" + e);
                            this.tagName = e
                        },
                        add: function(e, t, n) {
                            if (!tagNamePattern.test(e))
                                throw new Error("invalid attribute:" + e);
                            this[this.length++] = {
                                qName: e,
                                value: t,
                                offset: n
                            }
                        },
                        length: 0,
                        getLocalName: function(e) {
                            return this[e].localName
                        },
                        getLocator: function(e) {
                            return this[e].locator
                        },
                        getQName: function(e) {
                            return this[e].qName
                        },
                        getURI: function(e) {
                            return this[e].uri
                        },
                        getValue: function(e) {
                            return this[e].value
                        }
                    },
                _set_proto_({}, _set_proto_.prototype)instanceof _set_proto_ || (_set_proto_ = function(e, t) {
                        function n() {}
                        for (t in n.prototype = t,
                            n = new n,
                            e)
                            n[t] = e[t];
                        return n
                    }
                );
                var XMLReader_1 = XMLReader
                    , sax = {
                    XMLReader: XMLReader_1
                };
                function copy(e, t) {
                    for (var n in e)
                        t[n] = e[n]
                }
                function _extends(e, t) {
                    var n = e.prototype;
                    if (Object.create) {
                        var r = Object.create(t.prototype);
                        n.__proto__ = r
                    }
                    if (!(n instanceof t)) {
                        function i() {}
                        i.prototype = t.prototype,
                            copy(n, i = new i),
                            e.prototype = n = i
                    }
                    n.constructor != e && ("function" != typeof e && console.error("unknow Class:" + e),
                        n.constructor = e)
                }
                var htmlns = "http://www.w3.org/1999/xhtml"
                    , NodeType = {}
                    , ELEMENT_NODE = NodeType.ELEMENT_NODE = 1
                    , ATTRIBUTE_NODE = NodeType.ATTRIBUTE_NODE = 2
                    , TEXT_NODE = NodeType.TEXT_NODE = 3
                    , CDATA_SECTION_NODE = NodeType.CDATA_SECTION_NODE = 4
                    , ENTITY_REFERENCE_NODE = NodeType.ENTITY_REFERENCE_NODE = 5
                    , ENTITY_NODE = NodeType.ENTITY_NODE = 6
                    , PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7
                    , COMMENT_NODE = NodeType.COMMENT_NODE = 8
                    , DOCUMENT_NODE = NodeType.DOCUMENT_NODE = 9
                    , DOCUMENT_TYPE_NODE = NodeType.DOCUMENT_TYPE_NODE = 10
                    , DOCUMENT_FRAGMENT_NODE = NodeType.DOCUMENT_FRAGMENT_NODE = 11
                    , NOTATION_NODE = NodeType.NOTATION_NODE = 12
                    , ExceptionCode = {}
                    , ExceptionMessage = {}
                    , INDEX_SIZE_ERR = ExceptionCode.INDEX_SIZE_ERR = (ExceptionMessage[1] = "Index size error",
                    1)
                    , DOMSTRING_SIZE_ERR = ExceptionCode.DOMSTRING_SIZE_ERR = (ExceptionMessage[2] = "DOMString size error",
                    2)
                    , HIERARCHY_REQUEST_ERR = ExceptionCode.HIERARCHY_REQUEST_ERR = (ExceptionMessage[3] = "Hierarchy request error",
                    3)
                    , WRONG_DOCUMENT_ERR = ExceptionCode.WRONG_DOCUMENT_ERR = (ExceptionMessage[4] = "Wrong document",
                    4)
                    , INVALID_CHARACTER_ERR = ExceptionCode.INVALID_CHARACTER_ERR = (ExceptionMessage[5] = "Invalid character",
                    5)
                    , NO_DATA_ALLOWED_ERR = ExceptionCode.NO_DATA_ALLOWED_ERR = (ExceptionMessage[6] = "No data allowed",
                    6)
                    , NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = (ExceptionMessage[7] = "No modification allowed",
                    7)
                    , NOT_FOUND_ERR = ExceptionCode.NOT_FOUND_ERR = (ExceptionMessage[8] = "Not found",
                    8)
                    , NOT_SUPPORTED_ERR = ExceptionCode.NOT_SUPPORTED_ERR = (ExceptionMessage[9] = "Not supported",
                    9)
                    , INUSE_ATTRIBUTE_ERR = ExceptionCode.INUSE_ATTRIBUTE_ERR = (ExceptionMessage[10] = "Attribute in use",
                    10)
                    , INVALID_STATE_ERR = ExceptionCode.INVALID_STATE_ERR = (ExceptionMessage[11] = "Invalid state",
                    11)
                    , SYNTAX_ERR = ExceptionCode.SYNTAX_ERR = (ExceptionMessage[12] = "Syntax error",
                    12)
                    , INVALID_MODIFICATION_ERR = ExceptionCode.INVALID_MODIFICATION_ERR = (ExceptionMessage[13] = "Invalid modification",
                    13)
                    , NAMESPACE_ERR = ExceptionCode.NAMESPACE_ERR = (ExceptionMessage[14] = "Invalid namespace",
                    14)
                    , INVALID_ACCESS_ERR = ExceptionCode.INVALID_ACCESS_ERR = (ExceptionMessage[15] = "Invalid access",
                    15);
                function DOMException(e, t) {
                    if (t instanceof Error)
                        var n = t;
                    else
                        n = this,
                            Error.call(this, ExceptionMessage[e]),
                            this.message = ExceptionMessage[e],
                        Error.captureStackTrace && Error.captureStackTrace(this, DOMException);
                    return n.code = e,
                    t && (this.message = this.message + ": " + t),
                        n
                }
                function NodeList() {}
                function LiveNodeList(e, t) {
                    this._node = e,
                        this._refresh = t,
                        _updateLiveList(this)
                }
                function _updateLiveList(e) {
                    var t = e._node._inc || e._node.ownerDocument._inc;
                    if (e._inc != t) {
                        var n = e._refresh(e._node);
                        __set__(e, "length", n.length),
                            copy(n, e),
                            e._inc = t
                    }
                }
                function NamedNodeMap() {}
                function _findNodeIndex(e, t) {
                    for (var n = e.length; n--; )
                        if (e[n] === t)
                            return n
                }
                function _addNamedNode(e, t, n, r) {
                    if (r ? t[_findNodeIndex(t, r)] = n : t[t.length++] = n,
                        e) {
                        var i = (n.ownerElement = e).ownerDocument;
                        i && (r && _onRemoveAttribute(i, e, r),
                            _onAddAttribute(i, e, n))
                    }
                }
                function _removeNamedNode(e, t, n) {
                    var r = _findNodeIndex(t, n);
                    if (!(0 <= r))
                        throw DOMException(NOT_FOUND_ERR, new Error(e.tagName + "@" + n));
                    for (var i = t.length - 1; r < i; )
                        t[r] = t[++r];
                    if (t.length = i,
                        e) {
                        var a = e.ownerDocument;
                        a && (_onRemoveAttribute(a, e, n),
                            n.ownerElement = null)
                    }
                }
                function DOMImplementation(e) {
                    if (this._features = {},
                        e)
                        for (var t in e)
                            this._features = e[t]
                }
                function Node() {}
                function _xmlEncoder(e) {
                    return ("<" == e ? "&lt;" : ">" == e && "&gt;") || "&" == e && "&amp;" || '"' == e && "&quot;" || "&#" + e.charCodeAt() + ";"
                }
                function _visitNode(e, t) {
                    if (t(e))
                        return !0;
                    if (e = e.firstChild)
                        do {
                            if (_visitNode(e, t))
                                return !0
                        } while (e = e.nextSibling)
                }
                function Document() {}
                function _onAddAttribute(e, t, n) {
                    e && e._inc++,
                    "http://www.w3.org/2000/xmlns/" == n.namespaceURI && (t._nsMap[n.prefix ? n.localName : ""] = n.value)
                }
                function _onRemoveAttribute(e, t, n, r) {
                    e && e._inc++,
                    "http://www.w3.org/2000/xmlns/" == n.namespaceURI && delete t._nsMap[n.prefix ? n.localName : ""]
                }
                function _onUpdateChild(e, t, n) {
                    if (e && e._inc) {
                        e._inc++;
                        var r = t.childNodes;
                        if (n)
                            r[r.length++] = n;
                        else {
                            for (var i = t.firstChild, a = 0; i; )
                                i = (r[a++] = i).nextSibling;
                            r.length = a
                        }
                    }
                }
                function _removeChild(e, t) {
                    var n = t.previousSibling
                        , r = t.nextSibling;
                    return n ? n.nextSibling = r : e.firstChild = r,
                        r ? r.previousSibling = n : e.lastChild = n,
                        _onUpdateChild(e.ownerDocument, e),
                        t
                }
                function _insertBefore(e, t, n) {
                    var r = t.parentNode;
                    if (r && r.removeChild(t),
                    t.nodeType === DOCUMENT_FRAGMENT_NODE) {
                        var i = t.firstChild;
                        if (null == i)
                            return t;
                        var a = t.lastChild
                    } else
                        i = a = t;
                    var o = n ? n.previousSibling : e.lastChild;
                    for (i.previousSibling = o,
                             a.nextSibling = n,
                             o ? o.nextSibling = i : e.firstChild = i,
                             null == n ? e.lastChild = a : n.previousSibling = a; i.parentNode = e,
                         i !== a && (i = i.nextSibling); )
                        ;
                    return _onUpdateChild(e.ownerDocument || e, e),
                    t.nodeType == DOCUMENT_FRAGMENT_NODE && (t.firstChild = t.lastChild = null),
                        t
                }
                function _appendSingleChild(e, t) {
                    var n = t.parentNode;
                    if (n) {
                        var r = e.lastChild;
                        n.removeChild(t);
                        r = e.lastChild
                    }
                    r = e.lastChild;
                    return t.parentNode = e,
                        t.previousSibling = r,
                        t.nextSibling = null,
                        r ? r.nextSibling = t : e.firstChild = t,
                        e.lastChild = t,
                        _onUpdateChild(e.ownerDocument, e, t),
                        t
                }
                function Element() {
                    this._nsMap = {}
                }
                function Attr() {}
                function CharacterData() {}
                function Text() {}
                function Comment() {}
                function CDATASection() {}
                function DocumentType() {}
                function Notation() {}
                function Entity() {}
                function EntityReference() {}
                function DocumentFragment() {}
                function ProcessingInstruction() {}
                function XMLSerializer() {}
                function nodeSerializeToString(e, t) {
                    var n = []
                        , r = 9 == this.nodeType ? this.documentElement : this
                        , i = r.prefix
                        , a = r.namespaceURI;
                    if (a && null == i && null == (i = r.lookupPrefix(a)))
                        var o = [{
                            namespace: a,
                            prefix: null
                        }];
                    return serializeToString(this, n, e, t, o),
                        n.join("")
                }
                function needNamespaceDefine(e, t, n) {
                    var r = e.prefix || ""
                        , i = e.namespaceURI;
                    if (!r && !i)
                        return !1;
                    if ("xml" === r && "http://www.w3.org/XML/1998/namespace" === i || "http://www.w3.org/2000/xmlns/" == i)
                        return !1;
                    for (var a = n.length; a--; ) {
                        var o = n[a];
                        if (o.prefix == r)
                            return o.namespace != i
                    }
                    return !0
                }
                function serializeToString(e, t, n, r, i) {
                    if (r) {
                        if (!(e = r(e)))
                            return;
                        if ("string" == typeof e)
                            return void t.push(e)
                    }
                    switch (e.nodeType) {
                        case ELEMENT_NODE:
                            i || (i = []);
                            i.length;
                            var a = e.attributes
                                , o = a.length
                                , s = e.firstChild
                                , u = e.tagName;
                            n = htmlns === e.namespaceURI || n,
                                t.push("<", u);
                            for (var c = 0; c < o; c++) {
                                "xmlns" == (l = a.item(c)).prefix ? i.push({
                                    prefix: l.localName,
                                    namespace: l.value
                                }) : "xmlns" == l.nodeName && i.push({
                                    prefix: "",
                                    namespace: l.value
                                })
                            }
                            for (c = 0; c < o; c++) {
                                var l;
                                if (needNamespaceDefine(l = a.item(c), n, i)) {
                                    var d = l.prefix || ""
                                        , f = l.namespaceURI
                                        , p = d ? " xmlns:" + d : " xmlns";
                                    t.push(p, '="', f, '"'),
                                        i.push({
                                            prefix: d,
                                            namespace: f
                                        })
                                }
                                serializeToString(l, t, n, r, i)
                            }
                            if (needNamespaceDefine(e, n, i)) {
                                d = e.prefix || "",
                                    f = e.namespaceURI,
                                    p = d ? " xmlns:" + d : " xmlns";
                                t.push(p, '="', f, '"'),
                                    i.push({
                                        prefix: d,
                                        namespace: f
                                    })
                            }
                            if (s || n && !/^(?:meta|link|img|br|hr|input)$/i.test(u)) {
                                if (t.push(">"),
                                n && /^script$/i.test(u))
                                    for (; s; )
                                        s.data ? t.push(s.data) : serializeToString(s, t, n, r, i),
                                            s = s.nextSibling;
                                else
                                    for (; s; )
                                        serializeToString(s, t, n, r, i),
                                            s = s.nextSibling;
                                t.push("</", u, ">")
                            } else
                                t.push("/>");
                            return;
                        case DOCUMENT_NODE:
                        case DOCUMENT_FRAGMENT_NODE:
                            for (s = e.firstChild; s; )
                                serializeToString(s, t, n, r, i),
                                    s = s.nextSibling;
                            return;
                        case ATTRIBUTE_NODE:
                            return t.push(" ", e.name, '="', e.value.replace(/[<&"]/g, _xmlEncoder), '"');
                        case TEXT_NODE:
                            return t.push(e.data.replace(/[<&]/g, _xmlEncoder));
                        case CDATA_SECTION_NODE:
                            return t.push("<![CDATA[", e.data, "]]>");
                        case COMMENT_NODE:
                            return t.push("\x3c!--", e.data, "--\x3e");
                        case DOCUMENT_TYPE_NODE:
                            var h = e.publicId
                                , g = e.systemId;
                            if (t.push("<!DOCTYPE ", e.name),
                                h)
                                t.push(' PUBLIC "', h),
                                g && "." != g && t.push('" "', g),
                                    t.push('">');
                            else if (g && "." != g)
                                t.push(' SYSTEM "', g, '">');
                            else {
                                var m = e.internalSubset;
                                m && t.push(" [", m, "]"),
                                    t.push(">")
                            }
                            return;
                        case PROCESSING_INSTRUCTION_NODE:
                            return t.push("<?", e.target, " ", e.data, "?>");
                        case ENTITY_REFERENCE_NODE:
                            return t.push("&", e.nodeName, ";");
                        default:
                            t.push("??", e.nodeName)
                    }
                }
                function importNode(e, t, n) {
                    var r;
                    switch (t.nodeType) {
                        case ELEMENT_NODE:
                            (r = t.cloneNode(!1)).ownerDocument = e;
                        case DOCUMENT_FRAGMENT_NODE:
                            break;
                        case ATTRIBUTE_NODE:
                            n = !0
                    }
                    if (r || (r = t.cloneNode(!1)),
                        r.ownerDocument = e,
                        r.parentNode = null,
                        n)
                        for (var i = t.firstChild; i; )
                            r.appendChild(importNode(e, i, n)),
                                i = i.nextSibling;
                    return r
                }
                function cloneNode(e, t, n) {
                    var r = new t.constructor;
                    for (var i in t) {
                        var a = t[i];
                        "object" != typeof a && a != r[i] && (r[i] = a)
                    }
                    switch (t.childNodes && (r.childNodes = new NodeList),
                        r.ownerDocument = e,
                        r.nodeType) {
                        case ELEMENT_NODE:
                            var o = t.attributes
                                , s = r.attributes = new NamedNodeMap
                                , u = o.length;
                            s._ownerElement = r;
                            for (var c = 0; c < u; c++)
                                r.setAttributeNode(cloneNode(e, o.item(c), !0));
                            break;
                        case ATTRIBUTE_NODE:
                            n = !0
                    }
                    if (n)
                        for (var l = t.firstChild; l; )
                            r.appendChild(cloneNode(e, l, n)),
                                l = l.nextSibling;
                    return r
                }
                function __set__(e, t, n) {
                    e[t] = n
                }
                DOMException.prototype = Error.prototype,
                    copy(ExceptionCode, DOMException),
                    NodeList.prototype = {
                        length: 0,
                        item: function(e) {
                            return this[e] || null
                        },
                        toString: function(e, t) {
                            for (var n = [], r = 0; r < this.length; r++)
                                serializeToString(this[r], n, e, t);
                            return n.join("")
                        }
                    },
                    LiveNodeList.prototype.item = function(e) {
                        return _updateLiveList(this),
                            this[e]
                    }
                    ,
                    _extends(LiveNodeList, NodeList),
                    NamedNodeMap.prototype = {
                        length: 0,
                        item: NodeList.prototype.item,
                        getNamedItem: function(e) {
                            for (var t = this.length; t--; ) {
                                var n = this[t];
                                if (n.nodeName == e)
                                    return n
                            }
                        },
                        setNamedItem: function(e) {
                            var t = e.ownerElement;
                            if (t && t != this._ownerElement)
                                throw new DOMException(INUSE_ATTRIBUTE_ERR);
                            var n = this.getNamedItem(e.nodeName);
                            return _addNamedNode(this._ownerElement, this, e, n),
                                n
                        },
                        setNamedItemNS: function(e) {
                            var t, n = e.ownerElement;
                            if (n && n != this._ownerElement)
                                throw new DOMException(INUSE_ATTRIBUTE_ERR);
                            return t = this.getNamedItemNS(e.namespaceURI, e.localName),
                                _addNamedNode(this._ownerElement, this, e, t),
                                t
                        },
                        removeNamedItem: function(e) {
                            var t = this.getNamedItem(e);
                            return _removeNamedNode(this._ownerElement, this, t),
                                t
                        },
                        removeNamedItemNS: function(e, t) {
                            var n = this.getNamedItemNS(e, t);
                            return _removeNamedNode(this._ownerElement, this, n),
                                n
                        },
                        getNamedItemNS: function(e, t) {
                            for (var n = this.length; n--; ) {
                                var r = this[n];
                                if (r.localName == t && r.namespaceURI == e)
                                    return r
                            }
                            return null
                        }
                    },
                    DOMImplementation.prototype = {
                        hasFeature: function(e, t) {
                            var n = this._features[e.toLowerCase()];
                            return !(!n || t && !(t in n))
                        },
                        createDocument: function(e, t, n) {
                            var r = new Document;
                            if (r.implementation = this,
                                r.childNodes = new NodeList,
                            (r.doctype = n) && r.appendChild(n),
                                t) {
                                var i = r.createElementNS(e, t);
                                r.appendChild(i)
                            }
                            return r
                        },
                        createDocumentType: function(e, t, n) {
                            var r = new DocumentType;
                            return r.name = e,
                                r.nodeName = e,
                                r.publicId = t,
                                r.systemId = n,
                                r
                        }
                    },
                    Node.prototype = {
                        firstChild: null,
                        lastChild: null,
                        previousSibling: null,
                        nextSibling: null,
                        attributes: null,
                        parentNode: null,
                        childNodes: null,
                        ownerDocument: null,
                        nodeValue: null,
                        namespaceURI: null,
                        prefix: null,
                        localName: null,
                        insertBefore: function(e, t) {
                            return _insertBefore(this, e, t)
                        },
                        replaceChild: function(e, t) {
                            this.insertBefore(e, t),
                            t && this.removeChild(t)
                        },
                        removeChild: function(e) {
                            return _removeChild(this, e)
                        },
                        appendChild: function(e) {
                            return this.insertBefore(e, null)
                        },
                        hasChildNodes: function() {
                            return null != this.firstChild
                        },
                        cloneNode: function(e) {
                            return cloneNode(this.ownerDocument || this, this, e)
                        },
                        normalize: function() {
                            for (var e = this.firstChild; e; ) {
                                var t = e.nextSibling;
                                t && t.nodeType == TEXT_NODE && e.nodeType == TEXT_NODE ? (this.removeChild(t),
                                    e.appendData(t.data)) : (e.normalize(),
                                    e = t)
                            }
                        },
                        isSupported: function(e, t) {
                            return this.ownerDocument.implementation.hasFeature(e, t)
                        },
                        hasAttributes: function() {
                            return 0 < this.attributes.length
                        },
                        lookupPrefix: function(e) {
                            for (var t = this; t; ) {
                                var n = t._nsMap;
                                if (n)
                                    for (var r in n)
                                        if (n[r] == e)
                                            return r;
                                t = t.nodeType == ATTRIBUTE_NODE ? t.ownerDocument : t.parentNode
                            }
                            return null
                        },
                        lookupNamespaceURI: function(e) {
                            for (var t = this; t; ) {
                                var n = t._nsMap;
                                if (n && e in n)
                                    return n[e];
                                t = t.nodeType == ATTRIBUTE_NODE ? t.ownerDocument : t.parentNode
                            }
                            return null
                        },
                        isDefaultNamespace: function(e) {
                            return null == this.lookupPrefix(e)
                        }
                    },
                    copy(NodeType, Node),
                    copy(NodeType, Node.prototype),
                    Document.prototype = {
                        nodeName: "#document",
                        nodeType: DOCUMENT_NODE,
                        doctype: null,
                        documentElement: null,
                        _inc: 1,
                        insertBefore: function(e, t) {
                            if (e.nodeType != DOCUMENT_FRAGMENT_NODE)
                                return null == this.documentElement && e.nodeType == ELEMENT_NODE && (this.documentElement = e),
                                    _insertBefore(this, e, t),
                                    e.ownerDocument = this,
                                    e;
                            for (var n = e.firstChild; n; ) {
                                var r = n.nextSibling;
                                this.insertBefore(n, t),
                                    n = r
                            }
                            return e
                        },
                        removeChild: function(e) {
                            return this.documentElement == e && (this.documentElement = null),
                                _removeChild(this, e)
                        },
                        importNode: function(e, t) {
                            return importNode(this, e, t)
                        },
                        getElementById: function(t) {
                            var n = null;
                            return _visitNode(this.documentElement, function(e) {
                                if (e.nodeType == ELEMENT_NODE && e.getAttribute("id") == t)
                                    return n = e,
                                        !0
                            }),
                                n
                        },
                        createElement: function(e) {
                            var t = new Element;
                            return t.ownerDocument = this,
                                t.nodeName = e,
                                t.tagName = e,
                                t.childNodes = new NodeList,
                                (t.attributes = new NamedNodeMap)._ownerElement = t
                        },
                        createDocumentFragment: function() {
                            var e = new DocumentFragment;
                            return e.ownerDocument = this,
                                e.childNodes = new NodeList,
                                e
                        },
                        createTextNode: function(e) {
                            var t = new Text;
                            return t.ownerDocument = this,
                                t.appendData(e),
                                t
                        },
                        createComment: function(e) {
                            var t = new Comment;
                            return t.ownerDocument = this,
                                t.appendData(e),
                                t
                        },
                        createCDATASection: function(e) {
                            var t = new CDATASection;
                            return t.ownerDocument = this,
                                t.appendData(e),
                                t
                        },
                        createProcessingInstruction: function(e, t) {
                            var n = new ProcessingInstruction;
                            return n.ownerDocument = this,
                                n.tagName = n.target = e,
                                n.nodeValue = n.data = t,
                                n
                        },
                        createAttribute: function(e) {
                            var t = new Attr;
                            return t.ownerDocument = this,
                                t.name = e,
                                t.nodeName = e,
                                t.localName = e,
                                t.specified = !0,
                                t
                        },
                        createEntityReference: function(e) {
                            var t = new EntityReference;
                            return t.ownerDocument = this,
                                t.nodeName = e,
                                t
                        },
                        createElementNS: function(e, t) {
                            var n = new Element
                                , r = t.split(":")
                                , i = n.attributes = new NamedNodeMap;
                            return n.childNodes = new NodeList,
                                n.ownerDocument = this,
                                n.nodeName = t,
                                n.tagName = t,
                                n.namespaceURI = e,
                                2 == r.length ? (n.prefix = r[0],
                                    n.localName = r[1]) : n.localName = t,
                                i._ownerElement = n
                        },
                        createAttributeNS: function(e, t) {
                            var n = new Attr
                                , r = t.split(":");
                            return n.ownerDocument = this,
                                n.nodeName = t,
                                n.name = t,
                                n.namespaceURI = e,
                                n.specified = !0,
                                2 == r.length ? (n.prefix = r[0],
                                    n.localName = r[1]) : n.localName = t,
                                n
                        }
                    },
                    _extends(Document, Node),
                    Element.prototype = {
                        nodeType: ELEMENT_NODE,
                        hasAttribute: function(e) {
                            return null != this.getAttributeNode(e)
                        },
                        getAttribute: function(e) {
                            var t = this.getAttributeNode(e);
                            return t && t.value || ""
                        },
                        getAttributeNode: function(e) {
                            return this.attributes.getNamedItem(e)
                        },
                        setAttribute: function(e, t) {
                            var n = this.ownerDocument.createAttribute(e);
                            n.value = n.nodeValue = "" + t,
                                this.setAttributeNode(n)
                        },
                        removeAttribute: function(e) {
                            var t = this.getAttributeNode(e);
                            t && this.removeAttributeNode(t)
                        },
                        appendChild: function(e) {
                            return e.nodeType === DOCUMENT_FRAGMENT_NODE ? this.insertBefore(e, null) : _appendSingleChild(this, e)
                        },
                        setAttributeNode: function(e) {
                            return this.attributes.setNamedItem(e)
                        },
                        setAttributeNodeNS: function(e) {
                            return this.attributes.setNamedItemNS(e)
                        },
                        removeAttributeNode: function(e) {
                            return this.attributes.removeNamedItem(e.nodeName)
                        },
                        removeAttributeNS: function(e, t) {
                            var n = this.getAttributeNodeNS(e, t);
                            n && this.removeAttributeNode(n)
                        },
                        hasAttributeNS: function(e, t) {
                            return null != this.getAttributeNodeNS(e, t)
                        },
                        getAttributeNS: function(e, t) {
                            var n = this.getAttributeNodeNS(e, t);
                            return n && n.value || ""
                        },
                        setAttributeNS: function(e, t, n) {
                            var r = this.ownerDocument.createAttributeNS(e, t);
                            r.value = r.nodeValue = "" + n,
                                this.setAttributeNode(r)
                        },
                        getAttributeNodeNS: function(e, t) {
                            return this.attributes.getNamedItemNS(e, t)
                        },
                        getElementsByTagName: function(r) {
                            return new LiveNodeList(this,function(t) {
                                    var n = [];
                                    return _visitNode(t, function(e) {
                                        e === t || e.nodeType != ELEMENT_NODE || "*" !== r && e.tagName != r || n.push(e)
                                    }),
                                        n
                                }
                            )
                        },
                        getElementsByTagNameNS: function(r, i) {
                            return new LiveNodeList(this,function(t) {
                                    var n = [];
                                    return _visitNode(t, function(e) {
                                        e === t || e.nodeType !== ELEMENT_NODE || "*" !== r && e.namespaceURI !== r || "*" !== i && e.localName != i || n.push(e)
                                    }),
                                        n
                                }
                            )
                        }
                    },
                    Document.prototype.getElementsByTagName = Element.prototype.getElementsByTagName,
                    Document.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS,
                    _extends(Element, Node),
                    Attr.prototype.nodeType = ATTRIBUTE_NODE,
                    _extends(Attr, Node),
                    CharacterData.prototype = {
                        data: "",
                        substringData: function(e, t) {
                            return this.data.substring(e, e + t)
                        },
                        appendData: function(e) {
                            e = this.data + e,
                                this.nodeValue = this.data = e,
                                this.length = e.length
                        },
                        insertData: function(e, t) {
                            this.replaceData(e, 0, t)
                        },
                        appendChild: function(e) {
                            throw new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])
                        },
                        deleteData: function(e, t) {
                            this.replaceData(e, t, "")
                        },
                        replaceData: function(e, t, n) {
                            n = this.data.substring(0, e) + n + this.data.substring(e + t),
                                this.nodeValue = this.data = n,
                                this.length = n.length
                        }
                    },
                    _extends(CharacterData, Node),
                    Text.prototype = {
                        nodeName: "#text",
                        nodeType: TEXT_NODE,
                        splitText: function(e) {
                            var t = this.data
                                , n = t.substring(e);
                            t = t.substring(0, e),
                                this.data = this.nodeValue = t,
                                this.length = t.length;
                            var r = this.ownerDocument.createTextNode(n);
                            return this.parentNode && this.parentNode.insertBefore(r, this.nextSibling),
                                r
                        }
                    },
                    _extends(Text, CharacterData),
                    Comment.prototype = {
                        nodeName: "#comment",
                        nodeType: COMMENT_NODE
                    },
                    _extends(Comment, CharacterData),
                    CDATASection.prototype = {
                        nodeName: "#cdata-section",
                        nodeType: CDATA_SECTION_NODE
                    },
                    _extends(CDATASection, CharacterData),
                    DocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE,
                    _extends(DocumentType, Node),
                    Notation.prototype.nodeType = NOTATION_NODE,
                    _extends(Notation, Node),
                    Entity.prototype.nodeType = ENTITY_NODE,
                    _extends(Entity, Node),
                    EntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE,
                    _extends(EntityReference, Node),
                    DocumentFragment.prototype.nodeName = "#document-fragment",
                    DocumentFragment.prototype.nodeType = DOCUMENT_FRAGMENT_NODE,
                    _extends(DocumentFragment, Node),
                    ProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE,
                    _extends(ProcessingInstruction, Node),
                    XMLSerializer.prototype.serializeToString = function(e, t, n) {
                        return nodeSerializeToString.call(e, t, n)
                    }
                    ,
                    Node.prototype.toString = nodeSerializeToString;
                try {
                    if (Object.defineProperty) {
                        function getTextContent(e) {
                            switch (e.nodeType) {
                                case ELEMENT_NODE:
                                case DOCUMENT_FRAGMENT_NODE:
                                    var t = [];
                                    for (e = e.firstChild; e; )
                                        7 !== e.nodeType && 8 !== e.nodeType && t.push(getTextContent(e)),
                                            e = e.nextSibling;
                                    return t.join("");
                                default:
                                    return e.nodeValue
                            }
                        }
                        Object.defineProperty(LiveNodeList.prototype, "length", {
                            get: function() {
                                return _updateLiveList(this),
                                    this.$$length
                            }
                        }),
                            Object.defineProperty(Node.prototype, "textContent", {
                                get: function() {
                                    return getTextContent(this)
                                },
                                set: function(e) {
                                    switch (this.nodeType) {
                                        case ELEMENT_NODE:
                                        case DOCUMENT_FRAGMENT_NODE:
                                            for (; this.firstChild; )
                                                this.removeChild(this.firstChild);
                                            (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                                            break;
                                        default:
                                            this.data = e,
                                                this.value = e,
                                                this.nodeValue = e
                                    }
                                }
                            }),
                            __set__ = function(e, t, n) {
                                e["$$" + t] = n
                            }
                    }
                } catch (e) {}
                var DOMImplementation_1 = DOMImplementation
                    , XMLSerializer_1 = XMLSerializer
                    , dom = {
                    DOMImplementation: DOMImplementation_1,
                    XMLSerializer: XMLSerializer_1
                }
                    , domParser = createCommonjsModule(function(e, t) {
                    function n(e) {
                        this.options = e || {
                            locator: {}
                        }
                    }
                    function c() {
                        this.cdata = !1
                    }
                    function l(e, t) {
                        t.lineNumber = e.lineNumber,
                            t.columnNumber = e.columnNumber
                    }
                    function d(e) {
                        if (e)
                            return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]"
                    }
                    function i(e, t, n) {
                        return "string" == typeof e ? e.substr(t, n) : e.length >= t + n || t ? new java.lang.String(e,t,n) + "" : e
                    }
                    function f(e, t) {
                        e.currentElement ? e.currentElement.appendChild(t) : e.doc.appendChild(t)
                    }
                    n.prototype.parseFromString = function(e, t) {
                        var n = this.options
                            , r = new p
                            , i = n.domBuilder || new c
                            , a = n.errorHandler
                            , o = n.locator
                            , s = n.xmlns || {}
                            , u = {
                            lt: "<",
                            gt: ">",
                            amp: "&",
                            quot: '"',
                            apos: "'"
                        };
                        return o && i.setDocumentLocator(o),
                            r.errorHandler = function(r, e, i) {
                                if (!r) {
                                    if (e instanceof c)
                                        return e;
                                    r = e
                                }
                                var a = {}
                                    , o = r instanceof Function;
                                function t(t) {
                                    var n = r[t];
                                    !n && o && (n = 2 == r.length ? function(e) {
                                            r(t, e)
                                        }
                                        : r),
                                        a[t] = n && function(e) {
                                                n("[xmldom " + t + "]\t" + e + d(i))
                                            }
                                            || function() {}
                                }
                                return i = i || {},
                                    t("warning"),
                                    t("error"),
                                    t("fatalError"),
                                    a
                            }(a, i, o),
                            r.domBuilder = n.domBuilder || i,
                        /\/x?html?$/.test(t) && (u.nbsp = "",
                            u.copy = "",
                            s[""] = "http://www.w3.org/1999/xhtml"),
                            s.xml = s.xml || "http://www.w3.org/XML/1998/namespace",
                            e ? r.parse(e, s, u) : r.errorHandler.error("invalid doc source"),
                            i.doc
                    }
                        ,
                        c.prototype = {
                            startDocument: function() {
                                this.doc = (new r).createDocument(null, null, null),
                                this.locator && (this.doc.documentURI = this.locator.systemId)
                            },
                            startElement: function(e, t, n, r) {
                                var i = this.doc
                                    , a = i.createElementNS(e, n || t)
                                    , o = r.length;
                                f(this, a),
                                    this.currentElement = a,
                                this.locator && l(this.locator, a);
                                for (var s = 0; s < o; s++) {
                                    e = r.getURI(s);
                                    var u = r.getValue(s)
                                        , c = (n = r.getQName(s),
                                        i.createAttributeNS(e, n));
                                    this.locator && l(r.getLocator(s), c),
                                        c.value = c.nodeValue = u,
                                        a.setAttributeNode(c)
                                }
                            },
                            endElement: function(e, t, n) {
                                var r = this.currentElement;
                                r.tagName;
                                this.currentElement = r.parentNode
                            },
                            startPrefixMapping: function(e, t) {},
                            endPrefixMapping: function(e) {},
                            processingInstruction: function(e, t) {
                                var n = this.doc.createProcessingInstruction(e, t);
                                this.locator && l(this.locator, n),
                                    f(this, n)
                            },
                            ignorableWhitespace: function(e, t, n) {},
                            characters: function(e, t, n) {
                                if (e = i.apply(this, arguments)) {
                                    if (this.cdata)
                                        var r = this.doc.createCDATASection(e);
                                    else
                                        r = this.doc.createTextNode(e);
                                    this.currentElement ? this.currentElement.appendChild(r) : /^\s*$/.test(e) && this.doc.appendChild(r),
                                    this.locator && l(this.locator, r)
                                }
                            },
                            skippedEntity: function(e) {},
                            endDocument: function() {
                                this.doc.normalize()
                            },
                            setDocumentLocator: function(e) {
                                (this.locator = e) && (e.lineNumber = 0)
                            },
                            comment: function(e, t, n) {
                                e = i.apply(this, arguments);
                                var r = this.doc.createComment(e);
                                this.locator && l(this.locator, r),
                                    f(this, r)
                            },
                            startCDATA: function() {
                                this.cdata = !0
                            },
                            endCDATA: function() {
                                this.cdata = !1
                            },
                            startDTD: function(e, t, n) {
                                var r = this.doc.implementation;
                                if (r && r.createDocumentType) {
                                    var i = r.createDocumentType(e, t, n);
                                    this.locator && l(this.locator, i),
                                        f(this, i)
                                }
                            },
                            warning: function(e) {
                                console.warn("[xmldom warning]\t" + e, d(this.locator))
                            },
                            error: function(e) {
                                console.error("[xmldom error]\t" + e, d(this.locator))
                            },
                            fatalError: function(e) {
                                throw console.error("[xmldom fatalError]\t" + e, d(this.locator)),
                                    e
                            }
                        },
                        "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, function(e) {
                            c.prototype[e] = function() {
                                return null
                            }
                        });
                    var p = sax.XMLReader
                        , r = t.DOMImplementation = dom.DOMImplementation;
                    t.XMLSerializer = dom.XMLSerializer,
                        t.DOMParser = n
                })
                    , domParser_1 = domParser.DOMImplementation
                    , domParser_2 = domParser.XMLSerializer
                    , domParser_3 = domParser.DOMParser
                    , dom$1 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function(t) {
                        return function(e) {
                            return e.nodeType === t
                        }
                    }
                        , r = (t.isElement = n(1),
                        t.isText = n(3))
                        , i = t.isCdata = n(4)
                        , a = t.getChildren = function(e, t) {
                        return Array.prototype.filter.call(e.childNodes, t)
                    }
                        , o = function(e) {
                        return r(e) || i(e)
                    };
                    t.getText = function(e) {
                        return a(e, o).map(function(e) {
                            return e.nodeValue
                        }).join("").trim()
                    }
                });
                unwrapExports(dom$1);
                var dom_1 = dom$1.isElement
                    , dom_2 = dom$1.isText
                    , dom_3 = dom$1.isCdata
                    , dom_4 = dom$1.getChildren
                    , dom_5 = dom$1.getText
                    , types = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = {
                            bool: "b",
                            int: "i",
                            float: "f",
                            time: "t"
                        }
                });
                unwrapExports(types);
                var parseTime = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = /^\s*(\d+):(\d+):(\d+(?:\.\d+)?)\s*$/;
                    t.default = function(e) {
                        var t = n.exec(e);
                        if (null == t)
                            throw new Error('Failed to parse time "' + e + '"');
                        return 60 * (60 * parseInt(t[1], 10) + parseInt(t[2], 10)) + parseFloat(t[3])
                    }
                });
                unwrapExports(parseTime);
                var convertors = createCommonjsModule(function(e, t) {
                    var n;
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var r = a(types)
                        , i = a(parseTime);
                    function a(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    function o(e, t, n) {
                        return t in e ? Object.defineProperty(e, t, {
                            value: n,
                            enumerable: !0,
                            configurable: !0,
                            writable: !0
                        }) : e[t] = n,
                            e
                    }
                    t.default = (o(n = {}, r.default.bool, function(e) {
                        return "true" === e || "1" === e
                    }),
                        o(n, r.default.int, function(e) {
                            return parseInt(e, 10)
                        }),
                        o(n, r.default.float, parseFloat),
                        o(n, r.default.time, i.default),
                        n)
                });
                unwrapExports(convertors);
                var unmarshaler = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, r = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }(), a = (n = convertors) && n.__esModule ? n : {
                        default: n
                    };
                    var i, o, s = (i = /^[A-Z]+/,
                            o = function(e) {
                                return 1 === e.length ? e.toLowerCase() : e.substr(0, e.length - 1).toLowerCase() + e.charAt(e.length - 1)
                            }
                            ,
                            function(e) {
                                return e.replace(i, o)
                            }
                    ), u = function(e, t, n) {
                        return null != e[t] && ~e[t].indexOf(n)
                    }, c = function() {
                        function i(e) {
                            var t = e.collections
                                , n = e.freeforms
                                , r = e.types;
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, i),
                                this._collections = t,
                                this._freeforms = n,
                                this._types = r
                        }
                        return r(i, [{
                            key: "unmarshal",
                            value: function(e) {
                                return this._createNode(e)
                            }
                        }, {
                            key: "_createNode",
                            value: function(e) {
                                var t = Object.create(null);
                                return t._value = this._convertPropertyValue((0,
                                    dom$1.getText)(e), e.nodeName, "_value"),
                                    this._copyAttributes(t, e),
                                    this._createCollections(t, e),
                                    this._createChildren(t, e),
                                    t
                            }
                        }, {
                            key: "_createFreeformNode",
                            value: function(e) {
                                var t = Object.create(null);
                                return this._copyAttributes(t, e),
                                    t._value = e,
                                    t
                            }
                        }, {
                            key: "_copyAttributes",
                            value: function(e, t) {
                                for (var n = t.nodeName, r = 0; r < t.attributes.length; ++r) {
                                    var i = t.attributes[r]
                                        , a = i.nodeName
                                        , o = i.nodeValue;
                                    e[a] = this._convertPropertyValue(o, n, a)
                                }
                            }
                        }, {
                            key: "_createCollections",
                            value: function(t, e) {
                                null != this._collections[e.nodeName] && this._collections[e.nodeName].forEach(function(e) {
                                    t[s(e)] = []
                                })
                            }
                        }, {
                            key: "_createChildren",
                            value: function(r, e) {
                                var i = this
                                    , a = e.nodeName;
                                (0,
                                    dom$1.getChildren)(e, dom$1.isElement).forEach(function(e) {
                                    var t = e.nodeName
                                        , n = s(t);
                                    i._isFreeformParent(a) ? i._isFreeformChild(a, t) && i._addFreeformChild(e, n, r) : i._addNodeChild(e, n, r, a, t)
                                })
                            }
                        }, {
                            key: "_addNodeChild",
                            value: function(e, t, n, r, i) {
                                var a = this._createNode(e);
                                if (null == n[t])
                                    n[t] = a;
                                else {
                                    if (!this._isCollection(r, i))
                                        throw new Error("Multiple values for " + r + "." + i);
                                    n[t].push(a)
                                }
                            }
                        }, {
                            key: "_addFreeformChild",
                            value: function(e, t, n) {
                                n[t] = n[t] || [],
                                    n[t].push(this._createFreeformNode(e))
                            }
                        }, {
                            key: "_convertPropertyValue",
                            value: function(e, t, n) {
                                var r = null != this._types[t] ? this._types[t][n] : null;
                                return null != r ? a.default[r](e) : e
                            }
                        }, {
                            key: "_isCollection",
                            value: function(e, t) {
                                return u(this._collections, e, t)
                            }
                        }, {
                            key: "_isFreeformParent",
                            value: function(e) {
                                return null != this._freeforms[e]
                            }
                        }, {
                            key: "_isFreeformChild",
                            value: function(e, t) {
                                return u(this._freeforms, e, t)
                            }
                        }]),
                            i
                    }();
                    t.default = c
                });
                unwrapExports(unmarshaler);
                var schema = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, r = (n = types) && n.__esModule ? n : {
                        default: n
                    };
                    var i = {
                        Ad: {
                            sequence: r.default.int
                        },
                        AdParameters: {
                            xmlEncoded: r.default.bool
                        },
                        Companion: {
                            width: r.default.int,
                            height: r.default.int,
                            expandedWidth: r.default.int,
                            expandedHeight: r.default.int
                        },
                        Creative: {
                            sequence: r.default.int
                        },
                        Duration: {
                            _value: r.default.time
                        },
                        Icon: {
                            width: r.default.int,
                            height: r.default.int,
                            offset: r.default.time,
                            duration: r.default.time
                        },
                        MediaFile: {
                            bitrate: r.default.int,
                            minBitrate: r.default.int,
                            maxBitrate: r.default.int,
                            width: r.default.int,
                            height: r.default.int,
                            scalable: r.default.bool,
                            maintainAspectRatio: r.default.bool
                        },
                        NonLinear: {
                            width: r.default.int,
                            height: r.default.int,
                            assetWidth: r.default.int,
                            assetHeight: r.default.int,
                            expandedWidth: r.default.int,
                            expandedHeight: r.default.int,
                            scalable: r.default.bool,
                            maintainAspectRatio: r.default.bool,
                            minSuggestedDuration: r.default.time
                        },
                        Pricing: {
                            _value: r.default.float
                        },
                        Wrapper: {
                            followAdditionalWrappers: r.default.bool,
                            allowMultipleAds: r.default.bool,
                            fallbackOnNoAd: r.default.bool
                        }
                    };
                    t.default = {
                        collections: {
                            AdVerifications: ["Verification"],
                            Companion: ["CompanionClickTracking"],
                            CompanionAds: ["Companion"],
                            CreativeExtensions: ["CreativeExtension"],
                            Creatives: ["Creative"],
                            Extensions: ["Extension"],
                            Icon: ["IconViewTracking"],
                            IconClicks: ["IconClickTracking"],
                            Icons: ["Icon"],
                            InLine: ["Category", "Error", "Impression", "Survey"],
                            MediaFiles: ["MediaFile", "InteractiveCreativeFile"],
                            NonLinear: ["NonLinearClickTracking"],
                            NonLinearAds: ["NonLinear"],
                            TrackingEvents: ["Tracking"],
                            VAST: ["Error", "Ad"],
                            Verification: ["JavaScriptResource", "FlashResource"],
                            ViewableImpression: ["Viewable", "NotViewable", "ViewUndetermined"],
                            VideoClicks: ["ClickTracking", "CustomClick"],
                            Wrapper: ["Impression", "Error"]
                        },
                        freeforms: {
                            CreativeExtensions: ["CreativeExtension"],
                            Extensions: ["Extension"]
                        },
                        types: i
                    }
                });
                unwrapExports(schema);
                var sortedListItem = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.SortedListItem = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._sequence = null
                        }
                        return n(e, [{
                            key: "sequence",
                            get: function() {
                                return this._sequence
                            },
                            set: function(e) {
                                this._sequence = e
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(sortedListItem);
                var sortedListItem_1 = sortedListItem.SortedListItem
                    , sortedList = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.SortedList = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._contents = []
                        }
                        return n(e, [{
                            key: "add",
                            value: function(e) {
                                this._contents.push(e),
                                    this._contents.sort(function(e, t) {
                                        return (e.sequence || 0) - (t.sequence || 0)
                                    })
                            }
                        }, {
                            key: "remove",
                            value: function(e) {
                                for (var t = this._contents.indexOf(e); 0 <= t; )
                                    this._contents.splice(t, 1),
                                        t = this._contents.indexOf(e, t)
                            }
                        }, {
                            key: "get",
                            value: function(e) {
                                return this._contents[e]
                            }
                        }, {
                            key: "clear",
                            value: function() {
                                this._contents.length = 0
                            }
                        }, {
                            key: Symbol.iterator,
                            value: function() {
                                var e = this
                                    , t = 0;
                                return {
                                    next: function() {
                                        return t < e.length ? {
                                            value: e.get(t++),
                                            done: !1
                                        } : {
                                            value: void 0,
                                            done: !0
                                        }
                                    }
                                }
                            }
                        }, {
                            key: "toArray",
                            value: function() {
                                return this._contents.slice()
                            }
                        }, {
                            key: "length",
                            get: function() {
                                return this._contents.length
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "SortedList"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(sortedList);
                var sortedList_1 = sortedList.SortedList
                    , abstract_1 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.AbstractAd = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractAd = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._id = null,
                                e._conditionalAd = !1,
                                e._adSystem = null,
                                e._impressions = [],
                                e._pricing = null,
                                e._errors = [],
                                e._viewableImpression = null,
                                e._verifications = [],
                                e._extensions = [],
                                e._creatives = new sortedList.SortedList,
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, sortedListItem.SortedListItem),
                            n(t, [{
                                key: "id",
                                get: function() {
                                    return this._id
                                },
                                set: function(e) {
                                    this._id = e
                                }
                            }, {
                                key: "conditionalAd",
                                get: function() {
                                    return this._conditionalAd
                                },
                                set: function(e) {
                                    this._conditionalAd = e
                                }
                            }, {
                                key: "adSystem",
                                get: function() {
                                    return this._adSystem
                                },
                                set: function(e) {
                                    this._adSystem = e
                                }
                            }, {
                                key: "impressions",
                                get: function() {
                                    return this._impressions
                                }
                            }, {
                                key: "pricing",
                                get: function() {
                                    return this._pricing
                                },
                                set: function(e) {
                                    this._pricing = e
                                }
                            }, {
                                key: "errors",
                                get: function() {
                                    return this._errors
                                }
                            }, {
                                key: "viewableImpression",
                                get: function() {
                                    return this._viewableImpression
                                },
                                set: function(e) {
                                    this._viewableImpression = e
                                }
                            }, {
                                key: "verifications",
                                get: function() {
                                    return this._verifications
                                }
                            }, {
                                key: "extensions",
                                get: function() {
                                    return this._extensions
                                }
                            }, {
                                key: "creatives",
                                get: function() {
                                    return this._creatives
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(abstract_1);
                var abstract_2 = abstract_1.AbstractAd
                    , inLine = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.InLine = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.InLine = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._adTitle = null,
                                e._categories = [],
                                e._description = null,
                                e._surveys = [],
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1.AbstractAd),
                            n(t, [{
                                key: "adTitle",
                                get: function() {
                                    return this._adTitle
                                },
                                set: function(e) {
                                    this._adTitle = e
                                }
                            }, {
                                key: "categories",
                                get: function() {
                                    return this._categories
                                }
                            }, {
                                key: "description",
                                get: function() {
                                    return this._description
                                },
                                set: function(e) {
                                    this._description = e
                                }
                            }, {
                                key: "advertiser",
                                get: function() {
                                    return this._advertiser
                                },
                                set: function(e) {
                                    this._advertiser = e
                                }
                            }, {
                                key: "surveys",
                                get: function() {
                                    return this._surveys
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "InLine"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(inLine);
                var inLine_1 = inLine.InLine
                    , wrapper = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.Wrapper = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Wrapper = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._followAdditionalWrappers = !0,
                                e._allowMultipleAds = !1,
                                e._fallbackOnNoAd = !1,
                                e._vastAdTagURI = null,
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1.AbstractAd),
                            n(t, [{
                                key: "followAdditionalWrappers",
                                get: function() {
                                    return this._followAdditionalWrappers
                                },
                                set: function(e) {
                                    this._followAdditionalWrappers = e
                                }
                            }, {
                                key: "allowMultipleAds",
                                get: function() {
                                    return this._allowMultipleAds
                                },
                                set: function(e) {
                                    this._allowMultipleAds = e
                                }
                            }, {
                                key: "fallbackOnNoAd",
                                get: function() {
                                    return this._fallbackOnNoAd
                                },
                                set: function(e) {
                                    this._fallbackOnNoAd = e
                                }
                            }, {
                                key: "vastAdTagURI",
                                get: function() {
                                    return this._vastAdTagURI
                                },
                                set: function(e) {
                                    this._vastAdTagURI = e
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "Wrapper"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(wrapper);
                var wrapper_1 = wrapper.Wrapper
                    , abstract_1$1 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractClicks = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._clickThrough = null,
                                this._clickTrackings = []
                        }
                        return n(e, [{
                            key: "clickThrough",
                            get: function() {
                                return this._clickThrough
                            },
                            set: function(e) {
                                this._clickThrough = e
                            }
                        }, {
                            key: "clickTrackings",
                            get: function() {
                                return this._clickTrackings
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(abstract_1$1);
                var abstract_2$1 = abstract_1$1.AbstractClicks
                    , icon = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.IconClicks = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.IconClicks = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$1.AbstractClicks),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "IconClicks"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(icon);
                var icon_1 = icon.IconClicks
                    , video = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.VideoClicks = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.VideoClicks = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._customClicks = [],
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$1.AbstractClicks),
                            n(t, [{
                                key: "customClicks",
                                get: function() {
                                    return this._customClicks
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "VideoClicks"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(video);
                var video_1 = video.VideoClicks
                    , adSystem = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AdSystem = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._version = null,
                                this._name = null
                        }
                        return n(e, [{
                            key: "version",
                            get: function() {
                                return this._version
                            },
                            set: function(e) {
                                this._version = e
                            }
                        }, {
                            key: "name",
                            get: function() {
                                return this._name
                            },
                            set: function(e) {
                                this._name = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "AdSystem"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(adSystem);
                var adSystem_1 = adSystem.AdSystem
                    , category = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Category = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._authority = null,
                                this._code = null
                        }
                        return n(e, [{
                            key: "authority",
                            get: function() {
                                return this._authority
                            },
                            set: function(e) {
                                this._authority = e
                            }
                        }, {
                            key: "code",
                            get: function() {
                                return this._code
                            },
                            set: function(e) {
                                this._code = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Category"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(category);
                var category_1 = category.Category
                    , click = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Click = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._id = null,
                                this._uri = null
                        }
                        return n(e, [{
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Click"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(click);
                var click_1 = click.Click
                    , creative = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.Creative = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Creative = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._id = null,
                                e._adID = null,
                                e._apiFramework = null,
                                e._universalAdId = null,
                                e._extensions = [],
                                e._linear = null,
                                e._companionAds = null,
                                e._nonLinearAds = null,
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, sortedListItem.SortedListItem),
                            n(t, [{
                                key: "id",
                                get: function() {
                                    return this._id
                                },
                                set: function(e) {
                                    this._id = e
                                }
                            }, {
                                key: "adID",
                                get: function() {
                                    return this._adID
                                },
                                set: function(e) {
                                    this._adID = e
                                }
                            }, {
                                key: "apiFramework",
                                get: function() {
                                    return this._apiFramework
                                },
                                set: function(e) {
                                    this._apiFramework = e
                                }
                            }, {
                                key: "universalAdId",
                                get: function() {
                                    return this._universalAdId
                                },
                                set: function(e) {
                                    this._universalAdId = e
                                }
                            }, {
                                key: "extensions",
                                get: function() {
                                    return this._extensions
                                }
                            }, {
                                key: "linear",
                                get: function() {
                                    return this._linear
                                },
                                set: function(e) {
                                    this._linear = e
                                }
                            }, {
                                key: "companionAds",
                                get: function() {
                                    return this._companionAds
                                },
                                set: function(e) {
                                    this._companionAds = e
                                }
                            }, {
                                key: "nonLinearAds",
                                get: function() {
                                    return this._nonLinearAds
                                },
                                set: function(e) {
                                    this._nonLinearAds = e
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "Creative"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(creative);
                var creative_1 = creative.Creative
                    , icon$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Icon = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._program = null,
                                this._width = null,
                                this._height = null,
                                this._xPosition = null,
                                this._yPosition = null,
                                this._duration = null,
                                this._offset = null,
                                this._apiFramework = null,
                                this._pxratio = null,
                                this._resource = null,
                                this._clicks = null,
                                this._viewTrackings = []
                        }
                        return n(e, [{
                            key: "program",
                            get: function() {
                                return this._program
                            },
                            set: function(e) {
                                this._program = e
                            }
                        }, {
                            key: "width",
                            get: function() {
                                return this._width
                            },
                            set: function(e) {
                                this._width = e
                            }
                        }, {
                            key: "height",
                            get: function() {
                                return this._height
                            },
                            set: function(e) {
                                this._height = e
                            }
                        }, {
                            key: "xPosition",
                            get: function() {
                                return this._xPosition
                            },
                            set: function(e) {
                                this._xPosition = e
                            }
                        }, {
                            key: "yPosition",
                            get: function() {
                                return this._yPosition
                            },
                            set: function(e) {
                                this._yPosition = e
                            }
                        }, {
                            key: "duration",
                            get: function() {
                                return this._duration
                            },
                            set: function(e) {
                                this._duration = e
                            }
                        }, {
                            key: "offset",
                            get: function() {
                                return this._offset
                            },
                            set: function(e) {
                                this._offset = e
                            }
                        }, {
                            key: "apiFramework",
                            get: function() {
                                return this._apiFramework
                            },
                            set: function(e) {
                                this._apiFramework = e
                            }
                        }, {
                            key: "pxratio",
                            get: function() {
                                return this._pxratio
                            },
                            set: function(e) {
                                this._pxratio = e
                            }
                        }, {
                            key: "resource",
                            get: function() {
                                return this._resource
                            },
                            set: function(e) {
                                this._resource = e
                            }
                        }, {
                            key: "clicks",
                            get: function() {
                                return this._clicks
                            },
                            set: function(e) {
                                this._clicks = e
                            }
                        }, {
                            key: "viewTrackings",
                            get: function() {
                                return this._viewTrackings
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Icon"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(icon$2);
                var icon_1$1 = icon$2.Icon
                    , impression = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Impression = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._id = null,
                                this._uri = null
                        }
                        return n(e, [{
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Impression"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(impression);
                var impression_1 = impression.Impression
                    , interactiveCreativeFile = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.InteractiveCreativeFile = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._type = null,
                                this._apiFramework = null,
                                this._url = null
                        }
                        return n(e, [{
                            key: "type",
                            get: function() {
                                return this._type
                            },
                            set: function(e) {
                                this._type = e
                            }
                        }, {
                            key: "apiFramework",
                            get: function() {
                                return this._apiFramework
                            },
                            set: function(e) {
                                this._apiFramework = e
                            }
                        }, {
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "InteractiveCreativeFile"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(interactiveCreativeFile);
                var interactiveCreativeFile_1 = interactiveCreativeFile.InteractiveCreativeFile
                    , mediaFile = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.MediaFile = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._delivery = null,
                                this._type = null,
                                this._width = null,
                                this._height = null,
                                this._codec = null,
                                this._id = null,
                                this._bitrate = null,
                                this._minBitrate = null,
                                this._maxBitrate = null,
                                this._scalable = !1,
                                this._maintainAspectRatio = !1,
                                this._apiFramework = null,
                                this._uri = null
                        }
                        return n(e, [{
                            key: "delivery",
                            get: function() {
                                return this._delivery
                            },
                            set: function(e) {
                                this._delivery = e
                            }
                        }, {
                            key: "type",
                            get: function() {
                                return this._type
                            },
                            set: function(e) {
                                this._type = e
                            }
                        }, {
                            key: "width",
                            get: function() {
                                return this._width
                            },
                            set: function(e) {
                                this._width = e
                            }
                        }, {
                            key: "height",
                            get: function() {
                                return this._height
                            },
                            set: function(e) {
                                this._height = e
                            }
                        }, {
                            key: "codec",
                            get: function() {
                                return this._codec
                            },
                            set: function(e) {
                                this._codec = e
                            }
                        }, {
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "bitrate",
                            get: function() {
                                return this._bitrate
                            },
                            set: function(e) {
                                this._bitrate = e
                            }
                        }, {
                            key: "minBitrate",
                            get: function() {
                                return this._minBitrate
                            },
                            set: function(e) {
                                this._minBitrate = e
                            }
                        }, {
                            key: "maxBitrate",
                            get: function() {
                                return this._maxBitrate
                            },
                            set: function(e) {
                                this._maxBitrate = e
                            }
                        }, {
                            key: "scalable",
                            get: function() {
                                return this._scalable
                            },
                            set: function(e) {
                                this._scalable = e
                            }
                        }, {
                            key: "maintainAspectRatio",
                            get: function() {
                                return this._maintainAspectRatio
                            },
                            set: function(e) {
                                this._maintainAspectRatio = e
                            }
                        }, {
                            key: "apiFramework",
                            get: function() {
                                return this._apiFramework
                            },
                            set: function(e) {
                                this._apiFramework = e
                            }
                        }, {
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "MediaFile"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(mediaFile);
                var mediaFile_1 = mediaFile.MediaFile
                    , pricing = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Pricing = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._model = null,
                                this._currency = null,
                                this._value = null
                        }
                        return n(e, [{
                            key: "model",
                            get: function() {
                                return this._model
                            },
                            set: function(e) {
                                this._model = e
                            }
                        }, {
                            key: "currency",
                            get: function() {
                                return this._currency
                            },
                            set: function(e) {
                                this._currency = e
                            }
                        }, {
                            key: "value",
                            get: function() {
                                return this._value
                            },
                            set: function(e) {
                                this._value = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Pricing"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(pricing);
                var pricing_1 = pricing.Pricing
                    , survey = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Survey = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._type = null,
                                this._uri = null
                        }
                        return n(e, [{
                            key: "type",
                            get: function() {
                                return this._type
                            },
                            set: function(e) {
                                this._type = e
                            }
                        }, {
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Survey"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(survey);
                var survey_1 = survey.Survey
                    , trackingEvent = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.TrackingEvent = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._uri = null,
                                this._offset = null
                        }
                        return n(e, [{
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }, {
                            key: "offset",
                            get: function() {
                                return this._offset
                            },
                            set: function(e) {
                                this._offset = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "TrackingEvent"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(trackingEvent);
                var trackingEvent_1 = trackingEvent.TrackingEvent
                    , trackingEvents = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.TrackingEvents = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._map = Object.create(null)
                        }
                        return n(e, [{
                            key: "get",
                            value: function(e) {
                                return this._map[e] || []
                            }
                        }, {
                            key: "add",
                            value: function(e, t) {
                                this._map[e] = this._map[e] || [],
                                    this._map[e].push(t)
                            }
                        }, {
                            key: "types",
                            get: function() {
                                return Object.keys(this._map)
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "TrackingEvents"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(trackingEvents);
                var trackingEvents_1 = trackingEvents.TrackingEvents
                    , universalAdId = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.UniversalAdId = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._idRegistry = "unknown",
                                this._idValue = "unknown",
                                this._creativeIdentifier = null
                        }
                        return n(e, [{
                            key: "idRegistry",
                            get: function() {
                                return this._idRegistry
                            },
                            set: function(e) {
                                this._idRegistry = e
                            }
                        }, {
                            key: "idValue",
                            get: function() {
                                return this._idValue
                            },
                            set: function(e) {
                                this._idValue = e
                            }
                        }, {
                            key: "creativeIdentifier",
                            get: function() {
                                return this._creativeIdentifier
                            },
                            set: function(e) {
                                this._creativeIdentifier = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "UniversalAdId"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(universalAdId);
                var universalAdId_1 = universalAdId.UniversalAdId
                    , adBuffet = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.AdBuffet = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AdBuffet = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._ads = new sortedList.SortedList,
                                this._adPod = null
                        }
                        return n(e, [{
                            key: "ads",
                            get: function() {
                                return this._ads
                            }
                        }, {
                            key: "adPod",
                            get: function() {
                                return this._adPod
                            },
                            set: function(e) {
                                this._adPod = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "AdBuffet"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(adBuffet);
                var adBuffet_1 = adBuffet.AdBuffet
                    , vast = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.VAST = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.VAST = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._uri = null,
                                e._version = null,
                                e._errors = [],
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, adBuffet.AdBuffet),
                            n(t, [{
                                key: "uri",
                                get: function() {
                                    return this._uri
                                },
                                set: function(e) {
                                    this._uri = e
                                }
                            }, {
                                key: "version",
                                get: function() {
                                    return this._version
                                },
                                set: function(e) {
                                    this._version = e
                                }
                            }, {
                                key: "errors",
                                get: function() {
                                    return this._errors
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "VAST"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(vast);
                var vast_1 = vast.VAST
                    , verification = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Verification = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._vendor = null,
                                this._javaScriptResources = [],
                                this._flashResources = [],
                                this._viewableImpression = null
                        }
                        return n(e, [{
                            key: "vendor",
                            get: function() {
                                return this._vendor
                            },
                            set: function(e) {
                                this._vendor = e
                            }
                        }, {
                            key: "javaScriptResources",
                            get: function() {
                                return this._javaScriptResources
                            }
                        }, {
                            key: "flashResources",
                            get: function() {
                                return this._flashResources
                            }
                        }, {
                            key: "viewableImpression",
                            get: function() {
                                return this._viewableImpression
                            },
                            set: function(e) {
                                this._viewableImpression = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Verification"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(verification);
                var verification_1 = verification.Verification
                    , viewableImpression = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.ViewableImpression = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._id = null,
                                this._viewables = [],
                                this._notViewables = [],
                                this._viewUndetermineds = []
                        }
                        return n(e, [{
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "viewables",
                            get: function() {
                                return this._viewables
                            }
                        }, {
                            key: "notViewables",
                            get: function() {
                                return this._notViewables
                            }
                        }, {
                            key: "viewUndetermineds",
                            get: function() {
                                return this._viewUndetermineds
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "ViewableImpression"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(viewableImpression);
                var viewableImpression_1 = viewableImpression.ViewableImpression
                    , companionAds = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.CompanionAds = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._required = null,
                                this._companions = [],
                                this._xmlElement = null
                        }
                        return n(e, [{
                            key: "required",
                            get: function() {
                                return this._required
                            },
                            set: function(e) {
                                this._required = e
                            }
                        }, {
                            key: "companions",
                            get: function() {
                                return this._companions
                            }
                        }, {
                            key: "xmlElement",
                            get: function() {
                                return this._xmlElement
                            },
                            set: function(e) {
                                this._xmlElement = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "CompanionAds"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(companionAds);
                var companionAds_1 = companionAds.CompanionAds
                    , companion = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Companion = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._id = null,
                                this._width = null,
                                this._height = null,
                                this._assetWidth = null,
                                this._assetHeight = null,
                                this._expandedWidth = null,
                                this._expandedHeight = null,
                                this._apiFramework = null,
                                this._adSlotID = null,
                                this._pxratio = null,
                                this._resource = null,
                                this._adParameters = null,
                                this._altText = null,
                                this._clickThrough = null,
                                this._clickTrackings = [],
                                this._trackingEvents = null
                        }
                        return n(e, [{
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "width",
                            get: function() {
                                return this._width
                            },
                            set: function(e) {
                                this._width = e
                            }
                        }, {
                            key: "height",
                            get: function() {
                                return this._height
                            },
                            set: function(e) {
                                this._height = e
                            }
                        }, {
                            key: "assetWidth",
                            get: function() {
                                return this._assetWidth
                            },
                            set: function(e) {
                                this._assetWidth = e
                            }
                        }, {
                            key: "assetHeight",
                            get: function() {
                                return this._assetHeight
                            },
                            set: function(e) {
                                this._assetHeight = e
                            }
                        }, {
                            key: "expandedWidth",
                            get: function() {
                                return this._expandedWidth
                            },
                            set: function(e) {
                                this._expandedWidth = e
                            }
                        }, {
                            key: "expandedHeight",
                            get: function() {
                                return this._expandedHeight
                            },
                            set: function(e) {
                                this._expandedHeight = e
                            }
                        }, {
                            key: "apiFramework",
                            get: function() {
                                return this._apiFramework
                            },
                            set: function(e) {
                                this._apiFramework = e
                            }
                        }, {
                            key: "adSlotID",
                            get: function() {
                                return this._adSlotID
                            },
                            set: function(e) {
                                this._adSlotID = e
                            }
                        }, {
                            key: "pxratio",
                            get: function() {
                                return this._pxratio
                            },
                            set: function(e) {
                                this._pxratio = e
                            }
                        }, {
                            key: "resource",
                            get: function() {
                                return this._resource
                            },
                            set: function(e) {
                                this._resource = e
                            }
                        }, {
                            key: "adParameters",
                            get: function() {
                                return this._adParameters
                            },
                            set: function(e) {
                                this._adParameters = e
                            }
                        }, {
                            key: "altText",
                            get: function() {
                                return this._altText
                            },
                            set: function(e) {
                                this._altText = e
                            }
                        }, {
                            key: "clickThrough",
                            get: function() {
                                return this._clickThrough
                            },
                            set: function(e) {
                                this._clickThrough = e
                            }
                        }, {
                            key: "clickTrackings",
                            get: function() {
                                return this._clickTrackings
                            }
                        }, {
                            key: "trackingEvents",
                            get: function() {
                                return this._trackingEvents
                            },
                            set: function(e) {
                                this._trackingEvents = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Companion"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(companion);
                var companion_1 = companion.Companion
                    , linear = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Linear = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._skipoffset = null,
                                this._duration = null,
                                this._mezzanine = null,
                                this._mediaFiles = [],
                                this._interactiveCreativeFiles = [],
                                this._adParameters = null,
                                this._videoClicks = null,
                                this._trackingEvents = null,
                                this._icons = []
                        }
                        return n(e, [{
                            key: "skipoffset",
                            get: function() {
                                return this._skipoffset
                            },
                            set: function(e) {
                                this._skipoffset = e
                            }
                        }, {
                            key: "duration",
                            get: function() {
                                return this._duration
                            },
                            set: function(e) {
                                this._duration = e
                            }
                        }, {
                            key: "mezzanine",
                            get: function() {
                                return this._mezzanine
                            },
                            set: function(e) {
                                this._mezzanine = e
                            }
                        }, {
                            key: "mediaFiles",
                            get: function() {
                                return this._mediaFiles
                            }
                        }, {
                            key: "interactiveCreativeFiles",
                            get: function() {
                                return this._interactiveCreativeFiles
                            }
                        }, {
                            key: "adParameters",
                            get: function() {
                                return this._adParameters
                            },
                            set: function(e) {
                                this._adParameters = e
                            }
                        }, {
                            key: "videoClicks",
                            get: function() {
                                return this._videoClicks
                            },
                            set: function(e) {
                                this._videoClicks = e
                            }
                        }, {
                            key: "trackingEvents",
                            get: function() {
                                return this._trackingEvents
                            },
                            set: function(e) {
                                this._trackingEvents = e
                            }
                        }, {
                            key: "icons",
                            get: function() {
                                return this._icons
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "Linear"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(linear);
                var linear_1 = linear.Linear
                    , nonLinearAds = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.NonLinearAds = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._nonLinears = [],
                                this._trackingEvents = null
                        }
                        return n(e, [{
                            key: "nonLinears",
                            get: function() {
                                return this._nonLinears
                            }
                        }, {
                            key: "trackingEvents",
                            get: function() {
                                return this._trackingEvents
                            },
                            set: function(e) {
                                this._trackingEvents = e
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "NonLinearAds"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(nonLinearAds);
                var nonLinearAds_1 = nonLinearAds.NonLinearAds
                    , nonLinear = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.NonLinear = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._id = null,
                                this._width = null,
                                this._height = null,
                                this._expandedWidth = null,
                                this._expandedHeight = null,
                                this._scalable = !1,
                                this._maintainAspectRatio = !1,
                                this._minSuggestedDuration = null,
                                this._apiFramework = null,
                                this._resource = null,
                                this._adParameters = null,
                                this._clickThrough = null,
                                this._clickTrackings = []
                        }
                        return n(e, [{
                            key: "id",
                            get: function() {
                                return this._id
                            },
                            set: function(e) {
                                this._id = e
                            }
                        }, {
                            key: "width",
                            get: function() {
                                return this._width
                            },
                            set: function(e) {
                                this._width = e
                            }
                        }, {
                            key: "height",
                            get: function() {
                                return this._height
                            },
                            set: function(e) {
                                this._height = e
                            }
                        }, {
                            key: "expandedWidth",
                            get: function() {
                                return this._expandedWidth
                            },
                            set: function(e) {
                                this._expandedWidth = e
                            }
                        }, {
                            key: "expandedHeight",
                            get: function() {
                                return this._expandedHeight
                            },
                            set: function(e) {
                                this._expandedHeight = e
                            }
                        }, {
                            key: "scalable",
                            get: function() {
                                return this._scalable
                            },
                            set: function(e) {
                                this._scalable = e
                            }
                        }, {
                            key: "maintainAspectRatio",
                            get: function() {
                                return this._maintainAspectRatio
                            },
                            set: function(e) {
                                this._maintainAspectRatio = e
                            }
                        }, {
                            key: "minSuggestedDuration",
                            get: function() {
                                return this._minSuggestedDuration
                            },
                            set: function(e) {
                                this._minSuggestedDuration = e
                            }
                        }, {
                            key: "apiFramework",
                            get: function() {
                                return this._apiFramework
                            },
                            set: function(e) {
                                this._apiFramework = e
                            }
                        }, {
                            key: "resource",
                            get: function() {
                                return this._resource
                            },
                            set: function(e) {
                                this._resource = e
                            }
                        }, {
                            key: "adParameters",
                            get: function() {
                                return this._adParameters
                            },
                            set: function(e) {
                                this._adParameters = e
                            }
                        }, {
                            key: "clickThrough",
                            get: function() {
                                return this._clickThrough
                            },
                            set: function(e) {
                                this._clickThrough = e
                            }
                        }, {
                            key: "clickTrackings",
                            get: function() {
                                return this._clickTrackings
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "NonLinear"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(nonLinear);
                var nonLinear_1 = nonLinear.NonLinear
                    , abstract_1$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractExtension = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._type = null,
                                this._xmlElement = null
                        }
                        return n(e, [{
                            key: "type",
                            get: function() {
                                return this._type
                            },
                            set: function(e) {
                                this._type = e
                            }
                        }, {
                            key: "xmlElement",
                            get: function() {
                                return this._xmlElement
                            },
                            set: function(e) {
                                this._xmlElement = e
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(abstract_1$2);
                var abstract_2$2 = abstract_1$2.AbstractExtension
                    , creative$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.CreativeExtension = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.CreativeExtension = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$2.AbstractExtension),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "CreativeExtension"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(creative$2);
                var creative_1$1 = creative$2.CreativeExtension
                    , _default = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.Extension = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.Extension = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$2.AbstractExtension),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "Extension"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(_default);
                var _default_1 = _default.Extension
                    , abstract_1$3 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractResource = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._uri = null
                        }
                        return n(e, [{
                            key: "uri",
                            get: function() {
                                return this._uri
                            },
                            set: function(e) {
                                this._uri = e
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(abstract_1$3);
                var abstract_2$3 = abstract_1$3.AbstractResource
                    , html = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.HTMLResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.HTMLResource = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$3.AbstractResource),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "HTMLResource"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(html);
                var html_1 = html.HTMLResource
                    , iframe = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.IFrameResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.IFrameResource = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$3.AbstractResource),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "IFrameResource"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(iframe);
                var iframe_1 = iframe.IFrameResource
                    , _static = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.StaticResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.StaticResource = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._creativeType = null,
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$3.AbstractResource),
                            n(t, [{
                                key: "creativeType",
                                get: function() {
                                    return this._creativeType
                                },
                                set: function(e) {
                                    this._creativeType = e
                                }
                            }, {
                                key: "$type",
                                get: function() {
                                    return "StaticResource"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(_static);
                var _static_1 = _static.StaticResource
                    , abstract_1$4 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.AbstractVerificationResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractVerificationResource = function(e) {
                        function t() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t);
                            var e = function(e, t) {
                                if (!e)
                                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                return !t || "object" != typeof t && "function" != typeof t ? e : t
                            }(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this));
                            return e._apiFramework = null,
                                e
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$3.AbstractResource),
                            n(t, [{
                                key: "apiFramework",
                                get: function() {
                                    return this._apiFramework
                                },
                                set: function(e) {
                                    this._apiFramework = e
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(abstract_1$4);
                var abstract_2$4 = abstract_1$4.AbstractVerificationResource
                    , flash = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.FlashResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.FlashResource = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$4.AbstractVerificationResource),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "FlashResource"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(flash);
                var flash_1 = flash.FlashResource
                    , javascript = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.JavaScriptResource = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.JavaScriptResource = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$4.AbstractVerificationResource),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "JavaScriptResource"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(javascript);
                var javascript_1 = javascript.JavaScriptResource
                    , abstract_1$5 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbstractTimeOffset = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._value = null
                        }
                        return n(e, [{
                            key: "value",
                            get: function() {
                                return this._value
                            },
                            set: function(e) {
                                this._value = e
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(abstract_1$5);
                var abstract_2$5 = abstract_1$5.AbstractTimeOffset
                    , absolute = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.AbsoluteTimeOffset = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AbsoluteTimeOffset = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$5.AbstractTimeOffset),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "AbsoluteTimeOffset"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(absolute);
                var absolute_1 = absolute.AbsoluteTimeOffset
                    , relative = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.RelativeTimeOffset = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.RelativeTimeOffset = function(e) {
                        function t() {
                            return function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, t),
                                function(e, t) {
                                    if (!e)
                                        throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                                    return !t || "object" != typeof t && "function" != typeof t ? e : t
                                }(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments))
                        }
                        return function(e, t) {
                            if ("function" != typeof t && null !== t)
                                throw new TypeError("Super expression must either be null or a function, not " + typeof t);
                            e.prototype = Object.create(t && t.prototype, {
                                constructor: {
                                    value: e,
                                    enumerable: !1,
                                    writable: !0,
                                    configurable: !0
                                }
                            }),
                            t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t)
                        }(t, abstract_1$5.AbstractTimeOffset),
                            n(t, [{
                                key: "$type",
                                get: function() {
                                    return "RelativeTimeOffset"
                                }
                            }]),
                            t
                    }()
                });
                unwrapExports(relative);
                var relative_1 = relative.RelativeTimeOffset
                    , adPod = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.AdPod = void 0;
                    var n = function() {
                        function r(e, t) {
                            for (var n = 0; n < t.length; n++) {
                                var r = t[n];
                                r.enumerable = r.enumerable || !1,
                                    r.configurable = !0,
                                "value"in r && (r.writable = !0),
                                    Object.defineProperty(e, r.key, r)
                            }
                        }
                        return function(e, t, n) {
                            return t && r(e.prototype, t),
                            n && r(e, n),
                                e
                        }
                    }();
                    t.AdPod = function() {
                        function e() {
                            !function(e, t) {
                                if (!(e instanceof t))
                                    throw new TypeError("Cannot call a class as a function")
                            }(this, e),
                                this._ads = new sortedList.SortedList
                        }
                        return n(e, [{
                            key: "ads",
                            get: function() {
                                return this._ads
                            }
                        }, {
                            key: "$type",
                            get: function() {
                                return "AdPod"
                            }
                        }]),
                            e
                    }()
                });
                unwrapExports(adPod);
                var adPod_1 = adPod.AdPod
                    , lib = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        Object.defineProperty(t, "InLine", {
                            enumerable: !0,
                            get: function() {
                                return inLine.InLine
                            }
                        }),
                        Object.defineProperty(t, "Wrapper", {
                            enumerable: !0,
                            get: function() {
                                return wrapper.Wrapper
                            }
                        }),
                        Object.defineProperty(t, "IconClicks", {
                            enumerable: !0,
                            get: function() {
                                return icon.IconClicks
                            }
                        }),
                        Object.defineProperty(t, "VideoClicks", {
                            enumerable: !0,
                            get: function() {
                                return video.VideoClicks
                            }
                        }),
                        Object.defineProperty(t, "AdSystem", {
                            enumerable: !0,
                            get: function() {
                                return adSystem.AdSystem
                            }
                        }),
                        Object.defineProperty(t, "Category", {
                            enumerable: !0,
                            get: function() {
                                return category.Category
                            }
                        }),
                        Object.defineProperty(t, "Click", {
                            enumerable: !0,
                            get: function() {
                                return click.Click
                            }
                        }),
                        Object.defineProperty(t, "Creative", {
                            enumerable: !0,
                            get: function() {
                                return creative.Creative
                            }
                        }),
                        Object.defineProperty(t, "Icon", {
                            enumerable: !0,
                            get: function() {
                                return icon$2.Icon
                            }
                        }),
                        Object.defineProperty(t, "Impression", {
                            enumerable: !0,
                            get: function() {
                                return impression.Impression
                            }
                        }),
                        Object.defineProperty(t, "InteractiveCreativeFile", {
                            enumerable: !0,
                            get: function() {
                                return interactiveCreativeFile.InteractiveCreativeFile
                            }
                        }),
                        Object.defineProperty(t, "MediaFile", {
                            enumerable: !0,
                            get: function() {
                                return mediaFile.MediaFile
                            }
                        }),
                        Object.defineProperty(t, "Pricing", {
                            enumerable: !0,
                            get: function() {
                                return pricing.Pricing
                            }
                        }),
                        Object.defineProperty(t, "Survey", {
                            enumerable: !0,
                            get: function() {
                                return survey.Survey
                            }
                        }),
                        Object.defineProperty(t, "TrackingEvent", {
                            enumerable: !0,
                            get: function() {
                                return trackingEvent.TrackingEvent
                            }
                        }),
                        Object.defineProperty(t, "TrackingEvents", {
                            enumerable: !0,
                            get: function() {
                                return trackingEvents.TrackingEvents
                            }
                        }),
                        Object.defineProperty(t, "UniversalAdId", {
                            enumerable: !0,
                            get: function() {
                                return universalAdId.UniversalAdId
                            }
                        }),
                        Object.defineProperty(t, "VAST", {
                            enumerable: !0,
                            get: function() {
                                return vast.VAST
                            }
                        }),
                        Object.defineProperty(t, "Verification", {
                            enumerable: !0,
                            get: function() {
                                return verification.Verification
                            }
                        }),
                        Object.defineProperty(t, "ViewableImpression", {
                            enumerable: !0,
                            get: function() {
                                return viewableImpression.ViewableImpression
                            }
                        }),
                        Object.defineProperty(t, "CompanionAds", {
                            enumerable: !0,
                            get: function() {
                                return companionAds.CompanionAds
                            }
                        }),
                        Object.defineProperty(t, "Companion", {
                            enumerable: !0,
                            get: function() {
                                return companion.Companion
                            }
                        }),
                        Object.defineProperty(t, "Linear", {
                            enumerable: !0,
                            get: function() {
                                return linear.Linear
                            }
                        }),
                        Object.defineProperty(t, "NonLinearAds", {
                            enumerable: !0,
                            get: function() {
                                return nonLinearAds.NonLinearAds
                            }
                        }),
                        Object.defineProperty(t, "NonLinear", {
                            enumerable: !0,
                            get: function() {
                                return nonLinear.NonLinear
                            }
                        }),
                        Object.defineProperty(t, "CreativeExtension", {
                            enumerable: !0,
                            get: function() {
                                return creative$2.CreativeExtension
                            }
                        }),
                        Object.defineProperty(t, "Extension", {
                            enumerable: !0,
                            get: function() {
                                return _default.Extension
                            }
                        }),
                        Object.defineProperty(t, "HTMLResource", {
                            enumerable: !0,
                            get: function() {
                                return html.HTMLResource
                            }
                        }),
                        Object.defineProperty(t, "IFrameResource", {
                            enumerable: !0,
                            get: function() {
                                return iframe.IFrameResource
                            }
                        }),
                        Object.defineProperty(t, "StaticResource", {
                            enumerable: !0,
                            get: function() {
                                return _static.StaticResource
                            }
                        }),
                        Object.defineProperty(t, "FlashResource", {
                            enumerable: !0,
                            get: function() {
                                return flash.FlashResource
                            }
                        }),
                        Object.defineProperty(t, "JavaScriptResource", {
                            enumerable: !0,
                            get: function() {
                                return javascript.JavaScriptResource
                            }
                        }),
                        Object.defineProperty(t, "AbsoluteTimeOffset", {
                            enumerable: !0,
                            get: function() {
                                return absolute.AbsoluteTimeOffset
                            }
                        }),
                        Object.defineProperty(t, "RelativeTimeOffset", {
                            enumerable: !0,
                            get: function() {
                                return relative.RelativeTimeOffset
                            }
                        }),
                        Object.defineProperty(t, "AdBuffet", {
                            enumerable: !0,
                            get: function() {
                                return adBuffet.AdBuffet
                            }
                        }),
                        Object.defineProperty(t, "AdPod", {
                            enumerable: !0,
                            get: function() {
                                return adPod.AdPod
                            }
                        }),
                        Object.defineProperty(t, "SortedListItem", {
                            enumerable: !0,
                            get: function() {
                                return sortedListItem.SortedListItem
                            }
                        }),
                        Object.defineProperty(t, "SortedList", {
                            enumerable: !0,
                            get: function() {
                                return sortedList.SortedList
                            }
                        })
                });
                unwrapExports(lib);
                var adSystem$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.AdSystem;
                            return t.version = e.version,
                                t.name = e._value,
                                t
                        }
                });
                unwrapExports(adSystem$2);
                var universalAdId$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.UniversalAdId;
                            return null != e.idRegistry && (t.idRegistry = e.idRegistry),
                            null != e.idValue && (t.idValue = e.idValue),
                                t.creativeIdentifier = e._value,
                                t
                        }
                });
                unwrapExports(universalAdId$2);
                var creativeExtension = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.CreativeExtension;
                            return t.type = e.type,
                                t.xmlElement = e._value,
                                t
                        }
                });
                unwrapExports(creativeExtension);
                var mediaFile$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.MediaFile;
                            return t.id = e.id,
                                t.delivery = e.delivery,
                                t.type = e.type,
                                t.bitrate = e.bitrate,
                                t.minBitrate = e.minBitrate,
                                t.maxBitrate = e.maxBitrate,
                                t.width = e.width,
                                t.height = e.height,
                                t.scalable = e.scalable,
                                t.maintainAspectRatio = e.maintainAspectRatio,
                                t.codec = e.codec,
                                t.apiFramework = e.apiFramework,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(mediaFile$2);
                var interactiveCreativeFile$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.InteractiveCreativeFile;
                            return t.type = e.type,
                                t.apiFramework = e.apiFramework,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(interactiveCreativeFile$2);
                var staticResource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.StaticResource;
                            return t.creativeType = e.creativeType,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(staticResource);
                var iframeResource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.IFrameResource;
                            return t.uri = e._value,
                                t
                        }
                });
                unwrapExports(iframeResource);
                var htmlResource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.HTMLResource;
                            return t.uri = e._value,
                                t
                        }
                });
                unwrapExports(htmlResource);
                var resource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = a(staticResource)
                        , r = a(iframeResource)
                        , i = a(htmlResource);
                    function a(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e) {
                        return null != e.staticResource ? (0,
                            n.default)(e.staticResource) : null != e.iFrameResource ? (0,
                            r.default)(e.iFrameResource) : null != e.htmlResource ? (0,
                            i.default)(e.htmlResource) : null
                    }
                });
                unwrapExports(resource);
                var click$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Click;
                            return t.id = e.id,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(click$2);
                var isNonEmptyString = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            return "string" == typeof e && 0 < e.length
                        }
                });
                unwrapExports(isNonEmptyString);
                var hasValue = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, r = (n = isNonEmptyString) && n.__esModule ? n : {
                        default: n
                    };
                    t.default = function(e) {
                        return null != e && (0,
                            r.default)(e._value)
                    }
                });
                unwrapExports(hasValue);
                var iconClicks = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var r = n(click$2)
                        , i = n(hasValue);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e) {
                        var t, n = new lib.IconClicks;
                        (null != e.iconClickThrough && (0,
                            i.default)(e.iconClickThrough) && (n.clickThrough = (0,
                            r.default)(e.iconClickThrough)),
                        null != e.iconClickTracking) && (t = n.clickTrackings).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e.iconClickTracking.filter(i.default).map(r.default)));
                        return n
                    }
                });
                unwrapExports(iconClicks);
                var isNonEmptyArray = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            return Array.isArray(e) && 0 < e.length
                        }
                });
                unwrapExports(isNonEmptyArray);
                var icon$4 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var r = n(resource)
                        , i = n(click$2)
                        , a = n(iconClicks)
                        , o = n(hasValue)
                        , s = n(isNonEmptyArray);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    var u = function(e, t) {
                        return null == e ? e : t.indexOf(e) < 0 ? parseInt(e, 0) : e
                    };
                    t.default = function(e) {
                        var t, n = new lib.Icon;
                        (n.program = e.program,
                            n.width = e.width,
                            n.height = e.height,
                            n.xPosition = u(e.xPosition, ["left", "right"]),
                            n.yPosition = u(e.yPosition, ["top", "bottom"]),
                            n.duration = e.duration,
                            n.offset = e.offset,
                            n.apiFramework = e.apiFramework,
                            n.pxratio = e.pxratio,
                            n.resources = (0,
                                r.default)(e),
                        null != e.iconClicks && ((0,
                            o.default)(e.iconClicks.iconClickThrough) || (0,
                            s.default)(e.iconClicks.iconClickTracking)) && (n.clicks = (0,
                            a.default)(e.iconClicks)),
                        null != e.iconViewTracking) && (t = n.viewTrackings).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e.iconViewTracking.filter(o.default).map(i.default)));
                        return n
                    }
                });
                unwrapExports(icon$4);
                var timeOffset = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, a = (n = parseTime) && n.__esModule ? n : {
                        default: n
                    };
                    t.default = function(e, t, n) {
                        if ("%" === e.charAt(e.length - 1)) {
                            var r = new lib.RelativeTimeOffset;
                            return r.value = parseFloat(e.substr(0, e.length - 1)),
                                r
                        }
                        var i = new lib.AbsoluteTimeOffset;
                        try {
                            i.value = (0,
                                a.default)(e)
                        } catch (n) {
                            t.errorHandler(n)
                        }
                        return i
                    }
                });
                unwrapExports(timeOffset);
                var mapTrackingEvents = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var l = n(timeOffset)
                        , d = n(isNonEmptyString);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e, t, n) {
                        if (null != e && Array.isArray(e.tracking)) {
                            var r = !0
                                , i = !1
                                , a = void 0;
                            try {
                                for (var o, s = e.tracking[Symbol.iterator](); !(r = (o = s.next()).done); r = !0) {
                                    var u = o.value;
                                    if ((0,
                                        d.default)(u._value)) {
                                        var c = new lib.TrackingEvent;
                                        if (c.uri = u._value,
                                            (0,
                                                d.default)(u.offset))
                                            try {
                                                c.offset = (0,
                                                    l.default)(u.offset)
                                            } catch (e) {
                                                n.errorHandler(e)
                                            }
                                        t.add(u.event, c)
                                    }
                                }
                            } catch (e) {
                                i = !0,
                                    a = e
                            } finally {
                                try {
                                    !r && s.return && s.return()
                                } finally {
                                    if (i)
                                        throw a
                                }
                            }
                        }
                    }
                });
                unwrapExports(mapTrackingEvents);
                var linear$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var s = n(mediaFile$2)
                        , u = n(interactiveCreativeFile$2)
                        , c = n(icon$4)
                        , l = n(click$2)
                        , d = n(timeOffset)
                        , f = n(mapTrackingEvents)
                        , p = n(isNonEmptyString)
                        , h = n(isNonEmptyArray)
                        , g = n(hasValue);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    function m(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = Array(e.length); t < e.length; t++)
                                n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }
                    t.default = function(e, t) {
                        var n, r = e.linear, i = new lib.Linear;
                        if ((0,
                            p.default)(r.skipoffset) && (i.skipoffset = (0,
                            d.default)(r.skipoffset, t)),
                        null != r.duration && (i.duration = r.duration._value),
                        null != r.mediaFiles) {
                            var a, o;
                            if (null != r.mediaFiles.mezzanine && (i.mezzanine = r.mediaFiles.mezzanine._value),
                            null != r.mediaFiles.mediaFile)
                                (a = i.mediaFiles).push.apply(a, m(r.mediaFiles.mediaFile.map(s.default)));
                            if (null != r.mediaFiles.interactiveCreativeFile)
                                (o = i.interactiveCreativeFiles).push.apply(o, m(r.mediaFiles.interactiveCreativeFile.map(u.default)))
                        }
                        (null != r.adParameters && (i.adParameters = r.adParameters._value),
                        null != r.videoClicks && (i.videoClicks = new lib.VideoClicks,
                            function(e, t) {
                                var n, r;
                                null != e.clickThrough && (0,
                                    g.default)(e.clickThrough) && (t.clickThrough = (0,
                                    l.default)(e.clickThrough)),
                                null != e.clickTracking && (n = t.clickTrackings).push.apply(n, m(e.clickTracking.filter(g.default).map(l.default)));
                                null != e.customClick && (r = t.customClicks).push.apply(r, m(e.customClick.filter(g.default).map(l.default)))
                            }(r.videoClicks, i.videoClicks)),
                        null != r.trackingEvents && (0,
                            h.default)(r.trackingEvents.tracking) && (i.trackingEvents = new lib.TrackingEvents,
                            (0,
                                f.default)(r.trackingEvents, i.trackingEvents, t)),
                        null != r.icons && r.icons.icon) && (n = i.icons).push.apply(n, m(r.icons.icon.map(c.default)));
                        return i
                    }
                });
                unwrapExports(linear$2);
                var nonLinear$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var r = n(resource)
                        , i = n(click$2)
                        , a = n(hasValue);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e) {
                        var t, n = new lib.NonLinear;
                        (n.id = e.id,
                            n.width = e.width,
                            n.height = e.height,
                            n.expandedWidth = e.expandedWidth,
                            n.expandedHeight = e.expandedHeight,
                            n.scalable = e.scalable,
                            n.maintainAspectRatio = e.maintainAspectRatio,
                            n.minSuggestedDuration = e.minSuggestedDuration,
                            n.apiFramework = e.apiFramework,
                            n.resource = (0,
                                r.default)(e),
                        null != e.adParameters && (n.adParameters = e.adParameters._value),
                        null != e.nonLinearClickThrough && (0,
                            a.default)(e.nonLinearClickThrough) && (n.clickThrough = (0,
                            i.default)(e.nonLinearClickThrough)),
                        null != e.nonLinearClickTracking) && (t = n.clickTrackings).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e.nonLinearClickTracking.filter(a.default).map(i.default)));
                        return n
                    }
                });
                unwrapExports(nonLinear$2);
                var nonLinearAds$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(nonLinear$2)
                        , a = n(mapTrackingEvents)
                        , o = n(isNonEmptyArray);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e) {
                        var t, n = e.nonLinearAds, r = new lib.NonLinearAds;
                        null != n.nonLinear && (t = r.nonLinears).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(n.nonLinear.map(i.default)));
                        return null != n.trackingEvents && (0,
                            o.default)(n.trackingEvents.tracking) && (r.trackingEvents = new lib.TrackingEvents,
                            (0,
                                a.default)(n.trackingEvents, r.trackingEvents)),
                            r
                    }
                });
                unwrapExports(nonLinearAds$2);
                var companion$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var r = n(click$2)
                        , i = n(resource)
                        , a = n(mapTrackingEvents)
                        , o = n(isNonEmptyArray)
                        , s = n(hasValue);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e) {
                        var t, n = new lib.Companion;
                        (n.id = e.id,
                            n.width = e.width,
                            n.height = e.height,
                            n.assetWidth = e.assetWidth,
                            n.assetHeight = e.assetHeight,
                            n.expandedWidth = e.expandedWidth,
                            n.expandedHeight = e.expandedHeight,
                            n.apiFramework = e.apiFramework,
                            n.adSlotID = e.adSlotID,
                            n.pxratio = e.pxratio,
                            n.resource = (0,
                                i.default)(e),
                        null != e.adParameters && (0,
                            s.default)(e.adParameters) && (n.adParameters = e.adParameters._value),
                        null != e.altText && (0,
                            s.default)(e.altText._value) && (n.altText = e.altText._value),
                        null != e.companionClickThrough && (0,
                            s.default)(e.companionClickThrough) && (n.clickThrough = (0,
                            r.default)(e.companionClickThrough)),
                        null != e.companionClickTracking) && (t = n.clickTrackings).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e.companionClickTracking.filter(s.default).map(r.default)));
                        return null != e.trackingEvents && (0,
                            o.default)(e.trackingEvents.tracking) && (n.trackingEvents = new lib.TrackingEvents,
                            (0,
                                a.default)(e.trackingEvents, n.trackingEvents)),
                            n
                    }
                });
                unwrapExports(companion$2);
                var companionAds$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, i = (n = companion$2) && n.__esModule ? n : {
                        default: n
                    };
                    t.default = function(e) {
                        var t, n = e.companionAds, r = new lib.CompanionAds;
                        (r.required = n.required,
                        null != n.companion) && (t = r.companions).push.apply(t, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(n.companion.map(i.default)));
                        return r
                    }
                });
                unwrapExports(companionAds$2);
                var creative$4 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(universalAdId$2)
                        , a = n(creativeExtension)
                        , o = n(linear$2)
                        , s = n(nonLinearAds$2)
                        , u = n(companionAds$2);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e, t) {
                        var n, r = new lib.Creative;
                        (r.id = e.id,
                            r.sequence = e.sequence,
                            r.adID = e.AdID || e.adID || e.adId,
                            r.apiFramework = e.apiFramework,
                        null != e.universalAdId && (r.universalAdId = (0,
                            i.default)(e.universalAdId)),
                        null != e.creativeExtensions && e.creativeExtensions.creativeExtension) && (n = r.extensions).push.apply(n, function(e) {
                            if (Array.isArray(e)) {
                                for (var t = 0, n = Array(e.length); t < e.length; t++)
                                    n[t] = e[t];
                                return n
                            }
                            return Array.from(e)
                        }(e.creativeExtensions.creativeExtension.map(a.default)));
                        return null != e.linear ? r.linear = (0,
                            o.default)(e, t) : null != e.nonLinearAds && (r.nonLinearAds = (0,
                            s.default)(e)),
                        null != e.companionAds && (r.companionAds = (0,
                            u.default)(e)),
                        null == r.linear && null == r.nonLinearAds && null == r.companionAds && t.errorHandler(new Error("Creative has no ads")),
                            r
                    }
                });
                unwrapExports(creative$4);
                var extension = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Extension;
                            return t.type = e.type,
                                t.xmlElement = e._value,
                                t
                        }
                });
                unwrapExports(extension);
                var impression$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Impression;
                            return t.id = e.id,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(impression$2);
                var pricing$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Pricing;
                            return t.model = e.model,
                                t.currency = e.currency,
                                t.value = e._value,
                                t
                        }
                });
                unwrapExports(pricing$2);
                var viewableImpression$2 = createCommonjsModule(function(e, t) {
                    function a(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = Array(e.length); t < e.length; t++)
                                n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t, n, r, i = new lib.ViewableImpression;
                            (i.id = e.id,
                            null != e.viewable) && (t = i.viewables).push.apply(t, a(e.viewable.map(function(e) {
                                return e._value
                            })));
                            null != e.notViewable && (n = i.notViewables).push.apply(n, a(e.notViewable.map(function(e) {
                                return e._value
                            })));
                            null != e.viewUndetermined && (r = i.viewUndetermineds).push.apply(r, a(e.viewUndetermined.map(function(e) {
                                return e._value
                            })));
                            return i
                        }
                });
                unwrapExports(viewableImpression$2);
                var javascriptResource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.JavaScriptResource;
                            return t.apiFramework = e.apiFramework,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(javascriptResource);
                var flashResource = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.FlashResource;
                            return t.apiFramework = e.apiFramework,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(flashResource);
                var verification$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(javascriptResource)
                        , a = n(flashResource);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    function o(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = Array(e.length); t < e.length; t++)
                                n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }
                    t.default = function(e) {
                        var t, n, r = new lib.Verification;
                        (r.vendor = e.vendor,
                        null != e.javaScriptResource) && (t = r.javaScriptResources).push.apply(t, o(e.javaScriptResource.map(i.default)));
                        null != e.flashResource && (n = r.flashResources).push.apply(n, o(e.flashResource.map(a.default)));
                        return null != e.viewableImpression && (r.viewableImpression = e.viewableImpression._value),
                        null != e.verificationParameters && (r.parameters = e.verificationParameters._value),
                            r
                    }
                });
                unwrapExports(verification$2);
                var ad = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var s = r(adSystem$2)
                        , u = r(creative$4)
                        , c = r(extension)
                        , l = r(impression$2)
                        , d = r(pricing$2)
                        , f = r(viewableImpression$2)
                        , p = r(verification$2)
                        , n = r(isNonEmptyString);
                    function r(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    function h(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = Array(e.length); t < e.length; t++)
                                n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }
                    var g = function(e) {
                        return null != e && (0,
                            n.default)(e._value)
                    };
                    t.default = function(e, t, n, r) {
                        var i, a, o;
                        (n.id = e.id,
                            n.conditionalAd = e.conditionalAd,
                            n.sequence = e.sequence,
                        null != t.adSystem && (n.adSystem = (0,
                            s.default)(t.adSystem)),
                        null != t.impression) && (i = n.impressions).push.apply(i, h(t.impression.filter(g).map(l.default)));
                        (null != t.pricing && (n.pricing = (0,
                            d.default)(t.pricing)),
                        null != t.error) && (a = n.errors).push.apply(a, h(t.error.filter(g).map(function(e) {
                            return e._value
                        })));
                        (null != t.viewableImpression && (n.viewableImpression = (0,
                            f.default)(t.viewableImpression)),
                        null != t.adVerifications && t.adVerifications.verification.forEach(function(e) {
                            try {
                                var t = (0,
                                    p.default)(e, r);
                                n.verifications.push(t)
                            } catch (e) {
                                r.errorHandler(e)
                            }
                        }),
                        null != t.extensions) && (o = n.extensions).push.apply(o, h(t.extensions.extension.map(c.default)));
                        return null != t.creatives && t.creatives.creative.forEach(function(e) {
                            try {
                                var t = (0,
                                    u.default)(e, r);
                                n.creatives.add(t)
                            } catch (e) {
                                r.errorHandler(e)
                            }
                        }),
                            n
                    }
                });
                unwrapExports(ad);
                var category$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Category;
                            return t.authority = e.authority,
                                t.code = e._value,
                                t
                        }
                });
                unwrapExports(category$2);
                var survey$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            var t = new lib.Survey;
                            return t.type = e.type,
                                t.uri = e._value,
                                t
                        }
                });
                unwrapExports(survey$2);
                var inLine$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var o = n(ad)
                        , s = n(category$2)
                        , u = n(survey$2);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    function c(e) {
                        if (Array.isArray(e)) {
                            for (var t = 0, n = Array(e.length); t < e.length; t++)
                                n[t] = e[t];
                            return n
                        }
                        return Array.from(e)
                    }
                    t.default = function(e, t) {
                        var n, r, i = new lib.InLine, a = e.inLine;
                        ((0,
                            o.default)(e, a, i, t),
                            i.adTitle = null != a.adTitle ? a.adTitle._value : null,
                        null != a.category) && (n = i.categories).push.apply(n, c(a.category.filter(function(e) {
                            return null != e.authority
                        }).map(s.default)));
                        (i.description = null != a.description ? a.description._value : null,
                            i.advertiser = null != a.advertiser ? a.advertiser._value : null,
                        null != a.survey) && (r = i.surveys).push.apply(r, c(a.survey.filter(function(e) {
                            return 0 < e._value.length
                        }).map(u.default)));
                        return i
                    }
                });
                unwrapExports(inLine$2);
                var wrapper$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, i = (n = ad) && n.__esModule ? n : {
                        default: n
                    };
                    t.default = function(e, t) {
                        var n = new lib.Wrapper
                            , r = e.wrapper;
                        return (0,
                            i.default)(e, r, n, t),
                        null != r.followAdditionalWrappers && (n.followAdditionalWrappers = r.followAdditionalWrappers),
                        null != r.allowMultipleAds && (n.allowMultipleAds = r.allowMultipleAds),
                            n.fallbackOnNoAd = r.fallbackOnNoAd,
                            n.vastAdTagURI = null != r.vastAdTagURI ? r.vastAdTagURI._value : null,
                            n
                    }
                });
                unwrapExports(wrapper$2);
                var ad$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n = i(inLine$2)
                        , r = i(wrapper$2);
                    function i(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    t.default = function(e, t) {
                        if (null != e.inLine)
                            return (0,
                                n.default)(e, t);
                        if (null != e.wrapper)
                            return (0,
                                r.default)(e, t);
                        throw new Error("Unrecognized ad type")
                    }
                });
                unwrapExports(ad$2);
                var vast$2 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, l = function(e, t) {
                        if (Array.isArray(e))
                            return e;
                        if (Symbol.iterator in Object(e))
                            return function(e, t) {
                                var n = []
                                    , r = !0
                                    , i = !1
                                    , a = void 0;
                                try {
                                    for (var o, s = e[Symbol.iterator](); !(r = (o = s.next()).done) && (n.push(o.value),
                                    !t || n.length !== t); r = !0)
                                        ;
                                } catch (e) {
                                    i = !0,
                                        a = e
                                } finally {
                                    try {
                                        !r && s.return && s.return()
                                    } finally {
                                        if (i)
                                            throw a
                                    }
                                }
                                return n
                            }(e, t);
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }, d = (n = ad$2) && n.__esModule ? n : {
                        default: n
                    };
                    var r = function(e, t) {
                        var n, r = new lib.VAST;
                        r.version = e.version,
                            (n = r.errors).push.apply(n, function(e) {
                                if (Array.isArray(e)) {
                                    for (var t = 0, n = Array(e.length); t < e.length; t++)
                                        n[t] = e[t];
                                    return n
                                }
                                return Array.from(e)
                            }(e.error.map(function(e) {
                                return e._value
                            }).filter(function(e) {
                                return "" !== e
                            })));
                        var i = function(e) {
                            for (var t = [], n = [], r = 0; r < e.length; ++r) {
                                var i = e[r];
                                void 0 !== i.sequence ? t.push(i) : n.push(i)
                            }
                            return [t, n]
                        }(e.ad)
                            , a = l(i, 2)
                            , o = a[0]
                            , s = a[1];
                        if (0 < o.length)
                            if (t.noSingleAdPods && 1 === e.ad.length && 1 === o.length)
                                s.push(o[0]);
                            else {
                                r.adPod = new lib.AdPod;
                                for (var u = 0; u < o.length; u++)
                                    r.adPod.ads.add((0,
                                        d.default)(o[u], t))
                            }
                        for (var c = 0; c < s.length; c++)
                            r.ads.add((0,
                                d.default)(s[c], t));
                        return r
                    };
                    t.default = function(e, t) {
                        try {
                            return r(e, t)
                        } catch (e) {
                            t.errorHandler(e)
                        }
                    }
                });
                unwrapExports(vast$2);
                var strict = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function(e) {
                            throw e
                        }
                });
                unwrapExports(strict);
                var loose = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    }),
                        t.default = function() {}
                });
                unwrapExports(loose);
                var parse$3 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var i = n(unmarshaler)
                        , a = n(schema)
                        , o = n(vast$2)
                        , s = n(strict)
                        , u = n(loose);
                    function n(e) {
                        return e && e.__esModule ? e : {
                            default: e
                        }
                    }
                    var c = {
                        strict: !1,
                        noSingleAdPods: !1
                    };
                    t.default = function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                        (t = Object.assign({}, c, t)).errorHandler = t.strict ? s.default : u.default;
                        var n = function(e, t) {
                            "string" == typeof e && (e = (t.domParser || new DOMParser).parseFromString(e, "text/xml"));
                            return null != e.documentElement && (e = e.documentElement),
                                e
                        }(e, t)
                            , r = new i.default(a.default).unmarshal(n);
                        return (0,
                            o.default)(r, t)
                    }
                });
                unwrapExports(parse$3);
                var lib$1 = createCommonjsModule(function(e, t) {
                    Object.defineProperty(t, "__esModule", {
                        value: !0
                    });
                    var n, r = (n = parse$3) && n.__esModule ? n : {
                        default: n
                    };
                    t.default = function(e) {
                        var t = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {};
                        return null == t.domParser && (t.domParser = new domParser.DOMParser),
                            (0,
                                r.default)(e, t)
                    }
                })
                    , parseVAST = unwrapExports(lib$1)
                    , lodash = createCommonjsModule(function(Y, X) {
                    (function() {
                            var to, no = "Expected a function", ro = "__lodash_hash_undefined__", io = "__lodash_placeholder__", ao = 128, oo = 9007199254740991, so = NaN, uo = 4294967295, co = [["ary", ao], ["bind", 1], ["bindKey", 2], ["curry", 8], ["curryRight", 16], ["flip", 512], ["partial", 32], ["partialRight", 64], ["rearg", 256]], lo = "[object Arguments]", fo = "[object Array]", po = "[object Boolean]", ho = "[object Date]", go = "[object Error]", mo = "[object Function]", yo = "[object GeneratorFunction]", vo = "[object Map]", _o = "[object Number]", bo = "[object Object]", wo = "[object Promise]", Co = "[object RegExp]", Eo = "[object Set]", Ao = "[object String]", Po = "[object Symbol]", To = "[object WeakMap]", So = "[object ArrayBuffer]", ko = "[object DataView]", e = "[object Float32Array]", t = "[object Float64Array]", n = "[object Int8Array]", r = "[object Int16Array]", i = "[object Int32Array]", a = "[object Uint8Array]", o = "[object Uint8ClampedArray]", s = "[object Uint16Array]", u = "[object Uint32Array]", Oo = /\b__p \+= '';/g, Io = /\b(__p \+=) '' \+/g, xo = /(__e\(.*?\)|\b__t\)) \+\n'';/g, No = /&(?:amp|lt|gt|quot|#39);/g, Mo = /[&<>"']/g, Ro = RegExp(No.source), jo = RegExp(Mo.source), Lo = /<%-([\s\S]+?)%>/g, Vo = /<%([\s\S]+?)%>/g, Do = /<%=([\s\S]+?)%>/g, Fo = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, $o = /^\w*$/, Uo = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, Bo = /[\\^$.*+?()[\]{}|]/g, Ho = RegExp(Bo.source), zo = /^\s+|\s+$/g, Wo = /^\s+/, Go = /\s+$/, qo = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/, Ko = /\{\n\/\* \[wrapped with (.+)\] \*/, Jo = /,? & /, Yo = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g, Xo = /\\(\\)?/g, Qo = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g, Zo = /\w*$/, es = /^[-+]0x[0-9a-f]+$/i, ts = /^0b[01]+$/i, ns = /^\[object .+?Constructor\]$/, rs = /^0o[0-7]+$/i, is = /^(?:0|[1-9]\d*)$/, as = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, os = /($^)/, ss = /['\n\r\u2028\u2029\\]/g, c = "\\ud800-\\udfff", l = "\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff", d = "\\u2700-\\u27bf", f = "a-z\\xdf-\\xf6\\xf8-\\xff", p = "A-Z\\xc0-\\xd6\\xd8-\\xde", h = "\\ufe0e\\ufe0f", g = "\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000", m = "[']", y = "[" + c + "]", v = "[" + g + "]", _ = "[" + l + "]", b = "\\d+", w = "[" + d + "]", C = "[" + f + "]", E = "[^" + c + g + b + d + f + p + "]", A = "\\ud83c[\\udffb-\\udfff]", P = "[^" + c + "]", T = "(?:\\ud83c[\\udde6-\\uddff]){2}", S = "[\\ud800-\\udbff][\\udc00-\\udfff]", k = "[" + p + "]", O = "\\u200d", I = "(?:" + C + "|" + E + ")", x = "(?:" + k + "|" + E + ")", N = "(?:['](?:d|ll|m|re|s|t|ve))?", M = "(?:['](?:D|LL|M|RE|S|T|VE))?", R = "(?:" + _ + "|" + A + ")" + "?", j = "[" + h + "]?", L = j + R + ("(?:" + O + "(?:" + [P, T, S].join("|") + ")" + j + R + ")*"), V = "(?:" + [w, T, S].join("|") + ")" + L, D = "(?:" + [P + _ + "?", _, T, S, y].join("|") + ")", us = RegExp(m, "g"), cs = RegExp(_, "g"), F = RegExp(A + "(?=" + A + ")|" + D + L, "g"), ls = RegExp([k + "?" + C + "+" + N + "(?=" + [v, k, "$"].join("|") + ")", x + "+" + M + "(?=" + [v, k + I, "$"].join("|") + ")", k + "?" + I + "+" + N, k + "+" + M, "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])", "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])", b, V].join("|"), "g"), $ = RegExp("[" + O + c + l + h + "]"), ds = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/, fs = ["Array", "Buffer", "DataView", "Date", "Error", "Float32Array", "Float64Array", "Function", "Int8Array", "Int16Array", "Int32Array", "Map", "Math", "Object", "Promise", "RegExp", "Set", "String", "Symbol", "TypeError", "Uint8Array", "Uint8ClampedArray", "Uint16Array", "Uint32Array", "WeakMap", "_", "clearTimeout", "isFinite", "parseInt", "setTimeout"], ps = -1, hs = {};
                            hs[e] = hs[t] = hs[n] = hs[r] = hs[i] = hs[a] = hs[o] = hs[s] = hs[u] = !0,
                                hs[lo] = hs[fo] = hs[So] = hs[po] = hs[ko] = hs[ho] = hs[go] = hs[mo] = hs[vo] = hs[_o] = hs[bo] = hs[Co] = hs[Eo] = hs[Ao] = hs[To] = !1;
                            var U = {
                                "\\": "\\",
                                "'": "'",
                                "\n": "n",
                                "\r": "r",
                                "\u2028": "u2028",
                                "\u2029": "u2029"
                            }
                                , gs = parseFloat
                                , ms = parseInt
                                , B = "object" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal
                                , H = "object" == typeof self && self && self.Object === Object && self
                                , ys = B || H || Function("return this")()
                                , z = X && !X.nodeType && X
                                , W = z && Y && !Y.nodeType && Y
                                , vs = W && W.exports === z
                                , G = vs && B.process
                                , q = function() {
                                try {
                                    var e = W && W.require && W.require("util").types;
                                    return e || G && G.binding && G.binding("util")
                                } catch (e) {}
                            }()
                                , _s = q && q.isArrayBuffer
                                , bs = q && q.isDate
                                , ws = q && q.isMap
                                , Cs = q && q.isRegExp
                                , Es = q && q.isSet
                                , As = q && q.isTypedArray;
                            function Ps(e, t, n) {
                                switch (n.length) {
                                    case 0:
                                        return e.call(t);
                                    case 1:
                                        return e.call(t, n[0]);
                                    case 2:
                                        return e.call(t, n[0], n[1]);
                                    case 3:
                                        return e.call(t, n[0], n[1], n[2])
                                }
                                return e.apply(t, n)
                            }
                            function Ts(e, t, n, r) {
                                for (var i = -1, a = null == e ? 0 : e.length; ++i < a; ) {
                                    var o = e[i];
                                    t(r, o, n(o), e)
                                }
                                return r
                            }
                            function Ss(e, t) {
                                for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e); )
                                    ;
                                return e
                            }
                            function ks(e, t) {
                                for (var n = null == e ? 0 : e.length; n-- && !1 !== t(e[n], n, e); )
                                    ;
                                return e
                            }
                            function Os(e, t) {
                                for (var n = -1, r = null == e ? 0 : e.length; ++n < r; )
                                    if (!t(e[n], n, e))
                                        return !1;
                                return !0
                            }
                            function Is(e, t) {
                                for (var n = -1, r = null == e ? 0 : e.length, i = 0, a = []; ++n < r; ) {
                                    var o = e[n];
                                    t(o, n, e) && (a[i++] = o)
                                }
                                return a
                            }
                            function xs(e, t) {
                                return !!(null == e ? 0 : e.length) && -1 < $s(e, t, 0)
                            }
                            function Ns(e, t, n) {
                                for (var r = -1, i = null == e ? 0 : e.length; ++r < i; )
                                    if (n(t, e[r]))
                                        return !0;
                                return !1
                            }
                            function Ms(e, t) {
                                for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; )
                                    i[n] = t(e[n], n, e);
                                return i
                            }
                            function Rs(e, t) {
                                for (var n = -1, r = t.length, i = e.length; ++n < r; )
                                    e[i + n] = t[n];
                                return e
                            }
                            function js(e, t, n, r) {
                                var i = -1
                                    , a = null == e ? 0 : e.length;
                                for (r && a && (n = e[++i]); ++i < a; )
                                    n = t(n, e[i], i, e);
                                return n
                            }
                            function Ls(e, t, n, r) {
                                var i = null == e ? 0 : e.length;
                                for (r && i && (n = e[--i]); i--; )
                                    n = t(n, e[i], i, e);
                                return n
                            }
                            function Vs(e, t) {
                                for (var n = -1, r = null == e ? 0 : e.length; ++n < r; )
                                    if (t(e[n], n, e))
                                        return !0;
                                return !1
                            }
                            var K = zs("length");
                            function Ds(e, r, t) {
                                var i;
                                return t(e, function(e, t, n) {
                                    if (r(e, t, n))
                                        return i = t,
                                            !1
                                }),
                                    i
                            }
                            function Fs(e, t, n, r) {
                                for (var i = e.length, a = n + (r ? 1 : -1); r ? a-- : ++a < i; )
                                    if (t(e[a], a, e))
                                        return a;
                                return -1
                            }
                            function $s(e, t, n) {
                                return t == t ? function(e, t, n) {
                                    var r = n - 1
                                        , i = e.length;
                                    for (; ++r < i; )
                                        if (e[r] === t)
                                            return r;
                                    return -1
                                }(e, t, n) : Fs(e, Bs, n)
                            }
                            function Us(e, t, n, r) {
                                for (var i = n - 1, a = e.length; ++i < a; )
                                    if (r(e[i], t))
                                        return i;
                                return -1
                            }
                            function Bs(e) {
                                return e != e
                            }
                            function Hs(e, t) {
                                var n = null == e ? 0 : e.length;
                                return n ? Gs(e, t) / n : so
                            }
                            function zs(t) {
                                return function(e) {
                                    return null == e ? to : e[t]
                                }
                            }
                            function J(t) {
                                return function(e) {
                                    return null == t ? to : t[e]
                                }
                            }
                            function Ws(e, r, i, a, t) {
                                return t(e, function(e, t, n) {
                                    i = a ? (a = !1,
                                        e) : r(i, e, t, n)
                                }),
                                    i
                            }
                            function Gs(e, t) {
                                for (var n, r = -1, i = e.length; ++r < i; ) {
                                    var a = t(e[r]);
                                    a !== to && (n = n === to ? a : n + a)
                                }
                                return n
                            }
                            function qs(e, t) {
                                for (var n = -1, r = Array(e); ++n < e; )
                                    r[n] = t(n);
                                return r
                            }
                            function Ks(t) {
                                return function(e) {
                                    return t(e)
                                }
                            }
                            function Js(t, e) {
                                return Ms(e, function(e) {
                                    return t[e]
                                })
                            }
                            function Ys(e, t) {
                                return e.has(t)
                            }
                            function Xs(e, t) {
                                for (var n = -1, r = e.length; ++n < r && -1 < $s(t, e[n], 0); )
                                    ;
                                return n
                            }
                            function Qs(e, t) {
                                for (var n = e.length; n-- && -1 < $s(t, e[n], 0); )
                                    ;
                                return n
                            }
                            var Zs = J({
                                "": "A",
                                "": "A",
                                "": "A",
                                "": "A",
                                "": "A",
                                "": "A",
                                "": "a",
                                "": "a",
                                "": "a",
                                "": "a",
                                "": "a",
                                "": "a",
                                "": "C",
                                "": "c",
                                "": "D",
                                "": "d",
                                "": "E",
                                "": "E",
                                "": "E",
                                "": "E",
                                "": "e",
                                "": "e",
                                "": "e",
                                "": "e",
                                "": "I",
                                "": "I",
                                "": "I",
                                "": "I",
                                "": "i",
                                "": "i",
                                "": "i",
                                "": "i",
                                "": "N",
                                "": "n",
                                "": "O",
                                "": "O",
                                "": "O",
                                "": "O",
                                "": "O",
                                "": "O",
                                "": "o",
                                "": "o",
                                "": "o",
                                "": "o",
                                "": "o",
                                "": "o",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "Y",
                                "": "y",
                                "": "y",
                                "": "Ae",
                                "": "ae",
                                "": "Th",
                                "": "th",
                                "": "ss",
                                "": "A",
                                "": "A",
                                "": "A",
                                "": "a",
                                "": "a",
                                "": "a",
                                "": "C",
                                "": "C",
                                "": "C",
                                "": "C",
                                "": "c",
                                "": "c",
                                "": "c",
                                "": "c",
                                "": "D",
                                "": "D",
                                "": "d",
                                "": "d",
                                "": "E",
                                "": "E",
                                "": "E",
                                "": "E",
                                "": "E",
                                "": "e",
                                "": "e",
                                "": "e",
                                "": "e",
                                "": "e",
                                "": "G",
                                "": "G",
                                "": "G",
                                "": "G",
                                "": "g",
                                "": "g",
                                "": "g",
                                "": "g",
                                "": "H",
                                "": "H",
                                "": "h",
                                "": "h",
                                "": "I",
                                "": "I",
                                "": "I",
                                "": "I",
                                "": "I",
                                "": "i",
                                "": "i",
                                "": "i",
                                "": "i",
                                "": "i",
                                "": "J",
                                "": "j",
                                "": "K",
                                "": "k",
                                "": "k",
                                "": "L",
                                "": "L",
                                "": "L",
                                "": "L",
                                "": "L",
                                "": "l",
                                "": "l",
                                "": "l",
                                "": "l",
                                "": "l",
                                "": "N",
                                "": "N",
                                "": "N",
                                "": "N",
                                "": "n",
                                "": "n",
                                "": "n",
                                "": "n",
                                "": "O",
                                "": "O",
                                "": "O",
                                "": "o",
                                "": "o",
                                "": "o",
                                "": "R",
                                "": "R",
                                "": "R",
                                "": "r",
                                "": "r",
                                "": "r",
                                "": "S",
                                "": "S",
                                "": "S",
                                "": "S",
                                "": "s",
                                "": "s",
                                "": "s",
                                "": "s",
                                "": "T",
                                "": "T",
                                "": "T",
                                "": "t",
                                "": "t",
                                "": "t",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "U",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "u",
                                "": "W",
                                "": "w",
                                "": "Y",
                                "": "y",
                                "": "Y",
                                "": "Z",
                                "": "Z",
                                "": "Z",
                                "": "z",
                                "": "z",
                                "": "z",
                                "": "IJ",
                                "": "ij",
                                "": "Oe",
                                "": "oe",
                                "": "'n",
                                "": "s"
                            })
                                , eu = J({
                                "&": "&amp;",
                                "<": "&lt;",
                                ">": "&gt;",
                                '"': "&quot;",
                                "'": "&#39;"
                            });
                            function tu(e) {
                                return "\\" + U[e]
                            }
                            function nu(e) {
                                return $.test(e)
                            }
                            function ru(e) {
                                var n = -1
                                    , r = Array(e.size);
                                return e.forEach(function(e, t) {
                                    r[++n] = [t, e]
                                }),
                                    r
                            }
                            function iu(t, n) {
                                return function(e) {
                                    return t(n(e))
                                }
                            }
                            function au(e, t) {
                                for (var n = -1, r = e.length, i = 0, a = []; ++n < r; ) {
                                    var o = e[n];
                                    o !== t && o !== io || (e[n] = io,
                                        a[i++] = n)
                                }
                                return a
                            }
                            function ou(e) {
                                var t = -1
                                    , n = Array(e.size);
                                return e.forEach(function(e) {
                                    n[++t] = e
                                }),
                                    n
                            }
                            function su(e) {
                                return nu(e) ? function(e) {
                                    var t = F.lastIndex = 0;
                                    for (; F.test(e); )
                                        ++t;
                                    return t
                                }(e) : K(e)
                            }
                            function uu(e) {
                                return nu(e) ? e.match(F) || [] : e.split("")
                            }
                            var cu = J({
                                "&amp;": "&",
                                "&lt;": "<",
                                "&gt;": ">",
                                "&quot;": '"',
                                "&#39;": "'"
                            });
                            var lu = function e(t) {
                                var n, k = (t = null == t ? ys : lu.defaults(ys.Object(), t, lu.pick(ys, fs))).Array, r = t.Date, i = t.Error, m = t.Function, a = t.Math, p = t.Object, y = t.RegExp, l = t.String, O = t.TypeError, o = k.prototype, s = m.prototype, d = p.prototype, u = t["__core-js_shared__"], c = s.toString, A = d.hasOwnProperty, f = 0, h = (n = /[^.]+$/.exec(u && u.keys && u.keys.IE_PROTO || "")) ? "Symbol(src)_1." + n : "", g = d.toString, v = c.call(p), _ = ys._, b = y("^" + c.call(A).replace(Bo, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), w = vs ? t.Buffer : to, C = t.Symbol, E = t.Uint8Array, P = w ? w.allocUnsafe : to, T = iu(p.getPrototypeOf, p), S = p.create, I = d.propertyIsEnumerable, x = o.splice, N = C ? C.isConcatSpreadable : to, M = C ? C.iterator : to, R = C ? C.toStringTag : to, j = function() {
                                    try {
                                        var e = $n(p, "defineProperty");
                                        return e({}, "", {}),
                                            e
                                    } catch (e) {}
                                }(), L = t.clearTimeout !== ys.clearTimeout && t.clearTimeout, V = r && r.now !== ys.Date.now && r.now, D = t.setTimeout !== ys.setTimeout && t.setTimeout, F = a.ceil, $ = a.floor, U = p.getOwnPropertySymbols, B = w ? w.isBuffer : to, H = t.isFinite, z = o.join, W = iu(p.keys, p), G = a.max, q = a.min, K = r.now, J = t.parseInt, Y = a.random, X = o.reverse, Q = $n(t, "DataView"), Z = $n(t, "Map"), ee = $n(t, "Promise"), te = $n(t, "Set"), ne = $n(t, "WeakMap"), re = $n(p, "create"), ie = ne && new ne, ae = {}, oe = hr(Q), se = hr(Z), ue = hr(ee), ce = hr(te), le = hr(ne), de = C ? C.prototype : to, fe = de ? de.valueOf : to, pe = de ? de.toString : to;
                                function he(e) {
                                    if (xi(e) && !bi(e) && !(e instanceof ve)) {
                                        if (e instanceof ye)
                                            return e;
                                        if (A.call(e, "__wrapped__"))
                                            return gr(e)
                                    }
                                    return new ye(e)
                                }
                                var ge = function() {
                                    function n() {}
                                    return function(e) {
                                        if (!Ii(e))
                                            return {};
                                        if (S)
                                            return S(e);
                                        n.prototype = e;
                                        var t = new n;
                                        return n.prototype = to,
                                            t
                                    }
                                }();
                                function me() {}
                                function ye(e, t) {
                                    this.__wrapped__ = e,
                                        this.__actions__ = [],
                                        this.__chain__ = !!t,
                                        this.__index__ = 0,
                                        this.__values__ = to
                                }
                                function ve(e) {
                                    this.__wrapped__ = e,
                                        this.__actions__ = [],
                                        this.__dir__ = 1,
                                        this.__filtered__ = !1,
                                        this.__iteratees__ = [],
                                        this.__takeCount__ = uo,
                                        this.__views__ = []
                                }
                                function _e(e) {
                                    var t = -1
                                        , n = null == e ? 0 : e.length;
                                    for (this.clear(); ++t < n; ) {
                                        var r = e[t];
                                        this.set(r[0], r[1])
                                    }
                                }
                                function be(e) {
                                    var t = -1
                                        , n = null == e ? 0 : e.length;
                                    for (this.clear(); ++t < n; ) {
                                        var r = e[t];
                                        this.set(r[0], r[1])
                                    }
                                }
                                function we(e) {
                                    var t = -1
                                        , n = null == e ? 0 : e.length;
                                    for (this.clear(); ++t < n; ) {
                                        var r = e[t];
                                        this.set(r[0], r[1])
                                    }
                                }
                                function Ce(e) {
                                    var t = -1
                                        , n = null == e ? 0 : e.length;
                                    for (this.__data__ = new we; ++t < n; )
                                        this.add(e[t])
                                }
                                function Ee(e) {
                                    var t = this.__data__ = new be(e);
                                    this.size = t.size
                                }
                                function Ae(e, t) {
                                    var n = bi(e)
                                        , r = !n && _i(e)
                                        , i = !n && !r && Ai(e)
                                        , a = !n && !r && !i && Fi(e)
                                        , o = n || r || i || a
                                        , s = o ? qs(e.length, l) : []
                                        , u = s.length;
                                    for (var c in e)
                                        !t && !A.call(e, c) || o && ("length" == c || i && ("offset" == c || "parent" == c) || a && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || qn(c, u)) || s.push(c);
                                    return s
                                }
                                function Pe(e) {
                                    var t = e.length;
                                    return t ? e[Ct(0, t - 1)] : to
                                }
                                function Te(e, t) {
                                    return cr(rn(e), je(t, 0, e.length))
                                }
                                function Se(e) {
                                    return cr(rn(e))
                                }
                                function ke(e, t, n) {
                                    (n === to || mi(e[t], n)) && (n !== to || t in e) || Me(e, t, n)
                                }
                                function Oe(e, t, n) {
                                    var r = e[t];
                                    A.call(e, t) && mi(r, n) && (n !== to || t in e) || Me(e, t, n)
                                }
                                function Ie(e, t) {
                                    for (var n = e.length; n--; )
                                        if (mi(e[n][0], t))
                                            return n;
                                    return -1
                                }
                                function xe(e, r, i, a) {
                                    return $e(e, function(e, t, n) {
                                        r(a, e, i(e), n)
                                    }),
                                        a
                                }
                                function Ne(e, t) {
                                    return e && an(t, sa(t), e)
                                }
                                function Me(e, t, n) {
                                    "__proto__" == t && j ? j(e, t, {
                                        configurable: !0,
                                        enumerable: !0,
                                        value: n,
                                        writable: !0
                                    }) : e[t] = n
                                }
                                function Re(e, t) {
                                    for (var n = -1, r = t.length, i = k(r), a = null == e; ++n < r; )
                                        i[n] = a ? to : na(e, t[n]);
                                    return i
                                }
                                function je(e, t, n) {
                                    return e == e && (n !== to && (e = e <= n ? e : n),
                                    t !== to && (e = t <= e ? e : t)),
                                        e
                                }
                                function Le(n, r, i, e, t, a) {
                                    var o, s = 1 & r, u = 2 & r, c = 4 & r;
                                    if (i && (o = t ? i(n, e, t, a) : i(n)),
                                    o !== to)
                                        return o;
                                    if (!Ii(n))
                                        return n;
                                    var l, d, f, p, h, g, m, y, v, _ = bi(n);
                                    if (_) {
                                        if (y = (m = n).length,
                                            v = new m.constructor(y),
                                        y && "string" == typeof m[0] && A.call(m, "index") && (v.index = m.index,
                                            v.input = m.input),
                                            o = v,
                                            !s)
                                            return rn(n, o)
                                    } else {
                                        var b = Hn(n)
                                            , w = b == mo || b == yo;
                                        if (Ai(n))
                                            return Xt(n, s);
                                        if (b != bo && b != lo && (!w || t))
                                            return t ? n : {};
                                        if (o = u || w ? {} : Wn(n),
                                            !s)
                                            return u ? (g = f = n,
                                                p = (h = o) && an(g, ua(g), h),
                                                an(f, Bn(f), p)) : (d = Ne(o, l = n),
                                                an(l, Un(l), d))
                                    }
                                    a || (a = new Ee);
                                    var C = a.get(n);
                                    if (C)
                                        return C;
                                    a.set(n, o),
                                        Li(n) ? n.forEach(function(e) {
                                            o.add(Le(e, r, i, e, n, a))
                                        }) : Ni(n) && n.forEach(function(e, t) {
                                            o.set(t, Le(e, r, i, t, n, a))
                                        });
                                    var E = _ ? to : (c ? u ? Mn : Nn : u ? ua : sa)(n);
                                    return Ss(E || n, function(e, t) {
                                        E && (e = n[t = e]),
                                            Oe(o, t, Le(e, r, i, t, n, a))
                                    }),
                                        o
                                }
                                function Ve(e, t, n) {
                                    var r = n.length;
                                    if (null == e)
                                        return !r;
                                    for (e = p(e); r--; ) {
                                        var i = n[r]
                                            , a = t[i]
                                            , o = e[i];
                                        if (o === to && !(i in e) || !a(o))
                                            return !1
                                    }
                                    return !0
                                }
                                function De(e, t, n) {
                                    if ("function" != typeof e)
                                        throw new O(no);
                                    return ar(function() {
                                        e.apply(to, n)
                                    }, t)
                                }
                                function Fe(e, t, n, r) {
                                    var i = -1
                                        , a = xs
                                        , o = !0
                                        , s = e.length
                                        , u = []
                                        , c = t.length;
                                    if (!s)
                                        return u;
                                    n && (t = Ms(t, Ks(n))),
                                        r ? (a = Ns,
                                            o = !1) : 200 <= t.length && (a = Ys,
                                            o = !1,
                                            t = new Ce(t));
                                    e: for (; ++i < s; ) {
                                        var l = e[i]
                                            , d = null == n ? l : n(l);
                                        if (l = r || 0 !== l ? l : 0,
                                        o && d == d) {
                                            for (var f = c; f--; )
                                                if (t[f] === d)
                                                    continue e;
                                            u.push(l)
                                        } else
                                            a(t, d, r) || u.push(l)
                                    }
                                    return u
                                }
                                he.templateSettings = {
                                    escape: Lo,
                                    evaluate: Vo,
                                    interpolate: Do,
                                    variable: "",
                                    imports: {
                                        _: he
                                    }
                                },
                                    (he.prototype = me.prototype).constructor = he,
                                    (ye.prototype = ge(me.prototype)).constructor = ye,
                                    (ve.prototype = ge(me.prototype)).constructor = ve,
                                    _e.prototype.clear = function() {
                                        this.__data__ = re ? re(null) : {},
                                            this.size = 0
                                    }
                                    ,
                                    _e.prototype.delete = function(e) {
                                        var t = this.has(e) && delete this.__data__[e];
                                        return this.size -= t ? 1 : 0,
                                            t
                                    }
                                    ,
                                    _e.prototype.get = function(e) {
                                        var t = this.__data__;
                                        if (re) {
                                            var n = t[e];
                                            return n === ro ? to : n
                                        }
                                        return A.call(t, e) ? t[e] : to
                                    }
                                    ,
                                    _e.prototype.has = function(e) {
                                        var t = this.__data__;
                                        return re ? t[e] !== to : A.call(t, e)
                                    }
                                    ,
                                    _e.prototype.set = function(e, t) {
                                        var n = this.__data__;
                                        return this.size += this.has(e) ? 0 : 1,
                                            n[e] = re && t === to ? ro : t,
                                            this
                                    }
                                    ,
                                    be.prototype.clear = function() {
                                        this.__data__ = [],
                                            this.size = 0
                                    }
                                    ,
                                    be.prototype.delete = function(e) {
                                        var t = this.__data__
                                            , n = Ie(t, e);
                                        return !(n < 0 || (n == t.length - 1 ? t.pop() : x.call(t, n, 1),
                                            --this.size,
                                            0))
                                    }
                                    ,
                                    be.prototype.get = function(e) {
                                        var t = this.__data__
                                            , n = Ie(t, e);
                                        return n < 0 ? to : t[n][1]
                                    }
                                    ,
                                    be.prototype.has = function(e) {
                                        return -1 < Ie(this.__data__, e)
                                    }
                                    ,
                                    be.prototype.set = function(e, t) {
                                        var n = this.__data__
                                            , r = Ie(n, e);
                                        return r < 0 ? (++this.size,
                                            n.push([e, t])) : n[r][1] = t,
                                            this
                                    }
                                    ,
                                    we.prototype.clear = function() {
                                        this.size = 0,
                                            this.__data__ = {
                                                hash: new _e,
                                                map: new (Z || be),
                                                string: new _e
                                            }
                                    }
                                    ,
                                    we.prototype.delete = function(e) {
                                        var t = Dn(this, e).delete(e);
                                        return this.size -= t ? 1 : 0,
                                            t
                                    }
                                    ,
                                    we.prototype.get = function(e) {
                                        return Dn(this, e).get(e)
                                    }
                                    ,
                                    we.prototype.has = function(e) {
                                        return Dn(this, e).has(e)
                                    }
                                    ,
                                    we.prototype.set = function(e, t) {
                                        var n = Dn(this, e)
                                            , r = n.size;
                                        return n.set(e, t),
                                            this.size += n.size == r ? 0 : 1,
                                            this
                                    }
                                    ,
                                    Ce.prototype.add = Ce.prototype.push = function(e) {
                                        return this.__data__.set(e, ro),
                                            this
                                    }
                                    ,
                                    Ce.prototype.has = function(e) {
                                        return this.__data__.has(e)
                                    }
                                    ,
                                    Ee.prototype.clear = function() {
                                        this.__data__ = new be,
                                            this.size = 0
                                    }
                                    ,
                                    Ee.prototype.delete = function(e) {
                                        var t = this.__data__
                                            , n = t.delete(e);
                                        return this.size = t.size,
                                            n
                                    }
                                    ,
                                    Ee.prototype.get = function(e) {
                                        return this.__data__.get(e)
                                    }
                                    ,
                                    Ee.prototype.has = function(e) {
                                        return this.__data__.has(e)
                                    }
                                    ,
                                    Ee.prototype.set = function(e, t) {
                                        var n = this.__data__;
                                        if (n instanceof be) {
                                            var r = n.__data__;
                                            if (!Z || r.length < 199)
                                                return r.push([e, t]),
                                                    this.size = ++n.size,
                                                    this;
                                            n = this.__data__ = new we(r)
                                        }
                                        return n.set(e, t),
                                            this.size = n.size,
                                            this
                                    }
                                ;
                                var $e = un(Ke)
                                    , Ue = un(Je, !0);
                                function Be(e, r) {
                                    var i = !0;
                                    return $e(e, function(e, t, n) {
                                        return i = !!r(e, t, n)
                                    }),
                                        i
                                }
                                function He(e, t, n) {
                                    for (var r = -1, i = e.length; ++r < i; ) {
                                        var a = e[r]
                                            , o = t(a);
                                        if (null != o && (s === to ? o == o && !Di(o) : n(o, s)))
                                            var s = o
                                                , u = a
                                    }
                                    return u
                                }
                                function ze(e, r) {
                                    var i = [];
                                    return $e(e, function(e, t, n) {
                                        r(e, t, n) && i.push(e)
                                    }),
                                        i
                                }
                                function We(e, t, n, r, i) {
                                    var a = -1
                                        , o = e.length;
                                    for (n || (n = Gn),
                                         i || (i = []); ++a < o; ) {
                                        var s = e[a];
                                        0 < t && n(s) ? 1 < t ? We(s, t - 1, n, r, i) : Rs(i, s) : r || (i[i.length] = s)
                                    }
                                    return i
                                }
                                var Ge = cn()
                                    , qe = cn(!0);
                                function Ke(e, t) {
                                    return e && Ge(e, t, sa)
                                }
                                function Je(e, t) {
                                    return e && qe(e, t, sa)
                                }
                                function Ye(t, e) {
                                    return Is(e, function(e) {
                                        return Si(t[e])
                                    })
                                }
                                function Xe(e, t) {
                                    for (var n = 0, r = (t = qt(t, e)).length; null != e && n < r; )
                                        e = e[pr(t[n++])];
                                    return n && n == r ? e : to
                                }
                                function Qe(e, t, n) {
                                    var r = t(e);
                                    return bi(e) ? r : Rs(r, n(e))
                                }
                                function Ze(e) {
                                    return null == e ? e === to ? "[object Undefined]" : "[object Null]" : R && R in p(e) ? function(e) {
                                        var t = A.call(e, R)
                                            , n = e[R];
                                        try {
                                            e[R] = to
                                        } catch (e) {}
                                        var r = g.call(e);
                                        return t ? e[R] = n : delete e[R],
                                            r
                                    }(e) : (t = e,
                                        g.call(t));
                                    var t
                                }
                                function et(e, t) {
                                    return t < e
                                }
                                function tt(e, t) {
                                    return null != e && A.call(e, t)
                                }
                                function nt(e, t) {
                                    return null != e && t in p(e)
                                }
                                function rt(e, t, n) {
                                    for (var r = n ? Ns : xs, i = e[0].length, a = e.length, o = a, s = k(a), u = 1 / 0, c = []; o--; ) {
                                        var l = e[o];
                                        o && t && (l = Ms(l, Ks(t))),
                                            u = q(l.length, u),
                                            s[o] = !n && (t || 120 <= i && 120 <= l.length) ? new Ce(o && l) : to
                                    }
                                    l = e[0];
                                    var d = -1
                                        , f = s[0];
                                    e: for (; ++d < i && c.length < u; ) {
                                        var p = l[d]
                                            , h = t ? t(p) : p;
                                        if (p = n || 0 !== p ? p : 0,
                                            !(f ? Ys(f, h) : r(c, h, n))) {
                                            for (o = a; --o; ) {
                                                var g = s[o];
                                                if (!(g ? Ys(g, h) : r(e[o], h, n)))
                                                    continue e
                                            }
                                            f && f.push(h),
                                                c.push(p)
                                        }
                                    }
                                    return c
                                }
                                function it(e, t, n) {
                                    var r = null == (e = nr(e, t = qt(t, e))) ? e : e[pr(Tr(t))];
                                    return null == r ? to : Ps(r, e, n)
                                }
                                function at(e) {
                                    return xi(e) && Ze(e) == lo
                                }
                                function ot(e, t, n, r, i) {
                                    return e === t || (null == e || null == t || !xi(e) && !xi(t) ? e != e && t != t : function(e, t, n, r, i, a) {
                                        var o = bi(e)
                                            , s = bi(t)
                                            , u = o ? fo : Hn(e)
                                            , c = s ? fo : Hn(t)
                                            , l = (u = u == lo ? bo : u) == bo
                                            , d = (c = c == lo ? bo : c) == bo
                                            , f = u == c;
                                        if (f && Ai(e)) {
                                            if (!Ai(t))
                                                return !1;
                                            l = !(o = !0)
                                        }
                                        if (f && !l)
                                            return a || (a = new Ee),
                                                o || Fi(e) ? In(e, t, n, r, i, a) : function(e, t, n, r, i, a, o) {
                                                    switch (n) {
                                                        case ko:
                                                            if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
                                                                return !1;
                                                            e = e.buffer,
                                                                t = t.buffer;
                                                        case So:
                                                            return !(e.byteLength != t.byteLength || !a(new E(e), new E(t)));
                                                        case po:
                                                        case ho:
                                                        case _o:
                                                            return mi(+e, +t);
                                                        case go:
                                                            return e.name == t.name && e.message == t.message;
                                                        case Co:
                                                        case Ao:
                                                            return e == t + "";
                                                        case vo:
                                                            var s = ru;
                                                        case Eo:
                                                            var u = 1 & r;
                                                            if (s || (s = ou),
                                                            e.size != t.size && !u)
                                                                return !1;
                                                            var c = o.get(e);
                                                            if (c)
                                                                return c == t;
                                                            r |= 2,
                                                                o.set(e, t);
                                                            var l = In(s(e), s(t), r, i, a, o);
                                                            return o.delete(e),
                                                                l;
                                                        case Po:
                                                            if (fe)
                                                                return fe.call(e) == fe.call(t)
                                                    }
                                                    return !1
                                                }(e, t, u, n, r, i, a);
                                        if (!(1 & n)) {
                                            var p = l && A.call(e, "__wrapped__")
                                                , h = d && A.call(t, "__wrapped__");
                                            if (p || h) {
                                                var g = p ? e.value() : e
                                                    , m = h ? t.value() : t;
                                                return a || (a = new Ee),
                                                    i(g, m, n, r, a)
                                            }
                                        }
                                        return !!f && (a || (a = new Ee),
                                            function(e, t, n, r, i, a) {
                                                var o = 1 & n
                                                    , s = Nn(e)
                                                    , u = s.length
                                                    , c = Nn(t).length;
                                                if (u != c && !o)
                                                    return !1;
                                                for (var l = u; l--; ) {
                                                    var d = s[l];
                                                    if (!(o ? d in t : A.call(t, d)))
                                                        return !1
                                                }
                                                var f = a.get(e)
                                                    , p = a.get(t);
                                                if (f && p)
                                                    return f == t && p == e;
                                                var h = !0;
                                                a.set(e, t),
                                                    a.set(t, e);
                                                for (var g = o; ++l < u; ) {
                                                    d = s[l];
                                                    var m = e[d]
                                                        , y = t[d];
                                                    if (r)
                                                        var v = o ? r(y, m, d, t, e, a) : r(m, y, d, e, t, a);
                                                    if (!(v === to ? m === y || i(m, y, n, r, a) : v)) {
                                                        h = !1;
                                                        break
                                                    }
                                                    g || (g = "constructor" == d)
                                                }
                                                if (h && !g) {
                                                    var _ = e.constructor
                                                        , b = t.constructor;
                                                    _ != b && "constructor"in e && "constructor"in t && !("function" == typeof _ && _ instanceof _ && "function" == typeof b && b instanceof b) && (h = !1)
                                                }
                                                return a.delete(e),
                                                    a.delete(t),
                                                    h
                                            }(e, t, n, r, i, a))
                                    }(e, t, n, r, ot, i))
                                }
                                function st(e, t, n, r) {
                                    var i = n.length
                                        , a = i
                                        , o = !r;
                                    if (null == e)
                                        return !a;
                                    for (e = p(e); i--; ) {
                                        var s = n[i];
                                        if (o && s[2] ? s[1] !== e[s[0]] : !(s[0]in e))
                                            return !1
                                    }
                                    for (; ++i < a; ) {
                                        var u = (s = n[i])[0]
                                            , c = e[u]
                                            , l = s[1];
                                        if (o && s[2]) {
                                            if (c === to && !(u in e))
                                                return !1
                                        } else {
                                            var d = new Ee;
                                            if (r)
                                                var f = r(c, l, u, e, t, d);
                                            if (!(f === to ? ot(l, c, 3, r, d) : f))
                                                return !1
                                        }
                                    }
                                    return !0
                                }
                                function ut(e) {
                                    return !(!Ii(e) || (t = e,
                                    h && h in t)) && (Si(e) ? b : ns).test(hr(e));
                                    var t
                                }
                                function ct(e) {
                                    return "function" == typeof e ? e : null == e ? Ma : "object" == typeof e ? bi(e) ? gt(e[0], e[1]) : ht(e) : Ba(e)
                                }
                                function lt(e) {
                                    if (!Qn(e))
                                        return W(e);
                                    var t = [];
                                    for (var n in p(e))
                                        A.call(e, n) && "constructor" != n && t.push(n);
                                    return t
                                }
                                function dt(e) {
                                    if (!Ii(e))
                                        return function(e) {
                                            var t = [];
                                            if (null != e)
                                                for (var n in p(e))
                                                    t.push(n);
                                            return t
                                        }(e);
                                    var t = Qn(e)
                                        , n = [];
                                    for (var r in e)
                                        ("constructor" != r || !t && A.call(e, r)) && n.push(r);
                                    return n
                                }
                                function ft(e, t) {
                                    return e < t
                                }
                                function pt(e, r) {
                                    var i = -1
                                        , a = Ci(e) ? k(e.length) : [];
                                    return $e(e, function(e, t, n) {
                                        a[++i] = r(e, t, n)
                                    }),
                                        a
                                }
                                function ht(t) {
                                    var n = Fn(t);
                                    return 1 == n.length && n[0][2] ? er(n[0][0], n[0][1]) : function(e) {
                                        return e === t || st(e, t, n)
                                    }
                                }
                                function gt(n, r) {
                                    return Jn(n) && Zn(r) ? er(pr(n), r) : function(e) {
                                        var t = na(e, n);
                                        return t === to && t === r ? ra(e, n) : ot(r, t, 3)
                                    }
                                }
                                function mt(r, i, a, o, s) {
                                    r !== i && Ge(i, function(e, t) {
                                        if (s || (s = new Ee),
                                            Ii(e))
                                            !function(e, t, n, r, i, a, o) {
                                                var s = rr(e, n)
                                                    , u = rr(t, n)
                                                    , c = o.get(u);
                                                if (c)
                                                    return ke(e, n, c);
                                                var l = a ? a(s, u, n + "", e, t, o) : to
                                                    , d = l === to;
                                                if (d) {
                                                    var f = bi(u)
                                                        , p = !f && Ai(u)
                                                        , h = !f && !p && Fi(u);
                                                    l = u,
                                                        f || p || h ? l = bi(s) ? s : Ei(s) ? rn(s) : p ? Xt(u, !(d = !1)) : h ? Zt(u, !(d = !1)) : [] : Ri(u) || _i(u) ? _i(l = s) ? l = qi(s) : Ii(s) && !Si(s) || (l = Wn(u)) : d = !1
                                                }
                                                d && (o.set(u, l),
                                                    i(l, u, r, a, o),
                                                    o.delete(u)),
                                                    ke(e, n, l)
                                            }(r, i, t, a, mt, o, s);
                                        else {
                                            var n = o ? o(rr(r, t), e, t + "", r, i, s) : to;
                                            n === to && (n = e),
                                                ke(r, t, n)
                                        }
                                    }, ua)
                                }
                                function yt(e, t) {
                                    var n = e.length;
                                    if (n)
                                        return qn(t += t < 0 ? n : 0, n) ? e[t] : to
                                }
                                function vt(e, r, n) {
                                    r = r.length ? Ms(r, function(t) {
                                        return bi(t) ? function(e) {
                                                return Xe(e, 1 === t.length ? t[0] : t)
                                            }
                                            : t
                                    }) : [Ma];
                                    var i = -1;
                                    return r = Ms(r, Ks(Vn())),
                                        function(e, t) {
                                            var n = e.length;
                                            for (e.sort(t); n--; )
                                                e[n] = e[n].value;
                                            return e
                                        }(pt(e, function(t, e, n) {
                                            return {
                                                criteria: Ms(r, function(e) {
                                                    return e(t)
                                                }),
                                                index: ++i,
                                                value: t
                                            }
                                        }), function(e, t) {
                                            return function(e, t, n) {
                                                for (var r = -1, i = e.criteria, a = t.criteria, o = i.length, s = n.length; ++r < o; ) {
                                                    var u = en(i[r], a[r]);
                                                    if (u) {
                                                        if (s <= r)
                                                            return u;
                                                        var c = n[r];
                                                        return u * ("desc" == c ? -1 : 1)
                                                    }
                                                }
                                                return e.index - t.index
                                            }(e, t, n)
                                        })
                                }
                                function _t(e, t, n) {
                                    for (var r = -1, i = t.length, a = {}; ++r < i; ) {
                                        var o = t[r]
                                            , s = Xe(e, o);
                                        n(s, o) && St(a, qt(o, e), s)
                                    }
                                    return a
                                }
                                function bt(e, t, n, r) {
                                    var i = r ? Us : $s
                                        , a = -1
                                        , o = t.length
                                        , s = e;
                                    for (e === t && (t = rn(t)),
                                         n && (s = Ms(e, Ks(n))); ++a < o; )
                                        for (var u = 0, c = t[a], l = n ? n(c) : c; -1 < (u = i(s, l, u, r)); )
                                            s !== e && x.call(s, u, 1),
                                                x.call(e, u, 1);
                                    return e
                                }
                                function wt(e, t) {
                                    for (var n = e ? t.length : 0, r = n - 1; n--; ) {
                                        var i = t[n];
                                        if (n == r || i !== a) {
                                            var a = i;
                                            qn(i) ? x.call(e, i, 1) : Ft(e, i)
                                        }
                                    }
                                    return e
                                }
                                function Ct(e, t) {
                                    return e + $(Y() * (t - e + 1))
                                }
                                function Et(e, t) {
                                    var n = "";
                                    if (!e || t < 1 || oo < t)
                                        return n;
                                    for (; t % 2 && (n += e),
                                           (t = $(t / 2)) && (e += e),
                                               t; )
                                        ;
                                    return n
                                }
                                function At(e, t) {
                                    return or(tr(e, t, Ma), e + "")
                                }
                                function Pt(e) {
                                    return Pe(ma(e))
                                }
                                function Tt(e, t) {
                                    var n = ma(e);
                                    return cr(n, je(t, 0, n.length))
                                }
                                function St(e, t, n, r) {
                                    if (!Ii(e))
                                        return e;
                                    for (var i = -1, a = (t = qt(t, e)).length, o = a - 1, s = e; null != s && ++i < a; ) {
                                        var u = pr(t[i])
                                            , c = n;
                                        if ("__proto__" === u || "constructor" === u || "prototype" === u)
                                            return e;
                                        if (i != o) {
                                            var l = s[u];
                                            (c = r ? r(l, u, s) : to) === to && (c = Ii(l) ? l : qn(t[i + 1]) ? [] : {})
                                        }
                                        Oe(s, u, c),
                                            s = s[u]
                                    }
                                    return e
                                }
                                var kt = ie ? function(e, t) {
                                        return ie.set(e, t),
                                            e
                                    }
                                    : Ma
                                    , Ot = j ? function(e, t) {
                                        return j(e, "toString", {
                                            configurable: !0,
                                            enumerable: !1,
                                            value: Ia(t),
                                            writable: !0
                                        })
                                    }
                                    : Ma;
                                function It(e) {
                                    return cr(ma(e))
                                }
                                function xt(e, t, n) {
                                    var r = -1
                                        , i = e.length;
                                    t < 0 && (t = i < -t ? 0 : i + t),
                                    (n = i < n ? i : n) < 0 && (n += i),
                                        i = n < t ? 0 : n - t >>> 0,
                                        t >>>= 0;
                                    for (var a = k(i); ++r < i; )
                                        a[r] = e[r + t];
                                    return a
                                }
                                function Nt(e, r) {
                                    var i;
                                    return $e(e, function(e, t, n) {
                                        return !(i = r(e, t, n))
                                    }),
                                        !!i
                                }
                                function Mt(e, t, n) {
                                    var r = 0
                                        , i = null == e ? r : e.length;
                                    if ("number" == typeof t && t == t && i <= 2147483647) {
                                        for (; r < i; ) {
                                            var a = r + i >>> 1
                                                , o = e[a];
                                            null !== o && !Di(o) && (n ? o <= t : o < t) ? r = a + 1 : i = a
                                        }
                                        return i
                                    }
                                    return Rt(e, t, Ma, n)
                                }
                                function Rt(e, t, n, r) {
                                    var i = 0
                                        , a = null == e ? 0 : e.length;
                                    if (0 === a)
                                        return 0;
                                    for (var o = (t = n(t)) != t, s = null === t, u = Di(t), c = t === to; i < a; ) {
                                        var l = $((i + a) / 2)
                                            , d = n(e[l])
                                            , f = d !== to
                                            , p = null === d
                                            , h = d == d
                                            , g = Di(d);
                                        if (o)
                                            var m = r || h;
                                        else
                                            m = c ? h && (r || f) : s ? h && f && (r || !p) : u ? h && f && !p && (r || !g) : !p && !g && (r ? d <= t : d < t);
                                        m ? i = l + 1 : a = l
                                    }
                                    return q(a, 4294967294)
                                }
                                function jt(e, t) {
                                    for (var n = -1, r = e.length, i = 0, a = []; ++n < r; ) {
                                        var o = e[n]
                                            , s = t ? t(o) : o;
                                        if (!n || !mi(s, u)) {
                                            var u = s;
                                            a[i++] = 0 === o ? 0 : o
                                        }
                                    }
                                    return a
                                }
                                function Lt(e) {
                                    return "number" == typeof e ? e : Di(e) ? so : +e
                                }
                                function Vt(e) {
                                    if ("string" == typeof e)
                                        return e;
                                    if (bi(e))
                                        return Ms(e, Vt) + "";
                                    if (Di(e))
                                        return pe ? pe.call(e) : "";
                                    var t = e + "";
                                    return "0" == t && 1 / e == -1 / 0 ? "-0" : t
                                }
                                function Dt(e, t, n) {
                                    var r = -1
                                        , i = xs
                                        , a = e.length
                                        , o = !0
                                        , s = []
                                        , u = s;
                                    if (n)
                                        o = !1,
                                            i = Ns;
                                    else if (200 <= a) {
                                        var c = t ? null : An(e);
                                        if (c)
                                            return ou(c);
                                        o = !1,
                                            i = Ys,
                                            u = new Ce
                                    } else
                                        u = t ? [] : s;
                                    e: for (; ++r < a; ) {
                                        var l = e[r]
                                            , d = t ? t(l) : l;
                                        if (l = n || 0 !== l ? l : 0,
                                        o && d == d) {
                                            for (var f = u.length; f--; )
                                                if (u[f] === d)
                                                    continue e;
                                            t && u.push(d),
                                                s.push(l)
                                        } else
                                            i(u, d, n) || (u !== s && u.push(d),
                                                s.push(l))
                                    }
                                    return s
                                }
                                function Ft(e, t) {
                                    return null == (e = nr(e, t = qt(t, e))) || delete e[pr(Tr(t))]
                                }
                                function $t(e, t, n, r) {
                                    return St(e, t, n(Xe(e, t)), r)
                                }
                                function Ut(e, t, n, r) {
                                    for (var i = e.length, a = r ? i : -1; (r ? a-- : ++a < i) && t(e[a], a, e); )
                                        ;
                                    return n ? xt(e, r ? 0 : a, r ? a + 1 : i) : xt(e, r ? a + 1 : 0, r ? i : a)
                                }
                                function Bt(e, t) {
                                    var n = e;
                                    return n instanceof ve && (n = n.value()),
                                        js(t, function(e, t) {
                                            return t.func.apply(t.thisArg, Rs([e], t.args))
                                        }, n)
                                }
                                function Ht(e, t, n) {
                                    var r = e.length;
                                    if (r < 2)
                                        return r ? Dt(e[0]) : [];
                                    for (var i = -1, a = k(r); ++i < r; )
                                        for (var o = e[i], s = -1; ++s < r; )
                                            s != i && (a[i] = Fe(a[i] || o, e[s], t, n));
                                    return Dt(We(a, 1), t, n)
                                }
                                function zt(e, t, n) {
                                    for (var r = -1, i = e.length, a = t.length, o = {}; ++r < i; ) {
                                        var s = r < a ? t[r] : to;
                                        n(o, e[r], s)
                                    }
                                    return o
                                }
                                function Wt(e) {
                                    return Ei(e) ? e : []
                                }
                                function Gt(e) {
                                    return "function" == typeof e ? e : Ma
                                }
                                function qt(e, t) {
                                    return bi(e) ? e : Jn(e, t) ? [e] : fr(Ki(e))
                                }
                                var Kt = At;
                                function Jt(e, t, n) {
                                    var r = e.length;
                                    return n = n === to ? r : n,
                                        !t && r <= n ? e : xt(e, t, n)
                                }
                                var Yt = L || function(e) {
                                        return ys.clearTimeout(e)
                                    }
                                ;
                                function Xt(e, t) {
                                    if (t)
                                        return e.slice();
                                    var n = e.length
                                        , r = P ? P(n) : new e.constructor(n);
                                    return e.copy(r),
                                        r
                                }
                                function Qt(e) {
                                    var t = new e.constructor(e.byteLength);
                                    return new E(t).set(new E(e)),
                                        t
                                }
                                function Zt(e, t) {
                                    var n = t ? Qt(e.buffer) : e.buffer;
                                    return new e.constructor(n,e.byteOffset,e.length)
                                }
                                function en(e, t) {
                                    if (e !== t) {
                                        var n = e !== to
                                            , r = null === e
                                            , i = e == e
                                            , a = Di(e)
                                            , o = t !== to
                                            , s = null === t
                                            , u = t == t
                                            , c = Di(t);
                                        if (!s && !c && !a && t < e || a && o && u && !s && !c || r && o && u || !n && u || !i)
                                            return 1;
                                        if (!r && !a && !c && e < t || c && n && i && !r && !a || s && n && i || !o && i || !u)
                                            return -1
                                    }
                                    return 0
                                }
                                function tn(e, t, n, r) {
                                    for (var i = -1, a = e.length, o = n.length, s = -1, u = t.length, c = G(a - o, 0), l = k(u + c), d = !r; ++s < u; )
                                        l[s] = t[s];
                                    for (; ++i < o; )
                                        (d || i < a) && (l[n[i]] = e[i]);
                                    for (; c--; )
                                        l[s++] = e[i++];
                                    return l
                                }
                                function nn(e, t, n, r) {
                                    for (var i = -1, a = e.length, o = -1, s = n.length, u = -1, c = t.length, l = G(a - s, 0), d = k(l + c), f = !r; ++i < l; )
                                        d[i] = e[i];
                                    for (var p = i; ++u < c; )
                                        d[p + u] = t[u];
                                    for (; ++o < s; )
                                        (f || i < a) && (d[p + n[o]] = e[i++]);
                                    return d
                                }
                                function rn(e, t) {
                                    var n = -1
                                        , r = e.length;
                                    for (t || (t = k(r)); ++n < r; )
                                        t[n] = e[n];
                                    return t
                                }
                                function an(e, t, n, r) {
                                    var i = !n;
                                    n || (n = {});
                                    for (var a = -1, o = t.length; ++a < o; ) {
                                        var s = t[a]
                                            , u = r ? r(n[s], e[s], s, n, e) : to;
                                        u === to && (u = e[s]),
                                            i ? Me(n, s, u) : Oe(n, s, u)
                                    }
                                    return n
                                }
                                function on(i, a) {
                                    return function(e, t) {
                                        var n = bi(e) ? Ts : xe
                                            , r = a ? a() : {};
                                        return n(e, i, Vn(t, 2), r)
                                    }
                                }
                                function sn(s) {
                                    return At(function(e, t) {
                                        var n = -1
                                            , r = t.length
                                            , i = 1 < r ? t[r - 1] : to
                                            , a = 2 < r ? t[2] : to;
                                        for (i = 3 < s.length && "function" == typeof i ? (r--,
                                            i) : to,
                                             a && Kn(t[0], t[1], a) && (i = r < 3 ? to : i,
                                                 r = 1),
                                                 e = p(e); ++n < r; ) {
                                            var o = t[n];
                                            o && s(e, o, n, i)
                                        }
                                        return e
                                    })
                                }
                                function un(a, o) {
                                    return function(e, t) {
                                        if (null == e)
                                            return e;
                                        if (!Ci(e))
                                            return a(e, t);
                                        for (var n = e.length, r = o ? n : -1, i = p(e); (o ? r-- : ++r < n) && !1 !== t(i[r], r, i); )
                                            ;
                                        return e
                                    }
                                }
                                function cn(u) {
                                    return function(e, t, n) {
                                        for (var r = -1, i = p(e), a = n(e), o = a.length; o--; ) {
                                            var s = a[u ? o : ++r];
                                            if (!1 === t(i[s], s, i))
                                                break
                                        }
                                        return e
                                    }
                                }
                                function ln(i) {
                                    return function(e) {
                                        var t = nu(e = Ki(e)) ? uu(e) : to
                                            , n = t ? t[0] : e.charAt(0)
                                            , r = t ? Jt(t, 1).join("") : e.slice(1);
                                        return n[i]() + r
                                    }
                                }
                                function dn(t) {
                                    return function(e) {
                                        return js(Sa(_a(e).replace(us, "")), t, "")
                                    }
                                }
                                function fn(r) {
                                    return function() {
                                        var e = arguments;
                                        switch (e.length) {
                                            case 0:
                                                return new r;
                                            case 1:
                                                return new r(e[0]);
                                            case 2:
                                                return new r(e[0],e[1]);
                                            case 3:
                                                return new r(e[0],e[1],e[2]);
                                            case 4:
                                                return new r(e[0],e[1],e[2],e[3]);
                                            case 5:
                                                return new r(e[0],e[1],e[2],e[3],e[4]);
                                            case 6:
                                                return new r(e[0],e[1],e[2],e[3],e[4],e[5]);
                                            case 7:
                                                return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])
                                        }
                                        var t = ge(r.prototype)
                                            , n = r.apply(t, e);
                                        return Ii(n) ? n : t
                                    }
                                }
                                function pn(o) {
                                    return function(e, t, n) {
                                        var r = p(e);
                                        if (!Ci(e)) {
                                            var i = Vn(t, 3);
                                            e = sa(e),
                                                t = function(e) {
                                                    return i(r[e], e, r)
                                                }
                                        }
                                        var a = o(e, t, n);
                                        return -1 < a ? r[i ? e[a] : a] : to
                                    }
                                }
                                function hn(u) {
                                    return xn(function(i) {
                                        var a = i.length
                                            , e = a
                                            , t = ye.prototype.thru;
                                        for (u && i.reverse(); e--; ) {
                                            var n = i[e];
                                            if ("function" != typeof n)
                                                throw new O(no);
                                            if (t && !o && "wrapper" == jn(n))
                                                var o = new ye([],!0)
                                        }
                                        for (e = o ? e : a; ++e < a; ) {
                                            var r = jn(n = i[e])
                                                , s = "wrapper" == r ? Rn(n) : to;
                                            o = s && Yn(s[0]) && 424 == s[1] && !s[4].length && 1 == s[9] ? o[jn(s[0])].apply(o, s[3]) : 1 == n.length && Yn(n) ? o[r]() : o.thru(n)
                                        }
                                        return function() {
                                            var e = arguments
                                                , t = e[0];
                                            if (o && 1 == e.length && bi(t))
                                                return o.plant(t).value();
                                            for (var n = 0, r = a ? i[n].apply(this, e) : t; ++n < a; )
                                                r = i[n].call(this, r);
                                            return r
                                        }
                                    })
                                }
                                function gn(c, l, d, f, p, h, g, m, y, v) {
                                    var _ = l & ao
                                        , b = 1 & l
                                        , w = 2 & l
                                        , C = 24 & l
                                        , E = 512 & l
                                        , A = w ? to : fn(c);
                                    return function e() {
                                        for (var t = arguments.length, n = k(t), r = t; r--; )
                                            n[r] = arguments[r];
                                        if (C)
                                            var i = Ln(e)
                                                , a = function(e, t) {
                                                for (var n = e.length, r = 0; n--; )
                                                    e[n] === t && ++r;
                                                return r
                                            }(n, i);
                                        if (f && (n = tn(n, f, p, C)),
                                        h && (n = nn(n, h, g, C)),
                                            t -= a,
                                        C && t < v) {
                                            var o = au(n, i);
                                            return Cn(c, l, gn, e.placeholder, d, n, o, m, y, v - t)
                                        }
                                        var s = b ? d : this
                                            , u = w ? s[c] : c;
                                        return t = n.length,
                                            m ? n = function(e, t) {
                                                for (var n = e.length, r = q(t.length, n), i = rn(e); r--; ) {
                                                    var a = t[r];
                                                    e[r] = qn(a, n) ? i[a] : to
                                                }
                                                return e
                                            }(n, m) : E && 1 < t && n.reverse(),
                                        _ && y < t && (n.length = y),
                                        this && this !== ys && this instanceof e && (u = A || fn(u)),
                                            u.apply(s, n)
                                    }
                                }
                                function mn(o, s) {
                                    return function(e, t) {
                                        return n = e,
                                            r = o,
                                            i = s(t),
                                            a = {},
                                            Ke(n, function(e, t, n) {
                                                r(a, i(e), t, n)
                                            }),
                                            a;
                                        var n, r, i, a
                                    }
                                }
                                function yn(r, i) {
                                    return function(e, t) {
                                        var n;
                                        if (e === to && t === to)
                                            return i;
                                        if (e !== to && (n = e),
                                        t !== to) {
                                            if (n === to)
                                                return t;
                                            t = "string" == typeof e || "string" == typeof t ? (e = Vt(e),
                                                Vt(t)) : (e = Lt(e),
                                                Lt(t)),
                                                n = r(e, t)
                                        }
                                        return n
                                    }
                                }
                                function vn(r) {
                                    return xn(function(e) {
                                        return e = Ms(e, Ks(Vn())),
                                            At(function(t) {
                                                var n = this;
                                                return r(e, function(e) {
                                                    return Ps(e, n, t)
                                                })
                                            })
                                    })
                                }
                                function _n(e, t) {
                                    var n = (t = t === to ? " " : Vt(t)).length;
                                    if (n < 2)
                                        return n ? Et(t, e) : t;
                                    var r = Et(t, F(e / su(t)));
                                    return nu(t) ? Jt(uu(r), 0, e).join("") : r.slice(0, e)
                                }
                                function bn(r) {
                                    return function(e, t, n) {
                                        return n && "number" != typeof n && Kn(e, t, n) && (t = n = to),
                                            e = Hi(e),
                                            t === to ? (t = e,
                                                e = 0) : t = Hi(t),
                                            function(e, t, n, r) {
                                                for (var i = -1, a = G(F((t - e) / (n || 1)), 0), o = k(a); a--; )
                                                    o[r ? a : ++i] = e,
                                                        e += n;
                                                return o
                                            }(e, t, n = n === to ? e < t ? 1 : -1 : Hi(n), r)
                                    }
                                }
                                function wn(n) {
                                    return function(e, t) {
                                        return "string" == typeof e && "string" == typeof t || (e = Gi(e),
                                            t = Gi(t)),
                                            n(e, t)
                                    }
                                }
                                function Cn(e, t, n, r, i, a, o, s, u, c) {
                                    var l = 8 & t;
                                    t |= l ? 32 : 64,
                                    4 & (t &= ~(l ? 64 : 32)) || (t &= -4);
                                    var d = [e, t, i, l ? a : to, l ? o : to, l ? to : a, l ? to : o, s, u, c]
                                        , f = n.apply(to, d);
                                    return Yn(e) && ir(f, d),
                                        f.placeholder = r,
                                        sr(f, e, t)
                                }
                                function En(e) {
                                    var r = a[e];
                                    return function(e, t) {
                                        if (e = Gi(e),
                                        (t = null == t ? 0 : q(zi(t), 292)) && H(e)) {
                                            var n = (Ki(e) + "e").split("e");
                                            return +((n = (Ki(r(n[0] + "e" + (+n[1] + t))) + "e").split("e"))[0] + "e" + (+n[1] - t))
                                        }
                                        return r(e)
                                    }
                                }
                                var An = te && 1 / ou(new te([, -0]))[1] == 1 / 0 ? function(e) {
                                        return new te(e)
                                    }
                                    : Da;
                                function Pn(o) {
                                    return function(e) {
                                        var t, n, r, i, a = Hn(e);
                                        return a == vo ? ru(e) : a == Eo ? (t = e,
                                            n = -1,
                                            r = Array(t.size),
                                            t.forEach(function(e) {
                                                r[++n] = [e, e]
                                            }),
                                            r) : Ms(o(i = e), function(e) {
                                            return [e, i[e]]
                                        })
                                    }
                                }
                                function Tn(e, t, n, r, i, a, o, s) {
                                    var u = 2 & t;
                                    if (!u && "function" != typeof e)
                                        throw new O(no);
                                    var c = r ? r.length : 0;
                                    if (c || (t &= -97,
                                        r = i = to),
                                        o = o === to ? o : G(zi(o), 0),
                                        s = s === to ? s : zi(s),
                                        c -= i ? i.length : 0,
                                    64 & t) {
                                        var l = r
                                            , d = i;
                                        r = i = to
                                    }
                                    var f, p, h, g, m, y, v, _, b, w, C, E, A, P = u ? to : Rn(e), T = [e, t, n, r, i, l, d, a, o, s];
                                    if (P && function(e, t) {
                                        var n = e[1]
                                            , r = t[1]
                                            , i = n | r
                                            , a = i < 131
                                            , o = r == ao && 8 == n || r == ao && 256 == n && e[7].length <= t[8] || 384 == r && t[7].length <= t[8] && 8 == n;
                                        if (a || o) {
                                            1 & r && (e[2] = t[2],
                                                i |= 1 & n ? 0 : 4);
                                            var s = t[3];
                                            if (s) {
                                                var u = e[3];
                                                e[3] = u ? tn(u, s, t[4]) : s,
                                                    e[4] = u ? au(e[3], io) : t[4]
                                            }
                                            (s = t[5]) && (u = e[5],
                                                e[5] = u ? nn(u, s, t[6]) : s,
                                                e[6] = u ? au(e[5], io) : t[6]),
                                            (s = t[7]) && (e[7] = s),
                                            r & ao && (e[8] = null == e[8] ? t[8] : q(e[8], t[8])),
                                            null == e[9] && (e[9] = t[9]),
                                                e[0] = t[0],
                                                e[1] = i
                                        }
                                    }(T, P),
                                        e = T[0],
                                        t = T[1],
                                        n = T[2],
                                        r = T[3],
                                        i = T[4],
                                    !(s = T[9] = T[9] === to ? u ? 0 : e.length : G(T[9] - c, 0)) && 24 & t && (t &= -25),
                                    t && 1 != t)
                                        S = 8 == t || 16 == t ? (v = t,
                                                _ = s,
                                                b = fn(y = e),
                                                function e() {
                                                    for (var t = arguments.length, n = k(t), r = t, i = Ln(e); r--; )
                                                        n[r] = arguments[r];
                                                    var a = t < 3 && n[0] !== i && n[t - 1] !== i ? [] : au(n, i);
                                                    return (t -= a.length) < _ ? Cn(y, v, gn, e.placeholder, to, n, a, to, to, _ - t) : Ps(this && this !== ys && this instanceof e ? b : y, this, n)
                                                }
                                        ) : 32 != t && 33 != t || i.length ? gn.apply(to, T) : (p = n,
                                                h = r,
                                                g = 1 & t,
                                                m = fn(f = e),
                                                function e() {
                                                    for (var t = -1, n = arguments.length, r = -1, i = h.length, a = k(i + n), o = this && this !== ys && this instanceof e ? m : f; ++r < i; )
                                                        a[r] = h[r];
                                                    for (; n--; )
                                                        a[r++] = arguments[++t];
                                                    return Ps(o, g ? p : this, a)
                                                }
                                        );
                                    else
                                        var S = (C = n,
                                                E = 1 & t,
                                                A = fn(w = e),
                                                function e() {
                                                    return (this && this !== ys && this instanceof e ? A : w).apply(E ? C : this, arguments)
                                                }
                                        );
                                    return sr((P ? kt : ir)(S, T), e, t)
                                }
                                function Sn(e, t, n, r) {
                                    return e === to || mi(e, d[n]) && !A.call(r, n) ? t : e
                                }
                                function kn(e, t, n, r, i, a) {
                                    return Ii(e) && Ii(t) && (a.set(t, e),
                                        mt(e, t, to, kn, a),
                                        a.delete(t)),
                                        e
                                }
                                function On(e) {
                                    return Ri(e) ? to : e
                                }
                                function In(e, t, n, r, i, a) {
                                    var o = 1 & n
                                        , s = e.length
                                        , u = t.length;
                                    if (s != u && !(o && s < u))
                                        return !1;
                                    var c = a.get(e)
                                        , l = a.get(t);
                                    if (c && l)
                                        return c == t && l == e;
                                    var d = -1
                                        , f = !0
                                        , p = 2 & n ? new Ce : to;
                                    for (a.set(e, t),
                                             a.set(t, e); ++d < s; ) {
                                        var h = e[d]
                                            , g = t[d];
                                        if (r)
                                            var m = o ? r(g, h, d, t, e, a) : r(h, g, d, e, t, a);
                                        if (m !== to) {
                                            if (m)
                                                continue;
                                            f = !1;
                                            break
                                        }
                                        if (p) {
                                            if (!Vs(t, function(e, t) {
                                                if (!Ys(p, t) && (h === e || i(h, e, n, r, a)))
                                                    return p.push(t)
                                            })) {
                                                f = !1;
                                                break
                                            }
                                        } else if (h !== g && !i(h, g, n, r, a)) {
                                            f = !1;
                                            break
                                        }
                                    }
                                    return a.delete(e),
                                        a.delete(t),
                                        f
                                }
                                function xn(e) {
                                    return or(tr(e, to, wr), e + "")
                                }
                                function Nn(e) {
                                    return Qe(e, sa, Un)
                                }
                                function Mn(e) {
                                    return Qe(e, ua, Bn)
                                }
                                var Rn = ie ? function(e) {
                                        return ie.get(e)
                                    }
                                    : Da;
                                function jn(e) {
                                    for (var t = e.name + "", n = ae[t], r = A.call(ae, t) ? n.length : 0; r--; ) {
                                        var i = n[r]
                                            , a = i.func;
                                        if (null == a || a == e)
                                            return i.name
                                    }
                                    return t
                                }
                                function Ln(e) {
                                    return (A.call(he, "placeholder") ? he : e).placeholder
                                }
                                function Vn() {
                                    var e = he.iteratee || Ra;
                                    return e = e === Ra ? ct : e,
                                        arguments.length ? e(arguments[0], arguments[1]) : e
                                }
                                function Dn(e, t) {
                                    var n, r, i = e.__data__;
                                    return ("string" == (r = typeof (n = t)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof t ? "string" : "hash"] : i.map
                                }
                                function Fn(e) {
                                    for (var t = sa(e), n = t.length; n--; ) {
                                        var r = t[n]
                                            , i = e[r];
                                        t[n] = [r, i, Zn(i)]
                                    }
                                    return t
                                }
                                function $n(e, t) {
                                    var n, r, i = (r = t,
                                        null == (n = e) ? to : n[r]);
                                    return ut(i) ? i : to
                                }
                                var Un = U ? function(t) {
                                        return null == t ? [] : (t = p(t),
                                            Is(U(t), function(e) {
                                                return I.call(t, e)
                                            }))
                                    }
                                    : Wa
                                    , Bn = U ? function(e) {
                                        for (var t = []; e; )
                                            Rs(t, Un(e)),
                                                e = T(e);
                                        return t
                                    }
                                    : Wa
                                    , Hn = Ze;
                                function zn(e, t, n) {
                                    for (var r = -1, i = (t = qt(t, e)).length, a = !1; ++r < i; ) {
                                        var o = pr(t[r]);
                                        if (!(a = null != e && n(e, o)))
                                            break;
                                        e = e[o]
                                    }
                                    return a || ++r != i ? a : !!(i = null == e ? 0 : e.length) && Oi(i) && qn(o, i) && (bi(e) || _i(e))
                                }
                                function Wn(e) {
                                    return "function" != typeof e.constructor || Qn(e) ? {} : ge(T(e))
                                }
                                function Gn(e) {
                                    return bi(e) || _i(e) || !!(N && e && e[N])
                                }
                                function qn(e, t) {
                                    var n = typeof e;
                                    return !!(t = null == t ? oo : t) && ("number" == n || "symbol" != n && is.test(e)) && -1 < e && e % 1 == 0 && e < t
                                }
                                function Kn(e, t, n) {
                                    if (!Ii(n))
                                        return !1;
                                    var r = typeof t;
                                    return !!("number" == r ? Ci(n) && qn(t, n.length) : "string" == r && t in n) && mi(n[t], e)
                                }
                                function Jn(e, t) {
                                    if (bi(e))
                                        return !1;
                                    var n = typeof e;
                                    return !("number" != n && "symbol" != n && "boolean" != n && null != e && !Di(e)) || $o.test(e) || !Fo.test(e) || null != t && e in p(t)
                                }
                                function Yn(e) {
                                    var t = jn(e)
                                        , n = he[t];
                                    if ("function" != typeof n || !(t in ve.prototype))
                                        return !1;
                                    if (e === n)
                                        return !0;
                                    var r = Rn(n);
                                    return !!r && e === r[0]
                                }
                                (Q && Hn(new Q(new ArrayBuffer(1))) != ko || Z && Hn(new Z) != vo || ee && Hn(ee.resolve()) != wo || te && Hn(new te) != Eo || ne && Hn(new ne) != To) && (Hn = function(e) {
                                        var t = Ze(e)
                                            , n = t == bo ? e.constructor : to
                                            , r = n ? hr(n) : "";
                                        if (r)
                                            switch (r) {
                                                case oe:
                                                    return ko;
                                                case se:
                                                    return vo;
                                                case ue:
                                                    return wo;
                                                case ce:
                                                    return Eo;
                                                case le:
                                                    return To
                                            }
                                        return t
                                    }
                                );
                                var Xn = u ? Si : Ga;
                                function Qn(e) {
                                    var t = e && e.constructor;
                                    return e === ("function" == typeof t && t.prototype || d)
                                }
                                function Zn(e) {
                                    return e == e && !Ii(e)
                                }
                                function er(t, n) {
                                    return function(e) {
                                        return null != e && e[t] === n && (n !== to || t in p(e))
                                    }
                                }
                                function tr(a, o, s) {
                                    return o = G(o === to ? a.length - 1 : o, 0),
                                        function() {
                                            for (var e = arguments, t = -1, n = G(e.length - o, 0), r = k(n); ++t < n; )
                                                r[t] = e[o + t];
                                            t = -1;
                                            for (var i = k(o + 1); ++t < o; )
                                                i[t] = e[t];
                                            return i[o] = s(r),
                                                Ps(a, this, i)
                                        }
                                }
                                function nr(e, t) {
                                    return t.length < 2 ? e : Xe(e, xt(t, 0, -1))
                                }
                                function rr(e, t) {
                                    if (("constructor" !== t || "function" != typeof e[t]) && "__proto__" != t)
                                        return e[t]
                                }
                                var ir = ur(kt)
                                    , ar = D || function(e, t) {
                                    return ys.setTimeout(e, t)
                                }
                                    , or = ur(Ot);
                                function sr(e, t, n) {
                                    var r, i, a, o = t + "";
                                    return or(e, function(e, t) {
                                        var n = t.length;
                                        if (!n)
                                            return e;
                                        var r = n - 1;
                                        return t[r] = (1 < n ? "& " : "") + t[r],
                                            t = t.join(2 < n ? ", " : " "),
                                            e.replace(qo, "{\n/* [wrapped with " + t + "] */\n")
                                    }(o, (a = o.match(Ko),
                                        r = a ? a[1].split(Jo) : [],
                                        i = n,
                                        Ss(co, function(e) {
                                            var t = "_." + e[0];
                                            i & e[1] && !xs(r, t) && r.push(t)
                                        }),
                                        r.sort())))
                                }
                                function ur(n) {
                                    var r = 0
                                        , i = 0;
                                    return function() {
                                        var e = K()
                                            , t = 16 - (e - i);
                                        if (i = e,
                                        0 < t) {
                                            if (800 <= ++r)
                                                return arguments[0]
                                        } else
                                            r = 0;
                                        return n.apply(to, arguments)
                                    }
                                }
                                function cr(e, t) {
                                    var n = -1
                                        , r = e.length
                                        , i = r - 1;
                                    for (t = t === to ? r : t; ++n < t; ) {
                                        var a = Ct(n, i)
                                            , o = e[a];
                                        e[a] = e[n],
                                            e[n] = o
                                    }
                                    return e.length = t,
                                        e
                                }
                                var lr, dr, fr = (dr = (lr = li(function(e) {
                                    var i = [];
                                    return 46 === e.charCodeAt(0) && i.push(""),
                                        e.replace(Uo, function(e, t, n, r) {
                                            i.push(n ? r.replace(Xo, "$1") : t || e)
                                        }),
                                        i
                                }, function(e) {
                                    return 500 === dr.size && dr.clear(),
                                        e
                                })).cache,
                                    lr);
                                function pr(e) {
                                    if ("string" == typeof e || Di(e))
                                        return e;
                                    var t = e + "";
                                    return "0" == t && 1 / e == -1 / 0 ? "-0" : t
                                }
                                function hr(e) {
                                    if (null != e) {
                                        try {
                                            return c.call(e)
                                        } catch (e) {}
                                        try {
                                            return e + ""
                                        } catch (e) {}
                                    }
                                    return ""
                                }
                                function gr(e) {
                                    if (e instanceof ve)
                                        return e.clone();
                                    var t = new ye(e.__wrapped__,e.__chain__);
                                    return t.__actions__ = rn(e.__actions__),
                                        t.__index__ = e.__index__,
                                        t.__values__ = e.__values__,
                                        t
                                }
                                var mr = At(function(e, t) {
                                    return Ei(e) ? Fe(e, We(t, 1, Ei, !0)) : []
                                })
                                    , yr = At(function(e, t) {
                                    var n = Tr(t);
                                    return Ei(n) && (n = to),
                                        Ei(e) ? Fe(e, We(t, 1, Ei, !0), Vn(n, 2)) : []
                                })
                                    , vr = At(function(e, t) {
                                    var n = Tr(t);
                                    return Ei(n) && (n = to),
                                        Ei(e) ? Fe(e, We(t, 1, Ei, !0), to, n) : []
                                });
                                function _r(e, t, n) {
                                    var r = null == e ? 0 : e.length;
                                    if (!r)
                                        return -1;
                                    var i = null == n ? 0 : zi(n);
                                    return i < 0 && (i = G(r + i, 0)),
                                        Fs(e, Vn(t, 3), i)
                                }
                                function br(e, t, n) {
                                    var r = null == e ? 0 : e.length;
                                    if (!r)
                                        return -1;
                                    var i = r - 1;
                                    return n !== to && (i = zi(n),
                                        i = n < 0 ? G(r + i, 0) : q(i, r - 1)),
                                        Fs(e, Vn(t, 3), i, !0)
                                }
                                function wr(e) {
                                    return null != e && e.length ? We(e, 1) : []
                                }
                                function Cr(e) {
                                    return e && e.length ? e[0] : to
                                }
                                var Er = At(function(e) {
                                    var t = Ms(e, Wt);
                                    return t.length && t[0] === e[0] ? rt(t) : []
                                })
                                    , Ar = At(function(e) {
                                    var t = Tr(e)
                                        , n = Ms(e, Wt);
                                    return t === Tr(n) ? t = to : n.pop(),
                                        n.length && n[0] === e[0] ? rt(n, Vn(t, 2)) : []
                                })
                                    , Pr = At(function(e) {
                                    var t = Tr(e)
                                        , n = Ms(e, Wt);
                                    return (t = "function" == typeof t ? t : to) && n.pop(),
                                        n.length && n[0] === e[0] ? rt(n, to, t) : []
                                });
                                function Tr(e) {
                                    var t = null == e ? 0 : e.length;
                                    return t ? e[t - 1] : to
                                }
                                var Sr = At(kr);
                                function kr(e, t) {
                                    return e && e.length && t && t.length ? bt(e, t) : e
                                }
                                var Or = xn(function(e, t) {
                                    var n = null == e ? 0 : e.length
                                        , r = Re(e, t);
                                    return wt(e, Ms(t, function(e) {
                                        return qn(e, n) ? +e : e
                                    }).sort(en)),
                                        r
                                });
                                function Ir(e) {
                                    return null == e ? e : X.call(e)
                                }
                                var xr = At(function(e) {
                                    return Dt(We(e, 1, Ei, !0))
                                })
                                    , Nr = At(function(e) {
                                    var t = Tr(e);
                                    return Ei(t) && (t = to),
                                        Dt(We(e, 1, Ei, !0), Vn(t, 2))
                                })
                                    , Mr = At(function(e) {
                                    var t = Tr(e);
                                    return t = "function" == typeof t ? t : to,
                                        Dt(We(e, 1, Ei, !0), to, t)
                                });
                                function Rr(t) {
                                    if (!t || !t.length)
                                        return [];
                                    var n = 0;
                                    return t = Is(t, function(e) {
                                        if (Ei(e))
                                            return n = G(e.length, n),
                                                !0
                                    }),
                                        qs(n, function(e) {
                                            return Ms(t, zs(e))
                                        })
                                }
                                function jr(e, t) {
                                    if (!e || !e.length)
                                        return [];
                                    var n = Rr(e);
                                    return null == t ? n : Ms(n, function(e) {
                                        return Ps(t, to, e)
                                    })
                                }
                                var Lr = At(function(e, t) {
                                    return Ei(e) ? Fe(e, t) : []
                                })
                                    , Vr = At(function(e) {
                                    return Ht(Is(e, Ei))
                                })
                                    , Dr = At(function(e) {
                                    var t = Tr(e);
                                    return Ei(t) && (t = to),
                                        Ht(Is(e, Ei), Vn(t, 2))
                                })
                                    , Fr = At(function(e) {
                                    var t = Tr(e);
                                    return t = "function" == typeof t ? t : to,
                                        Ht(Is(e, Ei), to, t)
                                })
                                    , $r = At(Rr);
                                var Ur = At(function(e) {
                                    var t = e.length
                                        , n = 1 < t ? e[t - 1] : to;
                                    return jr(e, n = "function" == typeof n ? (e.pop(),
                                        n) : to)
                                });
                                function Br(e) {
                                    var t = he(e);
                                    return t.__chain__ = !0,
                                        t
                                }
                                function Hr(e, t) {
                                    return t(e)
                                }
                                var zr = xn(function(t) {
                                    var n = t.length
                                        , e = n ? t[0] : 0
                                        , r = this.__wrapped__
                                        , i = function(e) {
                                        return Re(e, t)
                                    };
                                    return !(1 < n || this.__actions__.length) && r instanceof ve && qn(e) ? ((r = r.slice(e, +e + (n ? 1 : 0))).__actions__.push({
                                        func: Hr,
                                        args: [i],
                                        thisArg: to
                                    }),
                                        new ye(r,this.__chain__).thru(function(e) {
                                            return n && !e.length && e.push(to),
                                                e
                                        })) : this.thru(i)
                                });
                                var Wr = on(function(e, t, n) {
                                    A.call(e, n) ? ++e[n] : Me(e, n, 1)
                                });
                                var Gr = pn(_r)
                                    , qr = pn(br);
                                function Kr(e, t) {
                                    return (bi(e) ? Ss : $e)(e, Vn(t, 3))
                                }
                                function Jr(e, t) {
                                    return (bi(e) ? ks : Ue)(e, Vn(t, 3))
                                }
                                var Yr = on(function(e, t, n) {
                                    A.call(e, n) ? e[n].push(t) : Me(e, n, [t])
                                });
                                var Xr = At(function(e, t, n) {
                                    var r = -1
                                        , i = "function" == typeof t
                                        , a = Ci(e) ? k(e.length) : [];
                                    return $e(e, function(e) {
                                        a[++r] = i ? Ps(t, e, n) : it(e, t, n)
                                    }),
                                        a
                                })
                                    , Qr = on(function(e, t, n) {
                                    Me(e, n, t)
                                });
                                function Zr(e, t) {
                                    return (bi(e) ? Ms : pt)(e, Vn(t, 3))
                                }
                                var ei = on(function(e, t, n) {
                                    e[n ? 0 : 1].push(t)
                                }, function() {
                                    return [[], []]
                                });
                                var ti = At(function(e, t) {
                                        if (null == e)
                                            return [];
                                        var n = t.length;
                                        return 1 < n && Kn(e, t[0], t[1]) ? t = [] : 2 < n && Kn(t[0], t[1], t[2]) && (t = [t[0]]),
                                            vt(e, We(t, 1), [])
                                    })
                                    , ni = V || function() {
                                        return ys.Date.now()
                                    }
                                ;
                                function ri(e, t, n) {
                                    return t = n ? to : t,
                                        t = e && null == t ? e.length : t,
                                        Tn(e, ao, to, to, to, to, t)
                                }
                                function ii(e, t) {
                                    var n;
                                    if ("function" != typeof t)
                                        throw new O(no);
                                    return e = zi(e),
                                        function() {
                                            return 0 < --e && (n = t.apply(this, arguments)),
                                            e <= 1 && (t = to),
                                                n
                                        }
                                }
                                var ai = At(function(e, t, n) {
                                    var r = 1;
                                    if (n.length) {
                                        var i = au(n, Ln(ai));
                                        r |= 32
                                    }
                                    return Tn(e, r, t, n, i)
                                })
                                    , oi = At(function(e, t, n) {
                                    var r = 3;
                                    if (n.length) {
                                        var i = au(n, Ln(oi));
                                        r |= 32
                                    }
                                    return Tn(t, r, e, n, i)
                                });
                                function si(r, i, e) {
                                    var a, o, s, u, c, l, d = 0, f = !1, p = !1, t = !0;
                                    if ("function" != typeof r)
                                        throw new O(no);
                                    function h(e) {
                                        var t = a
                                            , n = o;
                                        return a = o = to,
                                            d = e,
                                            u = r.apply(n, t)
                                    }
                                    function g(e) {
                                        var t = e - l;
                                        return l === to || i <= t || t < 0 || p && s <= e - d
                                    }
                                    function m() {
                                        var e, t, n = ni();
                                        if (g(n))
                                            return y(n);
                                        c = ar(m, (t = i - ((e = n) - l),
                                            p ? q(t, s - (e - d)) : t))
                                    }
                                    function y(e) {
                                        return c = to,
                                            t && a ? h(e) : (a = o = to,
                                                u)
                                    }
                                    function n() {
                                        var e, t = ni(), n = g(t);
                                        if (a = arguments,
                                            o = this,
                                            l = t,
                                            n) {
                                            if (c === to)
                                                return d = e = l,
                                                    c = ar(m, i),
                                                    f ? h(e) : u;
                                            if (p)
                                                return Yt(c),
                                                    c = ar(m, i),
                                                    h(l)
                                        }
                                        return c === to && (c = ar(m, i)),
                                            u
                                    }
                                    return i = Gi(i) || 0,
                                    Ii(e) && (f = !!e.leading,
                                        s = (p = "maxWait"in e) ? G(Gi(e.maxWait) || 0, i) : s,
                                        t = "trailing"in e ? !!e.trailing : t),
                                        n.cancel = function() {
                                            c !== to && Yt(c),
                                                d = 0,
                                                a = l = o = c = to
                                        }
                                        ,
                                        n.flush = function() {
                                            return c === to ? u : y(ni())
                                        }
                                        ,
                                        n
                                }
                                var ui = At(function(e, t) {
                                    return De(e, 1, t)
                                })
                                    , ci = At(function(e, t, n) {
                                    return De(e, Gi(t) || 0, n)
                                });
                                function li(i, a) {
                                    if ("function" != typeof i || null != a && "function" != typeof a)
                                        throw new O(no);
                                    var o = function() {
                                        var e = arguments
                                            , t = a ? a.apply(this, e) : e[0]
                                            , n = o.cache;
                                        if (n.has(t))
                                            return n.get(t);
                                        var r = i.apply(this, e);
                                        return o.cache = n.set(t, r) || n,
                                            r
                                    };
                                    return o.cache = new (li.Cache || we),
                                        o
                                }
                                function di(t) {
                                    if ("function" != typeof t)
                                        throw new O(no);
                                    return function() {
                                        var e = arguments;
                                        switch (e.length) {
                                            case 0:
                                                return !t.call(this);
                                            case 1:
                                                return !t.call(this, e[0]);
                                            case 2:
                                                return !t.call(this, e[0], e[1]);
                                            case 3:
                                                return !t.call(this, e[0], e[1], e[2])
                                        }
                                        return !t.apply(this, e)
                                    }
                                }
                                li.Cache = we;
                                var fi = Kt(function(r, i) {
                                    var a = (i = 1 == i.length && bi(i[0]) ? Ms(i[0], Ks(Vn())) : Ms(We(i, 1), Ks(Vn()))).length;
                                    return At(function(e) {
                                        for (var t = -1, n = q(e.length, a); ++t < n; )
                                            e[t] = i[t].call(this, e[t]);
                                        return Ps(r, this, e)
                                    })
                                })
                                    , pi = At(function(e, t) {
                                    var n = au(t, Ln(pi));
                                    return Tn(e, 32, to, t, n)
                                })
                                    , hi = At(function(e, t) {
                                    var n = au(t, Ln(hi));
                                    return Tn(e, 64, to, t, n)
                                })
                                    , gi = xn(function(e, t) {
                                    return Tn(e, 256, to, to, to, t)
                                });
                                function mi(e, t) {
                                    return e === t || e != e && t != t
                                }
                                var yi = wn(et)
                                    , vi = wn(function(e, t) {
                                        return t <= e
                                    })
                                    , _i = at(function() {
                                        return arguments
                                    }()) ? at : function(e) {
                                        return xi(e) && A.call(e, "callee") && !I.call(e, "callee")
                                    }
                                    , bi = k.isArray
                                    , wi = _s ? Ks(_s) : function(e) {
                                        return xi(e) && Ze(e) == So
                                    }
                                ;
                                function Ci(e) {
                                    return null != e && Oi(e.length) && !Si(e)
                                }
                                function Ei(e) {
                                    return xi(e) && Ci(e)
                                }
                                var Ai = B || Ga
                                    , Pi = bs ? Ks(bs) : function(e) {
                                        return xi(e) && Ze(e) == ho
                                    }
                                ;
                                function Ti(e) {
                                    if (!xi(e))
                                        return !1;
                                    var t = Ze(e);
                                    return t == go || "[object DOMException]" == t || "string" == typeof e.message && "string" == typeof e.name && !Ri(e)
                                }
                                function Si(e) {
                                    if (!Ii(e))
                                        return !1;
                                    var t = Ze(e);
                                    return t == mo || t == yo || "[object AsyncFunction]" == t || "[object Proxy]" == t
                                }
                                function ki(e) {
                                    return "number" == typeof e && e == zi(e)
                                }
                                function Oi(e) {
                                    return "number" == typeof e && -1 < e && e % 1 == 0 && e <= oo
                                }
                                function Ii(e) {
                                    var t = typeof e;
                                    return null != e && ("object" == t || "function" == t)
                                }
                                function xi(e) {
                                    return null != e && "object" == typeof e
                                }
                                var Ni = ws ? Ks(ws) : function(e) {
                                        return xi(e) && Hn(e) == vo
                                    }
                                ;
                                function Mi(e) {
                                    return "number" == typeof e || xi(e) && Ze(e) == _o
                                }
                                function Ri(e) {
                                    if (!xi(e) || Ze(e) != bo)
                                        return !1;
                                    var t = T(e);
                                    if (null === t)
                                        return !0;
                                    var n = A.call(t, "constructor") && t.constructor;
                                    return "function" == typeof n && n instanceof n && c.call(n) == v
                                }
                                var ji = Cs ? Ks(Cs) : function(e) {
                                        return xi(e) && Ze(e) == Co
                                    }
                                ;
                                var Li = Es ? Ks(Es) : function(e) {
                                        return xi(e) && Hn(e) == Eo
                                    }
                                ;
                                function Vi(e) {
                                    return "string" == typeof e || !bi(e) && xi(e) && Ze(e) == Ao
                                }
                                function Di(e) {
                                    return "symbol" == typeof e || xi(e) && Ze(e) == Po
                                }
                                var Fi = As ? Ks(As) : function(e) {
                                        return xi(e) && Oi(e.length) && !!hs[Ze(e)]
                                    }
                                ;
                                var $i = wn(ft)
                                    , Ui = wn(function(e, t) {
                                    return e <= t
                                });
                                function Bi(e) {
                                    if (!e)
                                        return [];
                                    if (Ci(e))
                                        return Vi(e) ? uu(e) : rn(e);
                                    if (M && e[M])
                                        return function(e) {
                                            for (var t, n = []; !(t = e.next()).done; )
                                                n.push(t.value);
                                            return n
                                        }(e[M]());
                                    var t = Hn(e);
                                    return (t == vo ? ru : t == Eo ? ou : ma)(e)
                                }
                                function Hi(e) {
                                    return e ? (e = Gi(e)) !== 1 / 0 && e !== -1 / 0 ? e == e ? e : 0 : 17976931348623157e292 * (e < 0 ? -1 : 1) : 0 === e ? e : 0
                                }
                                function zi(e) {
                                    var t = Hi(e)
                                        , n = t % 1;
                                    return t == t ? n ? t - n : t : 0
                                }
                                function Wi(e) {
                                    return e ? je(zi(e), 0, uo) : 0
                                }
                                function Gi(e) {
                                    if ("number" == typeof e)
                                        return e;
                                    if (Di(e))
                                        return so;
                                    if (Ii(e)) {
                                        var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                                        e = Ii(t) ? t + "" : t
                                    }
                                    if ("string" != typeof e)
                                        return 0 === e ? e : +e;
                                    e = e.replace(zo, "");
                                    var n = ts.test(e);
                                    return n || rs.test(e) ? ms(e.slice(2), n ? 2 : 8) : es.test(e) ? so : +e
                                }
                                function qi(e) {
                                    return an(e, ua(e))
                                }
                                function Ki(e) {
                                    return null == e ? "" : Vt(e)
                                }
                                var Ji = sn(function(e, t) {
                                    if (Qn(t) || Ci(t))
                                        an(t, sa(t), e);
                                    else
                                        for (var n in t)
                                            A.call(t, n) && Oe(e, n, t[n])
                                })
                                    , Yi = sn(function(e, t) {
                                    an(t, ua(t), e)
                                })
                                    , Xi = sn(function(e, t, n, r) {
                                    an(t, ua(t), e, r)
                                })
                                    , Qi = sn(function(e, t, n, r) {
                                    an(t, sa(t), e, r)
                                })
                                    , Zi = xn(Re);
                                var ea = At(function(e, t) {
                                    e = p(e);
                                    var n = -1
                                        , r = t.length
                                        , i = 2 < r ? t[2] : to;
                                    for (i && Kn(t[0], t[1], i) && (r = 1); ++n < r; )
                                        for (var a = t[n], o = ua(a), s = -1, u = o.length; ++s < u; ) {
                                            var c = o[s]
                                                , l = e[c];
                                            (l === to || mi(l, d[c]) && !A.call(e, c)) && (e[c] = a[c])
                                        }
                                    return e
                                })
                                    , ta = At(function(e) {
                                    return e.push(to, kn),
                                        Ps(la, to, e)
                                });
                                function na(e, t, n) {
                                    var r = null == e ? to : Xe(e, t);
                                    return r === to ? n : r
                                }
                                function ra(e, t) {
                                    return null != e && zn(e, t, nt)
                                }
                                var ia = mn(function(e, t, n) {
                                    null != t && "function" != typeof t.toString && (t = g.call(t)),
                                        e[t] = n
                                }, Ia(Ma))
                                    , aa = mn(function(e, t, n) {
                                    null != t && "function" != typeof t.toString && (t = g.call(t)),
                                        A.call(e, t) ? e[t].push(n) : e[t] = [n]
                                }, Vn)
                                    , oa = At(it);
                                function sa(e) {
                                    return Ci(e) ? Ae(e) : lt(e)
                                }
                                function ua(e) {
                                    return Ci(e) ? Ae(e, !0) : dt(e)
                                }
                                var ca = sn(function(e, t, n) {
                                    mt(e, t, n)
                                })
                                    , la = sn(function(e, t, n, r) {
                                    mt(e, t, n, r)
                                })
                                    , da = xn(function(t, e) {
                                    var n = {};
                                    if (null == t)
                                        return n;
                                    var r = !1;
                                    e = Ms(e, function(e) {
                                        return e = qt(e, t),
                                        r || (r = 1 < e.length),
                                            e
                                    }),
                                        an(t, Mn(t), n),
                                    r && (n = Le(n, 7, On));
                                    for (var i = e.length; i--; )
                                        Ft(n, e[i]);
                                    return n
                                });
                                var fa = xn(function(e, t) {
                                    return null == e ? {} : _t(n = e, t, function(e, t) {
                                        return ra(n, t)
                                    });
                                    var n
                                });
                                function pa(e, n) {
                                    if (null == e)
                                        return {};
                                    var t = Ms(Mn(e), function(e) {
                                        return [e]
                                    });
                                    return n = Vn(n),
                                        _t(e, t, function(e, t) {
                                            return n(e, t[0])
                                        })
                                }
                                var ha = Pn(sa)
                                    , ga = Pn(ua);
                                function ma(e) {
                                    return null == e ? [] : Js(e, sa(e))
                                }
                                var ya = dn(function(e, t, n) {
                                    return t = t.toLowerCase(),
                                    e + (n ? va(t) : t)
                                });
                                function va(e) {
                                    return Ta(Ki(e).toLowerCase())
                                }
                                function _a(e) {
                                    return (e = Ki(e)) && e.replace(as, Zs).replace(cs, "")
                                }
                                var ba = dn(function(e, t, n) {
                                    return e + (n ? "-" : "") + t.toLowerCase()
                                })
                                    , wa = dn(function(e, t, n) {
                                    return e + (n ? " " : "") + t.toLowerCase()
                                })
                                    , Ca = ln("toLowerCase");
                                var Ea = dn(function(e, t, n) {
                                    return e + (n ? "_" : "") + t.toLowerCase()
                                });
                                var Aa = dn(function(e, t, n) {
                                    return e + (n ? " " : "") + Ta(t)
                                });
                                var Pa = dn(function(e, t, n) {
                                    return e + (n ? " " : "") + t.toUpperCase()
                                })
                                    , Ta = ln("toUpperCase");
                                function Sa(e, t, n) {
                                    return e = Ki(e),
                                        (t = n ? to : t) === to ? (r = e,
                                            ds.test(r) ? e.match(ls) || [] : e.match(Yo) || []) : e.match(t) || [];
                                    var r
                                }
                                var ka = At(function(e, t) {
                                    try {
                                        return Ps(e, to, t)
                                    } catch (e) {
                                        return Ti(e) ? e : new i(e)
                                    }
                                })
                                    , Oa = xn(function(t, e) {
                                    return Ss(e, function(e) {
                                        e = pr(e),
                                            Me(t, e, ai(t[e], t))
                                    }),
                                        t
                                });
                                function Ia(e) {
                                    return function() {
                                        return e
                                    }
                                }
                                var xa = hn()
                                    , Na = hn(!0);
                                function Ma(e) {
                                    return e
                                }
                                function Ra(e) {
                                    return ct("function" == typeof e ? e : Le(e, 1))
                                }
                                var ja = At(function(t, n) {
                                    return function(e) {
                                        return it(e, t, n)
                                    }
                                })
                                    , La = At(function(t, n) {
                                    return function(e) {
                                        return it(t, e, n)
                                    }
                                });
                                function Va(r, t, e) {
                                    var n = sa(t)
                                        , i = Ye(t, n);
                                    null != e || Ii(t) && (i.length || !n.length) || (e = t,
                                        t = r,
                                        r = this,
                                        i = Ye(t, sa(t)));
                                    var a = !(Ii(e) && "chain"in e && !e.chain)
                                        , o = Si(r);
                                    return Ss(i, function(e) {
                                        var n = t[e];
                                        r[e] = n,
                                        o && (r.prototype[e] = function() {
                                                var e = this.__chain__;
                                                if (a || e) {
                                                    var t = r(this.__wrapped__);
                                                    return (t.__actions__ = rn(this.__actions__)).push({
                                                        func: n,
                                                        args: arguments,
                                                        thisArg: r
                                                    }),
                                                        t.__chain__ = e,
                                                        t
                                                }
                                                return n.apply(r, Rs([this.value()], arguments))
                                            }
                                        )
                                    }),
                                        r
                                }
                                function Da() {}
                                var Fa = vn(Ms)
                                    , $a = vn(Os)
                                    , Ua = vn(Vs);
                                function Ba(e) {
                                    return Jn(e) ? zs(pr(e)) : (t = e,
                                            function(e) {
                                                return Xe(e, t)
                                            }
                                    );
                                    var t
                                }
                                var Ha = bn()
                                    , za = bn(!0);
                                function Wa() {
                                    return []
                                }
                                function Ga() {
                                    return !1
                                }
                                var qa = yn(function(e, t) {
                                    return e + t
                                }, 0)
                                    , Ka = En("ceil")
                                    , Ja = yn(function(e, t) {
                                    return e / t
                                }, 1)
                                    , Ya = En("floor");
                                var Xa, Qa = yn(function(e, t) {
                                    return e * t
                                }, 1), Za = En("round"), eo = yn(function(e, t) {
                                    return e - t
                                }, 0);
                                return he.after = function(e, t) {
                                    if ("function" != typeof t)
                                        throw new O(no);
                                    return e = zi(e),
                                        function() {
                                            if (--e < 1)
                                                return t.apply(this, arguments)
                                        }
                                }
                                    ,
                                    he.ary = ri,
                                    he.assign = Ji,
                                    he.assignIn = Yi,
                                    he.assignInWith = Xi,
                                    he.assignWith = Qi,
                                    he.at = Zi,
                                    he.before = ii,
                                    he.bind = ai,
                                    he.bindAll = Oa,
                                    he.bindKey = oi,
                                    he.castArray = function() {
                                        if (!arguments.length)
                                            return [];
                                        var e = arguments[0];
                                        return bi(e) ? e : [e]
                                    }
                                    ,
                                    he.chain = Br,
                                    he.chunk = function(e, t, n) {
                                        t = (n ? Kn(e, t, n) : t === to) ? 1 : G(zi(t), 0);
                                        var r = null == e ? 0 : e.length;
                                        if (!r || t < 1)
                                            return [];
                                        for (var i = 0, a = 0, o = k(F(r / t)); i < r; )
                                            o[a++] = xt(e, i, i += t);
                                        return o
                                    }
                                    ,
                                    he.compact = function(e) {
                                        for (var t = -1, n = null == e ? 0 : e.length, r = 0, i = []; ++t < n; ) {
                                            var a = e[t];
                                            a && (i[r++] = a)
                                        }
                                        return i
                                    }
                                    ,
                                    he.concat = function() {
                                        var e = arguments.length;
                                        if (!e)
                                            return [];
                                        for (var t = k(e - 1), n = arguments[0], r = e; r--; )
                                            t[r - 1] = arguments[r];
                                        return Rs(bi(n) ? rn(n) : [n], We(t, 1))
                                    }
                                    ,
                                    he.cond = function(r) {
                                        var i = null == r ? 0 : r.length
                                            , t = Vn();
                                        return r = i ? Ms(r, function(e) {
                                            if ("function" != typeof e[1])
                                                throw new O(no);
                                            return [t(e[0]), e[1]]
                                        }) : [],
                                            At(function(e) {
                                                for (var t = -1; ++t < i; ) {
                                                    var n = r[t];
                                                    if (Ps(n[0], this, e))
                                                        return Ps(n[1], this, e)
                                                }
                                            })
                                    }
                                    ,
                                    he.conforms = function(e) {
                                        return t = Le(e, 1),
                                            n = sa(t),
                                            function(e) {
                                                return Ve(e, t, n)
                                            }
                                            ;
                                        var t, n
                                    }
                                    ,
                                    he.constant = Ia,
                                    he.countBy = Wr,
                                    he.create = function(e, t) {
                                        var n = ge(e);
                                        return null == t ? n : Ne(n, t)
                                    }
                                    ,
                                    he.curry = function e(t, n, r) {
                                        var i = Tn(t, 8, to, to, to, to, to, n = r ? to : n);
                                        return i.placeholder = e.placeholder,
                                            i
                                    }
                                    ,
                                    he.curryRight = function e(t, n, r) {
                                        var i = Tn(t, 16, to, to, to, to, to, n = r ? to : n);
                                        return i.placeholder = e.placeholder,
                                            i
                                    }
                                    ,
                                    he.debounce = si,
                                    he.defaults = ea,
                                    he.defaultsDeep = ta,
                                    he.defer = ui,
                                    he.delay = ci,
                                    he.difference = mr,
                                    he.differenceBy = yr,
                                    he.differenceWith = vr,
                                    he.drop = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        return r ? xt(e, (t = n || t === to ? 1 : zi(t)) < 0 ? 0 : t, r) : []
                                    }
                                    ,
                                    he.dropRight = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        return r ? xt(e, 0, (t = r - (t = n || t === to ? 1 : zi(t))) < 0 ? 0 : t) : []
                                    }
                                    ,
                                    he.dropRightWhile = function(e, t) {
                                        return e && e.length ? Ut(e, Vn(t, 3), !0, !0) : []
                                    }
                                    ,
                                    he.dropWhile = function(e, t) {
                                        return e && e.length ? Ut(e, Vn(t, 3), !0) : []
                                    }
                                    ,
                                    he.fill = function(e, t, n, r) {
                                        var i = null == e ? 0 : e.length;
                                        return i ? (n && "number" != typeof n && Kn(e, t, n) && (n = 0,
                                            r = i),
                                            function(e, t, n, r) {
                                                var i = e.length;
                                                for ((n = zi(n)) < 0 && (n = i < -n ? 0 : i + n),
                                                     (r = r === to || i < r ? i : zi(r)) < 0 && (r += i),
                                                         r = r < n ? 0 : Wi(r); n < r; )
                                                    e[n++] = t;
                                                return e
                                            }(e, t, n, r)) : []
                                    }
                                    ,
                                    he.filter = function(e, t) {
                                        return (bi(e) ? Is : ze)(e, Vn(t, 3))
                                    }
                                    ,
                                    he.flatMap = function(e, t) {
                                        return We(Zr(e, t), 1)
                                    }
                                    ,
                                    he.flatMapDeep = function(e, t) {
                                        return We(Zr(e, t), 1 / 0)
                                    }
                                    ,
                                    he.flatMapDepth = function(e, t, n) {
                                        return n = n === to ? 1 : zi(n),
                                            We(Zr(e, t), n)
                                    }
                                    ,
                                    he.flatten = wr,
                                    he.flattenDeep = function(e) {
                                        return null != e && e.length ? We(e, 1 / 0) : []
                                    }
                                    ,
                                    he.flattenDepth = function(e, t) {
                                        return null != e && e.length ? We(e, t = t === to ? 1 : zi(t)) : []
                                    }
                                    ,
                                    he.flip = function(e) {
                                        return Tn(e, 512)
                                    }
                                    ,
                                    he.flow = xa,
                                    he.flowRight = Na,
                                    he.fromPairs = function(e) {
                                        for (var t = -1, n = null == e ? 0 : e.length, r = {}; ++t < n; ) {
                                            var i = e[t];
                                            r[i[0]] = i[1]
                                        }
                                        return r
                                    }
                                    ,
                                    he.functions = function(e) {
                                        return null == e ? [] : Ye(e, sa(e))
                                    }
                                    ,
                                    he.functionsIn = function(e) {
                                        return null == e ? [] : Ye(e, ua(e))
                                    }
                                    ,
                                    he.groupBy = Yr,
                                    he.initial = function(e) {
                                        return null != e && e.length ? xt(e, 0, -1) : []
                                    }
                                    ,
                                    he.intersection = Er,
                                    he.intersectionBy = Ar,
                                    he.intersectionWith = Pr,
                                    he.invert = ia,
                                    he.invertBy = aa,
                                    he.invokeMap = Xr,
                                    he.iteratee = Ra,
                                    he.keyBy = Qr,
                                    he.keys = sa,
                                    he.keysIn = ua,
                                    he.map = Zr,
                                    he.mapKeys = function(e, r) {
                                        var i = {};
                                        return r = Vn(r, 3),
                                            Ke(e, function(e, t, n) {
                                                Me(i, r(e, t, n), e)
                                            }),
                                            i
                                    }
                                    ,
                                    he.mapValues = function(e, r) {
                                        var i = {};
                                        return r = Vn(r, 3),
                                            Ke(e, function(e, t, n) {
                                                Me(i, t, r(e, t, n))
                                            }),
                                            i
                                    }
                                    ,
                                    he.matches = function(e) {
                                        return ht(Le(e, 1))
                                    }
                                    ,
                                    he.matchesProperty = function(e, t) {
                                        return gt(e, Le(t, 1))
                                    }
                                    ,
                                    he.memoize = li,
                                    he.merge = ca,
                                    he.mergeWith = la,
                                    he.method = ja,
                                    he.methodOf = La,
                                    he.mixin = Va,
                                    he.negate = di,
                                    he.nthArg = function(t) {
                                        return t = zi(t),
                                            At(function(e) {
                                                return yt(e, t)
                                            })
                                    }
                                    ,
                                    he.omit = da,
                                    he.omitBy = function(e, t) {
                                        return pa(e, di(Vn(t)))
                                    }
                                    ,
                                    he.once = function(e) {
                                        return ii(2, e)
                                    }
                                    ,
                                    he.orderBy = function(e, t, n, r) {
                                        return null == e ? [] : (bi(t) || (t = null == t ? [] : [t]),
                                        bi(n = r ? to : n) || (n = null == n ? [] : [n]),
                                            vt(e, t, n))
                                    }
                                    ,
                                    he.over = Fa,
                                    he.overArgs = fi,
                                    he.overEvery = $a,
                                    he.overSome = Ua,
                                    he.partial = pi,
                                    he.partialRight = hi,
                                    he.partition = ei,
                                    he.pick = fa,
                                    he.pickBy = pa,
                                    he.property = Ba,
                                    he.propertyOf = function(t) {
                                        return function(e) {
                                            return null == t ? to : Xe(t, e)
                                        }
                                    }
                                    ,
                                    he.pull = Sr,
                                    he.pullAll = kr,
                                    he.pullAllBy = function(e, t, n) {
                                        return e && e.length && t && t.length ? bt(e, t, Vn(n, 2)) : e
                                    }
                                    ,
                                    he.pullAllWith = function(e, t, n) {
                                        return e && e.length && t && t.length ? bt(e, t, to, n) : e
                                    }
                                    ,
                                    he.pullAt = Or,
                                    he.range = Ha,
                                    he.rangeRight = za,
                                    he.rearg = gi,
                                    he.reject = function(e, t) {
                                        return (bi(e) ? Is : ze)(e, di(Vn(t, 3)))
                                    }
                                    ,
                                    he.remove = function(e, t) {
                                        var n = [];
                                        if (!e || !e.length)
                                            return n;
                                        var r = -1
                                            , i = []
                                            , a = e.length;
                                        for (t = Vn(t, 3); ++r < a; ) {
                                            var o = e[r];
                                            t(o, r, e) && (n.push(o),
                                                i.push(r))
                                        }
                                        return wt(e, i),
                                            n
                                    }
                                    ,
                                    he.rest = function(e, t) {
                                        if ("function" != typeof e)
                                            throw new O(no);
                                        return At(e, t = t === to ? t : zi(t))
                                    }
                                    ,
                                    he.reverse = Ir,
                                    he.sampleSize = function(e, t, n) {
                                        return t = (n ? Kn(e, t, n) : t === to) ? 1 : zi(t),
                                            (bi(e) ? Te : Tt)(e, t)
                                    }
                                    ,
                                    he.set = function(e, t, n) {
                                        return null == e ? e : St(e, t, n)
                                    }
                                    ,
                                    he.setWith = function(e, t, n, r) {
                                        return r = "function" == typeof r ? r : to,
                                            null == e ? e : St(e, t, n, r)
                                    }
                                    ,
                                    he.shuffle = function(e) {
                                        return (bi(e) ? Se : It)(e)
                                    }
                                    ,
                                    he.slice = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        return r ? xt(e, t, n = n && "number" != typeof n && Kn(e, t, n) ? (t = 0,
                                            r) : (t = null == t ? 0 : zi(t),
                                            n === to ? r : zi(n))) : []
                                    }
                                    ,
                                    he.sortBy = ti,
                                    he.sortedUniq = function(e) {
                                        return e && e.length ? jt(e) : []
                                    }
                                    ,
                                    he.sortedUniqBy = function(e, t) {
                                        return e && e.length ? jt(e, Vn(t, 2)) : []
                                    }
                                    ,
                                    he.split = function(e, t, n) {
                                        return n && "number" != typeof n && Kn(e, t, n) && (t = n = to),
                                            (n = n === to ? uo : n >>> 0) ? (e = Ki(e)) && ("string" == typeof t || null != t && !ji(t)) && !(t = Vt(t)) && nu(e) ? Jt(uu(e), 0, n) : e.split(t, n) : []
                                    }
                                    ,
                                    he.spread = function(r, i) {
                                        if ("function" != typeof r)
                                            throw new O(no);
                                        return i = null == i ? 0 : G(zi(i), 0),
                                            At(function(e) {
                                                var t = e[i]
                                                    , n = Jt(e, 0, i);
                                                return t && Rs(n, t),
                                                    Ps(r, this, n)
                                            })
                                    }
                                    ,
                                    he.tail = function(e) {
                                        var t = null == e ? 0 : e.length;
                                        return t ? xt(e, 1, t) : []
                                    }
                                    ,
                                    he.take = function(e, t, n) {
                                        return e && e.length ? xt(e, 0, (t = n || t === to ? 1 : zi(t)) < 0 ? 0 : t) : []
                                    }
                                    ,
                                    he.takeRight = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        return r ? xt(e, (t = r - (t = n || t === to ? 1 : zi(t))) < 0 ? 0 : t, r) : []
                                    }
                                    ,
                                    he.takeRightWhile = function(e, t) {
                                        return e && e.length ? Ut(e, Vn(t, 3), !1, !0) : []
                                    }
                                    ,
                                    he.takeWhile = function(e, t) {
                                        return e && e.length ? Ut(e, Vn(t, 3)) : []
                                    }
                                    ,
                                    he.tap = function(e, t) {
                                        return t(e),
                                            e
                                    }
                                    ,
                                    he.throttle = function(e, t, n) {
                                        var r = !0
                                            , i = !0;
                                        if ("function" != typeof e)
                                            throw new O(no);
                                        return Ii(n) && (r = "leading"in n ? !!n.leading : r,
                                            i = "trailing"in n ? !!n.trailing : i),
                                            si(e, t, {
                                                leading: r,
                                                maxWait: t,
                                                trailing: i
                                            })
                                    }
                                    ,
                                    he.thru = Hr,
                                    he.toArray = Bi,
                                    he.toPairs = ha,
                                    he.toPairsIn = ga,
                                    he.toPath = function(e) {
                                        return bi(e) ? Ms(e, pr) : Di(e) ? [e] : rn(fr(Ki(e)))
                                    }
                                    ,
                                    he.toPlainObject = qi,
                                    he.transform = function(e, r, i) {
                                        var t = bi(e)
                                            , n = t || Ai(e) || Fi(e);
                                        if (r = Vn(r, 4),
                                        null == i) {
                                            var a = e && e.constructor;
                                            i = n ? t ? new a : [] : Ii(e) && Si(a) ? ge(T(e)) : {}
                                        }
                                        return (n ? Ss : Ke)(e, function(e, t, n) {
                                            return r(i, e, t, n)
                                        }),
                                            i
                                    }
                                    ,
                                    he.unary = function(e) {
                                        return ri(e, 1)
                                    }
                                    ,
                                    he.union = xr,
                                    he.unionBy = Nr,
                                    he.unionWith = Mr,
                                    he.uniq = function(e) {
                                        return e && e.length ? Dt(e) : []
                                    }
                                    ,
                                    he.uniqBy = function(e, t) {
                                        return e && e.length ? Dt(e, Vn(t, 2)) : []
                                    }
                                    ,
                                    he.uniqWith = function(e, t) {
                                        return t = "function" == typeof t ? t : to,
                                            e && e.length ? Dt(e, to, t) : []
                                    }
                                    ,
                                    he.unset = function(e, t) {
                                        return null == e || Ft(e, t)
                                    }
                                    ,
                                    he.unzip = Rr,
                                    he.unzipWith = jr,
                                    he.update = function(e, t, n) {
                                        return null == e ? e : $t(e, t, Gt(n))
                                    }
                                    ,
                                    he.updateWith = function(e, t, n, r) {
                                        return r = "function" == typeof r ? r : to,
                                            null == e ? e : $t(e, t, Gt(n), r)
                                    }
                                    ,
                                    he.values = ma,
                                    he.valuesIn = function(e) {
                                        return null == e ? [] : Js(e, ua(e))
                                    }
                                    ,
                                    he.without = Lr,
                                    he.words = Sa,
                                    he.wrap = function(e, t) {
                                        return pi(Gt(t), e)
                                    }
                                    ,
                                    he.xor = Vr,
                                    he.xorBy = Dr,
                                    he.xorWith = Fr,
                                    he.zip = $r,
                                    he.zipObject = function(e, t) {
                                        return zt(e || [], t || [], Oe)
                                    }
                                    ,
                                    he.zipObjectDeep = function(e, t) {
                                        return zt(e || [], t || [], St)
                                    }
                                    ,
                                    he.zipWith = Ur,
                                    he.entries = ha,
                                    he.entriesIn = ga,
                                    he.extend = Yi,
                                    he.extendWith = Xi,
                                    Va(he, he),
                                    he.add = qa,
                                    he.attempt = ka,
                                    he.camelCase = ya,
                                    he.capitalize = va,
                                    he.ceil = Ka,
                                    he.clamp = function(e, t, n) {
                                        return n === to && (n = t,
                                            t = to),
                                        n !== to && (n = (n = Gi(n)) == n ? n : 0),
                                        t !== to && (t = (t = Gi(t)) == t ? t : 0),
                                            je(Gi(e), t, n)
                                    }
                                    ,
                                    he.clone = function(e) {
                                        return Le(e, 4)
                                    }
                                    ,
                                    he.cloneDeep = function(e) {
                                        return Le(e, 5)
                                    }
                                    ,
                                    he.cloneDeepWith = function(e, t) {
                                        return Le(e, 5, t = "function" == typeof t ? t : to)
                                    }
                                    ,
                                    he.cloneWith = function(e, t) {
                                        return Le(e, 4, t = "function" == typeof t ? t : to)
                                    }
                                    ,
                                    he.conformsTo = function(e, t) {
                                        return null == t || Ve(e, t, sa(t))
                                    }
                                    ,
                                    he.deburr = _a,
                                    he.defaultTo = function(e, t) {
                                        return null == e || e != e ? t : e
                                    }
                                    ,
                                    he.divide = Ja,
                                    he.endsWith = function(e, t, n) {
                                        e = Ki(e),
                                            t = Vt(t);
                                        var r = e.length
                                            , i = n = n === to ? r : je(zi(n), 0, r);
                                        return 0 <= (n -= t.length) && e.slice(n, i) == t
                                    }
                                    ,
                                    he.eq = mi,
                                    he.escape = function(e) {
                                        return (e = Ki(e)) && jo.test(e) ? e.replace(Mo, eu) : e
                                    }
                                    ,
                                    he.escapeRegExp = function(e) {
                                        return (e = Ki(e)) && Ho.test(e) ? e.replace(Bo, "\\$&") : e
                                    }
                                    ,
                                    he.every = function(e, t, n) {
                                        var r = bi(e) ? Os : Be;
                                        return n && Kn(e, t, n) && (t = to),
                                            r(e, Vn(t, 3))
                                    }
                                    ,
                                    he.find = Gr,
                                    he.findIndex = _r,
                                    he.findKey = function(e, t) {
                                        return Ds(e, Vn(t, 3), Ke)
                                    }
                                    ,
                                    he.findLast = qr,
                                    he.findLastIndex = br,
                                    he.findLastKey = function(e, t) {
                                        return Ds(e, Vn(t, 3), Je)
                                    }
                                    ,
                                    he.floor = Ya,
                                    he.forEach = Kr,
                                    he.forEachRight = Jr,
                                    he.forIn = function(e, t) {
                                        return null == e ? e : Ge(e, Vn(t, 3), ua)
                                    }
                                    ,
                                    he.forInRight = function(e, t) {
                                        return null == e ? e : qe(e, Vn(t, 3), ua)
                                    }
                                    ,
                                    he.forOwn = function(e, t) {
                                        return e && Ke(e, Vn(t, 3))
                                    }
                                    ,
                                    he.forOwnRight = function(e, t) {
                                        return e && Je(e, Vn(t, 3))
                                    }
                                    ,
                                    he.get = na,
                                    he.gt = yi,
                                    he.gte = vi,
                                    he.has = function(e, t) {
                                        return null != e && zn(e, t, tt)
                                    }
                                    ,
                                    he.hasIn = ra,
                                    he.head = Cr,
                                    he.identity = Ma,
                                    he.includes = function(e, t, n, r) {
                                        e = Ci(e) ? e : ma(e),
                                            n = n && !r ? zi(n) : 0;
                                        var i = e.length;
                                        return n < 0 && (n = G(i + n, 0)),
                                            Vi(e) ? n <= i && -1 < e.indexOf(t, n) : !!i && -1 < $s(e, t, n)
                                    }
                                    ,
                                    he.indexOf = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        if (!r)
                                            return -1;
                                        var i = null == n ? 0 : zi(n);
                                        return i < 0 && (i = G(r + i, 0)),
                                            $s(e, t, i)
                                    }
                                    ,
                                    he.inRange = function(e, t, n) {
                                        return t = Hi(t),
                                            n === to ? (n = t,
                                                t = 0) : n = Hi(n),
                                            e = Gi(e),
                                        (r = e) >= q(i = t, a = n) && r < G(i, a);
                                        var r, i, a
                                    }
                                    ,
                                    he.invoke = oa,
                                    he.isArguments = _i,
                                    he.isArray = bi,
                                    he.isArrayBuffer = wi,
                                    he.isArrayLike = Ci,
                                    he.isArrayLikeObject = Ei,
                                    he.isBoolean = function(e) {
                                        return !0 === e || !1 === e || xi(e) && Ze(e) == po
                                    }
                                    ,
                                    he.isBuffer = Ai,
                                    he.isDate = Pi,
                                    he.isElement = function(e) {
                                        return xi(e) && 1 === e.nodeType && !Ri(e)
                                    }
                                    ,
                                    he.isEmpty = function(e) {
                                        if (null == e)
                                            return !0;
                                        if (Ci(e) && (bi(e) || "string" == typeof e || "function" == typeof e.splice || Ai(e) || Fi(e) || _i(e)))
                                            return !e.length;
                                        var t = Hn(e);
                                        if (t == vo || t == Eo)
                                            return !e.size;
                                        if (Qn(e))
                                            return !lt(e).length;
                                        for (var n in e)
                                            if (A.call(e, n))
                                                return !1;
                                        return !0
                                    }
                                    ,
                                    he.isEqual = function(e, t) {
                                        return ot(e, t)
                                    }
                                    ,
                                    he.isEqualWith = function(e, t, n) {
                                        var r = (n = "function" == typeof n ? n : to) ? n(e, t) : to;
                                        return r === to ? ot(e, t, to, n) : !!r
                                    }
                                    ,
                                    he.isError = Ti,
                                    he.isFinite = function(e) {
                                        return "number" == typeof e && H(e)
                                    }
                                    ,
                                    he.isFunction = Si,
                                    he.isInteger = ki,
                                    he.isLength = Oi,
                                    he.isMap = Ni,
                                    he.isMatch = function(e, t) {
                                        return e === t || st(e, t, Fn(t))
                                    }
                                    ,
                                    he.isMatchWith = function(e, t, n) {
                                        return n = "function" == typeof n ? n : to,
                                            st(e, t, Fn(t), n)
                                    }
                                    ,
                                    he.isNaN = function(e) {
                                        return Mi(e) && e != +e
                                    }
                                    ,
                                    he.isNative = function(e) {
                                        if (Xn(e))
                                            throw new i("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");
                                        return ut(e)
                                    }
                                    ,
                                    he.isNil = function(e) {
                                        return null == e
                                    }
                                    ,
                                    he.isNull = function(e) {
                                        return null === e
                                    }
                                    ,
                                    he.isNumber = Mi,
                                    he.isObject = Ii,
                                    he.isObjectLike = xi,
                                    he.isPlainObject = Ri,
                                    he.isRegExp = ji,
                                    he.isSafeInteger = function(e) {
                                        return ki(e) && -oo <= e && e <= oo
                                    }
                                    ,
                                    he.isSet = Li,
                                    he.isString = Vi,
                                    he.isSymbol = Di,
                                    he.isTypedArray = Fi,
                                    he.isUndefined = function(e) {
                                        return e === to
                                    }
                                    ,
                                    he.isWeakMap = function(e) {
                                        return xi(e) && Hn(e) == To
                                    }
                                    ,
                                    he.isWeakSet = function(e) {
                                        return xi(e) && "[object WeakSet]" == Ze(e)
                                    }
                                    ,
                                    he.join = function(e, t) {
                                        return null == e ? "" : z.call(e, t)
                                    }
                                    ,
                                    he.kebabCase = ba,
                                    he.last = Tr,
                                    he.lastIndexOf = function(e, t, n) {
                                        var r = null == e ? 0 : e.length;
                                        if (!r)
                                            return -1;
                                        var i = r;
                                        return n !== to && (i = (i = zi(n)) < 0 ? G(r + i, 0) : q(i, r - 1)),
                                            t == t ? function(e, t, n) {
                                                for (var r = n + 1; r--; )
                                                    if (e[r] === t)
                                                        return r;
                                                return r
                                            }(e, t, i) : Fs(e, Bs, i, !0)
                                    }
                                    ,
                                    he.lowerCase = wa,
                                    he.lowerFirst = Ca,
                                    he.lt = $i,
                                    he.lte = Ui,
                                    he.max = function(e) {
                                        return e && e.length ? He(e, Ma, et) : to
                                    }
                                    ,
                                    he.maxBy = function(e, t) {
                                        return e && e.length ? He(e, Vn(t, 2), et) : to
                                    }
                                    ,
                                    he.mean = function(e) {
                                        return Hs(e, Ma)
                                    }
                                    ,
                                    he.meanBy = function(e, t) {
                                        return Hs(e, Vn(t, 2))
                                    }
                                    ,
                                    he.min = function(e) {
                                        return e && e.length ? He(e, Ma, ft) : to
                                    }
                                    ,
                                    he.minBy = function(e, t) {
                                        return e && e.length ? He(e, Vn(t, 2), ft) : to
                                    }
                                    ,
                                    he.stubArray = Wa,
                                    he.stubFalse = Ga,
                                    he.stubObject = function() {
                                        return {}
                                    }
                                    ,
                                    he.stubString = function() {
                                        return ""
                                    }
                                    ,
                                    he.stubTrue = function() {
                                        return !0
                                    }
                                    ,
                                    he.multiply = Qa,
                                    he.nth = function(e, t) {
                                        return e && e.length ? yt(e, zi(t)) : to
                                    }
                                    ,
                                    he.noConflict = function() {
                                        return ys._ === this && (ys._ = _),
                                            this
                                    }
                                    ,
                                    he.noop = Da,
                                    he.now = ni,
                                    he.pad = function(e, t, n) {
                                        e = Ki(e);
                                        var r = (t = zi(t)) ? su(e) : 0;
                                        if (!t || t <= r)
                                            return e;
                                        var i = (t - r) / 2;
                                        return _n($(i), n) + e + _n(F(i), n)
                                    }
                                    ,
                                    he.padEnd = function(e, t, n) {
                                        e = Ki(e);
                                        var r = (t = zi(t)) ? su(e) : 0;
                                        return t && r < t ? e + _n(t - r, n) : e
                                    }
                                    ,
                                    he.padStart = function(e, t, n) {
                                        e = Ki(e);
                                        var r = (t = zi(t)) ? su(e) : 0;
                                        return t && r < t ? _n(t - r, n) + e : e
                                    }
                                    ,
                                    he.parseInt = function(e, t, n) {
                                        return n || null == t ? t = 0 : t && (t = +t),
                                            J(Ki(e).replace(Wo, ""), t || 0)
                                    }
                                    ,
                                    he.random = function(e, t, n) {
                                        if (n && "boolean" != typeof n && Kn(e, t, n) && (t = n = to),
                                        n === to && ("boolean" == typeof t ? (n = t,
                                            t = to) : "boolean" == typeof e && (n = e,
                                            e = to)),
                                            e === to && t === to ? (e = 0,
                                                t = 1) : (e = Hi(e),
                                                t === to ? (t = e,
                                                    e = 0) : t = Hi(t)),
                                        t < e) {
                                            var r = e;
                                            e = t,
                                                t = r
                                        }
                                        if (n || e % 1 || t % 1) {
                                            var i = Y();
                                            return q(e + i * (t - e + gs("1e-" + ((i + "").length - 1))), t)
                                        }
                                        return Ct(e, t)
                                    }
                                    ,
                                    he.reduce = function(e, t, n) {
                                        var r = bi(e) ? js : Ws
                                            , i = arguments.length < 3;
                                        return r(e, Vn(t, 4), n, i, $e)
                                    }
                                    ,
                                    he.reduceRight = function(e, t, n) {
                                        var r = bi(e) ? Ls : Ws
                                            , i = arguments.length < 3;
                                        return r(e, Vn(t, 4), n, i, Ue)
                                    }
                                    ,
                                    he.repeat = function(e, t, n) {
                                        return t = (n ? Kn(e, t, n) : t === to) ? 1 : zi(t),
                                            Et(Ki(e), t)
                                    }
                                    ,
                                    he.replace = function() {
                                        var e = arguments
                                            , t = Ki(e[0]);
                                        return e.length < 3 ? t : t.replace(e[1], e[2])
                                    }
                                    ,
                                    he.result = function(e, t, n) {
                                        var r = -1
                                            , i = (t = qt(t, e)).length;
                                        for (i || (i = 1,
                                            e = to); ++r < i; ) {
                                            var a = null == e ? to : e[pr(t[r])];
                                            a === to && (r = i,
                                                a = n),
                                                e = Si(a) ? a.call(e) : a
                                        }
                                        return e
                                    }
                                    ,
                                    he.round = Za,
                                    he.runInContext = e,
                                    he.sample = function(e) {
                                        return (bi(e) ? Pe : Pt)(e)
                                    }
                                    ,
                                    he.size = function(e) {
                                        if (null == e)
                                            return 0;
                                        if (Ci(e))
                                            return Vi(e) ? su(e) : e.length;
                                        var t = Hn(e);
                                        return t == vo || t == Eo ? e.size : lt(e).length
                                    }
                                    ,
                                    he.snakeCase = Ea,
                                    he.some = function(e, t, n) {
                                        var r = bi(e) ? Vs : Nt;
                                        return n && Kn(e, t, n) && (t = to),
                                            r(e, Vn(t, 3))
                                    }
                                    ,
                                    he.sortedIndex = function(e, t) {
                                        return Mt(e, t)
                                    }
                                    ,
                                    he.sortedIndexBy = function(e, t, n) {
                                        return Rt(e, t, Vn(n, 2))
                                    }
                                    ,
                                    he.sortedIndexOf = function(e, t) {
                                        var n = null == e ? 0 : e.length;
                                        if (n) {
                                            var r = Mt(e, t);
                                            if (r < n && mi(e[r], t))
                                                return r
                                        }
                                        return -1
                                    }
                                    ,
                                    he.sortedLastIndex = function(e, t) {
                                        return Mt(e, t, !0)
                                    }
                                    ,
                                    he.sortedLastIndexBy = function(e, t, n) {
                                        return Rt(e, t, Vn(n, 2), !0)
                                    }
                                    ,
                                    he.sortedLastIndexOf = function(e, t) {
                                        if (null != e && e.length) {
                                            var n = Mt(e, t, !0) - 1;
                                            if (mi(e[n], t))
                                                return n
                                        }
                                        return -1
                                    }
                                    ,
                                    he.startCase = Aa,
                                    he.startsWith = function(e, t, n) {
                                        return e = Ki(e),
                                            n = null == n ? 0 : je(zi(n), 0, e.length),
                                            t = Vt(t),
                                        e.slice(n, n + t.length) == t
                                    }
                                    ,
                                    he.subtract = eo,
                                    he.sum = function(e) {
                                        return e && e.length ? Gs(e, Ma) : 0
                                    }
                                    ,
                                    he.sumBy = function(e, t) {
                                        return e && e.length ? Gs(e, Vn(t, 2)) : 0
                                    }
                                    ,
                                    he.template = function(o, e, t) {
                                        var n = he.templateSettings;
                                        t && Kn(o, e, t) && (e = to),
                                            o = Ki(o),
                                            e = Xi({}, e, n, Sn);
                                        var s, u, r = Xi({}, e.imports, n.imports, Sn), i = sa(r), a = Js(r, i), c = 0, l = e.interpolate || os, d = "__p += '", f = y((e.escape || os).source + "|" + l.source + "|" + (l === Do ? Qo : os).source + "|" + (e.evaluate || os).source + "|$", "g"), p = "//# sourceURL=" + (A.call(e, "sourceURL") ? (e.sourceURL + "").replace(/\s/g, " ") : "lodash.templateSources[" + ++ps + "]") + "\n";
                                        o.replace(f, function(e, t, n, r, i, a) {
                                            return n || (n = r),
                                                d += o.slice(c, a).replace(ss, tu),
                                            t && (s = !0,
                                                d += "' +\n__e(" + t + ") +\n'"),
                                            i && (u = !0,
                                                d += "';\n" + i + ";\n__p += '"),
                                            n && (d += "' +\n((__t = (" + n + ")) == null ? '' : __t) +\n'"),
                                                c = a + e.length,
                                                e
                                        }),
                                            d += "';\n";
                                        var h = A.call(e, "variable") && e.variable;
                                        h || (d = "with (obj) {\n" + d + "\n}\n"),
                                            d = (u ? d.replace(Oo, "") : d).replace(Io, "$1").replace(xo, "$1;"),
                                            d = "function(" + (h || "obj") + ") {\n" + (h ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (s ? ", __e = _.escape" : "") + (u ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + d + "return __p\n}";
                                        var g = ka(function() {
                                            return m(i, p + "return " + d).apply(to, a)
                                        });
                                        if (g.source = d,
                                            Ti(g))
                                            throw g;
                                        return g
                                    }
                                    ,
                                    he.times = function(e, t) {
                                        if ((e = zi(e)) < 1 || oo < e)
                                            return [];
                                        var n = uo
                                            , r = q(e, uo);
                                        t = Vn(t),
                                            e -= uo;
                                        for (var i = qs(r, t); ++n < e; )
                                            t(n);
                                        return i
                                    }
                                    ,
                                    he.toFinite = Hi,
                                    he.toInteger = zi,
                                    he.toLength = Wi,
                                    he.toLower = function(e) {
                                        return Ki(e).toLowerCase()
                                    }
                                    ,
                                    he.toNumber = Gi,
                                    he.toSafeInteger = function(e) {
                                        return e ? je(zi(e), -oo, oo) : 0 === e ? e : 0
                                    }
                                    ,
                                    he.toString = Ki,
                                    he.toUpper = function(e) {
                                        return Ki(e).toUpperCase()
                                    }
                                    ,
                                    he.trim = function(e, t, n) {
                                        if ((e = Ki(e)) && (n || t === to))
                                            return e.replace(zo, "");
                                        if (!e || !(t = Vt(t)))
                                            return e;
                                        var r = uu(e)
                                            , i = uu(t);
                                        return Jt(r, Xs(r, i), Qs(r, i) + 1).join("")
                                    }
                                    ,
                                    he.trimEnd = function(e, t, n) {
                                        if ((e = Ki(e)) && (n || t === to))
                                            return e.replace(Go, "");
                                        if (!e || !(t = Vt(t)))
                                            return e;
                                        var r = uu(e);
                                        return Jt(r, 0, Qs(r, uu(t)) + 1).join("")
                                    }
                                    ,
                                    he.trimStart = function(e, t, n) {
                                        if ((e = Ki(e)) && (n || t === to))
                                            return e.replace(Wo, "");
                                        if (!e || !(t = Vt(t)))
                                            return e;
                                        var r = uu(e);
                                        return Jt(r, Xs(r, uu(t))).join("")
                                    }
                                    ,
                                    he.truncate = function(e, t) {
                                        var n = 30
                                            , r = "...";
                                        if (Ii(t)) {
                                            var i = "separator"in t ? t.separator : i;
                                            n = "length"in t ? zi(t.length) : n,
                                                r = "omission"in t ? Vt(t.omission) : r
                                        }
                                        var a = (e = Ki(e)).length;
                                        if (nu(e)) {
                                            var o = uu(e);
                                            a = o.length
                                        }
                                        if (a <= n)
                                            return e;
                                        var s = n - su(r);
                                        if (s < 1)
                                            return r;
                                        var u = o ? Jt(o, 0, s).join("") : e.slice(0, s);
                                        if (i === to)
                                            return u + r;
                                        if (o && (s += u.length - s),
                                            ji(i)) {
                                            if (e.slice(s).search(i)) {
                                                var c, l = u;
                                                for (i.global || (i = y(i.source, Ki(Zo.exec(i)) + "g")),
                                                         i.lastIndex = 0; c = i.exec(l); )
                                                     var d = c.index;
                                                u = u.slice(0, d === to ? s : d)
                                            }
                                        } else if (e.indexOf(Vt(i), s) != s) {
                                            var f = u.lastIndexOf(i);
                                            -1 < f && (u = u.slice(0, f))
                                        }
                                        return u + r
                                    }
                                    ,
                                    he.unescape = function(e) {
                                        return (e = Ki(e)) && Ro.test(e) ? e.replace(No, cu) : e
                                    }
                                    ,
                                    he.uniqueId = function(e) {
                                        var t = ++f;
                                        return Ki(e) + t
                                    }
                                    ,
                                    he.upperCase = Pa,
                                    he.upperFirst = Ta,
                                    he.each = Kr,
                                    he.eachRight = Jr,
                                    he.first = Cr,
                                    Va(he, (Xa = {},
                                        Ke(he, function(e, t) {
                                            A.call(he.prototype, t) || (Xa[t] = e)
                                        }),
                                        Xa), {
                                        chain: !1
                                    }),
                                    he.VERSION = "4.17.19",
                                    Ss(["bind", "bindKey", "curry", "curryRight", "partial", "partialRight"], function(e) {
                                        he[e].placeholder = he
                                    }),
                                    Ss(["drop", "take"], function(n, r) {
                                        ve.prototype[n] = function(e) {
                                            e = e === to ? 1 : G(zi(e), 0);
                                            var t = this.__filtered__ && !r ? new ve(this) : this.clone();
                                            return t.__filtered__ ? t.__takeCount__ = q(e, t.__takeCount__) : t.__views__.push({
                                                size: q(e, uo),
                                                type: n + (t.__dir__ < 0 ? "Right" : "")
                                            }),
                                                t
                                        }
                                            ,
                                            ve.prototype[n + "Right"] = function(e) {
                                                return this.reverse()[n](e).reverse()
                                            }
                                    }),
                                    Ss(["filter", "map", "takeWhile"], function(e, t) {
                                        var n = t + 1
                                            , r = 1 == n || 3 == n;
                                        ve.prototype[e] = function(e) {
                                            var t = this.clone();
                                            return t.__iteratees__.push({
                                                iteratee: Vn(e, 3),
                                                type: n
                                            }),
                                                t.__filtered__ = t.__filtered__ || r,
                                                t
                                        }
                                    }),
                                    Ss(["head", "last"], function(e, t) {
                                        var n = "take" + (t ? "Right" : "");
                                        ve.prototype[e] = function() {
                                            return this[n](1).value()[0]
                                        }
                                    }),
                                    Ss(["initial", "tail"], function(e, t) {
                                        var n = "drop" + (t ? "" : "Right");
                                        ve.prototype[e] = function() {
                                            return this.__filtered__ ? new ve(this) : this[n](1)
                                        }
                                    }),
                                    ve.prototype.compact = function() {
                                        return this.filter(Ma)
                                    }
                                    ,
                                    ve.prototype.find = function(e) {
                                        return this.filter(e).head()
                                    }
                                    ,
                                    ve.prototype.findLast = function(e) {
                                        return this.reverse().find(e)
                                    }
                                    ,
                                    ve.prototype.invokeMap = At(function(t, n) {
                                        return "function" == typeof t ? new ve(this) : this.map(function(e) {
                                            return it(e, t, n)
                                        })
                                    }),
                                    ve.prototype.reject = function(e) {
                                        return this.filter(di(Vn(e)))
                                    }
                                    ,
                                    ve.prototype.slice = function(e, t) {
                                        e = zi(e);
                                        var n = this;
                                        return n.__filtered__ && (0 < e || t < 0) ? new ve(n) : (e < 0 ? n = n.takeRight(-e) : e && (n = n.drop(e)),
                                        t !== to && (n = (t = zi(t)) < 0 ? n.dropRight(-t) : n.take(t - e)),
                                            n)
                                    }
                                    ,
                                    ve.prototype.takeRightWhile = function(e) {
                                        return this.reverse().takeWhile(e).reverse()
                                    }
                                    ,
                                    ve.prototype.toArray = function() {
                                        return this.take(uo)
                                    }
                                    ,
                                    Ke(ve.prototype, function(d, e) {
                                        var f = /^(?:filter|find|map|reject)|While$/.test(e)
                                            , p = /^(?:head|last)$/.test(e)
                                            , h = he[p ? "take" + ("last" == e ? "Right" : "") : e]
                                            , g = p || /^find/.test(e);
                                        h && (he.prototype[e] = function() {
                                                var e = this.__wrapped__
                                                    , n = p ? [1] : arguments
                                                    , t = e instanceof ve
                                                    , r = n[0]
                                                    , i = t || bi(e)
                                                    , a = function(e) {
                                                    var t = h.apply(he, Rs([e], n));
                                                    return p && o ? t[0] : t
                                                };
                                                i && f && "function" == typeof r && 1 != r.length && (t = i = !1);
                                                var o = this.__chain__
                                                    , s = !!this.__actions__.length
                                                    , u = g && !o
                                                    , c = t && !s;
                                                if (g || !i)
                                                    return u && c ? d.apply(this, n) : (l = this.thru(a),
                                                        u ? p ? l.value()[0] : l.value() : l);
                                                e = c ? e : new ve(this);
                                                var l = d.apply(e, n);
                                                return l.__actions__.push({
                                                    func: Hr,
                                                    args: [a],
                                                    thisArg: to
                                                }),
                                                    new ye(l,o)
                                            }
                                        )
                                    }),
                                    Ss(["pop", "push", "shift", "sort", "splice", "unshift"], function(e) {
                                        var n = o[e]
                                            , r = /^(?:push|sort|unshift)$/.test(e) ? "tap" : "thru"
                                            , i = /^(?:pop|shift)$/.test(e);
                                        he.prototype[e] = function() {
                                            var t = arguments;
                                            if (!i || this.__chain__)
                                                return this[r](function(e) {
                                                    return n.apply(bi(e) ? e : [], t)
                                                });
                                            var e = this.value();
                                            return n.apply(bi(e) ? e : [], t)
                                        }
                                    }),
                                    Ke(ve.prototype, function(e, t) {
                                        var n = he[t];
                                        if (n) {
                                            var r = n.name + "";
                                            A.call(ae, r) || (ae[r] = []),
                                                ae[r].push({
                                                    name: t,
                                                    func: n
                                                })
                                        }
                                    }),
                                    ae[gn(to, 2).name] = [{
                                        name: "wrapper",
                                        func: to
                                    }],
                                    ve.prototype.clone = function() {
                                        var e = new ve(this.__wrapped__);
                                        return e.__actions__ = rn(this.__actions__),
                                            e.__dir__ = this.__dir__,
                                            e.__filtered__ = this.__filtered__,
                                            e.__iteratees__ = rn(this.__iteratees__),
                                            e.__takeCount__ = this.__takeCount__,
                                            e.__views__ = rn(this.__views__),
                                            e
                                    }
                                    ,
                                    ve.prototype.reverse = function() {
                                        if (this.__filtered__) {
                                            var e = new ve(this);
                                            e.__dir__ = -1,
                                                e.__filtered__ = !0
                                        } else
                                            (e = this.clone()).__dir__ *= -1;
                                        return e
                                    }
                                    ,
                                    ve.prototype.value = function() {
                                        var e = this.__wrapped__.value()
                                            , t = this.__dir__
                                            , n = bi(e)
                                            , r = t < 0
                                            , i = n ? e.length : 0
                                            , a = function(e, t, n) {
                                            for (var r = -1, i = n.length; ++r < i; ) {
                                                var a = n[r]
                                                    , o = a.size;
                                                switch (a.type) {
                                                    case "drop":
                                                        e += o;
                                                        break;
                                                    case "dropRight":
                                                        t -= o;
                                                        break;
                                                    case "take":
                                                        t = q(t, e + o);
                                                        break;
                                                    case "takeRight":
                                                        e = G(e, t - o)
                                                }
                                            }
                                            return {
                                                start: e,
                                                end: t
                                            }
                                        }(0, i, this.__views__)
                                            , o = a.start
                                            , s = a.end
                                            , u = s - o
                                            , c = r ? s : o - 1
                                            , l = this.__iteratees__
                                            , d = l.length
                                            , f = 0
                                            , p = q(u, this.__takeCount__);
                                        if (!n || !r && i == u && p == u)
                                            return Bt(e, this.__actions__);
                                        var h = [];
                                        e: for (; u-- && f < p; ) {
                                            for (var g = -1, m = e[c += t]; ++g < d; ) {
                                                var y = l[g]
                                                    , v = y.iteratee
                                                    , _ = y.type
                                                    , b = v(m);
                                                if (2 == _)
                                                    m = b;
                                                else if (!b) {
                                                    if (1 == _)
                                                        continue e;
                                                    break e
                                                }
                                            }
                                            h[f++] = m
                                        }
                                        return h
                                    }
                                    ,
                                    he.prototype.at = zr,
                                    he.prototype.chain = function() {
                                        return Br(this)
                                    }
                                    ,
                                    he.prototype.commit = function() {
                                        return new ye(this.value(),this.__chain__)
                                    }
                                    ,
                                    he.prototype.next = function() {
                                        this.__values__ === to && (this.__values__ = Bi(this.value()));
                                        var e = this.__index__ >= this.__values__.length;
                                        return {
                                            done: e,
                                            value: e ? to : this.__values__[this.__index__++]
                                        }
                                    }
                                    ,
                                    he.prototype.plant = function(e) {
                                        for (var t, n = this; n instanceof me; ) {
                                            var r = gr(n);
                                            r.__index__ = 0,
                                                r.__values__ = to,
                                                t ? i.__wrapped__ = r : t = r;
                                            var i = r;
                                            n = n.__wrapped__
                                        }
                                        return i.__wrapped__ = e,
                                            t
                                    }
                                    ,
                                    he.prototype.reverse = function() {
                                        var e = this.__wrapped__;
                                        if (e instanceof ve) {
                                            var t = e;
                                            return this.__actions__.length && (t = new ve(this)),
                                                (t = t.reverse()).__actions__.push({
                                                    func: Hr,
                                                    args: [Ir],
                                                    thisArg: to
                                                }),
                                                new ye(t,this.__chain__)
                                        }
                                        return this.thru(Ir)
                                    }
                                    ,
                                    he.prototype.toJSON = he.prototype.valueOf = he.prototype.value = function() {
                                        return Bt(this.__wrapped__, this.__actions__)
                                    }
                                    ,
                                    he.prototype.first = he.prototype.head,
                                    M && (he.prototype[M] = function() {
                                            return this
                                        }
                                    ),
                                    he
                            }();
                            W ? ((W.exports = lu)._ = lu,
                                z._ = lu) : ys._ = lu
                        }
                    ).call(commonjsGlobal)
                })
                    , lodash_1 = lodash.get
                    , lodash_2 = lodash.snakeCase
                    , freeGlobal = "object" == typeof commonjsGlobal && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal
                    , _freeGlobal = freeGlobal
                    , freeSelf = "object" == typeof self && self && self.Object === Object && self
                    , root = _freeGlobal || freeSelf || Function("return this")()
                    , _root = root
                    , Symbol$1 = _root.Symbol
                    , _Symbol = Symbol$1;
                function arrayMap(e, t) {
                    for (var n = -1, r = null == e ? 0 : e.length, i = Array(r); ++n < r; )
                        i[n] = t(e[n], n, e);
                    return i
                }
                var _arrayMap = arrayMap
                    , isArray$1 = Array.isArray
                    , isArray_1 = isArray$1
                    , objectProto = Object.prototype
                    , hasOwnProperty = objectProto.hasOwnProperty
                    , nativeObjectToString = objectProto.toString
                    , symToStringTag = _Symbol ? _Symbol.toStringTag : void 0;
                function getRawTag(e) {
                    var t = hasOwnProperty.call(e, symToStringTag)
                        , n = e[symToStringTag];
                    try {
                        e[symToStringTag] = void 0
                    } catch (e) {}
                    var r = nativeObjectToString.call(e);
                    return t ? e[symToStringTag] = n : delete e[symToStringTag],
                        r
                }
                var _getRawTag = getRawTag
                    , objectProto$1 = Object.prototype
                    , nativeObjectToString$1 = objectProto$1.toString;
                function objectToString(e) {
                    return nativeObjectToString$1.call(e)
                }
                var _objectToString = objectToString
                    , nullTag = "[object Null]"
                    , undefinedTag = "[object Undefined]"
                    , symToStringTag$1 = _Symbol ? _Symbol.toStringTag : void 0;
                function baseGetTag(e) {
                    return null == e ? void 0 === e ? undefinedTag : nullTag : symToStringTag$1 && symToStringTag$1 in Object(e) ? _getRawTag(e) : _objectToString(e)
                }
                var _baseGetTag = baseGetTag;
                function isObjectLike(e) {
                    return null != e && "object" == typeof e
                }
                var isObjectLike_1 = isObjectLike
                    , symbolTag = "[object Symbol]";
                function isSymbol(e) {
                    return "symbol" == typeof e || isObjectLike_1(e) && _baseGetTag(e) == symbolTag
                }
                var isSymbol_1 = isSymbol
                    , INFINITY = 1 / 0
                    , symbolProto = _Symbol ? _Symbol.prototype : void 0
                    , symbolToString = symbolProto ? symbolProto.toString : void 0;
                function baseToString(e) {
                    if ("string" == typeof e)
                        return e;
                    if (isArray_1(e))
                        return _arrayMap(e, baseToString) + "";
                    if (isSymbol_1(e))
                        return symbolToString ? symbolToString.call(e) : "";
                    var t = e + "";
                    return "0" == t && 1 / e == -INFINITY ? "-0" : t
                }
                var _baseToString = baseToString;
                function toString(e) {
                    return null == e ? "" : _baseToString(e)
                }
                var toString_1 = toString;
                function basePropertyOf(t) {
                    return function(e) {
                        return null == t ? void 0 : t[e]
                    }
                }
                var _basePropertyOf = basePropertyOf
                    , htmlUnescapes = {
                    "&amp;": "&",
                    "&lt;": "<",
                    "&gt;": ">",
                    "&quot;": '"',
                    "&#39;": "'"
                }
                    , unescapeHtmlChar = _basePropertyOf(htmlUnescapes)
                    , _unescapeHtmlChar = unescapeHtmlChar
                    , reEscapedHtml = /&(?:amp|lt|gt|quot|#39);/g
                    , reHasEscapedHtml = RegExp(reEscapedHtml.source);
                function unescape$1(e) {
                    return (e = toString_1(e)) && reHasEscapedHtml.test(e) ? e.replace(reEscapedHtml, _unescapeHtmlChar) : e
                }
                var _unescape = unescape$1
                    , has = Object.prototype.hasOwnProperty
                    , isArray$2 = Array.isArray
                    , hexTable = function() {
                    for (var e = [], t = 0; t < 256; ++t)
                        e.push("%" + ((t < 16 ? "0" : "") + t.toString(16)).toUpperCase());
                    return e
                }()
                    , compactQueue = function(e) {
                    for (; 1 < e.length; ) {
                        var t = e.pop()
                            , n = t.obj[t.prop];
                        if (isArray$2(n)) {
                            for (var r = [], i = 0; i < n.length; ++i)
                                void 0 !== n[i] && r.push(n[i]);
                            t.obj[t.prop] = r
                        }
                    }
                }
                    , arrayToObject = function(e, t) {
                    for (var n = t && t.plainObjects ? Object.create(null) : {}, r = 0; r < e.length; ++r)
                        void 0 !== e[r] && (n[r] = e[r]);
                    return n
                }
                    , merge = function r(i, a, o) {
                    if (!a)
                        return i;
                    if ("object" != typeof a) {
                        if (isArray$2(i))
                            i.push(a);
                        else {
                            if (!i || "object" != typeof i)
                                return [i, a];
                            (o && (o.plainObjects || o.allowPrototypes) || !has.call(Object.prototype, a)) && (i[a] = !0)
                        }
                        return i
                    }
                    if (!i || "object" != typeof i)
                        return [i].concat(a);
                    var e = i;
                    return isArray$2(i) && !isArray$2(a) && (e = arrayToObject(i, o)),
                        isArray$2(i) && isArray$2(a) ? (a.forEach(function(e, t) {
                            if (has.call(i, t)) {
                                var n = i[t];
                                n && "object" == typeof n && e && "object" == typeof e ? i[t] = r(n, e, o) : i.push(e)
                            } else
                                i[t] = e
                        }),
                            i) : Object.keys(a).reduce(function(e, t) {
                            var n = a[t];
                            return has.call(e, t) ? e[t] = r(e[t], n, o) : e[t] = n,
                                e
                        }, e)
                }
                    , assign = function(e, n) {
                    return Object.keys(n).reduce(function(e, t) {
                        return e[t] = n[t],
                            e
                    }, e)
                }
                    , decode = function(e, t, n) {
                    var r = e.replace(/\+/g, " ");
                    if ("iso-8859-1" === n)
                        return r.replace(/%[0-9a-f]{2}/gi, unescape);
                    try {
                        return decodeURIComponent(r)
                    } catch (e) {
                        return r
                    }
                }
                    , encode = function(e, t, n) {
                    if (0 === e.length)
                        return e;
                    var r = e;
                    if ("symbol" == typeof e ? r = Symbol.prototype.toString.call(e) : "string" != typeof e && (r = String(e)),
                    "iso-8859-1" === n)
                        return escape(r).replace(/%u[0-9a-f]{4}/gi, function(e) {
                            return "%26%23" + parseInt(e.slice(2), 16) + "%3B"
                        });
                    for (var i = "", a = 0; a < r.length; ++a) {
                        var o = r.charCodeAt(a);
                        45 === o || 46 === o || 95 === o || 126 === o || 48 <= o && o <= 57 || 65 <= o && o <= 90 || 97 <= o && o <= 122 ? i += r.charAt(a) : o < 128 ? i += hexTable[o] : o < 2048 ? i += hexTable[192 | o >> 6] + hexTable[128 | 63 & o] : o < 55296 || 57344 <= o ? i += hexTable[224 | o >> 12] + hexTable[128 | o >> 6 & 63] + hexTable[128 | 63 & o] : (a += 1,
                            o = 65536 + ((1023 & o) << 10 | 1023 & r.charCodeAt(a)),
                            i += hexTable[240 | o >> 18] + hexTable[128 | o >> 12 & 63] + hexTable[128 | o >> 6 & 63] + hexTable[128 | 63 & o])
                    }
                    return i
                }
                    , compact = function(e) {
                    for (var t = [{
                        obj: {
                            o: e
                        },
                        prop: "o"
                    }], n = [], r = 0; r < t.length; ++r)
                        for (var i = t[r], a = i.obj[i.prop], o = Object.keys(a), s = 0; s < o.length; ++s) {
                            var u = o[s]
                                , c = a[u];
                            "object" == typeof c && null !== c && -1 === n.indexOf(c) && (t.push({
                                obj: a,
                                prop: u
                            }),
                                n.push(c))
                        }
                    return compactQueue(t),
                        e
                }
                    , isRegExp = function(e) {
                    return "[object RegExp]" === Object.prototype.toString.call(e)
                }
                    , isBuffer = function(e) {
                    return !(!e || "object" != typeof e) && !!(e.constructor && e.constructor.isBuffer && e.constructor.isBuffer(e))
                }
                    , combine = function(e, t) {
                    return [].concat(e, t)
                }
                    , utils = {
                    arrayToObject: arrayToObject,
                    assign: assign,
                    combine: combine,
                    compact: compact,
                    decode: decode,
                    encode: encode,
                    isBuffer: isBuffer,
                    isRegExp: isRegExp,
                    merge: merge
                }
                    , replace = String.prototype.replace
                    , percentTwenties = /%20/g
                    , Format = {
                    RFC1738: "RFC1738",
                    RFC3986: "RFC3986"
                }
                    , formats = utils.assign({
                    default: Format.RFC3986,
                    formatters: {
                        RFC1738: function(e) {
                            return replace.call(e, percentTwenties, "+")
                        },
                        RFC3986: function(e) {
                            return String(e)
                        }
                    }
                }, Format)
                    , has$1 = Object.prototype.hasOwnProperty
                    , arrayPrefixGenerators = {
                    brackets: function(e) {
                        return e + "[]"
                    },
                    comma: "comma",
                    indices: function(e, t) {
                        return e + "[" + t + "]"
                    },
                    repeat: function(e) {
                        return e
                    }
                }
                    , isArray$3 = Array.isArray
                    , push = Array.prototype.push
                    , pushToArray = function(e, t) {
                    push.apply(e, isArray$3(t) ? t : [t])
                }
                    , toISO = Date.prototype.toISOString
                    , defaultFormat = formats.default
                    , defaults = {
                    addQueryPrefix: !1,
                    allowDots: !1,
                    charset: "utf-8",
                    charsetSentinel: !1,
                    delimiter: "&",
                    encode: !0,
                    encoder: utils.encode,
                    encodeValuesOnly: !1,
                    format: defaultFormat,
                    formatter: formats.formatters[defaultFormat],
                    indices: !1,
                    serializeDate: function(e) {
                        return toISO.call(e)
                    },
                    skipNulls: !1,
                    strictNullHandling: !1
                }
                    , isNonNullishPrimitive = function(e) {
                    return "string" == typeof e || "number" == typeof e || "boolean" == typeof e || "symbol" == typeof e || "bigint" == typeof e
                }
                    , stringify$3 = function e(t, n, r, i, a, o, s, u, c, l, d, f, p) {
                    var h = t;
                    if ("function" == typeof s ? h = s(n, h) : h instanceof Date ? h = l(h) : "comma" === r && isArray$3(h) && (h = h.join(",")),
                    null === h) {
                        if (i)
                            return o && !f ? o(n, defaults.encoder, p, "key") : n;
                        h = ""
                    }
                    if (isNonNullishPrimitive(h) || utils.isBuffer(h))
                        return o ? [d(f ? n : o(n, defaults.encoder, p, "key")) + "=" + d(o(h, defaults.encoder, p, "value"))] : [d(n) + "=" + d(String(h))];
                    var g, m = [];
                    if (void 0 === h)
                        return m;
                    if (isArray$3(s))
                        g = s;
                    else {
                        var y = Object.keys(h);
                        g = u ? y.sort(u) : y
                    }
                    for (var v = 0; v < g.length; ++v) {
                        var _ = g[v];
                        a && null === h[_] || (isArray$3(h) ? pushToArray(m, e(h[_], "function" == typeof r ? r(n, _) : n, r, i, a, o, s, u, c, l, d, f, p)) : pushToArray(m, e(h[_], n + (c ? "." + _ : "[" + _ + "]"), r, i, a, o, s, u, c, l, d, f, p)))
                    }
                    return m
                }
                    , normalizeStringifyOptions = function(e) {
                    if (!e)
                        return defaults;
                    if (null !== e.encoder && void 0 !== e.encoder && "function" != typeof e.encoder)
                        throw new TypeError("Encoder has to be a function.");
                    var t = e.charset || defaults.charset;
                    if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset)
                        throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");
                    var n = formats.default;
                    if (void 0 !== e.format) {
                        if (!has$1.call(formats.formatters, e.format))
                            throw new TypeError("Unknown format option provided.");
                        n = e.format
                    }
                    var r = formats.formatters[n]
                        , i = defaults.filter;
                    return ("function" == typeof e.filter || isArray$3(e.filter)) && (i = e.filter),
                        {
                            addQueryPrefix: "boolean" == typeof e.addQueryPrefix ? e.addQueryPrefix : defaults.addQueryPrefix,
                            allowDots: void 0 === e.allowDots ? defaults.allowDots : !!e.allowDots,
                            charset: t,
                            charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : defaults.charsetSentinel,
                            delimiter: void 0 === e.delimiter ? defaults.delimiter : e.delimiter,
                            encode: "boolean" == typeof e.encode ? e.encode : defaults.encode,
                            encoder: "function" == typeof e.encoder ? e.encoder : defaults.encoder,
                            encodeValuesOnly: "boolean" == typeof e.encodeValuesOnly ? e.encodeValuesOnly : defaults.encodeValuesOnly,
                            filter: i,
                            formatter: r,
                            serializeDate: "function" == typeof e.serializeDate ? e.serializeDate : defaults.serializeDate,
                            skipNulls: "boolean" == typeof e.skipNulls ? e.skipNulls : defaults.skipNulls,
                            sort: "function" == typeof e.sort ? e.sort : null,
                            strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : defaults.strictNullHandling
                        }
                }
                    , stringify_1 = function(e, t) {
                    var n, r = e, i = normalizeStringifyOptions(t);
                    "function" == typeof i.filter ? r = (0,
                        i.filter)("", r) : isArray$3(i.filter) && (n = i.filter);
                    var a, o = [];
                    if ("object" != typeof r || null === r)
                        return "";
                    a = t && t.arrayFormat in arrayPrefixGenerators ? t.arrayFormat : t && "indices"in t ? t.indices ? "indices" : "repeat" : "indices";
                    var s = arrayPrefixGenerators[a];
                    n || (n = Object.keys(r)),
                    i.sort && n.sort(i.sort);
                    for (var u = 0; u < n.length; ++u) {
                        var c = n[u];
                        i.skipNulls && null === r[c] || pushToArray(o, stringify$3(r[c], c, s, i.strictNullHandling, i.skipNulls, i.encode ? i.encoder : null, i.filter, i.sort, i.allowDots, i.serializeDate, i.formatter, i.encodeValuesOnly, i.charset))
                    }
                    var l = o.join(i.delimiter)
                        , d = !0 === i.addQueryPrefix ? "?" : "";
                    return i.charsetSentinel && ("iso-8859-1" === i.charset ? d += "utf8=%26%2310003%3B&" : d += "utf8=%E2%9C%93&"),
                        0 < l.length ? d + l : ""
                }
                    , has$2 = Object.prototype.hasOwnProperty
                    , isArray$4 = Array.isArray
                    , defaults$1 = {
                    allowDots: !1,
                    allowPrototypes: !1,
                    arrayLimit: 20,
                    charset: "utf-8",
                    charsetSentinel: !1,
                    comma: !1,
                    decoder: utils.decode,
                    delimiter: "&",
                    depth: 5,
                    ignoreQueryPrefix: !1,
                    interpretNumericEntities: !1,
                    parameterLimit: 1e3,
                    parseArrays: !0,
                    plainObjects: !1,
                    strictNullHandling: !1
                }
                    , interpretNumericEntities = function(e) {
                    return e.replace(/&#(\d+);/g, function(e, t) {
                        return String.fromCharCode(parseInt(t, 10))
                    })
                }
                    , isoSentinel = "utf8=%26%2310003%3B"
                    , charsetSentinel = "utf8=%E2%9C%93"
                    , parseValues = function(e, t) {
                    var n, r = {}, i = t.ignoreQueryPrefix ? e.replace(/^\?/, "") : e, a = t.parameterLimit === 1 / 0 ? void 0 : t.parameterLimit, o = i.split(t.delimiter, a), s = -1, u = t.charset;
                    if (t.charsetSentinel)
                        for (n = 0; n < o.length; ++n)
                            0 === o[n].indexOf("utf8=") && (o[n] === charsetSentinel ? u = "utf-8" : o[n] === isoSentinel && (u = "iso-8859-1"),
                                s = n,
                                n = o.length);
                    for (n = 0; n < o.length; ++n)
                        if (n !== s) {
                            var c, l, d = o[n], f = d.indexOf("]="), p = -1 === f ? d.indexOf("=") : f + 1;
                            (l = -1 === p ? (c = t.decoder(d, defaults$1.decoder, u, "key"),
                                t.strictNullHandling ? null : "") : (c = t.decoder(d.slice(0, p), defaults$1.decoder, u, "key"),
                                t.decoder(d.slice(p + 1), defaults$1.decoder, u, "value"))) && t.interpretNumericEntities && "iso-8859-1" === u && (l = interpretNumericEntities(l)),
                            l && "string" == typeof l && t.comma && -1 < l.indexOf(",") && (l = l.split(",")),
                            -1 < d.indexOf("[]=") && (l = isArray$4(l) ? [l] : l),
                                has$2.call(r, c) ? r[c] = utils.combine(r[c], l) : r[c] = l
                        }
                    return r
                }
                    , parseObject = function(e, t, n) {
                    for (var r = t, i = e.length - 1; 0 <= i; --i) {
                        var a, o = e[i];
                        if ("[]" === o && n.parseArrays)
                            a = [].concat(r);
                        else {
                            a = n.plainObjects ? Object.create(null) : {};
                            var s = "[" === o.charAt(0) && "]" === o.charAt(o.length - 1) ? o.slice(1, -1) : o
                                , u = parseInt(s, 10);
                            n.parseArrays || "" !== s ? !isNaN(u) && o !== s && String(u) === s && 0 <= u && n.parseArrays && u <= n.arrayLimit ? (a = [])[u] = r : a[s] = r : a = {
                                0: r
                            }
                        }
                        r = a
                    }
                    return r
                }
                    , parseKeys = function(e, t, n) {
                    if (e) {
                        var r = n.allowDots ? e.replace(/\.([^.[]+)/g, "[$1]") : e
                            , i = /(\[[^[\]]*])/g
                            , a = 0 < n.depth && /(\[[^[\]]*])/.exec(r)
                            , o = a ? r.slice(0, a.index) : r
                            , s = [];
                        if (o) {
                            if (!n.plainObjects && has$2.call(Object.prototype, o) && !n.allowPrototypes)
                                return;
                            s.push(o)
                        }
                        for (var u = 0; 0 < n.depth && null !== (a = i.exec(r)) && u < n.depth; ) {
                            if (u += 1,
                            !n.plainObjects && has$2.call(Object.prototype, a[1].slice(1, -1)) && !n.allowPrototypes)
                                return;
                            s.push(a[1])
                        }
                        return a && s.push("[" + r.slice(a.index) + "]"),
                            parseObject(s, t, n)
                    }
                }
                    , normalizeParseOptions = function(e) {
                    if (!e)
                        return defaults$1;
                    if (null !== e.decoder && void 0 !== e.decoder && "function" != typeof e.decoder)
                        throw new TypeError("Decoder has to be a function.");
                    if (void 0 !== e.charset && "utf-8" !== e.charset && "iso-8859-1" !== e.charset)
                        throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");
                    var t = void 0 === e.charset ? defaults$1.charset : e.charset;
                    return {
                        allowDots: void 0 === e.allowDots ? defaults$1.allowDots : !!e.allowDots,
                        allowPrototypes: "boolean" == typeof e.allowPrototypes ? e.allowPrototypes : defaults$1.allowPrototypes,
                        arrayLimit: "number" == typeof e.arrayLimit ? e.arrayLimit : defaults$1.arrayLimit,
                        charset: t,
                        charsetSentinel: "boolean" == typeof e.charsetSentinel ? e.charsetSentinel : defaults$1.charsetSentinel,
                        comma: "boolean" == typeof e.comma ? e.comma : defaults$1.comma,
                        decoder: "function" == typeof e.decoder ? e.decoder : defaults$1.decoder,
                        delimiter: "string" == typeof e.delimiter || utils.isRegExp(e.delimiter) ? e.delimiter : defaults$1.delimiter,
                        depth: "number" == typeof e.depth || !1 === e.depth ? +e.depth : defaults$1.depth,
                        ignoreQueryPrefix: !0 === e.ignoreQueryPrefix,
                        interpretNumericEntities: "boolean" == typeof e.interpretNumericEntities ? e.interpretNumericEntities : defaults$1.interpretNumericEntities,
                        parameterLimit: "number" == typeof e.parameterLimit ? e.parameterLimit : defaults$1.parameterLimit,
                        parseArrays: !1 !== e.parseArrays,
                        plainObjects: "boolean" == typeof e.plainObjects ? e.plainObjects : defaults$1.plainObjects,
                        strictNullHandling: "boolean" == typeof e.strictNullHandling ? e.strictNullHandling : defaults$1.strictNullHandling
                    }
                }
                    , parse$5 = function(e, t) {
                    var n = normalizeParseOptions(t);
                    if ("" === e || null == e)
                        return n.plainObjects ? Object.create(null) : {};
                    for (var r = "string" == typeof e ? parseValues(e, n) : e, i = n.plainObjects ? Object.create(null) : {}, a = Object.keys(r), o = 0; o < a.length; ++o) {
                        var s = a[o]
                            , u = parseKeys(s, r[s], n);
                        i = utils.merge(i, u, n)
                    }
                    return utils.compact(i)
                }
                    , lib$2 = {
                    formats: formats,
                    parse: parse$5,
                    stringify: stringify_1
                }
                    , lib_2 = lib$2.parse
                    , lib_3 = lib$2.stringify
                    , vpaidRedirectResponses = {};
                function getVpaidBridgeRedirect(c, l, d) {
                    return __awaiter(this, void 0, void 0, function() {
                        var a, t, n, r, i, o, s, u;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    carodaConsole.info("VpaidBridgeHelper", "getVpaidBridgeRedirect", c),
                                        a = String(Math.floor(1e9 * Math.random())),
                                        t = "\n            <script>\n                window.shouldPlay = false\n                window.event = function (evt) {\n                    window.parent.postMessage('caroda-vpaid-ad-" + a + "://' + JSON.stringify(evt), '*')\n                }\n                window.XMLHttpRequest = function () {\n                    this.open = function (method, url) {\n                        window.event({ method: method, url: url })\n                    }\n                    this.withCredentials = false\n                    this.send = function () {}\n                }\n            <\/script>\n            <div></div>\n            <video></video>\n            <script class='caroda-vpaid-preload' src=\"" + c + '"><\/script>\n            <script>\n                var ad = getVPAIDAd()\n                ad.initAd(\n                    ' + Math.floor(d) + ",\n                    " + Math.floor(9 * d / 16) + ",\n                    'normal',\n                    500,\n                    {\n                        AdParameters: " + JSON.stringify(l) + "\n                    }, // creative data\n                    {\n                        slot: document.querySelector('div'),\n                        videoSlot: document.querySelector('video'),\n                        videoSlotCanAutoPlay: true\n                    } // environment vars\n                )\n                // don't call startAd for some to avoid double impressions\n                if (window.shouldPlay) {\n                    ad.subscribe(function () { ad.startAd() }, 'adError')\n                }\n                ad.subscribe(function () { window.event({ type: 'noAd' }) }, 'adError')\n            <\/script>\n        ",
                                        n = new Promise(function(t, e) {
                                                var n = setTimeout(function() {
                                                    return e(new Error("vpaid bridge timed out"))
                                                }, 3e3)
                                                    , r = !1
                                                    , i = [];
                                                vpaidRedirectResponses[a] = function(e) {
                                                    n && (clearTimeout(n),
                                                        n = null),
                                                        i.push(e),
                                                    r || (r = !0,
                                                        setTimeout(function() {
                                                            return t(i)
                                                        }, 100))
                                                }
                                            }
                                        ),
                                        r = new Blob([t],{
                                            type: "text/html"
                                        }),
                                        (i = document.createElement("iframe")).className = "caroda-bridge",
                                        i.style.position = "absolute",
                                        i.style.width = "100vw",
                                        i.style.height = "100vh",
                                        i.style.left = "0",
                                        i.style.top = "0",
                                        i.style.visibility = "hidden",
                                        i.style.pointerEvents = "none",
                                        i.style.display = "none",
                                        window.document.body.appendChild(i),
                                        i.src = window.URL.createObjectURL(r),
                                        e.label = 1;
                                case 1:
                                    return e.trys.push([1, 3, , 4]),
                                        [4, n];
                                case 2:
                                    return s = e.sent(),
                                        [3, 4];
                                case 3:
                                    return u = e.sent(),
                                        o = u,
                                        [3, 4];
                                case 4:
                                    if (delete vpaidRedirectResponses[a],
                                        setTimeout(function() {
                                            return i.remove()
                                        }, 2e3),
                                        o)
                                        throw o;
                                    return carodaConsole.info("VpaidBridgeHelper", "getVpaidBridgeRedirect", s),
                                        [2, s]
                            }
                        })
                    })
                }
                function request(r) {
                    return __awaiter(this, void 0, void 0, function() {
                        var n, t;
                        return __generator(this, function(e) {
                            return n = new XMLHttpRequest,
                                t = new Promise(function(e, t) {
                                        n.onreadystatechange = function() {
                                            if (4 === this.readyState)
                                                return this.status < 400 ? e(this.responseText) : t(new Error("BadStatus" + this.status))
                                        }
                                    }
                                ),
                                r(n),
                                [2, t]
                        })
                    })
                }
                function requestJson(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, request(n)];
                                case 1:
                                    t = e.sent();
                                    try {
                                        return [2, JSON.parse(t)]
                                    } catch (e) {
                                        throw carodaConsole.error("invalid json", t),
                                            e
                                    }
                                    return [2]
                            }
                        })
                    })
                }
                window.addEventListener("message", function(e) {
                    try {
                        var t = e.data && e.data.match && e.data.match(/^caroda-vpaid-ad-([0-9]+):\/\/(.*)$/);
                        if (t) {
                            t[0];
                            var n = t[1]
                                , r = t[2];
                            carodaConsole.warn("VpaidBridgeHelper", "got event", n, r);
                            var i = JSON.parse(r).url;
                            i && vpaidRedirectResponses[n](i)
                        }
                    } catch (e) {
                        carodaConsole.warn("VpaidBridgeHelper", e)
                    }
                });
                var ExpandedVast = function() {};
                function getVast(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, request(function(e) {
                                        e.open("GET", n),
                                            e.withCredentials = !0,
                                            e.send()
                                    })];
                                case 1:
                                    return (t = e.sent()) ? [3, 3] : [4, request(function(e) {
                                        e.open("GET", n),
                                            e.send()
                                    })];
                                case 2:
                                    t = e.sent(),
                                        e.label = 3;
                                case 3:
                                    return [2, t]
                            }
                        })
                    })
                }
                function getAdType$1(e, t) {
                    return e.match(/^https?\:\/\/bid\.g\.doubleclick.net/) ? "dv360" : e.match(/^https?\:\/\/[^/]+\.doubleclick.net/) ? e.match(/caroda_ima=0/) || t && 0 === t.ima ? "doubleclick-vast" : "doubleclick" : e.match(/adsafeprotected.com/) ? "doubleclick" : e.match(/seznam.cz/) ? "seznam" : e.match(/^https?\:\/\/adx\.adform\.net/) ? "adform" : e.match(/^https?\:\/\/www[0-9]*\.smartadserver\.com\/ac/) ? "doubleclick" : e.match(/^https?\:\/\/video-ads.rubiconproject.com.*vast.xml/) ? "rubicon" : e.match(/^https?\:\/\/optimized-by.rubiconproject.com/) ? "rubicon-optimized" : e.match(/^https:\/\/vpaid.pubmatic.com\/ads\/video\/vadtag.html/) ? "pubmatic" : e.match(/^https:\/\/vid.pubmatic.com\//) ? "pubmatic-vast" : e.match(/^https:\/\/svastx.moatads.com\//) ? "moatads" : e.match(/^https:\/\/ad\.mox\.tv\/delivery\/rtb\/video/) ? "mox" : e.match(/^https:\/\/ad\.mox\.tv\/delivery\/video\/zona\//) ? "mox-loader" : e.match(/^https?\:\/\//) ? "vast" : "local-vast"
                }
                function isAdLoader(e, t) {
                    return !!isSpringServeAdLoader(t) || -1 !== ["rubicon", "pubmatic", "mox-loader"].indexOf(getAdType$1(e, {}))
                }
                function getImaVast(e) {
                    return '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n        <VAST xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n            xsi:noNamespaceSchemaLocation="vast.xsd" version="3.0">\n            <Ad>\n                <Wrapper>\n                    <AdSystem>Caroda</AdSystem>\n                    <VASTAdTagURI><![CDATA[' + e + "]]></VASTAdTagURI>\n                </Wrapper>\n            </Ad>\n        </VAST>"
                }
                function getTrackingHooks(e, t) {
                    var n = e.ads && e.ads.get(0)
                        , r = lodash_1(n, "impressions")
                        , i = [];
                    r && r.length && i.push.apply(i, r.map(function(e) {
                        return {
                            TrackingUrl: e.uri,
                            VastEvent: "impression"
                        }
                    }));
                    var a = n.creatives.get(0)
                        , o = lodash_1(a, "linear.clickTrackings") || lodash_1(a, "linear.videoClicks.clickTrackings");
                    o && t && i.push.apply(i, o.map(function(e) {
                        return {
                            TrackingUrl: e.uri,
                            VastEvent: "click_tracking"
                        }
                    }));
                    var s = lodash_1(a, "linear.trackingEvents");
                    if (s) {
                        var u = s.types.reduce(function(e, t) {
                            return e.concat(s.get(t).map(function(e) {
                                return {
                                    eventType: t,
                                    uri: e.uri
                                }
                            }))
                        }, []);
                        i.push.apply(i, u.map(function(e) {
                            return {
                                TrackingUrl: e.uri,
                                VastEvent: lodash_2(e.eventType)
                            }
                        }))
                    }
                    return getExtensionCustomTrackingUrls(e, "ShowAdTracking", "show_ad").forEach(function(e) {
                        return i.push({
                            TrackingUrl: e,
                            VastEvent: "impression"
                        })
                    }),
                        getExtensionCustomTrackingUrls(e, "video_ad_loaded", "loaded").forEach(function(e) {
                            return i.push({
                                TrackingUrl: e,
                                VastEvent: "start"
                            })
                        }),
                        i
                }
                function getExtensionCustomTrackingUrls(e, t, n) {
                    var r = (e.ads && e.ads.get(0)).extensions;
                    if (r) {
                        var i = r.find(function(e) {
                            return e.type === t
                        })
                            , a = i && i.xmlElement && i.xmlElement.childNodes && Array.prototype.slice.call(i.xmlElement.childNodes).find(function(e) {
                            return "CustomTracking" === e.nodeName
                        })
                            , o = a && Array.prototype.slice.call(a.childNodes).filter(function(e) {
                            return "Tracking" === e.nodeName && e.getAttribute("event") === n && e.childNodes && e.childNodes[0] && e.childNodes[0].data
                        })
                            , s = o ? Array.prototype.slice.call(o).map(function(e) {
                            return e.childNodes[0].data
                        }) : [];
                        return carodaConsole.info("VastHelper", "getExtensionCustomTrackingUrls", {
                            extensionType: t,
                            eventName: n,
                            ret: s
                        }),
                            s
                    }
                }
                function getRedirectedVast(r, i, a, o, s) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n;
                        return __generator(this, function(e) {
                            return carodaConsole.info("VastHelper", "getRedirectedVast", r),
                                t = r.ads && r.ads.get(0),
                                a = a.concat(getTrackingHooks(r, !0)),
                                n = lodash_1(t, "vastAdTagURI"),
                                carodaConsole.info("VastHelper", "getRedirectedVast", "vastAdTagURI", n),
                                [2, expandVastUrl(n, i, a, o, s)]
                        })
                    })
                }
                function loadSeznamSID(r) {
                    return void 0 === r && (r = 3e3),
                        __awaiter(this, void 0, void 0, function() {
                            var t, n;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        (t = document.createElement("script")).src = "https://h.seznam.cz/js/dot-small.js",
                                            document.head.appendChild(t),
                                            e.label = 1;
                                    case 1:
                                        return e.trys.push([1, 3, , 4]),
                                            [4, waitFor(function() {
                                                return !!localStorageHelper.getItem("sid")
                                            }, r)];
                                    case 2:
                                        return e.sent(),
                                            [3, 4];
                                    case 3:
                                        return n = e.sent(),
                                            carodaConsole.info("VastHelper", "expandVastUrl", "Seznam couldn't load SID in time. Proceeding anyway", n),
                                            [3, 4];
                                    case 4:
                                        return [2]
                                }
                            })
                        })
                }
                function expandVastUrl(h, g, m, y, v) {
                    return void 0 === m && (m = []),
                        __awaiter(this, void 0, void 0, function() {
                            var t, n, r, i, a, o, s, u, c, l, d, f, p;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        if (carodaConsole.info("VastHelper", "expandVastUrl", "start", h, "tracking =", m, "playerInfo =", g, "depth = ", y.vastChain.length),
                                        15 < y.vastChain.length)
                                            throw new Error("vast chain too long");
                                        return m = m.slice(),
                                            t = getAdType$1(h, g = g || {}),
                                            "seznam" !== (y.adType = t) ? [3, 2] : [4, loadSeznamSID()];
                                    case 1:
                                        e.sent(),
                                            e.label = 2;
                                    case 2:
                                        return h = replaceTargetingTemplate(h, {
                                            playerInfo: g,
                                            transactionId: v
                                        }),
                                        window.location.href.match(/^https/i) && (h = h.replace(/^http:/, "https:")),
                                            h = enhanceUrlParameters(h),
                                        "doubleclick-vast" === t && (g.ima = 0),
                                            "doubleclick" === t ? (y.vastChain.push({
                                                content: "ima/hidden",
                                                url: h
                                            }),
                                                [2, [{
                                                    adType: t,
                                                    dspUrl: "//google.ima",
                                                    format: null,
                                                    report: y,
                                                    trackingHooks: m,
                                                    vast: getImaVast(h)
                                                }]]) : ("rubicon" !== t && "rubicon-optimized" !== t || (n = h.split("?"),
                                                (r = (n[1] || "").split("&")).push("domain=" + encodeURIComponent(window.location.origin)),
                                                h = [n[0], r.filter(Boolean).join("&")].join("?")),
                                                [4, getVast(h)]);
                                    case 3:
                                        if (!(i = e.sent()).trim().length)
                                            throw new Error("empty vast document from source " + h);
                                        if (isMoatAdCreative(i))
                                            return y.vastChain.push({
                                                content: i,
                                                url: h
                                            }),
                                                [2, [{
                                                    adType: "doubleclick",
                                                    dspUrl: h,
                                                    format: null,
                                                    report: y,
                                                    trackingHooks: m,
                                                    vast: i
                                                }]];
                                        if (a = getImaPlaylistRedirect(i))
                                            return y.vastChain.push({
                                                content: i,
                                                url: h
                                            }),
                                                carodaConsole.info("VastHelper", "expandVastUrl", i.trim(), "ima playlist redirect", "tracking =", m),
                                                [2, expandVastUrl(a, g, m, y, v)];
                                        if ((o = parseVAST(i)).adPod && (o = o.adPod),
                                            carodaConsole.info("VastHelper", "expandVastUrl", "parsed vast", o),
                                            !(s = o.ads && o.ads.get(0)))
                                            throw new Error("vast with no ad");
                                        return lodash_1(s, "vastAdTagURI") ? (y.vastChain.push({
                                            content: i,
                                            url: h
                                        }),
                                            [2, getRedirectedVast(o, g, m, y, v)]) : (u = getMediaFormat(o),
                                            (c = getVpaidCreativeUrl(o)) && isGoogleApiRedirectAdVpaidCreative(c) ? (l = s.creatives.get(0),
                                                d = (lodash_1(l, "linear.adParameters", "") || "").trim(),
                                                f = getGoogleApiRedirectAdCreative(c, d),
                                                m = m.concat(getTrackingHooks(o, !0)),
                                                [2, expandVastUrl(f, __assign({}, g, {
                                                    dspUrl: h
                                                }), m, y, v)]) : c && isTeadsCreative(c) ? (y.vastChain.push({
                                                content: i,
                                                url: h
                                            }),
                                                carodaConsole.info("VastHelper", "expandVastUrl", {
                                                    adType: "doubleclick",
                                                    url: h,
                                                    vastRaw: i,
                                                    format: u,
                                                    trackingHooksCarry: m,
                                                    playerInfo: g
                                                }),
                                                [2, [{
                                                    adType: "doubleclick",
                                                    dspUrl: h,
                                                    format: u,
                                                    report: y,
                                                    trackingHooks: m,
                                                    vast: i
                                                }]]) : isAdLoader(h, i) ? (y.vastChain.push({
                                                content: i,
                                                url: h
                                            }),
                                                p = !isSpringServeAdLoader(i),
                                                [2, getVpaidRedirectedVast(o, g, m, y, p, v)]) : (m = m.concat(getTrackingHooks(o, !1)),
                                                i = removeTracking(i),
                                                y.vastChain.push({
                                                    content: i,
                                                    url: h
                                                }),
                                                carodaConsole.info("VastHelper", "expandVastUrl", {
                                                    adType: t,
                                                    url: h,
                                                    vastRaw: i,
                                                    format: u,
                                                    trackingHooksCarry: m,
                                                    playerInfo: g,
                                                    vpaidCreative: c
                                                }),
                                                [2, [{
                                                    adType: t,
                                                    dspUrl: g.dspUrl || h,
                                                    format: u,
                                                    report: y,
                                                    trackingHooks: m,
                                                    vast: i
                                                }]]))
                                }
                            })
                        })
                }
                function expandStaticVast(t, n, r, i, a) {
                    return void 0 === r && (r = []),
                        __awaiter(this, void 0, void 0, function() {
                            return __generator(this, function(e) {
                                return [2, expandVastUrl(staticVastToUrl(t), n, r, i, a)]
                            })
                        })
                }
                function enhanceUrlParameters(e) {
                    try {
                        var t = e.split("?");
                        if (2 !== t.length)
                            return e;
                        var n = enhanceParameter(lib_2(t[1]), getAdType$1(e, {}));
                        return t[0] + "?" + lib_3(n)
                    } catch (e) {
                        carodaConsole.info("VastHelper", "enhanceParameters", "unusual url format", e)
                    }
                }
                function enhanceParameter(e, t) {
                    var n = __assign({}, e)
                        , r = window.carodaTargetingProfile
                        , i = !1;
                    if (!("local-vast" !== t))
                        return n;
                    var a = !r.tcf_available || !(r.gdpr && !r.gdpr_consent);
                    return "doubleclick" !== t && "doubleclick-vast" !== t || (n.correlator = n.correlator || "" + Date.now() + Math.floor(1e6 * Math.random()),
                        n.url = window.location.href,
                        n.npa = a ? 0 : 1),
                    "seznam" === t && (n.sid = replaceTargetingTemplate("[sid]"),
                        n.site = replaceTargetingTemplate("[url]"),
                        n.consent = replaceTargetingTemplate("[gdpr_consent]"),
                        i = !0),
                    r.tcf_available && (n.gdpr = replaceTargetingTemplate("[gdpr]")),
                    r.gdpr_consent && !i && (n.gdpr_consent = replaceTargetingTemplate("[gdpr_consent]")),
                        n
                }
                function removeTracking(e) {
                    return e.replace(/<Impression[^>/]*>/g, "").replace(/<\/Impression>/g, "").replace(/[\x02][^\x03]*[\x03]/g, "").replace(/<Tracking\s[^>/]*>/g, "").replace(/<\/Tracking>/g, "").replace(/[\x02][^\x03]*[\x03]/g, "")
                }
                function getVpaidCreativeUrl(e) {
                    try {
                        var t = e.ads.get(0).creatives.get(0);
                        return lodash_1(t, "linear.mediaFiles").find(function(e) {
                            return !!e.type.match(/javascript/i)
                        }).uri
                    } catch (e) {
                        carodaConsole.info("VastHelper", "getVpaidCreativeElement", "no vpaid creative found", e.message)
                    }
                }
                function getVpaidRedirectedVast(f, p, h, g, m, y) {
                    return __awaiter(this, void 0, void 0, function() {
                        var i, t, n, r, a, o, s, u, c, l, d = this;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    if (h = h.slice(),
                                        carodaConsole.info("VastHelper", "getVpaidRedirectedVast", f),
                                        i = f.ads.get(0),
                                        t = i.creatives.get(0),
                                        n = lodash_1(t, "linear.mediaFiles"),
                                        !(r = n.find(function(e) {
                                            return !!e.type.match(/javascript/i)
                                        })))
                                        throw new Error("bridge not found");
                                    return a = replaceTargetingTemplate(r.uri, {
                                        playerInfo: p,
                                        transactionId: y
                                    }),
                                        o = lodash_1(t, "linear.adParameters"),
                                        [4, getVpaidBridgeRedirect(a, o, p.playerWidth || 640)];
                                case 1:
                                    return s = e.sent(),
                                    m && (s = s.slice(0, 1)),
                                        (u = s.find(function(e) {
                                            return /^https:\/\/ad.mox.tv\/delivery\/config/.test(e)
                                        })) ? [4, request(function(e) {
                                            e.open("GET", u),
                                                e.send()
                                        })] : [3, 3];
                                case 2:
                                    c = e.sent(),
                                        s = JSON.parse(c).vastList,
                                        carodaConsole.info("VastHelper", "getVpaidRedirectedVast", "got mox config response", s),
                                        e.label = 3;
                                case 3:
                                    return carodaConsole.info("VastHelper", "getVpaidRedirectedVast", "got vast urls", s, "via", a),
                                        [4, Promise.all(s.map(function(r) {
                                            return __awaiter(d, void 0, void 0, function() {
                                                var t, n;
                                                return __generator(this, function(e) {
                                                    switch (e.label) {
                                                        case 0:
                                                            return e.trys.push([0, 2, , 3]),
                                                                carodaConsole.info("VastHelper", "getVpaidRedirectedVast", "redirected to", r, "via", a),
                                                                i.vastAdTagURI = replaceTargetingTemplate(r, {
                                                                    playerInfo: p,
                                                                    transactionId: y
                                                                }),
                                                                [4, getRedirectedVast(f, p, h, g, y)];
                                                        case 1:
                                                            return t = e.sent(),
                                                                carodaConsole.info("VastHelper", "getVpaidRedirectedVast", "redirect to", r, "succeeded", t),
                                                                [2, t];
                                                        case 2:
                                                            return n = e.sent(),
                                                                carodaConsole.info("VastHelper", "getVpaidRedirectedVast", "redirect to", r, "failed", n.message),
                                                                [3, 3];
                                                        case 3:
                                                            return [2]
                                                    }
                                                })
                                            })
                                        }))];
                                case 4:
                                    if (!(l = e.sent().filter(Boolean)).length)
                                        throw new Error("bridge with no ad");
                                    return [2, l.reduce(function(e, t) {
                                        return e.concat(t)
                                    }, [])]
                            }
                        })
                    })
                }
                function getMediaFormat(e) {
                    var t = e.ads.get(0).creatives.get(0)
                        , n = lodash_1(t, "linear.mediaFiles")
                        , r = n.filter(function(e) {
                        return !!e.type.match(/video|audio/i)
                    }).filter(function(e) {
                        return e.width && e.height
                    })
                        , i = n.filter(function(e) {
                        return !!e.type.match(/javascript/i)
                    }).filter(function(e) {
                        return e.width && e.height
                    });
                    if (!r.length && !i.length)
                        return null;
                    var a = (r.length ? r : i).reduce(function(e, t) {
                        return t.width > e.width ? t : e
                    }, {
                        width: 0,
                        height: 0
                    })
                        , o = Number(a.width) / Number(a.height);
                    return isNaN(o) ? null : getVideoAdAspectRatio(o)
                }
                function getImaPlaylistRedirect(e) {
                    var t = e.trim().replace(/\s/g, "").match(/^<Playlist>(.*)<\/Playlist>$/);
                    if (!t)
                        return null;
                    var n = t[1].trim().match(/^<Preroll>(.*)<\/Preroll>/);
                    if (!n)
                        return null;
                    var r = n[1].trim().match(/^<Ad><!\[CDATA\[([^\]]*)\]\]><\/Ad>/);
                    return r ? r[1] : null
                }
                function isMoatAdCreative(e) {
                    return Boolean(e.replace(/\n/g, "").match(/moatwrapper\.js/i))
                }
                function isTeadsCreative(e) {
                    return Boolean(e && e.match(/^https:\/\/.*teads\.tv\/vpaid.*/i))
                }
                function isGoogleApiRedirectAdVpaidCreative(e) {
                    return Boolean(e && e.match(/^https:\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter.js/))
                }
                function getGoogleApiRedirectAdCreative(e, t) {
                    carodaConsole.info("VastHelper", "getGoogleApiRedirectAdCreative", {
                        jsUri: e,
                        adParameters: t
                    });
                    var n = e.split("?");
                    if (t)
                        try {
                            return staticVastToUrl(_unescape(t))
                        } catch (e) {
                            carodaConsole.info("VastHelper", "getGoogleApiRedirectAdCreative", "skipped ad parameters", e.message)
                        }
                    if (2 !== n.length)
                        throw new Error("google api vpaid missing parameters");
                    var r = lib_2(n[1])
                        , i = Object.keys(r).find(function(e) {
                        return /adtagurl/i.test(e)
                    });
                    if (!i)
                        throw new Error("google api vpaid missing adTagUrl parameter");
                    var a = r[i];
                    if (!a)
                        throw new Error("google api vpaid missing adTagUrl parameter");
                    return a
                }
                function staticVastToUrl(e) {
                    var t = parseVAST(e);
                    if (!(t.ads.get(0) || t.adPod && t.adPod.ads.get(0)))
                        throw new Error("vast with no ad");
                    var n = new Blob([e],{
                        type: "text/xml"
                    });
                    return window.URL.createObjectURL(n)
                }
                function isSpringServeAdLoader(e) {
                    return Boolean(e.replace(/\n/g, "").match(/vpaid\.springserve\.com\/production\/vpaid/i))
                }
                function getCreativeMetadata(e, t) {
                    var n = parseVAST(t)
                        , r = getAdId(n = n.adPod ? n.adPod : n)
                        , i = getAdTitle(n);
                    return {
                        description: getAdDescription(n),
                        durationSeconds: getDurationSeconds(n),
                        id: r,
                        mediaFiles: getMediaFiles(n),
                        poster: getPoster(n),
                        supportsTrackingMultiplication: !/doubleclick|google|ima/i.test(e),
                        title: i
                    }
                }
                function getAdId(e) {
                    var t = e.ads.get(0);
                    if (t) {
                        var n = t.creatives.get(0);
                        if (n) {
                            var r = n.universalAdId;
                            if (r)
                                return r.creativeIdentifier;
                            var i = n.adID;
                            return i || t.id
                        }
                    }
                }
                function getAdTitle(e) {
                    var t = e.ads.get(0);
                    if (t)
                        return t.adTitle
                }
                function getDurationSeconds(e) {
                    var t = e.ads.get(0);
                    if (t) {
                        var n = t.creatives.get(0);
                        if (n && n.linear)
                            return n.linear.duration
                    }
                }
                function getAdDescription(e) {
                    var t = e.ads.get(0);
                    if (t)
                        return t.description
                }
                function getMediaFiles(e) {
                    try {
                        return e.ads.get(0).creatives.get(0).linear.mediaFiles.map(function(e) {
                            return {
                                apiFramework: e.apiFramework,
                                bitrate: e.bitrate,
                                codec: e.codec,
                                delivery: e.delivery,
                                height: e.height,
                                id: e.id,
                                maintainAspectRatio: e.maintainAspectRatio,
                                maxBitrate: e.maxBitrate,
                                minBitrate: e.minBitrate,
                                scalable: e.scalable,
                                type: e.type,
                                uri: e.uri,
                                width: e.width
                            }
                        })
                    } catch (e) {
                        return []
                    }
                }
                function getPoster(e) {
                    try {
                        return e.ads.get(0).extensions.find(function(e) {
                            return "caroda-poster" === e.type
                        }).xmlElement.textContent
                    } catch (e) {
                        return
                    }
                }
                function isVpaid(e) {
                    return !!getVpaidCreativeUrl(parseVAST(e))
                }
                function numberToTwoDigitString(e) {
                    return 10 <= e ? "" + e : "0" + e
                }
                function secondsToVastSkipOffset(e) {
                    var t = Math.floor(e / 3600)
                        , n = Math.floor(e % 3600 / 60)
                        , r = e % 60;
                    return numberToTwoDigitString(t) + ":" + numberToTwoDigitString(n) + ":" + numberToTwoDigitString(r)
                }
                function overrideSkipBehaviour(e, t, n) {
                    return t ? e.replace(/<Linear\s+[^>]*>/g, function(e) {
                        return e.replace(/\sskipoffset\s*=\s*[^\s>]+/, "")
                    }) : n ? e.replace(/<Linear>|<Linear\s+[^>]*>/g, function(e) {
                        return e.replace(/\sskipoffset\s*=\s*[^\s>]+/, "").replace(">", ' skipoffset="' + secondsToVastSkipOffset(n) + '">')
                    }) : e
                }
                var VVPlayer = function() {
                    function e(t, e, n) {
                        var r = this;
                        if (this.logger = carodaConsole.getInstanceLogger("VVPlayer"),
                            this.logger.info(".constructor", t.id, t, n),
                        window.carodaDefaultAdFrameOptions && Object.assign(n, window.carodaDefaultAdFrameOptions),
                            t.hasFailedPreviously())
                            throw this.logger.error(".constructor", "campaign has failed previously"),
                                new Error("campaign " + t.id + " has failed previously");
                        if (this.campaignView = t,
                            this.containerElement = document.createElement("div"),
                            this.containerElement.className = "carodaVvOutstreamPlayer",
                            this.tracking = new Tracking(__assign({}, n.trackingConfig || {}, {
                                context: __assign({}, n.trackingConfig && n.trackingConfig.context || {}, {
                                    transactionId: t.transactionId,
                                    vastContent: t.vastContent
                                }),
                                playerContainer: this.containerElement
                            })),
                            this.trackingHooks = t.trackingHooks,
                            this.vastContent = t.vastContent,
                            this.volume = n.volume || 1,
                            this.volumeChangedTriggered = !1,
                            this.hideSkipButton = Boolean(n.hideSkipButton),
                            this.fixedSkipOffset = n.fixedSkipOffset,
                            this.parentElement = e,
                            this.thumbnailUrl = n.thumbnailUrl,
                            this.instream = !!n.instream,
                            this.isFrozen = Boolean(n.isFrozen),
                            this.muted = this.isFrozen || !1 !== n.muted,
                            this.isLoaded = !1,
                            this.adEnded = !1,
                            this.isDestroyed = !1,
                            this.billboardMode = n.billboardMode,
                            this.disableTracking = n.disableTracking,
                            this.trackAsSlider = n.trackAsSlider,
                            this.format = n.format || t.vastContentAspectRatio || null,
                            this.forceAspectRatio = n.forceAspectRatio,
                            this.timeoutInMs = n.timeoutInMs || 12e4,
                        this.trackAsSlider || (this.format = null),
                            this.trackingUrlsHit = {},
                            this.hadImpression = !1,
                            this.preload = !!n.preload,
                            this.expireCache = function() {
                                return __awaiter(r, void 0, void 0, function() {
                                    return __generator(this, function(e) {
                                        return [2, t.expire && t.expire()]
                                    })
                                })
                            }
                            ,
                            this.markAsViewed = function() {
                                r.logger.info(".markAsViewed"),
                                    t.markAsViewed()
                            }
                            ,
                            this.sspUrl = t.sspUrl,
                            this.dspUrl = t.dspUrl,
                            !this.vastContent)
                            throw new Error("no vast content");
                        this.creativeMetadata = getCreativeMetadata(this.dspUrl, this.vastContent),
                            this.tracking.setCreativeMetadata(this.creativeMetadata),
                            this.hideCarodaUI = !!n.hideCarodaUI,
                            this.disablePauseWhenOutOfView = !!n.disablePauseWhenOutOfView,
                            this.adCanPlay = !1
                    }
                    return e.prototype.getParentElement = function() {
                        return this.parentElement
                    }
                        ,
                        e.prototype.isValid = function() {
                            return this.isLoaded || this.adEnded
                        }
                        ,
                        e.prototype.isError = function() {
                            return !!this.adError
                        }
                        ,
                        e.prototype.waitForAdValid = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return t.isValid()
                                            })];
                                        case 1:
                                            if (e.sent(),
                                                this.adError)
                                                throw this.logger.error(".waitForAdValid", this.adError),
                                                    new Error("vv exception");
                                            return [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.waitForAdIndexed = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    return [2, waitFor(function() {
                                        return t.hadImpression || t.adEnded
                                    })]
                                })
                            })
                        }
                        ,
                        e.prototype.unfreeze = function(n) {
                            return void 0 === n && (n = !1),
                                __awaiter(this, void 0, void 0, function() {
                                    var t = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.logger.info(".unfreeze", {
                                                    iframeLoaded: Boolean(this.iframePlayer),
                                                    unmute: n
                                                }),
                                                    this.adEnded ? [2] : isThere3rdPartyFullscreen(this.parentElement) ? (this.logger.info(".unfreeze", "an element that is not an ancestor is in fullscreen mode"),
                                                        this.adEnded = !0,
                                                        [2]) : (this.markAsViewed(),
                                                        this.isValid() ? [3, 2] : (this.logger.info(".unfreeze", "player late for unfreezing"),
                                                            [4, this.waitForAdValid()]));
                                            case 1:
                                                e.sent(),
                                                    e.label = 2;
                                            case 2:
                                                return n && (this.logger.info(".unfreeze", "unmute"),
                                                    this.iframePlayer.unmute()),
                                                    this.iframePlayer.unfreeze(),
                                                    [4, waitFor(function() {
                                                        return t.adEnded
                                                    })];
                                            case 3:
                                                return e.sent(),
                                                    [2]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.getFormat = function() {
                            return this.logger.info(".getFormat"),
                                this.format
                        }
                        ,
                        e.prototype.getVastContent = function() {
                            return this.vastContent
                        }
                        ,
                        e.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, r = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.logger.info(".play"),
                                                document.fullscreenElement && !document.fullscreenElement.contains(this.parentElement) ? (this.logger.info(".play", "an element that is not an ancestor is in fullscreen mode"),
                                                    this.adEnded = !0,
                                                    [2]) : (this.parentElement.appendChild(this.containerElement),
                                                    t = {
                                                        billboardMode: this.billboardMode,
                                                        container: this.containerElement,
                                                        disablePauseWhenOutOfView: this.disablePauseWhenOutOfView,
                                                        fixedSkipOffset: this.fixedSkipOffset,
                                                        forceAspectRatio: this.forceAspectRatio,
                                                        hideCarodaUI: this.hideCarodaUI,
                                                        hideSkipButton: this.hideSkipButton,
                                                        instream: this.instream,
                                                        isFrozen: !0,
                                                        language: targetingProfile.locale,
                                                        preload: this.preload,
                                                        startMuted: this.muted,
                                                        thumbnailUrl: this.thumbnailUrl,
                                                        timeoutInMs: this.timeoutInMs,
                                                        vast: this.vastContent,
                                                        volume: this.volume
                                                    },
                                                    this.logger.info(".play", "creating vv frame", t, this),
                                                    this.iframePlayer = new VastPlayerMol(t),
                                                    this.iframePlayer.getAdDuration().then(function(e) {
                                                        r.creativeMetadata.durationSeconds = e,
                                                            r.tracking.setCreativeMetadata(r.creativeMetadata)
                                                    }),
                                                    this.logger.info(".play", "registering events"),
                                                    this.iframePlayer.addEventListener("adVideoStart", function(e) {
                                                        return r.logger.info(".play", "got video start event", e, r.format),
                                                            r.format && r.format !== e.format ? (r.logger.info(".play", "format mismatch", e.format, r.format),
                                                                r.adEnded = !0,
                                                                void (r.adError = new Error("format missmatch"))) : window.carodaBannedFormats && -1 !== window.carodaBannedFormats.indexOf(e.format) ? (r.logger.info(".play", "banned format", e.format),
                                                                r.adEnded = !0,
                                                                void (r.adError = new Error("banned format"))) : (r.isLoaded = !0,
                                                                r.format = e.format,
                                                            r.forceAspectRatio || (r.containerElement.className += " outstreamFormat-" + (r.format || e.format)),
                                                                void setTimeout(function() {
                                                                    r.containerElement.parentElement && (r.containerElement.className += " loaded",
                                                                        r.containerElement.parentElement.className += " adLoaded",
                                                                    r.containerElement.parentElement.parentElement.classList.contains("carodaOutstreamSlider") && r.containerElement.parentElement.parentElement.classList.add("adLoaded"))
                                                                }, 500))
                                                    }),
                                                    this.iframePlayer.addEventListener("log", function(e) {
                                                        return r.logger.info(".play", "iframe", e.message)
                                                    }),
                                                    this.trackingHooks.forEach(function(e) {
                                                        return r.iframePlayer.addTrackingUrl(e.VastEvent, e.TrackingUrl)
                                                    }),
                                                    this.iframePlayer.addEventListener("tracking", function(e) {
                                                        var t = "impression" === e.eventName;
                                                        if (t && r.expireCache().catch(function(e) {
                                                            return carodaConsole.warn("VVPlayer", ".play", "expire cache", e)
                                                        }).then(function() {
                                                            r.hadImpression = !0
                                                        }),
                                                        !r.disableTracking || e.eventName.match(/click/i)) {
                                                            if (e.trackingUrls.forEach(function(e) {
                                                                return r.hitTrackingUrl(e, t)
                                                            }),
                                                                t) {
                                                                var n = (r.instream ? "impression_instream" : r.trackAsSlider && "impression_outstream_slider") || "impression_outstream";
                                                                r.tracking.hitPlayerEvent(n, [r.sspUrl, r.dspUrl], null, r.format)
                                                            }
                                                        } else
                                                            e.trackingUrls.forEach(function(e) {
                                                                return carodaConsole.info("untracked event", e)
                                                            })
                                                    }),
                                                    this.iframePlayer.addEventListener("adError", function(e) {
                                                        r.logger.info(".adError", e),
                                                            r.isDestroyed ? r.logger.info(".adError", "already destroyed") : (r.adError = e,
                                                                r.adEnded = !0,
                                                                r.campaignView.markAsFailed())
                                                    }),
                                                    this.iframePlayer.addEventListener("adEnded", function() {
                                                        return r.onAdEnded()
                                                    }),
                                                    this.iframePlayer.addEventListener("volumeChanged", function(e) {
                                                        var t = e.message;
                                                        r.volumeChangedTriggered = !0,
                                                            r.volume = t
                                                    }),
                                                    this.iframePlayer.addEventListener("adCanPlay", function() {
                                                        r.logger.info(".play", "iframe", "adCanPlay"),
                                                            r.adCanPlay = !0
                                                    }),
                                                    this.logger.info(".play", "waiting for view"),
                                                    this.isFrozen ? [3, 2] : [4, waitFor(function() {
                                                        return !!r.disablePauseWhenOutOfView || isInVerticalView(r.containerElement) || r.adEnded
                                                    })]);
                                        case 1:
                                            e.sent(),
                                                this.unfreeze(!this.muted),
                                                e.label = 2;
                                        case 2:
                                            return this.logger.info(".play", "waiting for ad end"),
                                                [4, waitFor(function() {
                                                    return r.adEnded
                                                })];
                                        case 3:
                                            if (e.sent(),
                                                this.adError)
                                                throw this.logger.error(".play", this.adError),
                                                    new Error("vv exception");
                                            return [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.destroy = function() {
                            this.logger.info(".destroy"),
                                this.isDestroyed = !0,
                                this.adEnded = !0;
                            try {
                                this.containerElement.parentElement && this.containerElement.parentElement.removeChild(this.containerElement)
                            } catch (e) {
                                this.logger.error(".destroy", e)
                            }
                        }
                        ,
                        e.prototype.getVolume = function() {
                            return this.volumeChangedTriggered ? this.volume : this.muted ? 0 : this.volume
                        }
                        ,
                        e.prototype.setVolume = function(e) {
                            this.adEnded || (this.volume = e,
                                this.volumeChangedTriggered = !0,
                                this.iframePlayer.setVolume(e))
                        }
                        ,
                        e.prototype.getCreativeMetadata = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    return [2, this.creativeMetadata]
                                })
                            })
                        }
                        ,
                        e.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        e.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        e.prototype.canPlayAd = function() {
                            return this.adCanPlay
                        }
                        ,
                        e.prototype.isEnded = function() {
                            return this.adEnded
                        }
                        ,
                        e.prototype.onAdEnded = function() {
                            this.adEnded = !0,
                                this.containerElement.classList.remove("loaded"),
                                this.renderReplayButton()
                        }
                        ,
                        e.prototype.renderReplayButton = function() {
                            var e = this;
                            this.instream || !this.hadImpression || this.adError || new ReplayButton(this.containerElement.parentElement,function() {
                                    return __awaiter(e, void 0, void 0, function() {
                                        return __generator(this, function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return this.adError = !1,
                                                        this.adEnded = !1,
                                                        this.adCanPlay = !1,
                                                        this.hadImpression = !1,
                                                        this.play(),
                                                        [4, this.waitForAdValid()];
                                                case 1:
                                                    return e.sent(),
                                                        [2, !0]
                                            }
                                        })
                                    })
                                }
                            )
                        }
                        ,
                        e.prototype.hitTrackingUrl = function(e, t) {
                            if (this.logger.info(".hitTrackingUrl", {
                                url: e,
                                isImpression: t
                            }),
                                this.trackingUrlsHit[e] = this.trackingUrlsHit[e] || 0,
                                this.trackingUrlsHit[e]++,
                                !(4 < this.trackingUrlsHit[e]))
                                return this.tracking.hitTrackingUrl(e, t)
                        }
                        ,
                        e
                }()
                    , SliderVVPlayer = function(r) {
                    function e(e, t, n) {
                        return carodaConsole.info("SliderVVPlayer", ".constructor", e.id, n),
                        r.call(this, e, t, __assign({}, n, {
                            disableTracking: !n.trackingEnabled,
                            isFrozen: !0
                        })) || this
                    }
                    return __extends(e, r),
                        e.prototype.onAdEnded = function() {
                            this.adEnded = !0,
                                this.containerElement.classList.remove("loaded")
                        }
                        ,
                        e.prototype.renderReplayButton = function() {
                            carodaConsole.info("SliderVVPlayer", ".renderReplayButton", "not implemented")
                        }
                        ,
                        e
                }(VVPlayer);
                function isSliderPlayer(e) {
                    return e instanceof SliderImaPlayer || e instanceof SliderVVPlayer
                }
                var w = window
                    , postscribeFn = w.postscribe
                    , SmartclipPlayer = function() {
                    function e(e, t, n) {
                        void 0 === n && (n = {}),
                            carodaConsole.info("SmartclipPlayer", ".constructor", e.id),
                            this.campaignView = e,
                            this.trackingHooks = e.trackingHooks,
                            this.containerElement = t,
                            this.smartclipId = e.smartclipId,
                            this.tracking = new Tracking(__assign({}, n, {
                                context: __assign({}, n.context || {}, {
                                    transactionId: e.transactionId
                                }),
                                playerContainer: t
                            }))
                    }
                    return e.prototype.load = function() {
                        return __awaiter(this, void 0, void 0, function() {
                            return __generator(this, function(e) {
                                return carodaConsole.info("SmartclipPlayer", ".load", "redundant"),
                                    [2]
                            })
                        })
                    }
                        ,
                        e.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o, s, u, c, l;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("SmartclipPlayer", ".play"),
                                                t = Math.round(1e8 * Math.random()),
                                                n = "smartclip-" + t,
                                                r = "smartclipscript-" + t,
                                                i = targetingProfile.gdpr_consent || "",
                                                a = document.createElement("div"),
                                                o = !1,
                                                a.id = n,
                                                a.className = "carodaSmartclipContainer",
                                                waitFor(function() {
                                                    return 0 < a.children.length && !!a.querySelector("video,iframe") || o
                                                }).then(function() {
                                                    return new Promise(function(e) {
                                                            return setTimeout(e, 500)
                                                        }
                                                    )
                                                }).then(function() {
                                                    return !o && a.classList.add("loaded")
                                                }),
                                                this.containerElement.appendChild(a),
                                                s = "//des.smartclip.net/ads?type=dyn&plc=" + this.smartclipId + "&sz=400x320&elementId=" + n + "&ref=" + encodeURIComponent(window.top.document.URL) + "&rnd=" + t + "&consent=" + i,
                                                carodaConsole.info("SmartclipPlayer", ".play", "adding script", s),
                                                u = this.trackingHooks.filter(function(e) {
                                                    return "impression" === e.VastEvent
                                                }),
                                                c = this.tracking,
                                                w.sc_smartIntxtStart = function() {
                                                    return __awaiter(this, void 0, void 0, function() {
                                                        return __generator(this, function(e) {
                                                            switch (e.label) {
                                                                case 0:
                                                                    return carodaConsole.info("SmartclipPlayer", ".play", "sc_smartIntxtStart"),
                                                                        [4, new Promise(function(e) {
                                                                                return setTimeout(e, 500)
                                                                            }
                                                                        )];
                                                                case 1:
                                                                    return e.sent(),
                                                                        o ? [2] : (c.hitPlayerEvent("impression_other_players", ["//smartclip.com", "//smartclip.com"], void 0, "smartclip_unknown"),
                                                                            u.forEach(function(e) {
                                                                                return c.hitTrackingUrl(e.TrackingUrl, !0)
                                                                            }),
                                                                            a.classList.add("loaded"),
                                                                            [2])
                                                            }
                                                        })
                                                    })
                                                }
                                                ,
                                                l = new Promise(function(e, t) {
                                                        w.sc_smartIntxtNoad = function() {
                                                            carodaConsole.info("SmartclipPlayer", ".play", "sc_smartIntxtNoad"),
                                                                o = !0,
                                                                t(new Error("no ad"))
                                                        }
                                                            ,
                                                            w.sc_smartIntxtEnd = function() {
                                                                carodaConsole.info("SmartclipPlayer", ".play", "sc_smartIntxtEnd"),
                                                                    e()
                                                            }
                                                    }
                                                ),
                                                postscribeFn(this.containerElement, '\n            <script\n                id="' + r + '"\n                src="' + s + '"><\/script>'),
                                                [4, l];
                                        case 1:
                                            return e.sent(),
                                                o = !0,
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.destroy = function() {
                            carodaConsole.info("SmartclipPlayer", ".destroy"),
                            this.containerElement.children[0] && this.containerElement.children[0].remove()
                        }
                        ,
                        e.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        e.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        e
                }()
                    , TeadsPlayer = function() {
                    function TeadsPlayer(e, t, n) {
                        void 0 === n && (n = {}),
                            carodaConsole.info("TeadsPlayer", ".constructor", e.id),
                            this.campaignView = e,
                            this.trackingHooks = e.trackingHooks,
                            this.containerElement = t,
                            this.tracking = new Tracking(__assign({}, n, {
                                context: __assign({}, n.context || {}, {
                                    transactionId: e.transactionId
                                }),
                                playerContainer: this.containerElement
                            })),
                            this.scriptUrl = e.teadsScriptUrl
                    }
                    return TeadsPlayer.prototype.load = function() {
                        return __awaiter(this, void 0, void 0, function() {
                            return __generator(this, function(e) {
                                return carodaConsole.info("TeadsPlayer", ".load", "redundant"),
                                    [2]
                            })
                        })
                    }
                        ,
                        TeadsPlayer.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("TeadsPlayer", ".play"),
                                                [4, this.appendTeadsTag()];
                                        case 1:
                                            return e.sent(),
                                                [4, this.processLogEvents()];
                                        case 2:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        TeadsPlayer.prototype.destroy = function() {
                            carodaConsole.error("TeadsPlayer", ".destroy", "not implemented")
                        }
                        ,
                        TeadsPlayer.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        TeadsPlayer.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        TeadsPlayer.prototype.getTeadsInjector = function(r) {
                            var i = window;
                            return {
                                ap: function(e) {
                                    document.head.appendChild = i.documentAppendChild,
                                        i[r].el = e,
                                        carodaConsole.info("TeadsPlayer", "getTeadsInjector", "ap hook", i[r].el)
                                },
                                ce: function(e, t) {
                                    var n = document.currentScript;
                                    return n && n.src.match(/teads/) && (carodaConsole.info("TeadsPlayer", "getTeadsInjector", "ce hook", n.src),
                                        i.documentAppendChild = i.documentAppendChild || document.head.appendChild,
                                        document.createElement = i.documentCreateElement,
                                        document.head.appendChild = i[r].ap),
                                        i.documentCreateElement.call(document, e, t)
                                },
                                s: function() {
                                    i.documentCreateElement = i.documentCreateElement || document.createElement,
                                        document.createElement = i[r].ce
                                }
                            }
                        }
                        ,
                        TeadsPlayer.prototype.appendTeadsTag = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var postscribeFn, w, container, id, originalScript, optsMatch, containerId, modifiedScript;
                                return __generator(this, function(_a) {
                                    switch (_a.label) {
                                        case 0:
                                            return carodaConsole.info("TeadsPlayer", ".appendTeadsTag", "adding script with postscribe"),
                                                postscribeFn = window.postscribe,
                                                w = window,
                                                w.teads = {},
                                                delete w.teadsscript,
                                                container = document.createElement("div"),
                                                document.body.appendChild(container),
                                                id = "crd" + Math.floor(1e9 * Math.random()),
                                                w[id] = this.getTeadsInjector(id),
                                                postscribeFn(container, "\n            <script>" + id + '.s()<\/script>\n            <script src="' + this.scriptUrl + '"><\/script>\n        '),
                                                [4, waitFor(function() {
                                                    return w[id].el
                                                })];
                                        case 1:
                                            if (_a.sent(),
                                                originalScript = w[id].el.onload.toString().replace(/"?css"?\s*:[^,]+,/, ""),
                                                carodaConsole.info("TeadsPlayer", ".appendTeadsTag", "modifying placement", originalScript),
                                                optsMatch = originalScript.match(/placement\([0-9]+\,\s(\{[^\)]+)\)/),
                                                !optsMatch)
                                                throw new Error("Could not adjust teads placement");
                                            return eval("this.teadsOpts = " + optsMatch[1]),
                                                carodaConsole.info("TeadsPlayer", ".appendTeadsTag", "adding teads placement", this.teadsOpts),
                                                containerId = "carodaTeadsContainer" + Math.floor(1e9 * Math.random()),
                                                this.containerElement.id = containerId,
                                                this.teadsOpts.slot = {
                                                    btf: !1,
                                                    minimum: 1,
                                                    selector: "#" + containerId
                                                },
                                                this.teadsOpts.css = "",
                                                modifiedScript = originalScript.replace(optsMatch[1], JSON.stringify(this.teadsOpts)),
                                                carodaConsole.info("TeadsPlayer", ".appendTeadsTag", "running script", modifiedScript),
                                                eval(id + ".el.onload = " + modifiedScript),
                                                document.head.appendChild(w[id].el),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        TeadsPlayer.prototype.processLogEvents = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var r, i = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return (r = new TeadsLogMonitor(window)).on("impression", function() {
                                                i.tracking.hitPlayerEvent("impression_other_players", ["//teads.tv", "//teads.tv"]),
                                                    i.containerElement.classList.add("loaded")
                                            }),
                                                this.trackingHooks.forEach(function(e) {
                                                    var t = e.VastEvent
                                                        , n = e.TrackingUrl;
                                                    return r.on(t, function() {
                                                        return i.tracking.hitTrackingUrl(n, "impression" === t)
                                                    })
                                                }),
                                                [4, r.processLogEvents()];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        TeadsPlayer
                }();
                function listCacheClear() {
                    this.__data__ = [],
                        this.size = 0
                }
                var _listCacheClear = listCacheClear;
                function eq(e, t) {
                    return e === t || e != e && t != t
                }
                var eq_1 = eq;
                function assocIndexOf(e, t) {
                    for (var n = e.length; n--; )
                        if (eq_1(e[n][0], t))
                            return n;
                    return -1
                }
                var _assocIndexOf = assocIndexOf
                    , arrayProto = Array.prototype
                    , splice = arrayProto.splice;
                function listCacheDelete(e) {
                    var t = this.__data__
                        , n = _assocIndexOf(t, e);
                    return !(n < 0) && (n == t.length - 1 ? t.pop() : splice.call(t, n, 1),
                        --this.size,
                        !0)
                }
                var _listCacheDelete = listCacheDelete;
                function listCacheGet(e) {
                    var t = this.__data__
                        , n = _assocIndexOf(t, e);
                    return n < 0 ? void 0 : t[n][1]
                }
                var _listCacheGet = listCacheGet;
                function listCacheHas(e) {
                    return -1 < _assocIndexOf(this.__data__, e)
                }
                var _listCacheHas = listCacheHas;
                function listCacheSet(e, t) {
                    var n = this.__data__
                        , r = _assocIndexOf(n, e);
                    return r < 0 ? (++this.size,
                        n.push([e, t])) : n[r][1] = t,
                        this
                }
                var _listCacheSet = listCacheSet;
                function ListCache(e) {
                    var t = -1
                        , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                ListCache.prototype.clear = _listCacheClear,
                    ListCache.prototype.delete = _listCacheDelete,
                    ListCache.prototype.get = _listCacheGet,
                    ListCache.prototype.has = _listCacheHas,
                    ListCache.prototype.set = _listCacheSet;
                var _ListCache = ListCache;
                function stackClear() {
                    this.__data__ = new _ListCache,
                        this.size = 0
                }
                var _stackClear = stackClear;
                function stackDelete(e) {
                    var t = this.__data__
                        , n = t.delete(e);
                    return this.size = t.size,
                        n
                }
                var _stackDelete = stackDelete;
                function stackGet(e) {
                    return this.__data__.get(e)
                }
                var _stackGet = stackGet;
                function stackHas(e) {
                    return this.__data__.has(e)
                }
                var _stackHas = stackHas;
                function isObject(e) {
                    var t = typeof e;
                    return null != e && ("object" == t || "function" == t)
                }
                var isObject_1 = isObject
                    , asyncTag = "[object AsyncFunction]"
                    , funcTag = "[object Function]"
                    , genTag = "[object GeneratorFunction]"
                    , proxyTag = "[object Proxy]";
                function isFunction(e) {
                    if (!isObject_1(e))
                        return !1;
                    var t = _baseGetTag(e);
                    return t == funcTag || t == genTag || t == asyncTag || t == proxyTag
                }
                var isFunction_1 = isFunction
                    , coreJsData = _root["__core-js_shared__"]
                    , _coreJsData = coreJsData
                    , maskSrcKey = function() {
                    var e = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || "");
                    return e ? "Symbol(src)_1." + e : ""
                }();
                function isMasked(e) {
                    return !!maskSrcKey && maskSrcKey in e
                }
                var _isMasked = isMasked
                    , funcProto = Function.prototype
                    , funcToString = funcProto.toString;
                function toSource(e) {
                    if (null != e) {
                        try {
                            return funcToString.call(e)
                        } catch (e) {}
                        try {
                            return e + ""
                        } catch (e) {}
                    }
                    return ""
                }
                var _toSource = toSource
                    , reRegExpChar = /[\\^$.*+?()[\]{}|]/g
                    , reIsHostCtor = /^\[object .+?Constructor\]$/
                    , funcProto$1 = Function.prototype
                    , objectProto$2 = Object.prototype
                    , funcToString$1 = funcProto$1.toString
                    , hasOwnProperty$1 = objectProto$2.hasOwnProperty
                    , reIsNative = RegExp("^" + funcToString$1.call(hasOwnProperty$1).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
                function baseIsNative(e) {
                    return !(!isObject_1(e) || _isMasked(e)) && (isFunction_1(e) ? reIsNative : reIsHostCtor).test(_toSource(e))
                }
                var _baseIsNative = baseIsNative;
                function getValue(e, t) {
                    return null == e ? void 0 : e[t]
                }
                var _getValue = getValue;
                function getNative(e, t) {
                    var n = _getValue(e, t);
                    return _baseIsNative(n) ? n : void 0
                }
                var _getNative = getNative
                    , Map = _getNative(_root, "Map")
                    , _Map = Map
                    , nativeCreate = _getNative(Object, "create")
                    , _nativeCreate = nativeCreate;
                function hashClear() {
                    this.__data__ = _nativeCreate ? _nativeCreate(null) : {},
                        this.size = 0
                }
                var _hashClear = hashClear;
                function hashDelete(e) {
                    var t = this.has(e) && delete this.__data__[e];
                    return this.size -= t ? 1 : 0,
                        t
                }
                var _hashDelete = hashDelete
                    , HASH_UNDEFINED = "__lodash_hash_undefined__"
                    , objectProto$3 = Object.prototype
                    , hasOwnProperty$2 = objectProto$3.hasOwnProperty;
                function hashGet(e) {
                    var t = this.__data__;
                    if (_nativeCreate) {
                        var n = t[e];
                        return n === HASH_UNDEFINED ? void 0 : n
                    }
                    return hasOwnProperty$2.call(t, e) ? t[e] : void 0
                }
                var _hashGet = hashGet
                    , objectProto$4 = Object.prototype
                    , hasOwnProperty$3 = objectProto$4.hasOwnProperty;
                function hashHas(e) {
                    var t = this.__data__;
                    return _nativeCreate ? void 0 !== t[e] : hasOwnProperty$3.call(t, e)
                }
                var _hashHas = hashHas
                    , HASH_UNDEFINED$1 = "__lodash_hash_undefined__";
                function hashSet(e, t) {
                    var n = this.__data__;
                    return this.size += this.has(e) ? 0 : 1,
                        n[e] = _nativeCreate && void 0 === t ? HASH_UNDEFINED$1 : t,
                        this
                }
                var _hashSet = hashSet;
                function Hash(e) {
                    var t = -1
                        , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                Hash.prototype.clear = _hashClear,
                    Hash.prototype.delete = _hashDelete,
                    Hash.prototype.get = _hashGet,
                    Hash.prototype.has = _hashHas,
                    Hash.prototype.set = _hashSet;
                var _Hash = Hash;
                function mapCacheClear() {
                    this.size = 0,
                        this.__data__ = {
                            hash: new _Hash,
                            map: new (_Map || _ListCache),
                            string: new _Hash
                        }
                }
                var _mapCacheClear = mapCacheClear;
                function isKeyable(e) {
                    var t = typeof e;
                    return "string" == t || "number" == t || "symbol" == t || "boolean" == t ? "__proto__" !== e : null === e
                }
                var _isKeyable = isKeyable;
                function getMapData(e, t) {
                    var n = e.__data__;
                    return _isKeyable(t) ? n["string" == typeof t ? "string" : "hash"] : n.map
                }
                var _getMapData = getMapData;
                function mapCacheDelete(e) {
                    var t = _getMapData(this, e).delete(e);
                    return this.size -= t ? 1 : 0,
                        t
                }
                var _mapCacheDelete = mapCacheDelete;
                function mapCacheGet(e) {
                    return _getMapData(this, e).get(e)
                }
                var _mapCacheGet = mapCacheGet;
                function mapCacheHas(e) {
                    return _getMapData(this, e).has(e)
                }
                var _mapCacheHas = mapCacheHas;
                function mapCacheSet(e, t) {
                    var n = _getMapData(this, e)
                        , r = n.size;
                    return n.set(e, t),
                        this.size += n.size == r ? 0 : 1,
                        this
                }
                var _mapCacheSet = mapCacheSet;
                function MapCache(e) {
                    var t = -1
                        , n = null == e ? 0 : e.length;
                    for (this.clear(); ++t < n; ) {
                        var r = e[t];
                        this.set(r[0], r[1])
                    }
                }
                MapCache.prototype.clear = _mapCacheClear,
                    MapCache.prototype.delete = _mapCacheDelete,
                    MapCache.prototype.get = _mapCacheGet,
                    MapCache.prototype.has = _mapCacheHas,
                    MapCache.prototype.set = _mapCacheSet;
                var _MapCache = MapCache
                    , LARGE_ARRAY_SIZE = 200;
                function stackSet(e, t) {
                    var n = this.__data__;
                    if (n instanceof _ListCache) {
                        var r = n.__data__;
                        if (!_Map || r.length < LARGE_ARRAY_SIZE - 1)
                            return r.push([e, t]),
                                this.size = ++n.size,
                                this;
                        n = this.__data__ = new _MapCache(r)
                    }
                    return n.set(e, t),
                        this.size = n.size,
                        this
                }
                var _stackSet = stackSet;
                function Stack(e) {
                    var t = this.__data__ = new _ListCache(e);
                    this.size = t.size
                }
                Stack.prototype.clear = _stackClear,
                    Stack.prototype.delete = _stackDelete,
                    Stack.prototype.get = _stackGet,
                    Stack.prototype.has = _stackHas,
                    Stack.prototype.set = _stackSet;
                var _Stack = Stack;
                function arrayEach(e, t) {
                    for (var n = -1, r = null == e ? 0 : e.length; ++n < r && !1 !== t(e[n], n, e); )
                        ;
                    return e
                }
                var _arrayEach = arrayEach
                    , defineProperty = function() {
                    try {
                        var e = _getNative(Object, "defineProperty");
                        return e({}, "", {}),
                            e
                    } catch (e) {}
                }()
                    , _defineProperty = defineProperty;
                function baseAssignValue(e, t, n) {
                    "__proto__" == t && _defineProperty ? _defineProperty(e, t, {
                        configurable: !0,
                        enumerable: !0,
                        value: n,
                        writable: !0
                    }) : e[t] = n
                }
                var _baseAssignValue = baseAssignValue
                    , objectProto$5 = Object.prototype
                    , hasOwnProperty$4 = objectProto$5.hasOwnProperty;
                function assignValue(e, t, n) {
                    var r = e[t];
                    hasOwnProperty$4.call(e, t) && eq_1(r, n) && (void 0 !== n || t in e) || _baseAssignValue(e, t, n)
                }
                var _assignValue = assignValue;
                function copyObject(e, t, n, r) {
                    var i = !n;
                    n || (n = {});
                    for (var a = -1, o = t.length; ++a < o; ) {
                        var s = t[a]
                            , u = r ? r(n[s], e[s], s, n, e) : void 0;
                        void 0 === u && (u = e[s]),
                            i ? _baseAssignValue(n, s, u) : _assignValue(n, s, u)
                    }
                    return n
                }
                var _copyObject = copyObject;
                function baseTimes(e, t) {
                    for (var n = -1, r = Array(e); ++n < e; )
                        r[n] = t(n);
                    return r
                }
                var _baseTimes = baseTimes
                    , argsTag = "[object Arguments]";
                function baseIsArguments(e) {
                    return isObjectLike_1(e) && _baseGetTag(e) == argsTag
                }
                var _baseIsArguments = baseIsArguments
                    , objectProto$6 = Object.prototype
                    , hasOwnProperty$5 = objectProto$6.hasOwnProperty
                    , propertyIsEnumerable = objectProto$6.propertyIsEnumerable
                    , isArguments = _baseIsArguments(function() {
                    return arguments
                }()) ? _baseIsArguments : function(e) {
                    return isObjectLike_1(e) && hasOwnProperty$5.call(e, "callee") && !propertyIsEnumerable.call(e, "callee")
                }
                    , isArguments_1 = isArguments;
                function stubFalse() {
                    return !1
                }
                var stubFalse_1 = stubFalse
                    , isBuffer_1 = createCommonjsModule(function(e, t) {
                    var n = t && !t.nodeType && t
                        , r = n && e && !e.nodeType && e
                        , i = r && r.exports === n ? _root.Buffer : void 0
                        , a = (i ? i.isBuffer : void 0) || stubFalse_1;
                    e.exports = a
                })
                    , MAX_SAFE_INTEGER = 9007199254740991
                    , reIsUint = /^(?:0|[1-9]\d*)$/;
                function isIndex(e, t) {
                    var n = typeof e;
                    return !!(t = null == t ? MAX_SAFE_INTEGER : t) && ("number" == n || "symbol" != n && reIsUint.test(e)) && -1 < e && e % 1 == 0 && e < t
                }
                var _isIndex = isIndex
                    , MAX_SAFE_INTEGER$1 = 9007199254740991;
                function isLength(e) {
                    return "number" == typeof e && -1 < e && e % 1 == 0 && e <= MAX_SAFE_INTEGER$1
                }
                var isLength_1 = isLength
                    , argsTag$1 = "[object Arguments]"
                    , arrayTag = "[object Array]"
                    , boolTag = "[object Boolean]"
                    , dateTag = "[object Date]"
                    , errorTag = "[object Error]"
                    , funcTag$1 = "[object Function]"
                    , mapTag = "[object Map]"
                    , numberTag = "[object Number]"
                    , objectTag = "[object Object]"
                    , regexpTag = "[object RegExp]"
                    , setTag = "[object Set]"
                    , stringTag = "[object String]"
                    , weakMapTag = "[object WeakMap]"
                    , arrayBufferTag = "[object ArrayBuffer]"
                    , dataViewTag = "[object DataView]"
                    , float32Tag = "[object Float32Array]"
                    , float64Tag = "[object Float64Array]"
                    , int8Tag = "[object Int8Array]"
                    , int16Tag = "[object Int16Array]"
                    , int32Tag = "[object Int32Array]"
                    , uint8Tag = "[object Uint8Array]"
                    , uint8ClampedTag = "[object Uint8ClampedArray]"
                    , uint16Tag = "[object Uint16Array]"
                    , uint32Tag = "[object Uint32Array]"
                    , typedArrayTags = {};
                function baseIsTypedArray(e) {
                    return isObjectLike_1(e) && isLength_1(e.length) && !!typedArrayTags[_baseGetTag(e)]
                }
                typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = !0,
                    typedArrayTags[argsTag$1] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag$1] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = !1;
                var _baseIsTypedArray = baseIsTypedArray;
                function baseUnary(t) {
                    return function(e) {
                        return t(e)
                    }
                }
                var _baseUnary = baseUnary
                    , _nodeUtil = createCommonjsModule(function(e, t) {
                    var n = t && !t.nodeType && t
                        , r = n && e && !e.nodeType && e
                        , i = r && r.exports === n && _freeGlobal.process
                        , a = function() {
                        try {
                            var e = r && r.require && r.require("util").types;
                            return e || i && i.binding && i.binding("util")
                        } catch (e) {}
                    }();
                    e.exports = a
                })
                    , nodeIsTypedArray = _nodeUtil && _nodeUtil.isTypedArray
                    , isTypedArray = nodeIsTypedArray ? _baseUnary(nodeIsTypedArray) : _baseIsTypedArray
                    , isTypedArray_1 = isTypedArray
                    , objectProto$7 = Object.prototype
                    , hasOwnProperty$6 = objectProto$7.hasOwnProperty;
                function arrayLikeKeys(e, t) {
                    var n = isArray_1(e)
                        , r = !n && isArguments_1(e)
                        , i = !n && !r && isBuffer_1(e)
                        , a = !n && !r && !i && isTypedArray_1(e)
                        , o = n || r || i || a
                        , s = o ? _baseTimes(e.length, String) : []
                        , u = s.length;
                    for (var c in e)
                        !t && !hasOwnProperty$6.call(e, c) || o && ("length" == c || i && ("offset" == c || "parent" == c) || a && ("buffer" == c || "byteLength" == c || "byteOffset" == c) || _isIndex(c, u)) || s.push(c);
                    return s
                }
                var _arrayLikeKeys = arrayLikeKeys
                    , objectProto$8 = Object.prototype;
                function isPrototype(e) {
                    var t = e && e.constructor;
                    return e === ("function" == typeof t && t.prototype || objectProto$8)
                }
                var _isPrototype = isPrototype;
                function overArg(t, n) {
                    return function(e) {
                        return t(n(e))
                    }
                }
                var _overArg = overArg
                    , nativeKeys = _overArg(Object.keys, Object)
                    , _nativeKeys = nativeKeys
                    , objectProto$9 = Object.prototype
                    , hasOwnProperty$7 = objectProto$9.hasOwnProperty;
                function baseKeys(e) {
                    if (!_isPrototype(e))
                        return _nativeKeys(e);
                    var t = [];
                    for (var n in Object(e))
                        hasOwnProperty$7.call(e, n) && "constructor" != n && t.push(n);
                    return t
                }
                var _baseKeys = baseKeys;
                function isArrayLike(e) {
                    return null != e && isLength_1(e.length) && !isFunction_1(e)
                }
                var isArrayLike_1 = isArrayLike;
                function keys$1(e) {
                    return isArrayLike_1(e) ? _arrayLikeKeys(e) : _baseKeys(e)
                }
                var keys_1 = keys$1;
                function baseAssign(e, t) {
                    return e && _copyObject(t, keys_1(t), e)
                }
                var _baseAssign = baseAssign;
                function nativeKeysIn(e) {
                    var t = [];
                    if (null != e)
                        for (var n in Object(e))
                            t.push(n);
                    return t
                }
                var _nativeKeysIn = nativeKeysIn
                    , objectProto$a = Object.prototype
                    , hasOwnProperty$8 = objectProto$a.hasOwnProperty;
                function baseKeysIn(e) {
                    if (!isObject_1(e))
                        return _nativeKeysIn(e);
                    var t = _isPrototype(e)
                        , n = [];
                    for (var r in e)
                        ("constructor" != r || !t && hasOwnProperty$8.call(e, r)) && n.push(r);
                    return n
                }
                var _baseKeysIn = baseKeysIn;
                function keysIn$1(e) {
                    return isArrayLike_1(e) ? _arrayLikeKeys(e, !0) : _baseKeysIn(e)
                }
                var keysIn_1 = keysIn$1;
                function baseAssignIn(e, t) {
                    return e && _copyObject(t, keysIn_1(t), e)
                }
                var _baseAssignIn = baseAssignIn
                    , _cloneBuffer = createCommonjsModule(function(e, t) {
                    var n = t && !t.nodeType && t
                        , r = n && e && !e.nodeType && e
                        , i = r && r.exports === n ? _root.Buffer : void 0
                        , a = i ? i.allocUnsafe : void 0;
                    e.exports = function(e, t) {
                        if (t)
                            return e.slice();
                        var n = e.length
                            , r = a ? a(n) : new e.constructor(n);
                        return e.copy(r),
                            r
                    }
                });
                function copyArray(e, t) {
                    var n = -1
                        , r = e.length;
                    for (t || (t = Array(r)); ++n < r; )
                        t[n] = e[n];
                    return t
                }
                var _copyArray = copyArray;
                function arrayFilter(e, t) {
                    for (var n = -1, r = null == e ? 0 : e.length, i = 0, a = []; ++n < r; ) {
                        var o = e[n];
                        t(o, n, e) && (a[i++] = o)
                    }
                    return a
                }
                var _arrayFilter = arrayFilter;
                function stubArray() {
                    return []
                }
                var stubArray_1 = stubArray
                    , objectProto$b = Object.prototype
                    , propertyIsEnumerable$1 = objectProto$b.propertyIsEnumerable
                    , nativeGetSymbols = Object.getOwnPropertySymbols
                    , getSymbols = nativeGetSymbols ? function(t) {
                        return null == t ? [] : (t = Object(t),
                            _arrayFilter(nativeGetSymbols(t), function(e) {
                                return propertyIsEnumerable$1.call(t, e)
                            }))
                    }
                    : stubArray_1
                    , _getSymbols = getSymbols;
                function copySymbols(e, t) {
                    return _copyObject(e, _getSymbols(e), t)
                }
                var _copySymbols = copySymbols;
                function arrayPush(e, t) {
                    for (var n = -1, r = t.length, i = e.length; ++n < r; )
                        e[i + n] = t[n];
                    return e
                }
                var _arrayPush = arrayPush
                    , getPrototype = _overArg(Object.getPrototypeOf, Object)
                    , _getPrototype = getPrototype
                    , nativeGetSymbols$1 = Object.getOwnPropertySymbols
                    , getSymbolsIn = nativeGetSymbols$1 ? function(e) {
                        for (var t = []; e; )
                            _arrayPush(t, _getSymbols(e)),
                                e = _getPrototype(e);
                        return t
                    }
                    : stubArray_1
                    , _getSymbolsIn = getSymbolsIn;
                function copySymbolsIn(e, t) {
                    return _copyObject(e, _getSymbolsIn(e), t)
                }
                var _copySymbolsIn = copySymbolsIn;
                function baseGetAllKeys(e, t, n) {
                    var r = t(e);
                    return isArray_1(e) ? r : _arrayPush(r, n(e))
                }
                var _baseGetAllKeys = baseGetAllKeys;
                function getAllKeys(e) {
                    return _baseGetAllKeys(e, keys_1, _getSymbols)
                }
                var _getAllKeys = getAllKeys;
                function getAllKeysIn(e) {
                    return _baseGetAllKeys(e, keysIn_1, _getSymbolsIn)
                }
                var _getAllKeysIn = getAllKeysIn
                    , DataView = _getNative(_root, "DataView")
                    , _DataView = DataView
                    , Promise$1 = _getNative(_root, "Promise")
                    , _Promise = Promise$1
                    , Set$1 = _getNative(_root, "Set")
                    , _Set = Set$1
                    , WeakMap = _getNative(_root, "WeakMap")
                    , _WeakMap = WeakMap
                    , mapTag$1 = "[object Map]"
                    , objectTag$1 = "[object Object]"
                    , promiseTag = "[object Promise]"
                    , setTag$1 = "[object Set]"
                    , weakMapTag$1 = "[object WeakMap]"
                    , dataViewTag$1 = "[object DataView]"
                    , dataViewCtorString = _toSource(_DataView)
                    , mapCtorString = _toSource(_Map)
                    , promiseCtorString = _toSource(_Promise)
                    , setCtorString = _toSource(_Set)
                    , weakMapCtorString = _toSource(_WeakMap)
                    , getTag = _baseGetTag;
                (_DataView && getTag(new _DataView(new ArrayBuffer(1))) != dataViewTag$1 || _Map && getTag(new _Map) != mapTag$1 || _Promise && getTag(_Promise.resolve()) != promiseTag || _Set && getTag(new _Set) != setTag$1 || _WeakMap && getTag(new _WeakMap) != weakMapTag$1) && (getTag = function(e) {
                        var t = _baseGetTag(e)
                            , n = t == objectTag$1 ? e.constructor : void 0
                            , r = n ? _toSource(n) : "";
                        if (r)
                            switch (r) {
                                case dataViewCtorString:
                                    return dataViewTag$1;
                                case mapCtorString:
                                    return mapTag$1;
                                case promiseCtorString:
                                    return promiseTag;
                                case setCtorString:
                                    return setTag$1;
                                case weakMapCtorString:
                                    return weakMapTag$1
                            }
                        return t
                    }
                );
                var _getTag = getTag
                    , objectProto$c = Object.prototype
                    , hasOwnProperty$9 = objectProto$c.hasOwnProperty;
                function initCloneArray(e) {
                    var t = e.length
                        , n = new e.constructor(t);
                    return t && "string" == typeof e[0] && hasOwnProperty$9.call(e, "index") && (n.index = e.index,
                        n.input = e.input),
                        n
                }
                var _initCloneArray = initCloneArray
                    , Uint8Array$1 = _root.Uint8Array
                    , _Uint8Array = Uint8Array$1;
                function cloneArrayBuffer(e) {
                    var t = new e.constructor(e.byteLength);
                    return new _Uint8Array(t).set(new _Uint8Array(e)),
                        t
                }
                var _cloneArrayBuffer = cloneArrayBuffer;
                function cloneDataView(e, t) {
                    var n = t ? _cloneArrayBuffer(e.buffer) : e.buffer;
                    return new e.constructor(n,e.byteOffset,e.byteLength)
                }
                var _cloneDataView = cloneDataView
                    , reFlags = /\w*$/;
                function cloneRegExp(e) {
                    var t = new e.constructor(e.source,reFlags.exec(e));
                    return t.lastIndex = e.lastIndex,
                        t
                }
                var _cloneRegExp = cloneRegExp
                    , symbolProto$1 = _Symbol ? _Symbol.prototype : void 0
                    , symbolValueOf = symbolProto$1 ? symbolProto$1.valueOf : void 0;
                function cloneSymbol(e) {
                    return symbolValueOf ? Object(symbolValueOf.call(e)) : {}
                }
                var _cloneSymbol = cloneSymbol;
                function cloneTypedArray(e, t) {
                    var n = t ? _cloneArrayBuffer(e.buffer) : e.buffer;
                    return new e.constructor(n,e.byteOffset,e.length)
                }
                var _cloneTypedArray = cloneTypedArray
                    , boolTag$1 = "[object Boolean]"
                    , dateTag$1 = "[object Date]"
                    , mapTag$2 = "[object Map]"
                    , numberTag$1 = "[object Number]"
                    , regexpTag$1 = "[object RegExp]"
                    , setTag$2 = "[object Set]"
                    , stringTag$1 = "[object String]"
                    , symbolTag$1 = "[object Symbol]"
                    , arrayBufferTag$1 = "[object ArrayBuffer]"
                    , dataViewTag$2 = "[object DataView]"
                    , float32Tag$1 = "[object Float32Array]"
                    , float64Tag$1 = "[object Float64Array]"
                    , int8Tag$1 = "[object Int8Array]"
                    , int16Tag$1 = "[object Int16Array]"
                    , int32Tag$1 = "[object Int32Array]"
                    , uint8Tag$1 = "[object Uint8Array]"
                    , uint8ClampedTag$1 = "[object Uint8ClampedArray]"
                    , uint16Tag$1 = "[object Uint16Array]"
                    , uint32Tag$1 = "[object Uint32Array]";
                function initCloneByTag(e, t, n) {
                    var r = e.constructor;
                    switch (t) {
                        case arrayBufferTag$1:
                            return _cloneArrayBuffer(e);
                        case boolTag$1:
                        case dateTag$1:
                            return new r(+e);
                        case dataViewTag$2:
                            return _cloneDataView(e, n);
                        case float32Tag$1:
                        case float64Tag$1:
                        case int8Tag$1:
                        case int16Tag$1:
                        case int32Tag$1:
                        case uint8Tag$1:
                        case uint8ClampedTag$1:
                        case uint16Tag$1:
                        case uint32Tag$1:
                            return _cloneTypedArray(e, n);
                        case mapTag$2:
                            return new r;
                        case numberTag$1:
                        case stringTag$1:
                            return new r(e);
                        case regexpTag$1:
                            return _cloneRegExp(e);
                        case setTag$2:
                            return new r;
                        case symbolTag$1:
                            return _cloneSymbol(e)
                    }
                }
                var _initCloneByTag = initCloneByTag
                    , objectCreate = Object.create
                    , baseCreate = function() {
                    function n() {}
                    return function(e) {
                        if (!isObject_1(e))
                            return {};
                        if (objectCreate)
                            return objectCreate(e);
                        n.prototype = e;
                        var t = new n;
                        return n.prototype = void 0,
                            t
                    }
                }()
                    , _baseCreate = baseCreate;
                function initCloneObject(e) {
                    return "function" != typeof e.constructor || _isPrototype(e) ? {} : _baseCreate(_getPrototype(e))
                }
                var _initCloneObject = initCloneObject
                    , mapTag$3 = "[object Map]";
                function baseIsMap(e) {
                    return isObjectLike_1(e) && _getTag(e) == mapTag$3
                }
                var _baseIsMap = baseIsMap
                    , nodeIsMap = _nodeUtil && _nodeUtil.isMap
                    , isMap = nodeIsMap ? _baseUnary(nodeIsMap) : _baseIsMap
                    , isMap_1 = isMap
                    , setTag$3 = "[object Set]";
                function baseIsSet(e) {
                    return isObjectLike_1(e) && _getTag(e) == setTag$3
                }
                var _baseIsSet = baseIsSet
                    , nodeIsSet = _nodeUtil && _nodeUtil.isSet
                    , isSet = nodeIsSet ? _baseUnary(nodeIsSet) : _baseIsSet
                    , isSet_1 = isSet
                    , CLONE_DEEP_FLAG = 1
                    , CLONE_FLAT_FLAG = 2
                    , CLONE_SYMBOLS_FLAG = 4
                    , argsTag$2 = "[object Arguments]"
                    , funcTag$2 = "[object Function]"
                    , genTag$1 = "[object GeneratorFunction]"
                    , objectTag$2 = "[object Object]";
                function baseClone(n, r, i, e, t, a) {
                    var o, s = r & CLONE_DEEP_FLAG, u = r & CLONE_FLAT_FLAG, c = r & CLONE_SYMBOLS_FLAG;
                    if (i && (o = t ? i(n, e, t, a) : i(n)),
                    void 0 !== o)
                        return o;
                    if (!isObject_1(n))
                        return n;
                    var l = isArray_1(n);
                    if (l) {
                        if (o = _initCloneArray(n),
                            !s)
                            return _copyArray(n, o)
                    } else {
                        var d = _getTag(n)
                            , f = d == funcTag$2 || d == genTag$1;
                        if (isBuffer_1(n))
                            return _cloneBuffer(n, s);
                        if (d != objectTag$2 && d != argsTag$2 && (!f || t))
                            return t ? n : {};
                        if (o = u || f ? {} : _initCloneObject(n),
                            !s)
                            return u ? _copySymbolsIn(n, _baseAssignIn(o, n)) : _copySymbols(n, _baseAssign(o, n))
                    }
                    a || (a = new _Stack);
                    var p = a.get(n);
                    if (p)
                        return p;
                    a.set(n, o),
                        isSet_1(n) ? n.forEach(function(e) {
                            o.add(baseClone(e, r, i, e, n, a))
                        }) : isMap_1(n) && n.forEach(function(e, t) {
                            o.set(t, baseClone(e, r, i, t, n, a))
                        });
                    var h = c ? u ? _getAllKeysIn : _getAllKeys : u ? keysIn : keys_1
                        , g = l ? void 0 : h(n);
                    return _arrayEach(g || n, function(e, t) {
                        g && (e = n[t = e]),
                            _assignValue(o, t, baseClone(e, r, i, t, n, a))
                    }),
                        o
                }
                var _baseClone = baseClone
                    , CLONE_DEEP_FLAG$1 = 1
                    , CLONE_SYMBOLS_FLAG$1 = 4;
                function cloneDeep(e) {
                    return _baseClone(e, CLONE_DEEP_FLAG$1 | CLONE_SYMBOLS_FLAG$1)
                }
                var cloneDeep_1 = cloneDeep
                    , GLOBAL_ADS_GROUP = "0"
                    , w$1 = window
                    , assetMap = {}
                    , assetQueue = []
                    , assetsFailed = [];
                w$1.carodaUniqueAssets = {
                    assetMap: assetMap,
                    assetQueue: assetQueue,
                    assetsFailed: assetsFailed
                };
                var CampaignExpandedView = function() {
                    function e() {}
                    return e.prototype.throwIfRepeated = function(e) {
                        throwIfVastRepeated(this.adsGroup, e || this.vastContent)
                    }
                        ,
                        e.prototype.hasFailedPreviously = function() {
                            return getVastHashes(this.adsGroup, this.vastContent).some(function(e) {
                                return -1 !== assetsFailed.indexOf(e)
                            })
                        }
                        ,
                        e.prototype.markAsViewed = function(e) {
                            var t = this
                                , n = e || this.vastContent;
                            if (n) {
                                var r = getVastHashes(this.adsGroup, n);
                                r.forEach(function(e) {
                                    assetMap[e] = t.clone()
                                }),
                                "doubleclick" !== this.type && -1 === assetQueue.indexOf(r[0]) && -1 === assetsFailed.indexOf(r[0]) && assetQueue.push(r[0])
                            }
                        }
                        ,
                        e.prototype.markAsFailed = function() {
                            if (this.vastContent) {
                                var e = getVastHashes(this.adsGroup, this.vastContent);
                                assetsFailed.push.apply(assetsFailed, e),
                                "doubleclick" !== this.type && e.forEach(function(e) {
                                    var t = assetQueue.indexOf(e);
                                    -1 !== t && assetQueue.splice(t, 1)
                                })
                            }
                        }
                        ,
                        e.prototype.reset = function() {
                            this.adsGroup += Math.floor(10 * Math.random())
                        }
                        ,
                        e.prototype.clone = function() {
                            var e = cloneDeep_1(this);
                            return delete e.expire,
                                e
                        }
                        ,
                        e
                }();
                function getRepeatedAsset(n) {
                    var e = assetQueue.findIndex(function(e) {
                        var t = assetMap[e];
                        return 0 <= n.indexOf(t.assetId)
                    });
                    if (-1 !== e) {
                        var t = assetQueue.splice(e, 1)[0];
                        assetQueue.push(t);
                        var r = Object.assign(new CampaignExpandedView, assetMap[t]);
                        return r.vastContentAspectRatio = null,
                            r
                    }
                }
                function throwIfVastRepeated(e, t) {
                    if (getVastHashes(e, t).some(function(e) {
                        return assetMap[e]
                    }))
                        throw carodaConsole.info("CampaignExpandedView", ".throwIfVastRepeated", "asset repeated", t),
                            new Error("asset repeated " + t)
                }
                function getVastHashes(e, t) {
                    var n = t.match(/http[^\]><]+\.(mp[34]|js|wav|webm)/i)
                        , r = [];
                    return r.push(stringHash(e + t)),
                    n && r.push(stringHash(e + n[0])),
                        carodaConsole.info("CampaignExpandedView", "getVastHashes", e, r),
                        r
                }
                function resetGlobalAdsGroup() {
                    GLOBAL_ADS_GROUP = String(parseInt(GLOBAL_ADS_GROUP, 10) + 1)
                }
                var VideoSliderAdPlayer = function() {
                    function e(e, t, n) {
                        carodaConsole.info("VideoSliderAdPlayer", ".constructor", n),
                            this.campaignView = void 0,
                            this.hasPlayed = !1,
                            this.tracking = new Tracking(__assign({}, n.trackingConfig || {})),
                            this.fetchAdPlayer = e,
                            this.parentElement = t,
                            this.opts = n,
                            this.preloadedPlayers = [],
                            this.isFinished = !1,
                            this.isSingleAd = n.isSingleAd
                    }
                    return e.prototype.load = function() {
                        return __awaiter(this, void 0, void 0, function() {
                            var t, n, r = this;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return carodaConsole.info("VideoSliderAdPlayer", ".load"),
                                            t = document.createElement("div"),
                                            0 < this.parentElement.children.length ? this.parentElement.insertBefore(t, this.parentElement.children[1]) : this.parentElement.appendChild(t),
                                            carodaConsole.info("VideoSliderAdPlayer", ".load", "fetching ad player"),
                                            [4, this.fetchAdPlayer(t, function(e) {
                                                return mergeTrackingContext(r.tracking, e)
                                            })];
                                    case 1:
                                        return (n = e.sent()) ? (this.parentElement.classList.add("adLoaded"),
                                            isSliderPlayer(n) ? [3, 3] : (carodaConsole.info("VideoSliderAdPlayer", ".load", "play frame as 3rd party", n),
                                                [4, waitFor(function() {
                                                    return !1
                                                })])) : (carodaConsole.info("VideoSliderAdPlayer", ".load", "no player to fetch"),
                                        0 === this.preloadedPlayers.length && (this.isFinished = !0),
                                            [2]);
                                    case 2:
                                        e.sent(),
                                            e.label = 3;
                                    case 3:
                                        return this.opts.aspectRatio = this.opts.aspectRatio || n.getFormat(),
                                        this.firstAdFormat || this.initializeFirstAdFormat(this.opts.aspectRatio),
                                            this.prepareContainer(),
                                            carodaConsole.info("VideoSliderAdPlayer", ".load", "got player"),
                                            this.preloadedPlayers.push(n),
                                            [2]
                                }
                            })
                        })
                    }
                        ,
                        e.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var i, t, a, o = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            carodaConsole.info("VideoSliderAdPlayer", ".play"),
                                                this.load(),
                                                i = !0,
                                                t = function() {
                                                    var t, n, r;
                                                    return __generator(this, function(e) {
                                                        switch (e.label) {
                                                            case 0:
                                                                return carodaConsole.info("VideoSliderAdPlayer", ".play", "wait for preloaded frame"),
                                                                    [4, waitFor(function() {
                                                                        return 0 < o.preloadedPlayers.length || o.isFinished
                                                                    })];
                                                            case 1:
                                                                return e.sent(),
                                                                    a.isFinished ? [2, "break"] : (a.activePlayer = a.preloadedPlayers.shift(),
                                                                        carodaConsole.info("VideoSliderAdPlayer", ".play", "unfreeze active ad frame"),
                                                                        t = function() {
                                                                            return isInVerticalView(o.parentElement) && !isHidden(o.parentElement) && !isBrowserHidden() && !isThere3rdPartyFullscreen(o.parentElement)
                                                                        }
                                                                        ,
                                                                        [4, waitFor(function() {
                                                                            return t() || o.activePlayer.isEnded()
                                                                        })]);
                                                            case 2:
                                                                return e.sent(),
                                                                    n = a.opts.expiry && a.opts.expiry.getTime() < Date.now(),
                                                                !i && !n && !a.isSingleAd && a.tracking.hitPlayerEvent("outstream_slider_impression_opportunity"),
                                                                    a.activePlayer.waitForAdIndexed().then(function() {
                                                                        carodaConsole.info("VideoSliderAdPlayer", ".play", "start loading next ad"),
                                                                            o.hasPlayed = o.hasPlayed || !o.activePlayer.isError(),
                                                                            i && o.activePlayer.isError() ? (carodaConsole.info("VideoSliderAdPlayer", ".play", "first run failed", "aborting"),
                                                                                o.isFinished = !0) : (i = !1,
                                                                                o.load())
                                                                    }),
                                                                    [4, a.activePlayer.unfreeze()];
                                                            case 3:
                                                                return e.sent(),
                                                                    r = a.activePlayer,
                                                                    setTimeout(function() {
                                                                        carodaConsole.info("VideoSliderAdPlayer", ".play", "destroy active ad frame");
                                                                        var e = r.getParentElement();
                                                                        r.destroy(),
                                                                            e.remove()
                                                                    }, 600),
                                                                    [2]
                                                        }
                                                    })
                                                }
                                                ,
                                                a = this,
                                                e.label = 1;
                                        case 1:
                                            return this.isFinished ? [3, 3] : [5, t()];
                                        case 2:
                                            return "break" === e.sent() ? [3, 3] : [3, 1];
                                        case 3:
                                            return this.makeSpacerTransparent(),
                                                this.hasPlayed && !this.opts.disableReplayButton ? this.renderReplayButton() : this.replayButton || this.destroy(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.destroy = function() {
                            carodaConsole.info("VideoSliderAdPlayer", ".destroy");
                            try {
                                this.parentElement.innerHTML = ""
                            } catch (e) {
                                carodaConsole.error("VideoSliderAdPlayer", ".destroy", e)
                            }
                        }
                        ,
                        e.prototype.getCampaignView = function() {
                            return this.campaignView
                        }
                        ,
                        e.prototype.getTracking = function() {
                            return this.tracking
                        }
                        ,
                        e.prototype.prepareContainer = function() {
                            this.parentElement.classList.contains("carodaOutstreamSlider") || (this.parentElement.classList.add("carodaOutstreamSlider"),
                                this.spacer = document.createElement("div"),
                                0 < this.parentElement.children.length ? this.parentElement.insertBefore(this.spacer, this.parentElement.children[0]) : this.parentElement.appendChild(this.spacer),
                                this.spacer.className = "sliderSpacer sliderSpacer-" + (this.opts.aspectRatio || "horizontal").replace(":", "-"),
                            this.opts.forceAspectRatio && (this.spacer.style.paddingTop = (1 / this.opts.forceAspectRatio * 100).toFixed() + "% !important"))
                        }
                        ,
                        e.prototype.initializeFirstAdFormat = function(e) {
                            carodaConsole.info("VideoSliderAdPlayer", ".initializeFirstAdFormat", e),
                                this.firstAdFormat = e,
                                this.parentElement.classList.add("format-" + e)
                        }
                        ,
                        e.prototype.renderReplayButton = function() {
                            var e = this;
                            carodaConsole.info("VideoSliderAdPlayer", ".renderReplayButton"),
                                this.parentElement.classList.add("replay-button"),
                                this.replayButton = new ReplayButton(this.parentElement,function() {
                                        return __awaiter(e, void 0, void 0, function() {
                                            var t = this;
                                            return __generator(this, function(e) {
                                                switch (e.label) {
                                                    case 0:
                                                        return resetGlobalAdsGroup(),
                                                            this.isFinished = !1,
                                                            this.hasPlayed = !1,
                                                            this.parentElement.classList.remove("replay-button"),
                                                            this.play(),
                                                            [4, waitFor(function() {
                                                                return t.hasPlayed || t.isFinished
                                                            })];
                                                    case 1:
                                                        return e.sent(),
                                                            [2, this.hasPlayed]
                                                }
                                            })
                                        })
                                    }
                                )
                        }
                        ,
                        e.prototype.makeSpacerTransparent = function() {
                            this.spacer && this.spacer.classList.add("transparent")
                        }
                        ,
                        e
                }(), dataAsOf = "2021-10-22T00:00:00.000Z", generatedAt = "2021-10-24T15:00:47.138Z", conversions = {
                    USD: {
                        USD: 1,
                        JPY: 113.86930352536544,
                        BGN: 1.6816852966466036,
                        CZK: 22.05932932072227,
                        DKK: 6.397678417884781,
                        GBP: .7254514187446259,
                        HUF: 312.57093723129833,
                        PLN: 3.9531384350816854,
                        RON: 4.252278589853827,
                        SEK: 8.576784178847808,
                        CHF: .9172828890799656,
                        ISK: 129.14875322441958,
                        NOK: 8.3469475494411,
                        HRK: 6.471625107480653,
                        RUB: 70.38572656921754,
                        TRY: 9.615649183147033,
                        AUD: 1.3336199484092863,
                        BRL: 5.701117798796217,
                        CAD: 1.233104041272571,
                        CNY: 6.391831470335339,
                        HKD: 7.774032674118659,
                        IDR: 14187.815993121238,
                        ILS: 3.207566638005159,
                        INR: 74.87016337059329,
                        KRW: 1176.603611349957,
                        MXN: 20.240928632846085,
                        MYR: 4.150042992261393,
                        NZD: 1.3978503869303525,
                        PHP: 50.80309544282029,
                        SGD: 1.3472914875322441,
                        THB: 33.33018056749785,
                        ZAR: 14.671195184866724,
                        EUR: .8598452278589853
                    },
                    GBP: {
                        USD: 1.3784520564181582,
                        JPY: 156.96337560744342,
                        BGN: 2.318122555410691,
                        CZK: 30.407727865354985,
                        DKK: 8.818892971435345,
                        GBP: 1,
                        HUF: 430.86405120303425,
                        PLN: 5.449211805144008,
                        RON: 5.861562166646912,
                        SEK: 11.822685788787483,
                        CHF: 1.2644304847694678,
                        ISK: 178.02536446604242,
                        NOK: 11.50586701434159,
                        HRK: 8.920824937774091,
                        RUB: 97.0233495318241,
                        TRY: 13.25471139030461,
                        AUD: 1.8383311603650585,
                        BRL: 7.8587175536328076,
                        CAD: 1.6997748014697167,
                        CNY: 8.810833234562049,
                        HKD: 10.716131326300818,
                        IDR: 19557.2241318004,
                        ILS: 4.421476828256489,
                        INR: 103.20493066255777,
                        KRW: 1621.8916676543797,
                        MXN: 27.901149697759866,
                        MYR: 5.720635296906484,
                        NZD: 1.9268697404290624,
                        PHP: 70.02963138556359,
                        SGD: 1.8571767215835011,
                        THB: 45.94405594405594,
                        ZAR: 20.223539172691716,
                        EUR: 1.185255422543558
                    }
                }, currencyConversions = {
                    dataAsOf: dataAsOf,
                    generatedAt: generatedAt,
                    conversions: conversions
                }, usdToCurrency = currencyConversions.conversions.USD, OverrideSkipBehavior;
                function getConversionRate(e, t) {
                    return "USD" === e ? usdToCurrency[t] : round(usdToCurrency[t] / usdToCurrency[e])
                }
                function round(e, t) {
                    return void 0 === t && (t = 16),
                    Math.round(e * Math.pow(10, t)) / Math.pow(10, t)
                }
                !function(e) {
                    e.None = "none",
                        e.Fixed = "fixed",
                        e.Hide = "hide"
                }(OverrideSkipBehavior || (OverrideSkipBehavior = {}));
                var MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS = 5
                    , AdPlayerLoader = function() {
                    function e(e, t) {
                        void 0 === t && (t = {}),
                            this.startedAdSlotsById = {},
                            carodaConsole.info("AdPlayerLoader", ".constructor"),
                            this.campaignViews = e.sort(orderByPriority),
                            this.assetIds = this.getUniqueAssetIds(),
                            this.options = t,
                        window.carodaDisableAds && (carodaConsole.info("AdPlayerLoader", ".constructor", "ads disabled by integration"),
                            this.campaignViews = []),
                            this.options.sliderExpiryInSeconds = this.options.sliderExpiryInSeconds || window.carodaDefaultSliderExpiryInSeconds || 300,
                            this.options.expiry = new Date(Date.now() + 1e3 * this.options.sliderExpiryInSeconds),
                            this.waitForPromise = this.options.waitForPromise || Promise.resolve()
                    }
                    return e.prototype.loadClickableOutstreamAdSlot = function(t, r) {
                        return void 0 === r && (r = function() {}
                        ),
                            __awaiter(this, void 0, void 0, function() {
                                var n = this;
                                return __generator(this, function(e) {
                                    return carodaConsole.info("AdPlayerLoader", ".loadClickableOutstreamAdSlot"),
                                        [2, this.getAdPlayer({
                                            containerElement: t,
                                            onPlayerReady: function(t) {
                                                return __awaiter(n, void 0, void 0, function() {
                                                    return __generator(this, function(e) {
                                                        switch (e.label) {
                                                            case 0:
                                                                return r(t),
                                                                    (this.activePlayer = t)instanceof SliderVVPlayer ? (t.play().catch(function(e) {
                                                                        return carodaConsole.warn("AdPlayerLoader", ".loadClickableOutstreamAdSlot", "could not play ad frame", e)
                                                                    }),
                                                                        [4, t.waitForAdValid()]) : [3, 2];
                                                            case 1:
                                                                return e.sent(),
                                                                    [3, 4];
                                                            case 2:
                                                                return [4, t.play()];
                                                            case 3:
                                                                e.sent(),
                                                                    e.label = 4;
                                                            case 4:
                                                                return [2]
                                                        }
                                                    })
                                                })
                                            },
                                            type: "clicked-outstream"
                                        })]
                                })
                            })
                    }
                        ,
                        e.prototype.loadOutstreamAdSlot = function(t, r) {
                            return void 0 === r && (r = function() {}
                            ),
                                __awaiter(this, void 0, void 0, function() {
                                    var n = this;
                                    return __generator(this, function(e) {
                                        return carodaConsole.info("AdPlayerLoader", ".loadOutstreamAdSlot"),
                                            [2, this.getAdPlayer({
                                                containerElement: t,
                                                onPlayerReady: function(t) {
                                                    return __awaiter(n, void 0, void 0, function() {
                                                        return __generator(this, function(e) {
                                                            return r(t),
                                                                [2, t.play()]
                                                        })
                                                    })
                                                },
                                                type: "outstream"
                                            })]
                                    })
                                })
                        }
                        ,
                        e.prototype.loadOutstreamSliderAdSlot = function(e, t) {
                            var r = this
                                , n = void 0 === t ? {} : t
                                , i = n.isSingleAd
                                , s = void 0 !== i && i
                                , a = n.onPlayerReady
                                , o = void 0 === a ? function() {}
                                : a;
                            carodaConsole.info("AdPlayerLoader", ".loadOutstreamSliderAdSlot", {
                                isSingleAd: s
                            });
                            var u = function(n) {
                                return __awaiter(r, void 0, void 0, function() {
                                    var t;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return o(n),
                                                    isSliderPlayer(n) ? ((t = n).play().catch(function(e) {
                                                        return carodaConsole.warn("AdPlayerLoader", ".loadOutstreamSliderAdSlot", "could not play ad frame", e)
                                                    }),
                                                        [4, t.waitForAdValid()]) : [3, 2];
                                            case 1:
                                                return e.sent(),
                                                    [3, 4];
                                            case 2:
                                                return [4, n.play()];
                                            case 3:
                                                e.sent(),
                                                    e.label = 4;
                                            case 4:
                                                return [2]
                                        }
                                    })
                                })
                            }
                                , c = GLOBAL_ADS_GROUP
                                , l = !0
                                , d = new VideoSliderAdPlayer(function(a, o) {
                                    return void 0 === o && (o = function() {}
                                    ),
                                        __awaiter(r, void 0, void 0, function() {
                                            var t, n, r, i;
                                            return __generator(this, function(e) {
                                                switch (e.label) {
                                                    case 0:
                                                        return t = this.options.expiry && this.options.expiry.getTime() < Date.now(),
                                                            r = GLOBAL_ADS_GROUP !== c,
                                                            i = l || !s || r,
                                                            c = GLOBAL_ADS_GROUP,
                                                            t || !i ? [3, 2] : [4, this.getAdPlayer({
                                                                containerElement: a,
                                                                onPlayerReady: function(e) {
                                                                    return o(e),
                                                                        u(e)
                                                                },
                                                                type: l ? "outstream-slider-mixed" : "outstream-slider"
                                                            })];
                                                    case 1:
                                                        n = e.sent(),
                                                            e.label = 2;
                                                    case 2:
                                                        return n ? [3, 4] : [4, this.getAdPlayer({
                                                            containerElement: a,
                                                            onPlayerReady: function(e) {
                                                                return o(e),
                                                                    u(e)
                                                            },
                                                            type: "outstream-slider-untracked"
                                                        })];
                                                    case 3:
                                                        n = e.sent(),
                                                            e.label = 4;
                                                    case 4:
                                                        return l = !1,
                                                            [2, n]
                                                }
                                            })
                                        })
                                }
                                ,e,__assign({}, this.options, {
                                    isSingleAd: s
                                }));
                            return this.activePlayer = d
                        }
                        ,
                        e.prototype.loadInstreamWithPositionsAdSlot = function(e, a, o, n, t) {
                            var r = this;
                            void 0 === n && (n = function() {}
                            ),
                            void 0 === t && (t = function() {}
                            ),
                                carodaConsole.info("AdPlayerLoader", ".loadInstreamWithPositionsAdSlot", a);
                            var s = !1
                                , u = this.getAdPlayer({
                                adSlot: a,
                                containerElement: e,
                                onPlayerReady: function(t) {
                                    return __awaiter(r, void 0, void 0, function() {
                                        return __generator(this, function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return carodaConsole.info("AdPlayerLoader", ".loadInstreamWithPositionsAdSlot", "onPlayerReady", {
                                                        player: t
                                                    }),
                                                        n(t),
                                                        [4, t.play()];
                                                case 1:
                                                    return e.sent(),
                                                        t.destroy(),
                                                        [2]
                                            }
                                        })
                                    })
                                },
                                type: "instream-with-positions",
                                volume: o
                            });
                            u.catch(function(e) {
                                return carodaConsole.info("AdPlayerLoader", ".loadInstreamWithPositionsAdSlot", e)
                            }).then(function(e) {
                                carodaConsole.info("AdPlayerLoader", ".loadInstreamWithPositionsAdSlot", {
                                    player: e
                                }),
                                e || (carodaConsole.info("AdPlayerLoader", ".loadInstreamWithPositionsAdSlot", "error"),
                                    t()),
                                    s = !0,
                                    iterateWaiters()
                            });
                            var c = function(i) {
                                return __awaiter(r, void 0, void 0, function() {
                                    var t, n, r = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.startedAdSlotsById[a.id] = {
                                                    volume: void 0 === i ? o : i
                                                },
                                                    this.activePlayer instanceof VVPlayer || this.activePlayer instanceof ImaPlayer ? (t = !a.startMuted,
                                                        n = this.activePlayer.unfreeze(t),
                                                    void 0 !== i && this.activePlayer.setVolume(i),
                                                        [4, n]) : [3, 2];
                                            case 1:
                                                return e.sent(),
                                                    [3, 4];
                                            case 2:
                                                return [4, waitFor(function() {
                                                    return !!r.activePlayer || s
                                                })];
                                            case 3:
                                                if (e.sent(),
                                                    !s)
                                                    return [2, c(i)];
                                                e.label = 4;
                                            case 4:
                                                return [2, u]
                                        }
                                    })
                                })
                            };
                            return c
                        }
                        ,
                        e.prototype.transformInstreamPositionsIntoCampaingIdsByPosition = function(e, n) {
                            var r = this;
                            void 0 === e && (e = []),
                            void 0 === n && (n = Number.MAX_SAFE_INTEGER),
                                carodaConsole.info("AdPlayerLoader", ".transformInstreamPositionsIntoCampaingIdsByPosition", e, n);
                            var t = e.filter(function(e) {
                                var t = e.minVideoLength;
                                return (void 0 === t ? 0 : t) <= n
                            }).map(function(t) {
                                return __assign({
                                    overrideSkipBehavior: t.overrideSkipBehavior || OverrideSkipBehavior.None
                                }, t.overrideSkipBehavior === OverrideSkipBehavior.Fixed ? {
                                    fixedSkipOffset: t.fixedSkipOffset
                                } : {}, {
                                    position: r.getInstreamPositionPosition(t, n),
                                    priority: t.priority,
                                    priorityChain: r.campaignViews.filter(function(e) {
                                        return e.assetId === t.vid
                                    }).map(function(e) {
                                        return e.id
                                    })
                                })
                            }).filter(function(e) {
                                var t = e.position;
                                return "preroll" === t || "postroll" === t || parseFloat(t) < n
                            })
                                , i = this.mergeCloseInstreamPositionCampaignIds(t, n).map(function(e) {
                                return __assign({}, e, {
                                    instreamPositions: e.instreamPositions.sort(orderByPriority)
                                })
                            });
                            return carodaConsole.info("AdPlayerLoader", ".transformInstreamPositionsIntoCampaingIdsByPosition", i),
                                i
                        }
                        ,
                        e.prototype.getCampaignViewOpportunities = function(e) {
                            var t = e.type
                                , n = e.containerElement
                                , r = {
                                adSlot: e && e.adSlot,
                                playerInfo: getPlayerDimensions(n)
                            };
                            return void 0 !== e.allowRepeated && (r.allowRepeated = e.allowRepeated),
                                this.getExpandedCampaignViews(t, r)
                        }
                        ,
                        e.prototype.getAdPlayerFromCampaignViewOpportunities = function(n, a) {
                            return __awaiter(this, void 0, void 0, function() {
                                var i, t = this;
                                return __generator(this, function(e) {
                                    return carodaConsole.info("AdPlayerLoader", ".getAdPlayerFromCampaignViewOpportunities", a),
                                        i = a.onPlayerReady || function(e) {
                                            return e.play()
                                        }
                                        ,
                                        [2, this.processExpandedCampaignViewOpportunities(n, function(r) {
                                            return __awaiter(t, void 0, void 0, function() {
                                                var t, n;
                                                return __generator(this, function(e) {
                                                    switch (e.label) {
                                                        case 0:
                                                            return e.trys.push([0, 3, , 4]),
                                                                [4, this.getAdPlayerFromCampaignExpandedView(r, a)];
                                                        case 1:
                                                            return t = e.sent(),
                                                                this.activePlayer = t,
                                                                [4, i(t)];
                                                        case 2:
                                                            return e.sent(),
                                                                [2, t];
                                                        case 3:
                                                            return n = e.sent(),
                                                                carodaConsole.info("AdPlayerLoader", ".getAdPlayerFromCampaignViewOpportunities", "skipped player", n.message, n),
                                                            t && t.destroy(),
                                                                [2, null];
                                                        case 4:
                                                            return [2]
                                                    }
                                                })
                                            })
                                        }, a)]
                                })
                            })
                        }
                        ,
                        e.prototype.processExpandedCampaignViewOpportunities = function(p, h, g) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o, s, u, c, l, d, f = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            carodaConsole.info("AdPlayerLoader", ".processExpandedCampaignViewOpportunities", g),
                                                t = p.map(function(n) {
                                                    return __awaiter(f, void 0, void 0, function() {
                                                        var t;
                                                        return __generator(this, function(e) {
                                                            switch (e.label) {
                                                                case 0:
                                                                    return e.trys.push([0, 2, , 3]),
                                                                        t = {},
                                                                        [4, n];
                                                                case 1:
                                                                    return [2, (t.campaignExpandedViews = e.sent(),
                                                                        t)];
                                                                case 2:
                                                                    return [2, {
                                                                        error: e.sent()
                                                                    }];
                                                                case 3:
                                                                    return [2]
                                                            }
                                                        })
                                                    })
                                                }),
                                                n = 0,
                                                r = t,
                                                e.label = 1;
                                        case 1:
                                            return n < r.length ? (i = r[n],
                                                carodaConsole.info("AdPlayerLoader", ".processExpandedCampaignViewOpportunities", "wating for opportunity"),
                                                [4, i]) : [3, 7];
                                        case 2:
                                            if (a = e.sent(),
                                                o = a.campaignExpandedViews,
                                                s = a.error)
                                                return s.isBlockError ? (carodaConsole.info("AdPlayerLoader", ".processExpandedCampaignViewOpportunities", "block", s.message, s.stack),
                                                    [3, 7]) : (carodaConsole.info("AdPlayerLoader", ".processExpandedCampaignViewOpportunities", "skipped view", s.message, s.stack),
                                                    [3, 6]);
                                            u = 0,
                                                c = o,
                                                e.label = 3;
                                        case 3:
                                            return u < c.length ? (l = c[u],
                                                carodaConsole.info("AdPlayerLoader", ".processExpandedCampaignViewOpportunities", "processing", l),
                                                [4, h(l)]) : [3, 6];
                                        case 4:
                                            if (d = e.sent())
                                                return [2, d];
                                            e.label = 5;
                                        case 5:
                                            return u++,
                                                [3, 3];
                                        case 6:
                                            return n++,
                                                [3, 1];
                                        case 7:
                                            return [2, null]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.getInstreamPositionPosition = function(e, t) {
                            return "preroll" === e.position || "postroll" === e.position ? e.position : "percentage" === e.unit ? "" + t / 100 * e.break : "" + e.break
                        }
                        ,
                        e.prototype.getAdPlayer = function(n) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    return carodaConsole.info("AdPlayerLoader", ".getAdPlayer", n),
                                        t = this.getCampaignViewOpportunities(n),
                                        [2, this.getAdPlayerFromCampaignViewOpportunities(t, n)]
                                })
                            })
                        }
                        ,
                        e.prototype.getExpandedCampaignViews = function(e, t) {
                            var n = this;
                            carodaConsole.info("AdPlayerLoader", ".getExpandedCampaignViews", e);
                            var r = t.adSlot && t.adSlot.campaigns
                                , i = t.playerInfo
                                , a = "instream-with-positions" === e
                                , o = -1 !== ["outstream-slider", "outstream-slider-mixed", "outstream-slider-untracked"].indexOf(e) && !0 !== t.allowRepeated || a
                                , s = -1 === ["outstream-slider", "outstream-slider-untracked"].indexOf(e);
                            if ("outstream-slider-untracked" === e) {
                                var u = getRepeatedAsset(this.assetIds);
                                return carodaConsole.info("AdPlayerLoader", ".getExpandedCampaignViews", {
                                    repeatedAsset: u
                                }),
                                    u ? [Promise.resolve([u])] : []
                            }
                            var c = this.campaignViews.filter(function(e) {
                                return !r || -1 !== r.indexOf(e.id)
                            });
                            return carodaConsole.info("AdPlayerLoader", ".getExpandedCampaignViews", "expanding campaign views", c.map(function(e) {
                                return e.id
                            })),
                                c.map(function(e) {
                                    return n.waitForPromise.then(function() {
                                        return e.getExpandedCached(i, o, t.adSlot ? t.adSlot.adsGroup : GLOBAL_ADS_GROUP, s)
                                    })
                                })
                        }
                        ,
                        e.prototype.getAdPlayerFromCampaignExpandedView = function(o, s) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a;
                                return __generator(this, function(e) {
                                    return t = s.type,
                                        n = s.containerElement,
                                        r = s && s.adSlot,
                                        i = r && r.hideSkipButton,
                                        a = r && r.fixedSkipOffset,
                                        carodaConsole.info("AdPlayerLoader", ".getAdPlayer", t),
                                        "outstream" === t ? [2, this.getOutstreamAdLoader(o, n)] : "outstream-slider" === t ? [2, this.getOutstreamSliderAdLoader(o, n, !0, !1, !1, s.forceAspectRatio, s.trackingConfig)] : "outstream-slider-mixed" === t ? [2, this.getOutstreamSliderAdLoader(o, n, !0, !0, !0)] : "outstream-slider-untracked" === t ? [2, this.getOutstreamSliderAdLoader(o, n, !1, !1, !1, s.forceAspectRatio)] : "clicked-outstream" === t ? [2, this.getClickedOutstreamAdLoader(o, n)] : [2, this.getInstreamWithPositionsAdLoader(s.adSlot.id, o, n, s.volume, i, a)]
                                })
                            })
                        }
                        ,
                        e.prototype.getInstreamWithPositionsAdLoader = function(r, i, a, o, s, u) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n;
                                return __generator(this, function(e) {
                                    if (carodaConsole.info("AdPlayerLoader", ".getInstreamWithPositionsAdLoader", o),
                                    -1 !== ["teads", "smartclip", "banner"].indexOf(i.type))
                                        throw new Error("Not supported");
                                    return t = this.startedAdSlotsById[r],
                                        n = !!t,
                                        i.vastContent = overrideSkipBehaviour(i.vastContent, s, u),
                                        "doubleclick" === i.type ? [2, new ImaPlayer(i,a,__assign({}, this.options, {
                                            instream: !0,
                                            isFrozen: !n,
                                            muted: 0 === o,
                                            volume: o
                                        }))] : [2, new VVPlayer(i,a,__assign({}, this.options, {
                                            fixedSkipOffset: u,
                                            hideSkipButton: s,
                                            instream: !0,
                                            isFrozen: !n,
                                            muted: 0 === o,
                                            volume: o
                                        }))]
                                })
                            })
                        }
                        ,
                        e.prototype.getOutstreamAdLoader = function(t, n, r) {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("AdPlayerLoader", ".getOutstreamAdLoader"),
                                                "teads" === t.type ? [2, new TeadsPlayer(t,n,r)] : "smartclip" === t.type ? [2, new SmartclipPlayer(t,n,r)] : "banner" === t.type ? [2, new BannerPlayer(t,n,r)] : "doubleclick" !== t.type ? [3, 3] : t.sspUrl && t.sspUrl.match(/smartadserver\.com/) ? [4, waitFor(function() {
                                                    return isInVerticalView(n)
                                                })] : [3, 2];
                                        case 1:
                                            e.sent(),
                                                e.label = 2;
                                        case 2:
                                            return [2, new ImaPlayer(t,n,__assign({}, this.options, {
                                                trackingConfig: r
                                            }))];
                                        case 3:
                                            return [2, new VVPlayer(t,n,__assign({}, this.options, {
                                                trackingConfig: r
                                            }))]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.getOutstreamSliderAdLoader = function(n, r, i, a, o, s, u) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    if (t = -1 !== ["teads", "smartclip", "banner"].indexOf(n.type),
                                        carodaConsole.info("AdPlayerLoader", ".getOutstreamSliderAdLoader", {
                                            allow3rdPartyPlayer: a,
                                            is3rdPartyPlayer: t,
                                            isFirstRun: o,
                                            trackingEnabled: i
                                        }),
                                        t) {
                                        if (a)
                                            return [2, this.getOutstreamAdLoader(n, r, u)];
                                        throw new Error(n.type + " incompatible with outstream slider")
                                    }
                                    return "doubleclick" === n.type ? [2, new SliderImaPlayer(n,r,__assign({}, this.options, {
                                        trackAsSlider: !o,
                                        trackingConfig: u
                                    }))] : [2, new SliderVVPlayer(n,r,__assign({
                                        forceAspectRatio: s,
                                        trackAsSlider: !o,
                                        trackingConfig: u,
                                        trackingEnabled: i
                                    }, this.options))]
                                })
                            })
                        }
                        ,
                        e.prototype.getClickedOutstreamAdLoader = function(e, t) {
                            var n = -1 !== ["teads", "smartclip", "banner", "doubleclick"].indexOf(e.type);
                            if (carodaConsole.info("AdPlayerLoader", ".getClickedOutstreamAdLoader", {
                                is3rdPartyPlayer: n
                            }),
                                n)
                                throw new Error(e.type + " incompatible with clicked outstream");
                            return new SliderVVPlayer(e,t,__assign({
                                trackingEnabled: !0
                            }, this.options))
                        }
                        ,
                        e.prototype.mergeCloseInstreamPositionCampaignIds = function(o, s) {
                            var u = this;
                            carodaConsole.info("AdPlayerLoader", ".mergeCloseInstreamPositionCampaignIds", o, s);
                            var c = []
                                , l = [];
                            return o.sort(function(e, t) {
                                return u.getInstreamPositionInSeconds(e, s) - u.getInstreamPositionInSeconds(t, s)
                            }).forEach(function(e, t) {
                                if (-1 === l.indexOf(e.position)) {
                                    for (var n = u.getInstreamPositionInSeconds(e, s), r = {
                                        instreamPositions: [e],
                                        position: s - n < MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS ? "postroll" : e.position
                                    }, i = t + 1; i < o.length; ) {
                                        var a = u.getInstreamPositionInSeconds(o[i], s);
                                        if (MIN_SECONDS_BETWEEN_INSTREAM_AD_BREAKS <= a - n)
                                            break;
                                        r.instreamPositions.push(o[i]),
                                            l.push(o[i].position),
                                            i++
                                    }
                                    c.push(r)
                                }
                            }),
                                carodaConsole.info("AdPlayerLoader", ".mergeCloseInstreamPositionCampaignIds", c),
                                c
                        }
                        ,
                        e.prototype.getInstreamPositionInSeconds = function(e, t) {
                            return "preroll" === e.position ? 0 : "postroll" === e.position ? t : parseFloat(e.position)
                        }
                        ,
                        e.prototype.getUniqueAssetIds = function() {
                            return Array.from(new Set(this.campaignViews.map(function(e) {
                                return e.assetId
                            })))
                        }
                        ,
                        e
                }();
                function orderByPriority(e, t) {
                    if (e.priority === t.priority) {
                        if (void 0 !== e.fixedPrebidValue && void 0 !== t.fixedPrebidValue)
                            return t.fixedPrebidValue - e.fixedPrebidValue * getConversionRate(e.fixedPrebidCurrency, t.fixedPrebidCurrency);
                        if (void 0 !== e.fixedPrebidValue)
                            return -1;
                        if (void 0 !== t.fixedPrebidValue)
                            return 1
                    }
                    return e.priority - t.priority + .001 * Math.random() - 5e-4
                }
                var promoVast = '\n<VAST version="4.0">\n    <Ad id="3228222031">\n        <InLine>\n            <AdSystem version="2.0">Caroda Direct Ad Service</AdSystem>\n            <AdTitle><![CDATA[ Caroda Powered Creative ]]></AdTitle>\n            <Description><![CDATA[ ]]></Description>\n            <Creatives>\n                <Creative>\n                    <Linear>\n                        <Duration>00:00:30</Duration>\n                        <TrackingEvents/>\n                        <AdParameters><![CDATA[ <xml></xml> ]]></AdParameters>\n                        <VideoClicks/>\n                        <MediaFiles>\n                            <MediaFile\n                                type="audio/mp3"\n                                width="640"\n                                height="640"\n                                delivery="progressive"\n                                id="1" scalable="true" maintainAspectRatio="true">\n                                <![CDATA[https://mediastorage8136.blob.core.windows.net/static/audio/5s.mp3]]>\n                            </MediaFile>\n                        </MediaFiles>\n                    </Linear>\n                </Creative>\n            </Creatives>\n            <Extensions>\n              <Extension type="caroda-poster">\n                <![CDATA[https://mediastorage8136.blob.core.windows.net/static/audio/5s/thumbnail]]>\n              </Extension>\n            </Extension>\n        </InLine>\n    </Ad>\n</VAST>\n'
                    , promo = new CampaignExpandedView;
                promo.id = "promo",
                    promo.vastContent = promoVast,
                    promo.vastContentAspectRatio = "square",
                    promo.trackingHooks = [],
                    promo.speed = 1;
                var BillboardAdPlayerLoader = function(r) {
                    function e(e, t) {
                        void 0 === t && (t = {});
                        var n = r.call(this, e, t) || this;
                        return n.options.preload = !0,
                            n.restartInterval = 9e5,
                            n.adSlots = n.createAdSlots(),
                            n
                    }
                    return __extends(e, r),
                        e.prototype.loadAdSlot = function(d, f, p, a) {
                            return void 0 === a && (a = function() {}
                            ),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, s, u, c, l, n, r = this;
                                    return __generator(this, function(e) {
                                        return carodaConsole.info("BillboardAdPlayerLoader", ".loadBillboardAdSlot"),
                                            t = Date.now(),
                                            setInterval(function() {
                                                Date.now() < t + r.restartInterval || (carodaConsole.info("BillboardAdPlayerLoader", ".loadAdSlot", "session expired, reloading"),
                                                    window.location.reload())
                                            }, 5e3),
                                            s = null,
                                            u = function(i) {
                                                return __awaiter(r, void 0, void 0, function() {
                                                    var t = this;
                                                    return __generator(this, function(e) {
                                                        switch (e.label) {
                                                            case 0:
                                                                if (!(i instanceof SliderVVPlayer))
                                                                    throw new Error("not supported");
                                                                return a(i),
                                                                    __awaiter(t, void 0, void 0, function() {
                                                                        var t, n, r;
                                                                        return __generator(this, function(e) {
                                                                            switch (e.label) {
                                                                                case 0:
                                                                                    return e.trys.push([0, 2, , 3]),
                                                                                        t = Date.now(),
                                                                                        [4, i.play()];
                                                                                case 1:
                                                                                    return e.sent(),
                                                                                        n = Date.now() - t,
                                                                                        this.updateAdSlots(s, n),
                                                                                        [3, 3];
                                                                                case 2:
                                                                                    return r = e.sent(),
                                                                                        carodaConsole.warn("BillboardAdPlayerLoader", ".loadAdSlot", "could not play ad frame", r),
                                                                                        [3, 3];
                                                                                case 3:
                                                                                    return [2]
                                                                            }
                                                                        })
                                                                    }),
                                                                    [4, i.waitForAdValid()];
                                                            case 1:
                                                                return e.sent(),
                                                                    [2]
                                                        }
                                                    })
                                                })
                                            }
                                            ,
                                            c = this.getBillboardSpecs().aspectRatio,
                                            l = !1,
                                            n = new VideoSliderAdPlayer(function(o) {
                                                    return __awaiter(r, void 0, void 0, function() {
                                                        var t, n, r, i, a;
                                                        return __generator(this, function(e) {
                                                            switch (e.label) {
                                                                case 0:
                                                                    if (l && !f)
                                                                        return [2, void 0];
                                                                    l = !0,
                                                                        t = this.getSlotsWithRemainingTime(),
                                                                        n = this.pickAdSlot(t),
                                                                        e.label = 1;
                                                                case 1:
                                                                    if (!n)
                                                                        return [3, 6];
                                                                    carodaConsole.info("BillboardAdPlayerLoader", ".loadAdSlot", "candidateAdSlot", n),
                                                                        s = n.id,
                                                                        e.label = 2;
                                                                case 2:
                                                                    return e.trys.push([2, 4, , 5]),
                                                                        r = this.getCampaignViewOpportunities({
                                                                            adSlot: {
                                                                                campaigns: n.campaignIds,
                                                                                startMuted: !0
                                                                            },
                                                                            allowRepeated: !0,
                                                                            containerElement: d,
                                                                            type: "outstream-slider"
                                                                        }),
                                                                        [4, this.getAdPlayerFromCampaignViewOpportunities(r, {
                                                                            containerElement: o,
                                                                            forceAspectRatio: c,
                                                                            onPlayerReady: u,
                                                                            trackingConfig: p,
                                                                            type: "outstream-slider"
                                                                        })];
                                                                case 3:
                                                                    if (!(i = e.sent()))
                                                                        throw new Error("no view");
                                                                    return [2, i];
                                                                case 4:
                                                                    return a = e.sent(),
                                                                        carodaConsole.info("BillboardAdPlayerLoader", ".loadAdSlot", "skipped", n, a.message),
                                                                        [3, 5];
                                                                case 5:
                                                                    return n = this.pickAdSlot(t),
                                                                        [3, 1];
                                                                case 6:
                                                                    return f ? (s = null,
                                                                        [4, this.getAdPlayerFromCampaignViewOpportunities([Promise.resolve([promo])], {
                                                                            containerElement: o,
                                                                            forceAspectRatio: c,
                                                                            onPlayerReady: u,
                                                                            type: "outstream-slider-untracked"
                                                                        })]) : [2, void 0];
                                                                case 7:
                                                                    return [2, e.sent()]
                                                            }
                                                        })
                                                    })
                                                }
                                                ,d,__assign({}, this.options, {
                                                    forceAspectRatio: c,
                                                    trackingConfig: p,
                                                    disableReplayButton: !0
                                                })),
                                            (this.activePlayer = n).play(),
                                            [2, n]
                                    })
                                })
                        }
                        ,
                        e.prototype.getBillboardSpecs = function() {
                            if (!this.campaignViews.length)
                                return null;
                            var e = {}
                                , t = this.campaignViews[0];
                            e.title = t.assetTitle,
                                e.campaignCount = this.campaignViews.length;
                            var n = t.billboardWidthCm || window.innerWidth
                                , r = t.billboardHeightCm || window.innerHeight;
                            return isNaN(n) || isNaN(r) || (e.diagonal = Math.round(Math.sqrt(n * n + r * r) / 2.54),
                                e.aspectRatio = n / r),
                                e
                        }
                        ,
                        e.prototype.getBillboardInfoText = function() {
                            var e = this.getBillboardSpecs();
                            if (!e)
                                return "";
                            var t = "";
                            if (t += e.title + "\n\n",
                                e.aspectRatio) {
                                var n = getClosestAspectRatio(e.aspectRatio);
                                t += e.diagonal + '", ' + n[0] + ":" + n[1] + "\n\n"
                            }
                            return t += this.campaignViews.length + " campaigns connected"
                        }
                        ,
                        e.prototype.getRemainingTime = function(e) {
                            return e.reduce(function(e, t) {
                                return e + t.remainingTime
                            }, 0)
                        }
                        ,
                        e.prototype.pickRandomAdSlot = function(e) {
                            for (var t = Math.random() * this.getRemainingTime(e), n = 0, r = 0; r < e.length; r++) {
                                var i = e[r];
                                if (n <= t && n + i.remainingTime >= t)
                                    return e.splice(r, 1),
                                        i;
                                n += i.remainingTime
                            }
                            return carodaConsole.info("BillboardAdSlot", ".pickRandomAdSlot", "not matched"),
                                this.adSlots[0]
                        }
                        ,
                        e.prototype.createAdSlots = function() {
                            var r = this.campaignViews.filter(function(e) {
                                return e.appliesToAllBillboardSlots
                            })
                                , t = this.campaignViews.filter(function(e) {
                                return !e.appliesToAllBillboardSlots
                            }).reduce(function(e, t) {
                                var n;
                                return __assign({}, e, ((n = {})[t.assetId] = (e[t.assetId] || r.slice()).concat([t]),
                                    n))
                            }, {});
                            return Object.keys(t).map(function(e) {
                                return {
                                    campaignIds: t[e].map(function(e) {
                                        return e.id
                                    }),
                                    id: e,
                                    remainingTime: void 0,
                                    timePlayed: 0,
                                    weight: t[e][0].assetWeight
                                }
                            })
                        }
                        ,
                        e.prototype.getSlotsWithRemainingTime = function() {
                            var t = this
                                , n = this.adSlots.reduce(function(e, t) {
                                return e + t.weight
                            }, 0);
                            return this.adSlots.map(function(e) {
                                return __assign({}, e, {
                                    remainingTime: Math.max(t.restartInterval * e.weight / n - e.timePlayed, 1e-6)
                                })
                            })
                        }
                        ,
                        e.prototype.updateAdSlots = function(t, e) {
                            var n = this.adSlots.find(function(e) {
                                return e.id === t
                            });
                            n && (n.timePlayed += e)
                        }
                        ,
                        e.prototype.pickAdSlot = function(e) {
                            return carodaConsole.info("BillboardAdPlayerLoader", ".loadAdSlot", ".pickAdSlot", {
                                candidateAdSlots: e
                            }),
                                e.length ? (this.getRemainingTime(e) < 1 && window.location.reload(),
                                    this.pickRandomAdSlot(e)) : null
                        }
                        ,
                        e
                }(AdPlayerLoader)
                    , numbers = Array(20).fill(0).map(function(e, t) {
                    return t + 1
                })
                    , possibleFractions = numbers.reduce(function(e, t) {
                    return e.concat(numbers.map(function(e) {
                        return [t, e]
                    }))
                }, [])
                    , cachedFractions = {};
                function getClosestAspectRatio(r) {
                    if (cachedFractions[r])
                        return cachedFractions[r];
                    var e = possibleFractions.reduce(function(e, t) {
                        var n = Math.abs(e[0] / e[1] - r) - Math.abs(t[0] / t[1] - r);
                        return n ? n < 0 ? e : t : e[0] < t[0] ? e : t
                    }, [1, 20]);
                    return cachedFractions[r] = e
                }
                var euCountryCodes = ["BE", "EL", "LT", "PT", "BG", "ES", "LU", "RO", "CZ", "FR", "HU", "SI", "DK", "HR", "MT", "SK", "DE", "IT", "NL", "FI", "EE", "CY", "AT", "SE", "IE", "LV", "PL"]
                    , waitingForUnlock = window.carodaWaitingForUnlock || {};
                function lock(i, a) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return carodaConsole.info("PromiseLock", "lock", i),
                                        waitingForUnlock[i] ? (carodaConsole.info("PromiseLock", "lock", i, "waiting"),
                                            [4, waitingForUnlock[i]]) : [3, 2];
                                case 1:
                                    return e.sent(),
                                        carodaConsole.info("PromiseLock", "lock", i, "unlocked"),
                                        [2, lock(i, a)];
                                case 2:
                                    waitingForUnlock[i] = new Promise(function(e) {
                                            t = e
                                        }
                                    ),
                                        carodaConsole.info("PromiseLock", "lock", i, "executing"),
                                        e.label = 3;
                                case 3:
                                    return e.trys.push([3, 5, , 6]),
                                        [4, a()];
                                case 4:
                                    return n = e.sent(),
                                        carodaConsole.info("PromiseLock", "lock", i, "finished"),
                                        t(),
                                        delete waitingForUnlock[i],
                                        [2, n];
                                case 5:
                                    throw r = e.sent(),
                                        carodaConsole.info("PromiseLock", "lock", i, "thrown", r.message),
                                        t(),
                                        delete waitingForUnlock[i],
                                        r;
                                case 6:
                                    return [2]
                            }
                        })
                    })
                }
                window.carodaWaitingForUnlock = waitingForUnlock;
                var w$2 = window;
                function waitForCmpConsentV2(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return w$2.carodaTargetingProfile.tcf_available = w$2.__tcfapi ? 1 : 0,
                                        w$2.__tcfapi ? [3, 3] : n > Date.now() ? [4, new Promise(function(e) {
                                                return setTimeout(e, 50)
                                            }
                                        )] : [3, 2];
                                case 1:
                                    return e.sent(),
                                        [2, waitForCmpConsentV2(n)];
                                case 2:
                                    return [2];
                                case 3:
                                    return carodaConsole.info("waitForCmpConsentV2", "start"),
                                        [4, getTCDataSafe()];
                                case 4:
                                    return t = e.sent(),
                                        carodaConsole.info("waitForCmpConsentV2", "got gdpr data", {
                                            cmpConsentResult: t
                                        }),
                                        (w$2.carodaTCF2ResponseObject = t).gdprApplies ? (w$2.carodaTargetingProfile.gdpr = 1,
                                            w$2.carodaTargetingProfile.gdpr_consent = t.tcString,
                                            [2]) : [2]
                            }
                        })
                    })
                }
                function getTCData() {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return [2, new Promise(function(n) {
                                    return w$2.__tcfapi("getTCData", 2, function(e, t) {
                                        return n({
                                            res: e,
                                            success: t
                                        })
                                    })
                                }
                            )]
                        })
                    })
                }
                function getTCDataSafe() {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r, i, a;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, getTCData()];
                                case 1:
                                    if (t = e.sent(),
                                        n = t.res,
                                    !t.success || !n)
                                        throw new Error("could not get TCData");
                                    if (r = "loaded" === n.cmpStatus,
                                        i = "cmpuishown" === n.eventStatus,
                                        a = !1 !== w$2.carodaWaitForCMPDialogClosed,
                                    r && !i && (n.tcString || !n.gdprApplies))
                                        return [2, n];
                                    if (r && !a)
                                        throw new Error("cmp dialog open");
                                    return [4, new Promise(function(e) {
                                            return setTimeout(e, 200)
                                        }
                                    )];
                                case 2:
                                    return e.sent(),
                                        [2, getTCDataSafe()]
                            }
                        })
                    })
                }
                function waitForConsentUnsafe() {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return e.trys.push([0, 2, , 3]),
                                        w$2.carodaTargetingProfile.hasOwnProperty("gdpr") ? [2] : (carodaConsole.info("waitForConsentUnsafe"),
                                            [4, waitForCmpConsentV2(Date.now() + 3e3)]);
                                case 1:
                                    return e.sent(),
                                        [3, 3];
                                case 2:
                                    return t = e.sent(),
                                        carodaConsole.info("waitForConsentUnsafe", "error", t),
                                        [3, 3];
                                case 3:
                                    return w$2.carodaTargetingProfile.gdpr || (n = -1 !== euCountryCodes.indexOf(w$2.carodaTargetingProfile.country && w$2.carodaTargetingProfile.country.toUpperCase()),
                                        w$2.carodaTargetingProfile.gdpr = n ? 1 : 0,
                                        w$2.carodaTargetingProfile.gdpr_consent = ""),
                                        w$2.carodaTargetingProfile.gdpr_consent_given = w$2.carodaTargetingProfile.gdpr_consent ? 1 : 0,
                                        [2]
                            }
                        })
                    })
                }
                var waitForConsent = function() {
                    return lock("waitForConsent", waitForConsentUnsafe)
                };
                function appendCss(e) {
                    carodaConsole.info("CssHelper", "appendCss", e);
                    var t = document.createElement("STYLE");
                    t.innerHTML = e,
                        document.head.appendChild(t)
                }
                function getCssString(n) {
                    var r = document.createElement("span");
                    return Object.keys(n).forEach(function(e) {
                        var t = n[e];
                        "content" === e && (t = '"' + t + '"'),
                            r.style[e] = t
                    }),
                        r.style.cssText
                }
                var ExternalBillboardAdPlayerLoader = function(r) {
                    function e(e, t) {
                        void 0 === t && (t = {});
                        var n = r.call(this, e, t) || this;
                        return n.adSlots = n.getAdSlotsFromStorage(),
                        n.adSlots || (n.adSlots = n.createAdSlots(),
                            n.saveAdSlotsToStorage()),
                            n
                    }
                    return __extends(e, r),
                        e.prototype.updateAdSlot = function(e, t) {
                            this.updateAdSlots(e, t),
                                this.saveAdSlotsToStorage()
                        }
                        ,
                        e.prototype.getDoohExpandedCampaign = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var n, r, a, t, o, i, s = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            n = this.getSlotsWithRemainingTime(),
                                            this.getRemainingTime(n) < 1 && (this.adSlots = this.createAdSlots(),
                                                this.saveAdSlotsToStorage(),
                                                n = this.getSlotsWithRemainingTime()),
                                                t = function(e) {
                                                    var t, i;
                                                    return __generator(this, function(e) {
                                                        switch (e.label) {
                                                            case 0:
                                                                return a = o.pickRandomAdSlot(n),
                                                                    t = {
                                                                        adSlot: {
                                                                            campaigns: a.campaignIds,
                                                                            startMuted: !0
                                                                        },
                                                                        containerElement: document.createElement("div"),
                                                                        type: "outstream-slider"
                                                                    },
                                                                    (i = o.getCampaignViewOpportunities(t)).length ? [4, new Promise(function(r) {
                                                                            return __awaiter(s, void 0, void 0, function() {
                                                                                var n = this;
                                                                                return __generator(this, function(e) {
                                                                                    switch (e.label) {
                                                                                        case 0:
                                                                                            return [4, this.processExpandedCampaignViewOpportunities(i, function(t) {
                                                                                                return __awaiter(n, void 0, void 0, function() {
                                                                                                    return __generator(this, function(e) {
                                                                                                        return -1 !== ["teads", "smartclip", "banner", "doubleclick"].indexOf(t.type) ? [2] : t.vastContent ? isVpaid(t.vastContent) ? [2] : (r(t),
                                                                                                            [2, {}]) : [2]
                                                                                                    })
                                                                                                })
                                                                                            }, t)];
                                                                                        case 1:
                                                                                            return e.sent(),
                                                                                                r(void 0),
                                                                                                [2]
                                                                                    }
                                                                                })
                                                                            })
                                                                        }
                                                                    )] : [2, "continue"];
                                                            case 1:
                                                                return r = e.sent(),
                                                                    [2]
                                                        }
                                                    })
                                                }
                                                ,
                                                o = this,
                                                i = 0,
                                                e.label = 1;
                                        case 1:
                                            return i < this.adSlots.length && !r ? [5, t(i)] : [3, 4];
                                        case 2:
                                            e.sent(),
                                                e.label = 3;
                                        case 3:
                                            return i++,
                                                [3, 1];
                                        case 4:
                                            return [2, {
                                                expandedCampaign: r,
                                                selectedAdSlot: a ? a.id : null
                                            }]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.getAdSlotsFromStorage = function() {
                            var e = localStorageHelper.getItem("caroda.doohAdSlots");
                            if (e)
                                return JSON.parse(e)
                        }
                        ,
                        e.prototype.saveAdSlotsToStorage = function() {
                            localStorageHelper.setItem("caroda.doohAdSlots", JSON.stringify(this.adSlots))
                        }
                        ,
                        e
                }(BillboardAdPlayerLoader);
                function scrollPositionIntoView() {
                    var e = window
                        , t = e.carodaScrollToMultiPosition;
                    if (null == t) {
                        var n = e.carodaScrollToPosition;
                        null != n && scrollToPosition(n)
                    } else
                        scrollToMultiPosition(t)
                }
                function scrollToPosition(n, r) {
                    return void 0 === r && (r = ".carodaContainer:not(.carodaMultiPositionPlaceholder), .carodaInstreamWithPositions, .carodaInstream"),
                        __awaiter(this, void 0, void 0, function() {
                            var t;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return carodaConsole.info("scrollToPosition", n, r),
                                            [4, waitFor(function() {
                                                return !!getPosition(n, r)
                                            })];
                                    case 1:
                                        return e.sent(),
                                            t = getPosition(n, r),
                                            carodaConsole.info("scrollToPosition", t),
                                            t.scrollIntoView({
                                                block: "center"
                                            }),
                                            [4, waitForHeight(t)];
                                    case 2:
                                        return e.sent(),
                                            setTimeout(function() {
                                                t.scrollIntoView({
                                                    block: "center"
                                                }),
                                                    carodaConsole.info("scrollToPosition", "done")
                                            }, 500),
                                            [2]
                                }
                            })
                        })
                }
                function scrollToMultiPosition(e) {
                    return scrollToPosition(e, ".carodaMultiPositionPlaceholder")
                }
                function getPosition(e, t) {
                    var n = document.querySelectorAll(t)[e];
                    if (n)
                        return n.classList.contains("carodaInstreamWithPositions") ? n.parentElement : n
                }
                function waitForHeight(e) {
                    return waitFor(function() {
                        return 50 < e.clientHeight
                    })
                }
                var findSlot = function(e, t, n, r) {
                    carodaConsole.info("SlotFinder", ".findSlot", e, t);
                    var i = !1 !== t
                        , a = getCandidateSlots(e);
                    if (carodaConsole.info("SlotFinder", ".findSlot", "found", a.length, "candidates"),
                        i) {
                        var o = filterOutNarrowElements(a);
                        carodaConsole.info("SlotFinder", ".findSlot", "found", o.length, "full width candidates"),
                            a = o
                    }
                    if (null !== n) {
                        var s = a.filter(n);
                        carodaConsole.info("SlotFinder", ".findSlot", "found", s.length, "filtered candidates"),
                            a = s
                    }
                    if (0 !== a.length)
                        for (var u = r || function(e, t, n) {
                            return 3 <= n
                        }
                                 , c = 0; c < a.length; c++) {
                            var l = a[c]
                                , d = l.nextElementSibling
                                , f = l.parentElement;
                            if (u(l, d, c, isInViewport(d || l), a.length))
                                return {
                                    container: f,
                                    next: d,
                                    prev: l
                                }
                        }
                    else
                        carodaConsole.info("SlotFinder", ".findSlot", "no suitable element found")
                }
                    , getCandidateSlots = function(e) {
                    if (carodaConsole.info("SlotFinder", ".getCandidateSlots", e),
                        !e)
                        return [];
                    if ("string" != typeof e)
                        return Array.isArray(e) ? e : [].slice.call(e.children);
                    var t = /:sparse$/;
                    if (e.match(t))
                        return [].slice.call(document.querySelectorAll(e.replace(t, "")));
                    var n = document.querySelector(e);
                    return n ? [].slice.call(n.children) : []
                }
                    , filterOutNarrowElements = function(e) {
                    return carodaConsole.info("SlotFinder", ".filterOutNarrowElements"),
                        [].slice.apply(e).filter(function(e) {
                            if ("none" === window.getComputedStyle(e).display)
                                return !1;
                            for (var t = e; t && !isFloatElement(t); )
                                t = t.previousElementSibling;
                            return !t || e.getBoundingClientRect().top > t.getBoundingClientRect().bottom
                        })
                }
                    , isFloatElement = function(e) {
                    var t = "none" !== window.getComputedStyle(e).getPropertyValue("float");
                    return t || !e.children.length ? t : [].slice.call(e.children).some(function(e) {
                        return isFloatElement(e)
                    })
                }
                    , VideoElementContentPlayer = function() {
                    function s(e) {
                        this.videoElement = e,
                            this.id = e.id || "content-player-" + Math.round(1e10 * Math.random()),
                            this.eventHandlers = {
                                ended: [],
                                loadedmetadata: [],
                                timeupdate: []
                            },
                            this.mutationObservers = []
                    }
                    return s.prototype.isInDOM = function() {
                        return document.body.contains(this.videoElement)
                    }
                        ,
                        s.prototype.getContainer = function() {
                            return this.videoElement.parentElement
                        }
                        ,
                        s.prototype.getCurrentTime = function() {
                            return this.videoElement.currentTime
                        }
                        ,
                        s.prototype.getDuration = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n = this;
                                return __generator(this, function(e) {
                                    return (t = this.videoElement.duration) ? [2, t] : [2, new Promise(function(e) {
                                            var t = function() {
                                                e(n.videoElement.duration),
                                                    n.videoElement.removeEventListener("loadedmetadata", t)
                                            };
                                            n.videoElement.addEventListener("loadedmetadata", t)
                                        }
                                    )]
                                })
                            })
                        }
                        ,
                        s.prototype.getVolume = function() {
                            return this.videoElement.volume
                        }
                        ,
                        s.prototype.isAutoplay = function() {
                            return this.videoElement.autoplay
                        }
                        ,
                        s.prototype.isMuted = function() {
                            return this.videoElement.muted
                        }
                        ,
                        s.prototype.onEnded = function(e) {
                            this.videoElement.addEventListener("ended", e),
                                this.eventHandlers.ended.push(e)
                        }
                        ,
                        s.prototype.onPlaylistItemChange = function(e) {
                            this.watchForLoadedmetadata(e),
                                this.watchForVideoElementChange(e)
                        }
                        ,
                        s.prototype.onTimeUpdate = function(e) {
                            var t = this
                                , n = function() {
                                t.videoElement.currentTime && e()
                            };
                            this.videoElement.addEventListener("timeupdate", n),
                                this.eventHandlers.timeupdate.push(n)
                        }
                        ,
                        s.prototype.pause = function() {
                            this.videoElement.pause()
                        }
                        ,
                        s.prototype.play = function() {
                            var e = this;
                            Promise.resolve(this.videoElement.play()).catch(function() {
                                e.videoElement.muted = !0,
                                    e.videoElement.play()
                            })
                        }
                        ,
                        s.prototype.setCurrentTime = function(e) {
                            this.videoElement.currentTime = e
                        }
                        ,
                        s.prototype.getAutoplayBehaviour = function() {
                            var e = this.videoElement.getAttribute("caroda-autoplay-behaviour");
                            return e || (this.isAutoplay() ? "standard" : "user-initiated")
                        }
                        ,
                        s.prototype.disconnect = function() {
                            var n = this;
                            this.log(".disconnect"),
                                Object.keys(this.eventHandlers).forEach(function(t) {
                                    n.eventHandlers[t].forEach(function(e) {
                                        n.videoElement.removeEventListener(t, e)
                                    })
                                }),
                                this.mutationObservers.forEach(function(e) {
                                    e.disconnect()
                                }),
                                this.videoElement = void 0
                        }
                        ,
                        s.prototype.log = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            carodaConsole.info.apply(carodaConsole, ["VideoElementContentPlayer", this.id, this.videoElement].concat(e))
                        }
                        ,
                        s.prototype.watchForLoadedmetadata = function(t) {
                            var n = this
                                , e = function() {
                                var e = new s(n.videoElement);
                                n.log(".watchForLoadedmetadata"),
                                    t(e)
                            };
                            this.videoElement.addEventListener("loadedmetadata", e),
                                this.eventHandlers.loadedmetadata.push(e)
                        }
                        ,
                        s.prototype.watchForVideoElementChange = function(a) {
                            var e = this
                                , o = new MutationObserver(function(i) {
                                    return __awaiter(e, void 0, void 0, function() {
                                        var t, n, r;
                                        return __generator(this, function(e) {
                                            switch (e.label) {
                                                case 0:
                                                    return this.log("watchForVideoElementChange", i),
                                                        (t = Array.from(i).reduce(function(e, t) {
                                                            return e.concat(Array.from(t.addedNodes || []))
                                                        }, [])) && t.length ? (n = [].slice.call(t).find(function(e) {
                                                            return "VIDEO" === e.tagName
                                                        })) ? (o.disconnect(),
                                                            n.pause(),
                                                            [4, waitFor(function() {
                                                                return !!n.parentElement
                                                            })]) : [2] : [2];
                                                case 1:
                                                    return e.sent(),
                                                        r = new s(n),
                                                        this.log(".watchForVideoElementChange", "video element did change"),
                                                        a(r),
                                                        [2]
                                            }
                                        })
                                    })
                                }
                            );
                            o.observe(this.videoElement.parentElement, {
                                childList: !0
                            }),
                                this.mutationObservers.push(o)
                        }
                        ,
                        s
                }()
                    , spreadableSymbol = _Symbol ? _Symbol.isConcatSpreadable : void 0;
                function isFlattenable(e) {
                    return isArray_1(e) || isArguments_1(e) || !!(spreadableSymbol && e && e[spreadableSymbol])
                }
                var _isFlattenable = isFlattenable;
                function baseFlatten(e, t, n, r, i) {
                    var a = -1
                        , o = e.length;
                    for (n || (n = _isFlattenable),
                         i || (i = []); ++a < o; ) {
                        var s = e[a];
                        0 < t && n(s) ? 1 < t ? baseFlatten(s, t - 1, n, r, i) : _arrayPush(i, s) : r || (i[i.length] = s)
                    }
                    return i
                }
                var _baseFlatten = baseFlatten
                    , HASH_UNDEFINED$2 = "__lodash_hash_undefined__";
                function setCacheAdd(e) {
                    return this.__data__.set(e, HASH_UNDEFINED$2),
                        this
                }
                var _setCacheAdd = setCacheAdd;
                function setCacheHas(e) {
                    return this.__data__.has(e)
                }
                var _setCacheHas = setCacheHas;
                function SetCache(e) {
                    var t = -1
                        , n = null == e ? 0 : e.length;
                    for (this.__data__ = new _MapCache; ++t < n; )
                        this.add(e[t])
                }
                SetCache.prototype.add = SetCache.prototype.push = _setCacheAdd,
                    SetCache.prototype.has = _setCacheHas;
                var _SetCache = SetCache;
                function arraySome(e, t) {
                    for (var n = -1, r = null == e ? 0 : e.length; ++n < r; )
                        if (t(e[n], n, e))
                            return !0;
                    return !1
                }
                var _arraySome = arraySome;
                function cacheHas(e, t) {
                    return e.has(t)
                }
                var _cacheHas = cacheHas
                    , COMPARE_PARTIAL_FLAG = 1
                    , COMPARE_UNORDERED_FLAG = 2;
                function equalArrays(e, t, n, r, i, a) {
                    var o = n & COMPARE_PARTIAL_FLAG
                        , s = e.length
                        , u = t.length;
                    if (s != u && !(o && s < u))
                        return !1;
                    var c = a.get(e);
                    if (c && a.get(t))
                        return c == t;
                    var l = -1
                        , d = !0
                        , f = n & COMPARE_UNORDERED_FLAG ? new _SetCache : void 0;
                    for (a.set(e, t),
                             a.set(t, e); ++l < s; ) {
                        var p = e[l]
                            , h = t[l];
                        if (r)
                            var g = o ? r(h, p, l, t, e, a) : r(p, h, l, e, t, a);
                        if (void 0 !== g) {
                            if (g)
                                continue;
                            d = !1;
                            break
                        }
                        if (f) {
                            if (!_arraySome(t, function(e, t) {
                                if (!_cacheHas(f, t) && (p === e || i(p, e, n, r, a)))
                                    return f.push(t)
                            })) {
                                d = !1;
                                break
                            }
                        } else if (p !== h && !i(p, h, n, r, a)) {
                            d = !1;
                            break
                        }
                    }
                    return a.delete(e),
                        a.delete(t),
                        d
                }
                var _equalArrays = equalArrays;
                function mapToArray(e) {
                    var n = -1
                        , r = Array(e.size);
                    return e.forEach(function(e, t) {
                        r[++n] = [t, e]
                    }),
                        r
                }
                var _mapToArray = mapToArray;
                function setToArray(e) {
                    var t = -1
                        , n = Array(e.size);
                    return e.forEach(function(e) {
                        n[++t] = e
                    }),
                        n
                }
                var _setToArray = setToArray
                    , COMPARE_PARTIAL_FLAG$1 = 1
                    , COMPARE_UNORDERED_FLAG$1 = 2
                    , boolTag$3 = "[object Boolean]"
                    , dateTag$3 = "[object Date]"
                    , errorTag$2 = "[object Error]"
                    , mapTag$5 = "[object Map]"
                    , numberTag$3 = "[object Number]"
                    , regexpTag$3 = "[object RegExp]"
                    , setTag$5 = "[object Set]"
                    , stringTag$3 = "[object String]"
                    , symbolTag$3 = "[object Symbol]"
                    , arrayBufferTag$3 = "[object ArrayBuffer]"
                    , dataViewTag$4 = "[object DataView]"
                    , symbolProto$2 = _Symbol ? _Symbol.prototype : void 0
                    , symbolValueOf$1 = symbolProto$2 ? symbolProto$2.valueOf : void 0;
                function equalByTag(e, t, n, r, i, a, o) {
                    switch (n) {
                        case dataViewTag$4:
                            if (e.byteLength != t.byteLength || e.byteOffset != t.byteOffset)
                                return !1;
                            e = e.buffer,
                                t = t.buffer;
                        case arrayBufferTag$3:
                            return !(e.byteLength != t.byteLength || !a(new _Uint8Array(e), new _Uint8Array(t)));
                        case boolTag$3:
                        case dateTag$3:
                        case numberTag$3:
                            return eq_1(+e, +t);
                        case errorTag$2:
                            return e.name == t.name && e.message == t.message;
                        case regexpTag$3:
                        case stringTag$3:
                            return e == t + "";
                        case mapTag$5:
                            var s = _mapToArray;
                        case setTag$5:
                            var u = r & COMPARE_PARTIAL_FLAG$1;
                            if (s || (s = _setToArray),
                            e.size != t.size && !u)
                                return !1;
                            var c = o.get(e);
                            if (c)
                                return c == t;
                            r |= COMPARE_UNORDERED_FLAG$1,
                                o.set(e, t);
                            var l = _equalArrays(s(e), s(t), r, i, a, o);
                            return o.delete(e),
                                l;
                        case symbolTag$3:
                            if (symbolValueOf$1)
                                return symbolValueOf$1.call(e) == symbolValueOf$1.call(t)
                    }
                    return !1
                }
                var _equalByTag = equalByTag
                    , COMPARE_PARTIAL_FLAG$2 = 1
                    , objectProto$d = Object.prototype
                    , hasOwnProperty$a = objectProto$d.hasOwnProperty;
                function equalObjects(e, t, n, r, i, a) {
                    var o = n & COMPARE_PARTIAL_FLAG$2
                        , s = _getAllKeys(e)
                        , u = s.length;
                    if (u != _getAllKeys(t).length && !o)
                        return !1;
                    for (var c = u; c--; ) {
                        var l = s[c];
                        if (!(o ? l in t : hasOwnProperty$a.call(t, l)))
                            return !1
                    }
                    var d = a.get(e);
                    if (d && a.get(t))
                        return d == t;
                    var f = !0;
                    a.set(e, t),
                        a.set(t, e);
                    for (var p = o; ++c < u; ) {
                        var h = e[l = s[c]]
                            , g = t[l];
                        if (r)
                            var m = o ? r(g, h, l, t, e, a) : r(h, g, l, e, t, a);
                        if (!(void 0 === m ? h === g || i(h, g, n, r, a) : m)) {
                            f = !1;
                            break
                        }
                        p || (p = "constructor" == l)
                    }
                    if (f && !p) {
                        var y = e.constructor
                            , v = t.constructor;
                        y != v && "constructor"in e && "constructor"in t && !("function" == typeof y && y instanceof y && "function" == typeof v && v instanceof v) && (f = !1)
                    }
                    return a.delete(e),
                        a.delete(t),
                        f
                }
                var _equalObjects = equalObjects
                    , COMPARE_PARTIAL_FLAG$3 = 1
                    , argsTag$3 = "[object Arguments]"
                    , arrayTag$2 = "[object Array]"
                    , objectTag$3 = "[object Object]"
                    , objectProto$e = Object.prototype
                    , hasOwnProperty$b = objectProto$e.hasOwnProperty;
                function baseIsEqualDeep(e, t, n, r, i, a) {
                    var o = isArray_1(e)
                        , s = isArray_1(t)
                        , u = o ? arrayTag$2 : _getTag(e)
                        , c = s ? arrayTag$2 : _getTag(t)
                        , l = (u = u == argsTag$3 ? objectTag$3 : u) == objectTag$3
                        , d = (c = c == argsTag$3 ? objectTag$3 : c) == objectTag$3
                        , f = u == c;
                    if (f && isBuffer_1(e)) {
                        if (!isBuffer_1(t))
                            return !1;
                        l = !(o = !0)
                    }
                    if (f && !l)
                        return a || (a = new _Stack),
                            o || isTypedArray_1(e) ? _equalArrays(e, t, n, r, i, a) : _equalByTag(e, t, u, n, r, i, a);
                    if (!(n & COMPARE_PARTIAL_FLAG$3)) {
                        var p = l && hasOwnProperty$b.call(e, "__wrapped__")
                            , h = d && hasOwnProperty$b.call(t, "__wrapped__");
                        if (p || h) {
                            var g = p ? e.value() : e
                                , m = h ? t.value() : t;
                            return a || (a = new _Stack),
                                i(g, m, n, r, a)
                        }
                    }
                    return !!f && (a || (a = new _Stack),
                        _equalObjects(e, t, n, r, i, a))
                }
                var _baseIsEqualDeep = baseIsEqualDeep;
                function baseIsEqual(e, t, n, r, i) {
                    return e === t || (null == e || null == t || !isObjectLike_1(e) && !isObjectLike_1(t) ? e != e && t != t : _baseIsEqualDeep(e, t, n, r, baseIsEqual, i))
                }
                var _baseIsEqual = baseIsEqual
                    , COMPARE_PARTIAL_FLAG$4 = 1
                    , COMPARE_UNORDERED_FLAG$2 = 2;
                function baseIsMatch(e, t, n, r) {
                    var i = n.length
                        , a = i
                        , o = !r;
                    if (null == e)
                        return !a;
                    for (e = Object(e); i--; ) {
                        var s = n[i];
                        if (o && s[2] ? s[1] !== e[s[0]] : !(s[0]in e))
                            return !1
                    }
                    for (; ++i < a; ) {
                        var u = (s = n[i])[0]
                            , c = e[u]
                            , l = s[1];
                        if (o && s[2]) {
                            if (void 0 === c && !(u in e))
                                return !1
                        } else {
                            var d = new _Stack;
                            if (r)
                                var f = r(c, l, u, e, t, d);
                            if (!(void 0 === f ? _baseIsEqual(l, c, COMPARE_PARTIAL_FLAG$4 | COMPARE_UNORDERED_FLAG$2, r, d) : f))
                                return !1
                        }
                    }
                    return !0
                }
                var _baseIsMatch = baseIsMatch;
                function isStrictComparable(e) {
                    return e == e && !isObject_1(e)
                }
                var _isStrictComparable = isStrictComparable;
                function getMatchData(e) {
                    for (var t = keys_1(e), n = t.length; n--; ) {
                        var r = t[n]
                            , i = e[r];
                        t[n] = [r, i, _isStrictComparable(i)]
                    }
                    return t
                }
                var _getMatchData = getMatchData;
                function matchesStrictComparable(t, n) {
                    return function(e) {
                        return null != e && (e[t] === n && (void 0 !== n || t in Object(e)))
                    }
                }
                var _matchesStrictComparable = matchesStrictComparable;
                function baseMatches(t) {
                    var n = _getMatchData(t);
                    return 1 == n.length && n[0][2] ? _matchesStrictComparable(n[0][0], n[0][1]) : function(e) {
                        return e === t || _baseIsMatch(e, t, n)
                    }
                }
                var _baseMatches = baseMatches
                    , reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/
                    , reIsPlainProp = /^\w*$/;
                function isKey(e, t) {
                    if (isArray_1(e))
                        return !1;
                    var n = typeof e;
                    return !("number" != n && "symbol" != n && "boolean" != n && null != e && !isSymbol_1(e)) || (reIsPlainProp.test(e) || !reIsDeepProp.test(e) || null != t && e in Object(t))
                }
                var _isKey = isKey
                    , FUNC_ERROR_TEXT = "Expected a function";
                function memoize(i, a) {
                    if ("function" != typeof i || null != a && "function" != typeof a)
                        throw new TypeError(FUNC_ERROR_TEXT);
                    var o = function() {
                        var e = arguments
                            , t = a ? a.apply(this, e) : e[0]
                            , n = o.cache;
                        if (n.has(t))
                            return n.get(t);
                        var r = i.apply(this, e);
                        return o.cache = n.set(t, r) || n,
                            r
                    };
                    return o.cache = new (memoize.Cache || _MapCache),
                        o
                }
                memoize.Cache = _MapCache;
                var memoize_1 = memoize
                    , MAX_MEMOIZE_SIZE = 500;
                function memoizeCapped(e) {
                    var t = memoize_1(e, function(e) {
                        return n.size === MAX_MEMOIZE_SIZE && n.clear(),
                            e
                    })
                        , n = t.cache;
                    return t
                }
                var _memoizeCapped = memoizeCapped
                    , rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g
                    , reEscapeChar = /\\(\\)?/g
                    , stringToPath = _memoizeCapped(function(e) {
                    var i = [];
                    return 46 === e.charCodeAt(0) && i.push(""),
                        e.replace(rePropName, function(e, t, n, r) {
                            i.push(n ? r.replace(reEscapeChar, "$1") : t || e)
                        }),
                        i
                })
                    , _stringToPath = stringToPath;
                function castPath(e, t) {
                    return isArray_1(e) ? e : _isKey(e, t) ? [e] : _stringToPath(toString_1(e))
                }
                var _castPath = castPath
                    , INFINITY$1 = 1 / 0;
                function toKey(e) {
                    if ("string" == typeof e || isSymbol_1(e))
                        return e;
                    var t = e + "";
                    return "0" == t && 1 / e == -INFINITY$1 ? "-0" : t
                }
                var _toKey = toKey;
                function baseGet(e, t) {
                    for (var n = 0, r = (t = _castPath(t, e)).length; null != e && n < r; )
                        e = e[_toKey(t[n++])];
                    return n && n == r ? e : void 0
                }
                var _baseGet = baseGet;
                function get(e, t, n) {
                    var r = null == e ? void 0 : _baseGet(e, t);
                    return void 0 === r ? n : r
                }
                var get_1 = get;
                function baseHasIn(e, t) {
                    return null != e && t in Object(e)
                }
                var _baseHasIn = baseHasIn;
                function hasPath(e, t, n) {
                    for (var r = -1, i = (t = _castPath(t, e)).length, a = !1; ++r < i; ) {
                        var o = _toKey(t[r]);
                        if (!(a = null != e && n(e, o)))
                            break;
                        e = e[o]
                    }
                    return a || ++r != i ? a : !!(i = null == e ? 0 : e.length) && isLength_1(i) && _isIndex(o, i) && (isArray_1(e) || isArguments_1(e))
                }
                var _hasPath = hasPath;
                function hasIn(e, t) {
                    return null != e && _hasPath(e, t, _baseHasIn)
                }
                var hasIn_1 = hasIn
                    , COMPARE_PARTIAL_FLAG$5 = 1
                    , COMPARE_UNORDERED_FLAG$3 = 2;
                function baseMatchesProperty(n, r) {
                    return _isKey(n) && _isStrictComparable(r) ? _matchesStrictComparable(_toKey(n), r) : function(e) {
                        var t = get_1(e, n);
                        return void 0 === t && t === r ? hasIn_1(e, n) : _baseIsEqual(r, t, COMPARE_PARTIAL_FLAG$5 | COMPARE_UNORDERED_FLAG$3)
                    }
                }
                var _baseMatchesProperty = baseMatchesProperty;
                function identity(e) {
                    return e
                }
                var identity_1 = identity;
                function baseProperty(t) {
                    return function(e) {
                        return null == e ? void 0 : e[t]
                    }
                }
                var _baseProperty = baseProperty;
                function basePropertyDeep(t) {
                    return function(e) {
                        return _baseGet(e, t)
                    }
                }
                var _basePropertyDeep = basePropertyDeep;
                function property(e) {
                    return _isKey(e) ? _baseProperty(_toKey(e)) : _basePropertyDeep(e)
                }
                var property_1 = property;
                function baseIteratee(e) {
                    return "function" == typeof e ? e : null == e ? identity_1 : "object" == typeof e ? isArray_1(e) ? _baseMatchesProperty(e[0], e[1]) : _baseMatches(e) : property_1(e)
                }
                var _baseIteratee = baseIteratee;
                function createBaseFor(u) {
                    return function(e, t, n) {
                        for (var r = -1, i = Object(e), a = n(e), o = a.length; o--; ) {
                            var s = a[u ? o : ++r];
                            if (!1 === t(i[s], s, i))
                                break
                        }
                        return e
                    }
                }
                var _createBaseFor = createBaseFor
                    , baseFor = _createBaseFor()
                    , _baseFor = baseFor;
                function baseForOwn(e, t) {
                    return e && _baseFor(e, t, keys_1)
                }
                var _baseForOwn = baseForOwn;
                function createBaseEach(a, o) {
                    return function(e, t) {
                        if (null == e)
                            return e;
                        if (!isArrayLike_1(e))
                            return a(e, t);
                        for (var n = e.length, r = o ? n : -1, i = Object(e); (o ? r-- : ++r < n) && !1 !== t(i[r], r, i); )
                            ;
                        return e
                    }
                }
                var _createBaseEach = createBaseEach
                    , baseEach = _createBaseEach(_baseForOwn)
                    , _baseEach = baseEach;
                function baseMap(e, r) {
                    var i = -1
                        , a = isArrayLike_1(e) ? Array(e.length) : [];
                    return _baseEach(e, function(e, t, n) {
                        a[++i] = r(e, t, n)
                    }),
                        a
                }
                var _baseMap = baseMap;
                function map(e, t) {
                    return (isArray_1(e) ? _arrayMap : _baseMap)(e, _baseIteratee(t, 3))
                }
                var map_1 = map;
                function flatMap(e, t) {
                    return _baseFlatten(map_1(e, t), 1)
                }
                var flatMap_1 = flatMap
                    , concatMap = function(e, t) {
                    for (var n = [], r = 0; r < e.length; r++) {
                        var i = t(e[r], r);
                        isArray$5(i) ? n.push.apply(n, i) : n.push(i)
                    }
                    return n
                }
                    , isArray$5 = Array.isArray || function(e) {
                    return "[object Array]" === Object.prototype.toString.call(e)
                }
                    , balancedMatch = balanced;
                function balanced(e, t, n) {
                    e instanceof RegExp && (e = maybeMatch(e, n)),
                    t instanceof RegExp && (t = maybeMatch(t, n));
                    var r = range(e, t, n);
                    return r && {
                        start: r[0],
                        end: r[1],
                        pre: n.slice(0, r[0]),
                        body: n.slice(r[0] + e.length, r[1]),
                        post: n.slice(r[1] + t.length)
                    }
                }
                function maybeMatch(e, t) {
                    var n = t.match(e);
                    return n ? n[0] : null
                }
                function range(e, t, n) {
                    var r, i, a, o, s, u = n.indexOf(e), c = n.indexOf(t, u + 1), l = u;
                    if (0 <= u && 0 < c) {
                        for (r = [],
                                 a = n.length; 0 <= l && !s; )
                            l == u ? (r.push(l),
                                u = n.indexOf(e, l + 1)) : 1 == r.length ? s = [r.pop(), c] : ((i = r.pop()) < a && (a = i,
                                o = c),
                                c = n.indexOf(t, l + 1)),
                                l = u < c && 0 <= u ? u : c;
                        r.length && (s = [a, o])
                    }
                    return s
                }
                balanced.range = range;
                var braceExpansion = expandTop
                    , escSlash = "\0SLASH" + Math.random() + "\0"
                    , escOpen = "\0OPEN" + Math.random() + "\0"
                    , escClose = "\0CLOSE" + Math.random() + "\0"
                    , escComma = "\0COMMA" + Math.random() + "\0"
                    , escPeriod = "\0PERIOD" + Math.random() + "\0";
                function numeric(e) {
                    return parseInt(e, 10) == e ? parseInt(e, 10) : e.charCodeAt(0)
                }
                function escapeBraces(e) {
                    return e.split("\\\\").join(escSlash).split("\\{").join(escOpen).split("\\}").join(escClose).split("\\,").join(escComma).split("\\.").join(escPeriod)
                }
                function unescapeBraces(e) {
                    return e.split(escSlash).join("\\").split(escOpen).join("{").split(escClose).join("}").split(escComma).join(",").split(escPeriod).join(".")
                }
                function parseCommaParts(e) {
                    if (!e)
                        return [""];
                    var t = []
                        , n = balancedMatch("{", "}", e);
                    if (!n)
                        return e.split(",");
                    var r = n.pre
                        , i = n.body
                        , a = n.post
                        , o = r.split(",");
                    o[o.length - 1] += "{" + i + "}";
                    var s = parseCommaParts(a);
                    return a.length && (o[o.length - 1] += s.shift(),
                        o.push.apply(o, s)),
                        t.push.apply(t, o),
                        t
                }
                function expandTop(e) {
                    return e ? ("{}" === e.substr(0, 2) && (e = "\\{\\}" + e.substr(2)),
                        expand(escapeBraces(e), !0).map(unescapeBraces)) : []
                }
                function embrace(e) {
                    return "{" + e + "}"
                }
                function isPadded(e) {
                    return /^-?0\d/.test(e)
                }
                function lte(e, t) {
                    return e <= t
                }
                function gte(e, t) {
                    return t <= e
                }
                function expand(e, t) {
                    var n = []
                        , r = balancedMatch("{", "}", e);
                    if (!r || /\$$/.test(r.pre))
                        return [e];
                    var i, a = /^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body), o = /^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body), s = a || o, u = 0 <= r.body.indexOf(",");
                    if (!s && !u)
                        return r.post.match(/,.*\}/) ? expand(e = r.pre + "{" + r.body + escClose + r.post) : [e];
                    if (s)
                        i = r.body.split(/\.\./);
                    else if (1 === (i = parseCommaParts(r.body)).length && 1 === (i = expand(i[0], !1).map(embrace)).length)
                        return (d = r.post.length ? expand(r.post, !1) : [""]).map(function(e) {
                            return r.pre + i[0] + e
                        });
                    var c, l = r.pre, d = r.post.length ? expand(r.post, !1) : [""];
                    if (s) {
                        var f = numeric(i[0])
                            , p = numeric(i[1])
                            , h = Math.max(i[0].length, i[1].length)
                            , g = 3 == i.length ? Math.abs(numeric(i[2])) : 1
                            , m = lte;
                        p < f && (g *= -1,
                            m = gte);
                        var y = i.some(isPadded);
                        c = [];
                        for (var v = f; m(v, p); v += g) {
                            var _;
                            if (o)
                                "\\" === (_ = String.fromCharCode(v)) && (_ = "");
                            else if (_ = String(v),
                                y) {
                                var b = h - _.length;
                                if (0 < b) {
                                    var w = new Array(b + 1).join("0");
                                    _ = v < 0 ? "-" + w + _.slice(1) : w + _
                                }
                            }
                            c.push(_)
                        }
                    } else
                        c = concatMap(i, function(e) {
                            return expand(e, !1)
                        });
                    for (var C = 0; C < c.length; C++)
                        for (var E = 0; E < d.length; E++) {
                            var A = l + c[C] + d[E];
                            (!t || s || A) && n.push(A)
                        }
                    return n
                }
                var minimatch_1 = minimatch;
                minimatch.Minimatch = Minimatch;
                var GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}
                    , plTypes = {
                    "!": {
                        open: "(?:(?!(?:",
                        close: "))[^/]*?)"
                    },
                    "?": {
                        open: "(?:",
                        close: ")?"
                    },
                    "+": {
                        open: "(?:",
                        close: ")+"
                    },
                    "*": {
                        open: "(?:",
                        close: ")*"
                    },
                    "@": {
                        open: "(?:",
                        close: ")"
                    }
                }
                    , qmark = "[^/]"
                    , star = qmark + "*?"
                    , twoStarDot = "(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?"
                    , twoStarNoDot = "(?:(?!(?:\\/|^)\\.).)*?"
                    , reSpecials = charSet("().*{}+?[]^$\\!");
                function charSet(e) {
                    return e.split("").reduce(function(e, t) {
                        return e[t] = !0,
                            e
                    }, {})
                }
                var slashSplit = /\/+/;
                function filter(r, i) {
                    return i = i || {},
                        function(e, t, n) {
                            return minimatch(e, r, i)
                        }
                }
                function ext(t, n) {
                    t = t || {},
                        n = n || {};
                    var r = {};
                    return Object.keys(n).forEach(function(e) {
                        r[e] = n[e]
                    }),
                        Object.keys(t).forEach(function(e) {
                            r[e] = t[e]
                        }),
                        r
                }
                function minimatch(e, t, n) {
                    if ("string" != typeof t)
                        throw new TypeError("glob pattern string required");
                    return n || (n = {}),
                    !(!n.nocomment && "#" === t.charAt(0)) && ("" === t.trim() ? "" === e : new Minimatch(t,n).match(e))
                }
                function Minimatch(e, t) {
                    if (!(this instanceof Minimatch))
                        return new Minimatch(e,t);
                    if ("string" != typeof e)
                        throw new TypeError("glob pattern string required");
                    t || (t = {}),
                        e = e.trim(),
                        this.options = t,
                        this.set = [],
                        this.pattern = e,
                        this.regexp = null,
                        this.negate = !1,
                        this.comment = !1,
                        this.empty = !1,
                        this.make()
                }
                function make() {
                    if (!this._made) {
                        var e = this.pattern
                            , t = this.options;
                        if (t.nocomment || "#" !== e.charAt(0))
                            if (e) {
                                this.parseNegate();
                                var n = this.globSet = this.braceExpand();
                                t.debug && (this.debug = console.error),
                                    this.debug(this.pattern, n),
                                    n = this.globParts = n.map(function(e) {
                                        return e.split(slashSplit)
                                    }),
                                    this.debug(this.pattern, n),
                                    n = n.map(function(e, t, n) {
                                        return e.map(this.parse, this)
                                    }, this),
                                    this.debug(this.pattern, n),
                                    n = n.filter(function(e) {
                                        return -1 === e.indexOf(!1)
                                    }),
                                    this.debug(this.pattern, n),
                                    this.set = n
                            } else
                                this.empty = !0;
                        else
                            this.comment = !0
                    }
                }
                function parseNegate() {
                    var e = this.pattern
                        , t = !1
                        , n = 0;
                    if (!this.options.nonegate) {
                        for (var r = 0, i = e.length; r < i && "!" === e.charAt(r); r++)
                            t = !t,
                                n++;
                        n && (this.pattern = e.substr(n)),
                            this.negate = t
                    }
                }
                function braceExpand(e, t) {
                    if (t || (t = this instanceof Minimatch ? this.options : {}),
                    void 0 === (e = void 0 === e ? this.pattern : e))
                        throw new TypeError("undefined pattern");
                    return t.nobrace || !e.match(/\{.*\}/) ? [e] : braceExpansion(e)
                }
                minimatch.filter = filter,
                    minimatch.defaults = function(r) {
                        if (!r || !Object.keys(r).length)
                            return minimatch;
                        var i = minimatch
                            , e = function(e, t, n) {
                            return i.minimatch(e, t, ext(r, n))
                        };
                        return e.Minimatch = function(e, t) {
                            return new i.Minimatch(e,ext(r, t))
                        }
                            ,
                            e
                    }
                    ,
                    Minimatch.defaults = function(e) {
                        return e && Object.keys(e).length ? minimatch.defaults(e).Minimatch : Minimatch
                    }
                    ,
                    Minimatch.prototype.debug = function() {}
                    ,
                    Minimatch.prototype.make = make,
                    Minimatch.prototype.parseNegate = parseNegate,
                    minimatch.braceExpand = function(e, t) {
                        return braceExpand(e, t)
                    }
                    ,
                    Minimatch.prototype.braceExpand = braceExpand,
                    Minimatch.prototype.parse = parse$6;
                var SUBPARSE = {};
                function parse$6(e, t) {
                    if (65536 < e.length)
                        throw new TypeError("pattern is too long");
                    var n = this.options;
                    if (!n.noglobstar && "**" === e)
                        return GLOBSTAR;
                    if ("" === e)
                        return "";
                    var r, i = "", a = !!n.nocase, o = !1, s = [], u = [], c = !1, l = -1, d = -1, f = "." === e.charAt(0) ? "" : n.dot ? "(?!(?:^|\\/)\\.{1,2}(?:$|\\/))" : "(?!\\.)", p = this;
                    function h() {
                        if (r) {
                            switch (r) {
                                case "*":
                                    i += star,
                                        a = !0;
                                    break;
                                case "?":
                                    i += qmark,
                                        a = !0;
                                    break;
                                default:
                                    i += "\\" + r
                            }
                            p.debug("clearStateChar %j %j", r, i),
                                r = !1
                        }
                    }
                    for (var g, m = 0, y = e.length; m < y && (g = e.charAt(m)); m++)
                        if (this.debug("%s\t%s %s %j", e, m, i, g),
                        o && reSpecials[g])
                            i += "\\" + g,
                                o = !1;
                        else
                            switch (g) {
                                case "/":
                                    return !1;
                                case "\\":
                                    h(),
                                        o = !0;
                                    continue;
                                case "?":
                                case "*":
                                case "+":
                                case "@":
                                case "!":
                                    if (this.debug("%s\t%s %s %j <-- stateChar", e, m, i, g),
                                        c) {
                                        this.debug("  in class"),
                                        "!" === g && m === d + 1 && (g = "^"),
                                            i += g;
                                        continue
                                    }
                                    p.debug("call clearStateChar %j", r),
                                        h(),
                                        r = g,
                                    n.noext && h();
                                    continue;
                                case "(":
                                    if (c) {
                                        i += "(";
                                        continue
                                    }
                                    if (!r) {
                                        i += "\\(";
                                        continue
                                    }
                                    s.push({
                                        type: r,
                                        start: m - 1,
                                        reStart: i.length,
                                        open: plTypes[r].open,
                                        close: plTypes[r].close
                                    }),
                                        i += "!" === r ? "(?:(?!(?:" : "(?:",
                                        this.debug("plType %j %j", r, i),
                                        r = !1;
                                    continue;
                                case ")":
                                    if (c || !s.length) {
                                        i += "\\)";
                                        continue
                                    }
                                    h(),
                                        a = !0;
                                    var v = s.pop();
                                    i += v.close,
                                    "!" === v.type && u.push(v),
                                        v.reEnd = i.length;
                                    continue;
                                case "|":
                                    if (c || !s.length || o) {
                                        i += "\\|",
                                            o = !1;
                                        continue
                                    }
                                    h(),
                                        i += "|";
                                    continue;
                                case "[":
                                    if (h(),
                                        c) {
                                        i += "\\" + g;
                                        continue
                                    }
                                    c = !0,
                                        d = m,
                                        l = i.length,
                                        i += g;
                                    continue;
                                case "]":
                                    if (m === d + 1 || !c) {
                                        i += "\\" + g,
                                            o = !1;
                                        continue
                                    }
                                    if (c)
                                        var _, b = e.substring(d + 1, m);
                                    c = !(a = !0),
                                        i += g;
                                    continue;
                                default:
                                    h(),
                                        o ? o = !1 : !reSpecials[g] || "^" === g && c || (i += "\\"),
                                        i += g
                            }
                    for (c && (b = e.substr(d + 1),
                        _ = this.parse(b, SUBPARSE),
                        i = i.substr(0, l) + "\\[" + _[0],
                        a = a || _[1]),
                             v = s.pop(); v; v = s.pop()) {
                        var w = i.slice(v.reStart + v.open.length);
                        this.debug("setting tail", i, v),
                            w = w.replace(/((?:\\{2}){0,64})(\\?)\|/g, function(e, t, n) {
                                return n || (n = "\\"),
                                t + t + n + "|"
                            }),
                            this.debug("tail=%j\n   %s", w, w, v, i);
                        var C = "*" === v.type ? star : "?" === v.type ? qmark : "\\" + v.type;
                        a = !0,
                            i = i.slice(0, v.reStart) + C + "\\(" + w
                    }
                    h(),
                    o && (i += "\\\\");
                    var E = !1;
                    switch (i.charAt(0)) {
                        case ".":
                        case "[":
                        case "(":
                            E = !0
                    }
                    for (var A = u.length - 1; -1 < A; A--) {
                        var P = u[A]
                            , T = i.slice(0, P.reStart)
                            , S = i.slice(P.reStart, P.reEnd - 8)
                            , k = i.slice(P.reEnd - 8, P.reEnd)
                            , O = i.slice(P.reEnd);
                        k += O;
                        var I = T.split("(").length - 1
                            , x = O;
                        for (m = 0; m < I; m++)
                            x = x.replace(/\)[+*?]?/, "");
                        var N = "";
                        "" === (O = x) && t !== SUBPARSE && (N = "$"),
                            i = T + S + O + N + k
                    }
                    if ("" !== i && a && (i = "(?=.)" + i),
                    E && (i = f + i),
                    t === SUBPARSE)
                        return [i, a];
                    if (!a)
                        return globUnescape(e);
                    var M = n.nocase ? "i" : "";
                    try {
                        var R = new RegExp("^" + i + "$",M)
                    } catch (e) {
                        return new RegExp("$.")
                    }
                    return R._glob = e,
                        R._src = i,
                        R
                }
                function makeRe() {
                    if (this.regexp || !1 === this.regexp)
                        return this.regexp;
                    var e = this.set;
                    if (!e.length)
                        return this.regexp = !1,
                            this.regexp;
                    var t = this.options
                        , n = t.noglobstar ? star : t.dot ? twoStarDot : twoStarNoDot
                        , r = t.nocase ? "i" : ""
                        , i = e.map(function(e) {
                        return e.map(function(e) {
                            return e === GLOBSTAR ? n : "string" == typeof e ? regExpEscape(e) : e._src
                        }).join("\\/")
                    }).join("|");
                    i = "^(?:" + i + ")$",
                    this.negate && (i = "^(?!" + i + ").*$");
                    try {
                        this.regexp = new RegExp(i,r)
                    } catch (e) {
                        this.regexp = !1
                    }
                    return this.regexp
                }
                function match(e, t) {
                    if (this.debug("match", e, this.pattern),
                        this.comment)
                        return !1;
                    if (this.empty)
                        return "" === e;
                    if ("/" === e && t)
                        return !0;
                    var n = this.options;
                    e = e.split(slashSplit),
                        this.debug(this.pattern, "split", e);
                    var r, i, a = this.set;
                    for (this.debug(this.pattern, "set", a),
                             i = e.length - 1; 0 <= i && !(r = e[i]); i--)
                        ;
                    for (i = 0; i < a.length; i++) {
                        var o = a[i]
                            , s = e;
                        if (n.matchBase && 1 === o.length && (s = [r]),
                            this.matchOne(s, o, t))
                            return !!n.flipNegate || !this.negate
                    }
                    return !n.flipNegate && this.negate
                }
                function globUnescape(e) {
                    return e.replace(/\\(.)/g, "$1")
                }
                function regExpEscape(e) {
                    return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&")
                }
                minimatch.makeRe = function(e, t) {
                    return new Minimatch(e,t || {}).makeRe()
                }
                    ,
                    Minimatch.prototype.makeRe = makeRe,
                    minimatch.match = function(e, t, n) {
                        var r = new Minimatch(t,n = n || {});
                        return e = e.filter(function(e) {
                            return r.match(e)
                        }),
                        r.options.nonull && !e.length && e.push(t),
                            e
                    }
                    ,
                    Minimatch.prototype.match = match,
                    Minimatch.prototype.matchOne = function(e, t, n) {
                        var r = this.options;
                        this.debug("matchOne", {
                            this: this,
                            file: e,
                            pattern: t
                        }),
                            this.debug("matchOne", e.length, t.length);
                        for (var i = 0, a = 0, o = e.length, s = t.length; i < o && a < s; i++,
                            a++) {
                            this.debug("matchOne loop");
                            var u, c = t[a], l = e[i];
                            if (this.debug(t, c, l),
                            !1 === c)
                                return !1;
                            if (c === GLOBSTAR) {
                                this.debug("GLOBSTAR", [t, c, l]);
                                var d = i
                                    , f = a + 1;
                                if (f === s) {
                                    for (this.debug("** at the end"); i < o; i++)
                                        if ("." === e[i] || ".." === e[i] || !r.dot && "." === e[i].charAt(0))
                                            return !1;
                                    return !0
                                }
                                for (; d < o; ) {
                                    var p = e[d];
                                    if (this.debug("\nglobstar while", e, d, t, f, p),
                                        this.matchOne(e.slice(d), t.slice(f), n))
                                        return this.debug("globstar found match!", d, o, p),
                                            !0;
                                    if ("." === p || ".." === p || !r.dot && "." === p.charAt(0)) {
                                        this.debug("dot detected!", e, d, t, f);
                                        break
                                    }
                                    this.debug("globstar swallow a segment, and continue"),
                                        d++
                                }
                                return !(!n || (this.debug("\n>>> no match, partial?", e, d, t, f),
                                d !== o))
                            }
                            if ("string" == typeof c ? (u = r.nocase ? l.toLowerCase() === c.toLowerCase() : l === c,
                                this.debug("string match", c, l, u)) : (u = l.match(c),
                                this.debug("pattern match", c, l, u)),
                                !u)
                                return !1
                        }
                        if (i === o && a === s)
                            return !0;
                        if (i === o)
                            return n;
                        if (a === s)
                            return i === o - 1 && "" === e[i];
                        throw new Error("wtf?")
                    }
                ;
                var minimatchModule = Object.freeze({
                    default: minimatch_1,
                    __moduleExports: minimatch_1
                })
                    , MAX_SAFE_INTEGER$2 = 9007199254740991
                    , nativeFloor = Math.floor;
                function baseRepeat(e, t) {
                    var n = "";
                    if (!e || t < 1 || MAX_SAFE_INTEGER$2 < t)
                        return n;
                    for (; t % 2 && (n += e),
                           (t = nativeFloor(t / 2)) && (e += e),
                               t; )
                        ;
                    return n
                }
                var _baseRepeat = baseRepeat;
                function baseSlice(e, t, n) {
                    var r = -1
                        , i = e.length;
                    t < 0 && (t = i < -t ? 0 : i + t),
                    (n = i < n ? i : n) < 0 && (n += i),
                        i = n < t ? 0 : n - t >>> 0,
                        t >>>= 0;
                    for (var a = Array(i); ++r < i; )
                        a[r] = e[r + t];
                    return a
                }
                var _baseSlice = baseSlice;
                function castSlice(e, t, n) {
                    var r = e.length;
                    return n = void 0 === n ? r : n,
                        !t && r <= n ? e : _baseSlice(e, t, n)
                }
                var _castSlice = castSlice
                    , rsAstralRange = "\\ud800-\\udfff"
                    , rsComboMarksRange = "\\u0300-\\u036f"
                    , reComboHalfMarksRange = "\\ufe20-\\ufe2f"
                    , rsComboSymbolsRange = "\\u20d0-\\u20ff"
                    , rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange
                    , rsVarRange = "\\ufe0e\\ufe0f"
                    , rsZWJ = "\\u200d"
                    , reHasUnicode = RegExp("[" + rsZWJ + rsAstralRange + rsComboRange + rsVarRange + "]");
                function hasUnicode(e) {
                    return reHasUnicode.test(e)
                }
                var _hasUnicode = hasUnicode
                    , asciiSize = _baseProperty("length")
                    , _asciiSize = asciiSize
                    , rsAstralRange$1 = "\\ud800-\\udfff"
                    , rsComboMarksRange$1 = "\\u0300-\\u036f"
                    , reComboHalfMarksRange$1 = "\\ufe20-\\ufe2f"
                    , rsComboSymbolsRange$1 = "\\u20d0-\\u20ff"
                    , rsComboRange$1 = rsComboMarksRange$1 + reComboHalfMarksRange$1 + rsComboSymbolsRange$1
                    , rsVarRange$1 = "\\ufe0e\\ufe0f"
                    , rsAstral = "[" + rsAstralRange$1 + "]"
                    , rsCombo = "[" + rsComboRange$1 + "]"
                    , rsFitz = "\\ud83c[\\udffb-\\udfff]"
                    , rsModifier = "(?:" + rsCombo + "|" + rsFitz + ")"
                    , rsNonAstral = "[^" + rsAstralRange$1 + "]"
                    , rsRegional = "(?:\\ud83c[\\udde6-\\uddff]){2}"
                    , rsSurrPair = "[\\ud800-\\udbff][\\udc00-\\udfff]"
                    , rsZWJ$1 = "\\u200d"
                    , reOptMod = rsModifier + "?"
                    , rsOptVar = "[" + rsVarRange$1 + "]?"
                    , rsOptJoin = "(?:" + rsZWJ$1 + "(?:" + [rsNonAstral, rsRegional, rsSurrPair].join("|") + ")" + rsOptVar + reOptMod + ")*"
                    , rsSeq = rsOptVar + reOptMod + rsOptJoin
                    , rsSymbol = "(?:" + [rsNonAstral + rsCombo + "?", rsCombo, rsRegional, rsSurrPair, rsAstral].join("|") + ")"
                    , reUnicode = RegExp(rsFitz + "(?=" + rsFitz + ")|" + rsSymbol + rsSeq, "g");
                function unicodeSize(e) {
                    for (var t = reUnicode.lastIndex = 0; reUnicode.test(e); )
                        ++t;
                    return t
                }
                var _unicodeSize = unicodeSize;
                function stringSize(e) {
                    return _hasUnicode(e) ? _unicodeSize(e) : _asciiSize(e)
                }
                var _stringSize = stringSize;
                function asciiToArray(e) {
                    return e.split("")
                }
                var _asciiToArray = asciiToArray
                    , rsAstralRange$2 = "\\ud800-\\udfff"
                    , rsComboMarksRange$2 = "\\u0300-\\u036f"
                    , reComboHalfMarksRange$2 = "\\ufe20-\\ufe2f"
                    , rsComboSymbolsRange$2 = "\\u20d0-\\u20ff"
                    , rsComboRange$2 = rsComboMarksRange$2 + reComboHalfMarksRange$2 + rsComboSymbolsRange$2
                    , rsVarRange$2 = "\\ufe0e\\ufe0f"
                    , rsAstral$1 = "[" + rsAstralRange$2 + "]"
                    , rsCombo$1 = "[" + rsComboRange$2 + "]"
                    , rsFitz$1 = "\\ud83c[\\udffb-\\udfff]"
                    , rsModifier$1 = "(?:" + rsCombo$1 + "|" + rsFitz$1 + ")"
                    , rsNonAstral$1 = "[^" + rsAstralRange$2 + "]"
                    , rsRegional$1 = "(?:\\ud83c[\\udde6-\\uddff]){2}"
                    , rsSurrPair$1 = "[\\ud800-\\udbff][\\udc00-\\udfff]"
                    , rsZWJ$2 = "\\u200d"
                    , reOptMod$1 = rsModifier$1 + "?"
                    , rsOptVar$1 = "[" + rsVarRange$2 + "]?"
                    , rsOptJoin$1 = "(?:" + rsZWJ$2 + "(?:" + [rsNonAstral$1, rsRegional$1, rsSurrPair$1].join("|") + ")" + rsOptVar$1 + reOptMod$1 + ")*"
                    , rsSeq$1 = rsOptVar$1 + reOptMod$1 + rsOptJoin$1
                    , rsSymbol$1 = "(?:" + [rsNonAstral$1 + rsCombo$1 + "?", rsCombo$1, rsRegional$1, rsSurrPair$1, rsAstral$1].join("|") + ")"
                    , reUnicode$1 = RegExp(rsFitz$1 + "(?=" + rsFitz$1 + ")|" + rsSymbol$1 + rsSeq$1, "g");
                function unicodeToArray(e) {
                    return e.match(reUnicode$1) || []
                }
                var _unicodeToArray = unicodeToArray;
                function stringToArray(e) {
                    return _hasUnicode(e) ? _unicodeToArray(e) : _asciiToArray(e)
                }
                var _stringToArray = stringToArray
                    , nativeCeil = Math.ceil;
                function createPadding(e, t) {
                    var n = (t = void 0 === t ? " " : _baseToString(t)).length;
                    if (n < 2)
                        return n ? _baseRepeat(t, e) : t;
                    var r = _baseRepeat(t, nativeCeil(e / _stringSize(t)));
                    return _hasUnicode(t) ? _castSlice(_stringToArray(r), 0, e).join("") : r.slice(0, e)
                }
                var _createPadding = createPadding
                    , NAN = NaN
                    , reTrim = /^\s+|\s+$/g
                    , reIsBadHex = /^[-+]0x[0-9a-f]+$/i
                    , reIsBinary = /^0b[01]+$/i
                    , reIsOctal = /^0o[0-7]+$/i
                    , freeParseInt = parseInt;
                function toNumber(e) {
                    if ("number" == typeof e)
                        return e;
                    if (isSymbol_1(e))
                        return NAN;
                    if (isObject_1(e)) {
                        var t = "function" == typeof e.valueOf ? e.valueOf() : e;
                        e = isObject_1(t) ? t + "" : t
                    }
                    if ("string" != typeof e)
                        return 0 === e ? e : +e;
                    e = e.replace(reTrim, "");
                    var n = reIsBinary.test(e);
                    return n || reIsOctal.test(e) ? freeParseInt(e.slice(2), n ? 2 : 8) : reIsBadHex.test(e) ? NAN : +e
                }
                var toNumber_1 = toNumber
                    , INFINITY$2 = 1 / 0
                    , MAX_INTEGER = 17976931348623157e292;
                function toFinite(e) {
                    return e ? (e = toNumber_1(e)) !== INFINITY$2 && e !== -INFINITY$2 ? e == e ? e : 0 : (e < 0 ? -1 : 1) * MAX_INTEGER : 0 === e ? e : 0
                }
                var toFinite_1 = toFinite;
                function toInteger(e) {
                    var t = toFinite_1(e)
                        , n = t % 1;
                    return t == t ? n ? t - n : t : 0
                }
                var toInteger_1 = toInteger;
                function padStart(e, t, n) {
                    e = toString_1(e);
                    var r = (t = toInteger_1(t)) ? _stringSize(e) : 0;
                    return t && r < t ? _createPadding(t - r, n) + e : e
                }
                var padStart_1 = padStart;
                function getAdformTimedStaticAd(p, h) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r, i, a, o, s, u, c, l, d, f;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return [4, requestJson(function(e) {
                                        e.open("GET", p),
                                            e.send()
                                    })];
                                case 1:
                                    return t = e.sent(),
                                        n = t.url,
                                        r = t.clk,
                                        i = t.imp,
                                        carodaConsole.info("AdformTimedStaticHelper", "getAdformTimedStaticAd", {
                                            adformUrl: p,
                                            url: n,
                                            clk: r,
                                            imp: i
                                        }),
                                        a = h % 60,
                                        o = Math.floor(h / 60),
                                        s = padStart_1(String(a), 2, "0"),
                                        u = padStart_1(String(o), 2, "0"),
                                        c = Math.max(Math.min(Math.floor(h), 90), 0),
                                        l = "http://cdn2.caroda.io/timedAd/0/" + c + "s.mp3",
                                        d = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n    <VAST version="4.0">\n        <Ad id="' + Math.floor(1e6 * Math.random()) + '">\n            <InLine>\n                <AdSystem version="2.0">Caroda Direct Ad Service</AdSystem>\n                <AdTitle><![CDATA[ Caroda Powered Creative ]]></AdTitle>\n                <Description></Description>\n                <Impression id="adfi">' + i + "</Impression>\n                <Creatives>\n                    <Creative>\n                        <Linear>\n                            <Duration>00:" + u + ":" + s + '</Duration>\n                            <VideoClicks>\n                               <ClickThrough id="adfc">' + r + '</ClickThrough>\n                           </VideoClicks>\n                            <MediaFiles>\n                                <MediaFile\n                                    type="audio/mp3"\n                                    width="640"\n                                    height="360"\n                                    delivery="progressive"\n                                    id="1"\n                                    scalable="true"\n                                    maintainAspectRatio="true">\n                                    <![CDATA[' + l + ']]>\n                                </MediaFile>\n                            </MediaFiles>\n                        </Linear>\n                    </Creative>\n                </Creatives>\n                <Extensions>\n                    <Extension type="caroda-poster">' + n + "</Extension>\n                </Extensions>\n            </InLine>\n        </Ad>\n    </VAST>",
                                        f = new Blob([d],{
                                            type: "text/xml"
                                        }),
                                        [2, window.URL.createObjectURL(f)]
                            }
                        })
                    })
                }
                function qsStringify(n) {
                    return Object.keys(n).reduce(function(e, t) {
                        return e + "&" + t + "=" + encodeURIComponent(String(n[t]))
                    }, "")
                }
                var Api = function() {
                    function e() {}
                    return e.prototype.getCampaignViewsFromAssetId = function(r, i, a) {
                        return __awaiter(this, void 0, void 0, function() {
                            var t, n;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return carodaConsole.info("Api", "getCampaignViewsFromAssetId", {
                                            assetId: r,
                                            domainName: i,
                                            targetingProfile: a
                                        }),
                                            t = qsStringify({
                                                domainName: i,
                                                placementId: r,
                                                targetInfo: JSON.stringify(a)
                                            }),
                                            "https://campaigns.caroda.io/api/campaigns",
                                            n = "https://campaigns.caroda.io/api/campaigns?" + t,
                                            [4, requestJson(function(e) {
                                                e.open("GET", n, !0),
                                                    e.timeout = 3e3,
                                                    e.send(null)
                                            })];
                                    case 1:
                                        return [2, e.sent()]
                                }
                            })
                        })
                    }
                        ,
                        e.prototype.getMigratedAssetIdAndUrl = function(s, u) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("Api", "getMigratedAssetIdAndUrl", s, u),
                                                "https://videos.caroda.io/api/migrate",
                                                t = getConfig("carodaVideoCollectionId"),
                                                n = getConfig("carodaContributorToken"),
                                            u && (s += (-1 === s.indexOf("?") ? "?" : "&") + "publish_date=" + u.toISOString()),
                                                r = "https://videos.caroda.io/api/migrate?url=" + encodeURIComponent(s) + "&ctok=" + encodeURIComponent(n) + "&vcid=" + encodeURIComponent(t),
                                                [4, requestJson(function(e) {
                                                    e.open("POST", r),
                                                        e.send()
                                                })];
                                        case 1:
                                            return i = e.sent(),
                                                a = null,
                                            "finished" !== i.TranscodingJobStatus && (o = /caroda.io.migrate/.test(i.MigrationInfo.migratedUrl),
                                                a = i.MigrationInfo.is3rdParty || o ? "3rdparty" : i.MigrationInfo.migratedUrl),
                                                [2, [i.VID, a]]
                                    }
                                })
                            })
                        }
                        ,
                        e
                }()
                    , ApiInstance = new Api
                    , dynamicCampaignMap = initializeDynamicCampaignMap();
                function getVastResolver(e) {
                    return carodaConsole.info("DynamicCampaignQueue", "getVastResolver", e),
                        (dynamicCampaignMap[e] || {
                            vastResolver: void 0
                        }).vastResolver
                }
                function initializeDynamicCampaignMap() {
                    var e = window;
                    return e.carodaDynamicCampaignQueue = e.carodaDynamicCampaignQueue || [],
                        carodaConsole.info("DynamicCampaignQueue", "initializeDynamicCampaignMap", e.carodaDynamicCampaignQueue),
                        e.carodaDynamicCampaignQueue.reduce(function(e, t) {
                            var n = t.campaignId;
                            return e[n] = mapQueueEntry(t, e[n]) || e[n],
                                e
                        }, {})
                }
                function mapQueueEntry(e, t) {
                    if (e.vastResolver)
                        return mapQueueVastResolverEntry(e);
                    var n = e.waitForResponse
                        , r = e.vastContent
                        , i = e.vastTag
                        , a = e.noAd
                        , o = e.block;
                    return !!r || !!i || a || o ? mapQueueVastContentEntry(e, t) : n ? mapQueueConfigEntry(e) : void 0
                }
                function mapQueueVastResolverEntry(e) {
                    var t = e.vastResolver
                        , n = e.timeout;
                    return {
                        vastResolver: t = wrapInTimeout(t, void 0 === n ? 1e3 : n)
                    }
                }
                function mapQueueConfigEntry(e) {
                    var t, n = e.timeout, r = void 0 === n ? 1e3 : n, i = new Promise(function(e) {
                            return t = e
                        }
                    ), a = function() {
                        return i
                    };
                    return a = wrapInTimeout(a, r),
                        {
                            resolveVastResponse: t,
                            vastResolver: a
                        }
                }
                function mapQueueVastContentEntry(e, t) {
                    var n = e.vastContent
                        , r = e.vastTag
                        , i = e.noAd
                        , a = e.block
                        , o = __rest(e, ["vastContent", "vastTag", "noAd", "block"]);
                    t || (t = mapQueueConfigEntry(__assign({}, o)));
                    var s = t.vastResolver;
                    return (0,
                        t.resolveVastResponse)({
                        block: a,
                        noAd: i,
                        vastContent: n,
                        vastTag: r
                    }),
                        {
                            vastResolver: s
                        }
                }
                function wrapInTimeout(e, n) {
                    return function() {
                        return Promise.race([new Promise(function(e, t) {
                                setTimeout(function() {
                                    return t(new Error("vast resolver timed out"))
                                }, n)
                            }
                        ), e()])
                    }
                }
                function patchDynamicCampaignPush(n) {
                    window.carodaDynamicCampaignQueue.push = function(e) {
                        carodaConsole.info("DynamicCampaignQueue", "patchDynamicCampaignPush", e);
                        var t = e.campaignId;
                        n[t] = mapQueueEntry(e, n[t]) || n[t]
                    }
                }
                patchDynamicCampaignPush(dynamicCampaignMap);
                var stringify$4 = jsonStableStringify || _stringify
                    , memoryCache = {}
                    , maxTTL = 300;
                function clearExpired() {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r, i, a, o, s, u;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return carodaConsole.info("GetCached", "clearExpired"),
                                        [4, getAllKeys$1()];
                                case 1:
                                    t = e.sent(),
                                        n = 0,
                                        r = t,
                                        e.label = 2;
                                case 2:
                                    if (!(n < r.length))
                                        return [3, 9];
                                    i = r[n],
                                        e.label = 3;
                                case 3:
                                    return e.trys.push([3, 7, , 8]),
                                        s = (o = JSON).parse,
                                        [4, get$1(i)];
                                case 4:
                                    return a = s.apply(o, [e.sent()]),
                                        Date.now() - a.ts > 1e3 * maxTTL ? [4, remove(i)] : [3, 6];
                                case 5:
                                    e.sent(),
                                        e.label = 6;
                                case 6:
                                    return [3, 8];
                                case 7:
                                    return u = e.sent(),
                                        carodaConsole.info("GetCached", "clearExpired", i, "could not expire cached value", u),
                                        [3, 8];
                                case 8:
                                    return n++,
                                        [3, 2];
                                case 9:
                                    return [2]
                            }
                        })
                    })
                }
                function getCachedMethod(t, n, r, i) {
                    for (var a = [], e = 4; e < arguments.length; e++)
                        a[e - 4] = arguments[e];
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return [2, getCached.call.apply(getCached, [r, t, n, i].concat(a))]
                        })
                    })
                }
                function getCached(n, s, u) {
                    for (var c = [], e = 3; e < arguments.length; e++)
                        c[e - 3] = arguments[e];
                    return __awaiter(this, void 0, void 0, function() {
                        var o, t = this;
                        return __generator(this, function(e) {
                            return [2, lock(o = "caroda.cache." + n + "." + s + "." + window.btoa(stringify$4(c)), function() {
                                return __awaiter(t, void 0, void 0, function() {
                                    var t, n, r, i, a;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return e.trys.push([0, 2, , 3]),
                                                    [4, get$1(o)];
                                            case 1:
                                                if (t = e.sent()) {
                                                    if (n = JSON.parse(t),
                                                    Date.now() - n.ts < 1e3 * s)
                                                        return carodaConsole.info("getCached", o, n),
                                                            [2, {
                                                                expire: function() {
                                                                    return remove(o)
                                                                },
                                                                value: n.value
                                                            }];
                                                    throw new Error("cache expired")
                                                }
                                                return [3, 3];
                                            case 2:
                                                return r = e.sent(),
                                                    carodaConsole.info("getCached", o, "could not get cached value", r.message),
                                                    [3, 3];
                                            case 3:
                                                return e.trys.push([3, 6, , 7]),
                                                    [4, u.call.apply(u, [this].concat(c))];
                                            case 4:
                                                return i = e.sent(),
                                                    [4, set(o, JSON.stringify({
                                                        ts: Date.now(),
                                                        value: i
                                                    }))];
                                            case 5:
                                                return e.sent(),
                                                    carodaConsole.info("getCached", o, "stored", i),
                                                    [2, {
                                                        expire: function() {
                                                            return remove(o)
                                                        },
                                                        value: i
                                                    }];
                                            case 6:
                                                throw a = e.sent(),
                                                    carodaConsole.info("getCached", o, "failed", a.message),
                                                    a;
                                            case 7:
                                                return [2]
                                        }
                                    })
                                })
                            })]
                        })
                    })
                }
                function set(t, n) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return memoryCache[t] = n,
                                localStorageHelper.setItem(t, n),
                                [2]
                        })
                    })
                }
                function get$1(r) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n;
                        return __generator(this, function(e) {
                            return (t = memoryCache[r]) ? [2, t] : (n = localStorageHelper.getItem(r)) ? [2, memoryCache[r] = n] : [2, null]
                        })
                    })
                }
                function remove(t) {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return delete memoryCache[t],
                                localStorageHelper.removeItem(t),
                                [2]
                        })
                    })
                }
                function getAllKeys$1() {
                    return __awaiter(this, void 0, void 0, function() {
                        return __generator(this, function(e) {
                            return [2, localStorageHelper.keys().filter(function(e) {
                                return e.match(/^caroda.cache/)
                            })]
                        })
                    })
                }
                clearExpired(),
                    window.carodaBidderSlotCount = 1;
                var PREBID_AUCTION_TIMEOUT = 3e3
                    , PREBID_FAILSAFE_TIMEOUT = 6e3
                    , currencies = currencyConversions.conversions;
                function processPrebidAuction(p, h, g, m, y, v) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r, i, a, o, s, u, c, l, d, f;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return carodaConsole.info("PrebidHelper", "processPrebidAuction"),
                                        t = window.carodaPlayerCdnUrl.match(/v\/([^\/]+)\//),
                                        n = t ? t[1] : String(Math.floor(1e9 * Math.random())),
                                        r = "https://cdn2.caroda.io/videoPlayer/v/" + n + "/s/default/prebid.min.js",
                                        (i = document.createElement("iframe")).style.width = "0",
                                        i.style.height = "0",
                                        carodaConsole.info("PrebidHelper", "processPrebidAuction", "bidders", h),
                                        a = h.find(function(e) {
                                            return "r2b2" === e.bid.bidder
                                        }),
                                        o = prebidSideload.slice(),
                                    a && (s = a.bid.params,
                                        u = s.d,
                                        c = s.p,
                                        l = s.m,
                                        carodaConsole.info("PrebidHelper", "processPrebidAuction", "r2b2 bid detected", {
                                            d: u,
                                            p: c,
                                            m: l
                                        }),
                                        o.push("https://delivery.r2b2.cz/get/" + u + "/hb/" + c + (+l ? "/mobile" : ""))),
                                        document.body.appendChild(i),
                                        d = '<html>\n        <head>\n            <title>Caroda Prebid Runner</title>\n        </head>\n        <body>\n            <div id="' + p + '"></div>\n            <script>\n                console.log = console.info = console.error = console.warn = function() {\n                    var args = Array.prototype.slice.call(arguments)\n                    if (args[0] === "%cPrebid") {\n                        args = args.slice(2)\n                    }\n                    if (window.logger && window.logger.info) {\n                        window.logger.info.apply(null, args)\n                    }\n                }\n                window.PREBID_AUCTION_TIMEOUT = ' + PREBID_AUCTION_TIMEOUT + "\n            <\/script>\n            " + o.concat([r]).map(function(e) {
                                            return '<script src="' + e + '"><\/script>'
                                        }).join("\n") + "\n            <script>\n                window.__assign = Object.assign;\n                window.currencies = " + JSON.stringify(currencies) + ";\n                " + [createWindowHelpers, storeBidToAuctionState, getAdUnits, processPbjs, processPbjsBackHandler, runIframePrebid].map(function(e) {
                                            return e.toString()
                                        }).join("\n") + ";\n                runIframePrebid(\n                    window,\n                    " + [p, h, g, m, y, v].map(function(e) {
                                            return JSON.stringify(e)
                                        }).join(",") + ");\n            <\/script>\n        </body>\n    </html>",
                                        i.id = p + "Iframe",
                                        i.srcdoc = d,
                                        i.throwIfVastRepeated = throwIfVastRepeated,
                                        [4, waitFor(function() {
                                            return i.contentWindow.auctionState
                                        })];
                                case 1:
                                    return e.sent(),
                                        [4, new Promise(function(e) {
                                                return i.contentWindow.auctionState.setResolve(e)
                                            }
                                        )];
                                case 2:
                                    return e.sent(),
                                        f = __assign({}, i.contentWindow.auctionState),
                                        i.remove(),
                                        [2, f]
                            }
                        })
                    })
                }
                function createWindowHelpers(r, i) {
                    r.logger = {
                        info: function() {
                            for (var e, t = [], n = 0; n < arguments.length; n++)
                                t[n] = arguments[n];
                            return (e = r.parent.carodaConsole).log.apply(e, ["PrebidHelper", "processPrebidAuction", "iframe", i].concat(t))
                        }
                    },
                        r.auctionState = {
                            resolve: function() {
                                r.logger.info("auctionState.resolve called early"),
                                    r.auctionState.setResolve = function(e) {
                                        return e()
                                    }
                            },
                            setResolve: function(e) {
                                r.logger.info("auctionState.setResolve", e),
                                    r.auctionState.resolve = e
                            },
                            trackingHooks: [],
                            trackingHooksByRequestId: {}
                        },
                        r.pbjs = r.pbjs || {},
                        r.pbjs.que = r.pbjs.que || [],
                        r.carodaFilterPrebidBids = r.parent.carodaFilterPrebidBids,
                        r.carodaPrebidFloorConfiguration = r.parent.carodaPrebidFloorConfiguration,
                        r.carodaConditionalPrebidFloorConfiguration = r.parent.carodaConditionalPrebidFloorConfiguration,
                        r.carodaBlockPrebidBanners = Boolean(r.parent.carodaBlockPrebidBanners),
                        r.throwIfVastRepeated = r.frameElement.throwIfVastRepeated;
                    var e = r.parent._pbjsGlobals
                        , t = e && e.length && r.parent[e[0]];
                    t && (r.parentPbjsConfig = t.getConfig())
                }
                function storeBidToAuctionState(n, e) {
                    n.winningBidder = e.bidder || e.bidderCode,
                        n.vastXml = e.vastXml,
                        n.vastUrl = e.vastUrl,
                        n.bannerString = e.ad,
                        n.winningRequestId = e.requestId,
                        n.winningCpm = e.cpm,
                        n.winningCurrency = e.currency;
                    var t = e.vastImpUrl
                        , r = function(e) {
                        return t = e,
                        !n.trackingHooks.find(function(e) {
                            return e.TrackingUrl === t.TrackingUrl
                        }) && n.trackingHooks.push(e);
                        var t
                    };
                    t && r({
                        TrackingUrl: t,
                        VastEvent: "impression"
                    }),
                        n.trackingHooksByRequestId[n.winningRequestId].forEach(r)
                }
                function getAdUnits(t, e, n, r, i, a) {
                    t.logger.info("getAdUnits");
                    var o = t.auctionState
                        , s = r.playerWidth || 640
                        , u = Math.floor(s * (9 / 16))
                        , c = n.map(function(e) {
                        return __assign({}, e.bid, {
                            carodaCid: e.cid,
                            carodaCtok: e.ctok,
                            carodaTracking: e.trackingHooks
                        })
                    }).slice()
                        , l = [{
                        bids: c,
                        code: e,
                        mediaTypes: {
                            video: {
                                api: [2],
                                context: a,
                                linearity: 1,
                                maxduration: 120,
                                mimes: ["video/mp4", "video/x-ms-wmv"],
                                playerSize: [[s, u]],
                                protocols: [2, 3, 5, 6]
                            }
                        },
                        renderer: {
                            render: function(e) {
                                t.logger.info("getAdUnits", "adUnit.renderer.render", {
                                    highestCpmBid: e
                                }),
                                    storeBidToAuctionState(o, e)
                            },
                            url: "data://data:text/html,"
                        }
                    }];
                    return i && !t.carodaBlockPrebidBanners && l.push({
                        bids: c,
                        code: e,
                        mediaTypes: {
                            banner: {
                                sizes: [[s, u], [250, 250], [200, 200], [468, 60], [728, 90], [300, 250], [336, 280], [970, 90]].filter(function(e) {
                                    return e[0] <= s
                                })
                            }
                        }
                    }),
                        t.logger.info("getAdUnits", l),
                        l
                }
                function processPbjs(n, t, r, i) {
                    var a = n.pbjs
                        , o = n.auctionState;
                    if (!a || !a.setConfig)
                        return o.error = new Error("window.pbjs missing"),
                            void o.resolve();
                    var e = n.parent.carodaTCF2ResponseObject
                        , s = n.carodaPrebidFloorConfiguration || n.carodaConditionalPrebidFloorConfiguration && n.carodaConditionalPrebidFloorConfiguration(t)
                        , u = n.parentPbjsConfig && n.parentPbjsConfig.userSync
                        , c = n.parentPbjsConfig && n.parentPbjsConfig.cache
                        , l = {
                        consentManagement: e && {
                            gdpr: {
                                cmpApi: "static",
                                consentData: {
                                    getTCData: e
                                }
                            }
                        },
                        currency: {
                            adServerCurrency: "EUR",
                            defaultRates: currencies
                        }
                    };
                    s && (l.floors = s),
                    u && (l.userSync = u),
                    c && (l.cache = c),
                        a.setConfig(l),
                        n.logger.info("processPbjs", "set config", l),
                        a.addAdUnits(t),
                        n.logger.info("processPbjs", "added adUnits", t);
                    var d = function(e) {
                        n.logger.info("processPbjs", "prebid auctionEnd", {
                            auction: e
                        }),
                            e.bidderRequests.forEach(function(e) {
                                return t = e,
                                    n.logger.info("processPbjs", "prebid bidderDone", {
                                        bidder: t
                                    }),
                                    void t.bids.forEach(function(e) {
                                        var t = e.bidId
                                            , n = e.carodaTracking;
                                        o.trackingHooksByRequestId[t] = n
                                    });
                                var t
                            }),
                            a.offEvent("auctionEnd", d),
                        o.error || o.resolve()
                    };
                    a.onEvent("auctionEnd", d),
                        a.requestBids({
                            bidsBackHandler: function(e) {
                                console.log("Process caroda prebid", e);
                                console.log(n.pbjs);
                                return processPbjsBackHandler(n, t[0].code, e, r, i)
                            },
                            timeout: PREBID_AUCTION_TIMEOUT
                        })
                }
                function processPbjsBackHandler(n, e, t, r, i) {
                    var a = n.pbjs
                        , o = n.auctionState
                        , s = n.carodaFilterPrebidBids
                        , u = n.throwIfVastRepeated;
                    try {
                        if (!t)
                            throw new Error("no bid responses");
                        if (!t[e])
                            throw new Error("no bid responses for position");
                        var c = t[e].bids;
                        n.logger.info("processPbjsBackHandler", {
                            currentBids: c
                        });
                        var l = c.filter(function(t) {
                            try {
                                if (s && !s(t))
                                    throw new Error("bid filtered out by custom rule");
                                if (t.ad) {
                                    if (!i)
                                        throw new Error("banner skipped");
                                    return !0
                                }
                                if (!t.vastXml && !t.vastUrl)
                                    throw new Error("no creative found");
                                return r && u(r, t.vastXml || t.vastUrl),
                                    !0
                            } catch (e) {
                                return n.logger.info("processPbjsBackHandler", "rejected bid", t, e),
                                    !1
                            }
                        })
                            , d = l.reduce(function(e, t) {
                            return !e || t.cpm > e.cpm ? t : e
                        }, null);
                        if (n.logger.info("processPbjsBackHandler", {
                            currentBids: c,
                            newBids: l,
                            highestCpmBid: d
                        }),
                            !d)
                            throw new Error("no new creatives");
                        storeBidToAuctionState(o, d),
                            a.renderAd(document, d.adId)
                    } catch (e) {
                        n.logger.info("processPbjsBackHandler", e.message),
                            o.error = e,
                            o.resolve()
                    }
                }
                function runIframePrebid(e, t, n, r, i, a, o) {
                    createWindowHelpers(e, t),
                        e.logger.info("runIframePrebid"),
                        processPbjs(e, getAdUnits(e, t, n, r, a, o), i, a)
                }
                function getVastFromBids(v, _, b, w, C, E) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t, n, r, i, a, o, s, u, c, l, d, f, p, h, g, m, y;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return t = "carodaVirtualSlot" + window.carodaBidderSlotCount++,
                                        carodaConsole.info("PrebidHelper", "getVastFromBids", "start", v.map(function(e) {
                                            return e.bid
                                        }), {
                                            code: t,
                                            playerInfo: _,
                                            excludeRepeatedAdGroup: b
                                        }),
                                        n = processPrebidAuction(t, v, _, b, w, C),
                                        r = null,
                                        i = function() {
                                            var e = document.querySelector("#" + t + "Iframe");
                                            console.log(".........................remove iframe", e);
                                            // e && e.remove()
                                        }
                                        ,
                                        [4, Promise.race([n, new Promise(function(e, t) {
                                                return r = setTimeout(function() {
                                                    i(),
                                                        t(new Error("auction timed out"))
                                                }, PREBID_FAILSAFE_TIMEOUT)
                                            }
                                        )])];
                                case 1:
                                    if (a = e.sent(),
                                        clearTimeout(r),
                                        carodaConsole.info("PrebidHelper", "getVastFromBids", "got", a),
                                        o = a.bannerString,
                                        s = a.vastXml,
                                        u = a.vastUrl,
                                        c = a.trackingHooks,
                                        l = a.winningBidder,
                                        d = a.winningCpm,
                                        f = a.winningCurrency,
                                        p = a.error)
                                        throw p;
                                    return !o || s || u ? (s && !u && (m = new Blob([s],{
                                        type: "text/xml"
                                    }),
                                        g = window.URL.createObjectURL(m)),
                                        [4, expandVastUrl(u || g, _, c, E)]) : ((h = new ExpandedVast).adType = "banner",
                                        h.bannerScript = o,
                                        h.trackingHooks = c,
                                        h.prebidAdUnitCode = t,
                                        [2, h]);
                                case 2:
                                    return (y = e.sent()[0]).dspUrl = "//" + l + ".prebid",
                                        y.prebidAdUnitCode = t,
                                        y.prebidWinningCpm = d,
                                        y.prebidWinningCpmCurrency = f,
                                        [2, y]
                            }
                        })
                    })
                }
                function uuidv4() {
                    return (String(1e7) + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, function(e) {
                        var t = e;
                        return (t ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> t / 4).toString(16)
                    })
                }
                function reportVastAdLoad(e) {
                    carodaConsole.info("VastAdLoadReport", "reportVastAdLoad", e)
                }
                var CarodaBlockError = function(t) {
                    function e() {
                        var e = null !== t && t.apply(this, arguments) || this;
                        return e.isBlockError = !0,
                            e
                    }
                    return __extends(e, t),
                        e
                }(Error)
                    , TrackingHook = function(e) {
                    this.VastEvent = e.VastEvent,
                        this.TrackingUrl = e.TrackingUrl
                }
                    , minimatch$1 = minimatch_1 || minimatchModule
                    , cacheTimeoutInMs = 12e4
                    , expandedCacheTimeoutInMs = 18e4
                    , ungroupableTypes = ["banner"]
                    , CampaignView = function() {
                    function b(e, t) {
                        this.transactionId = uuidv4(),
                            this.id = e.CampaignId,
                            this.ctok = e.Ctok,
                            this.trackingHooks = e.TrackingHooks.map(function(e) {
                                return new TrackingHook(e)
                            }),
                            this.priority = e.Priority,
                            this.type = e.Type,
                            this.vastUrl = e.CampaignUrl,
                            this.staticVastContent = e.StaticVastContent,
                            this.isDynamicVast = !!e.DynamicVast,
                            this.bannerScript = e.CampaignScript,
                            this.assetId = e.AssetId,
                            this.assetWeight = e.AssetWeight,
                            this.assetTitle = e.ParentAssetTitle || e.AssetTitle,
                            this.assetWhitelistGlobs = e.AssetWhitelistGlobs || [],
                            this.assetBlacklistGlobs = e.AssetBlacklistGlobs || [],
                            this.billboardWidthCm = e.BillboardWidthInCm,
                            this.billboardHeightCm = e.BillboardHeightInCm,
                            this.appliesToAllBillboardSlots = e.ParentAssetId === e.AssetId,
                        "prebid" === this.type && (this.prebidContext = t,
                            this.hbParams = JSON.parse(e.PrebidParamsJson),
                            this.hbOtherBids = []),
                            this.fixedPrebidValue = e.FixedPrebidValue,
                            this.fixedPrebidCurrency = e.FixedPrebidCurrency,
                            this.impressionsPerUser = e.ImpressionsPerUser,
                            this.cappingIntervalInDays = e.ImpressionsPerUserInterval ? b.intervalToDays(e.ImpressionsPerUserInterval.Value, e.ImpressionsPerUserInterval.Unit) : 3650,
                            this.cappingByHourOfDayGMT = e.CappingByHourOfDayGMT,
                            this.pathGlobs = (e.PathGlobs || []).map(function(e) {
                                return e.trim()
                            }).filter(Boolean),
                            this.pathBlacklistGlobs = (e.PathBlacklistGlobs || []).map(function(e) {
                                return e.trim()
                            }).filter(Boolean),
                        "teads" === this.type && (this.teadsScriptUrl = e.CampaignScriptUrl),
                        "smartclip" === this.type && (this.smartclipId = e.SmartclipId),
                        "adform-timed-static" === this.type && (this.adformBannerStaticAdLength = e.AdformBannerStaticAdLength,
                            this.adformBannerStaticJsonUrl = e.AdformBannerStaticJsonUrl),
                            this.speed = void 0 !== e.Speed ? e.Speed : 1
                    }
                    return b.getListByAssetId = function(o) {
                        return __awaiter(this, void 0, void 0, function() {
                            var t, n, r, i, a;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return carodaConsole.info("CampaignView", ".getListByAssetId", o),
                                            [4, b.getListByAssetIdMixedUntargeted(o)];
                                    case 1:
                                        return t = e.sent(),
                                            n = t.reduce(function(e, t) {
                                                var n;
                                                return __assign({}, e, ((n = {})[t.ctok] = (e[t.ctok] || []).concat([t]),
                                                    n))
                                            }, {}),
                                            r = window.carodaContributorToken,
                                            i = n[r],
                                            delete n[r],
                                            a = Object.keys(n).map(function(e) {
                                                return n[e]
                                            }).sort(function() {
                                                return Math.random() - .5
                                            }),
                                            [2, b.combineCampaignViews([i].concat(a).filter(Boolean)).filter(function(e) {
                                                return !e.isUserCapped() && !e.isCappedHour() && e.isPathTargeted() && !e.isPathFilteredByAsset()
                                            })]
                                }
                            })
                        })
                    }
                        ,
                        b.getListByAssetIds = function(n) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("CampaignView", ".getListByAssetIds", n),
                                                n = n || [],
                                                [4, Promise.all(n.map(function(e) {
                                                    return b.getListByAssetId(e)
                                                }))];
                                        case 1:
                                            return t = e.sent(),
                                                [2, b.combineCampaignViews(t)]
                                    }
                                })
                            })
                        }
                        ,
                        b.getCampaignViewsFromAssetIdCached = function(o, s) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return t = window.carodaWebsiteDomain,
                                                n = "caroda.campaigns.v2." + t + "." + o,
                                                s && (r = localStorageHelper.getItem(n)) && (i = JSON.parse(r),
                                                Date.now() - i.ts < cacheTimeoutInMs) ? (carodaConsole.info("CampaignView", ".getCampaignViewsFromAssetIdCached", o, "cache recent"),
                                                    b.scheduleReloadAssetId(o, i.ts),
                                                    [2, i.campaignViews]) : [4, ApiInstance.getCampaignViewsFromAssetId(o, t, {})];
                                        case 1:
                                            return a = e.sent(),
                                                localStorageHelper.setItem(n, JSON.stringify({
                                                    campaignViews: a,
                                                    ts: Date.now()
                                                })),
                                                b.scheduleReloadAssetId(o),
                                                [2, a]
                                    }
                                })
                            })
                        }
                        ,
                        b.groupPrebidCampaigns = function(e) {
                            var t = {};
                            e.filter(function(e) {
                                return "prebid" === e.type
                            }).forEach(function(e) {
                                t[e.priority] = t[e.priority] || [],
                                    e.hbOtherBids = t[e.priority],
                                    t[e.priority].push(e)
                            });
                            return Object.keys(t).forEach(function(n) {
                                e.filter(function(e) {
                                    return t = e,
                                    -1 === ungroupableTypes.indexOf(t.type) && e.priority === Number(n) && e.fixedPrebidValue;
                                    var t
                                }).forEach(function(e) {
                                    t[n].push(e)
                                })
                            }),
                                e.filter(function(e) {
                                    return "prebid" === e.type && e === e.hbOtherBids[0] || -1 === (t[e.priority] || []).indexOf(e)
                                })
                        }
                        ,
                        b.getListByAssetIdMixedUntargeted = function(s) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (e.trys.push([0, 2, , 3]),
                                                carodaConsole.info("CampaignView", ".getListByAssetIdMixedUntargeted", s),
                                                window.carodaDisableAds)
                                                throw new Error("ads disabled by integration");
                                            return t = !!window.carodaForceInstreamPrebidContext,
                                                n = s.match(/^opz/) && !t ? "outstream" : "instream",
                                                [4, b.getCampaignViewsFromAssetIdCached(s, !0)];
                                        case 1:
                                            return r = e.sent(),
                                                i = r.map(function(t) {
                                                    try {
                                                        return new b(t,n)
                                                    } catch (e) {
                                                        return carodaConsole.info("CampaignView", ".getListByAssetIdMixedUntargeted", s, e.message, e.stack, t),
                                                            null
                                                    }
                                                }).filter(Boolean),
                                                a = b.groupPrebidCampaigns(i).sort(function(e, t) {
                                                    return e.priority - t.priority
                                                }),
                                                carodaConsole.info("CampaignView", ".getListByAssetIdMixedUntargeted", s, a),
                                                [2, a];
                                        case 2:
                                            return o = e.sent(),
                                                carodaConsole.info("CampaignView", ".getListByAssetIdMixedUntargeted", s, "skipped", o),
                                                [2, []];
                                        case 3:
                                            return [2]
                                    }
                                })
                            })
                        }
                        ,
                        b.combineCampaignViews = function(e) {
                            carodaConsole.info("CampaignView", ".combineCampaignViews", e);
                            for (var t = 1; t < e.length; t++)
                                for (var n = e[t - 1], r = e[t], i = Math.max.apply(Math, n.map(function(e) {
                                    return e.priority
                                })), a = 0, o = r; a < o.length; a++) {
                                    var s = o[a];
                                    s.priority = Math.max(s.priority, 1e-5) + i + 1
                                }
                            for (var u = e.reduce(function(e, t) {
                                return e.concat(t)
                            }, []), c = u.filter(function(e) {
                                return "banner" !== e.type
                            }), l = u.filter(function(e) {
                                return "banner" === e.type
                            }), d = Math.max.apply(Math, c.map(function(e) {
                                return e.priority
                            })), f = 0, p = l; f < p.length; f++) {
                                var h = p[f];
                                h.priority = Math.max(h.priority, 1e-5) + d + 1
                            }
                            var g = c.concat(l).sort(function(e, t) {
                                return e.priority - t.priority
                            });
                            return carodaConsole.info("CampaignView", ".combineCampaignViews", "got", g),
                                g
                        }
                        ,
                        b.scheduleReloadAssetId = function(e, t) {
                            void 0 === t && (t = 0),
                                e.match(/^v/) ? carodaConsole.info("CampaignView", ".scheduleReloadAssetId", e, "skipped instream") : (carodaConsole.info("CampaignView", ".scheduleReloadAssetId", e),
                                    window.document.hasFocus() ? (carodaConsole.info("CampaignView", ".scheduleReloadAssetId", e, "scheduled"),
                                        t = t || Date.now(),
                                        window.setTimeout(function() {
                                            return b.getCampaignViewsFromAssetIdCached(e, !1)
                                        }, t + cacheTimeoutInMs - 5e3 - Date.now())) : carodaConsole.info("CampaignView", ".scheduleReloadAssetId", e, "no focus"))
                        }
                        ,
                        b.intervalToDays = function(e, t) {
                            switch (t) {
                                case "Day":
                                    return e;
                                case "Hour":
                                    return e / 24;
                                case "Month":
                                    return 30 * e
                            }
                        }
                        ,
                        b.getFixedBidCampaignsHigherThan = function(e, t, n) {
                            var r = e.filter(function(e) {
                                return "prebid" !== e.type && e.fixedPrebidValue * getConversionRate(e.fixedPrebidCurrency, n) > t
                            }).sort(function(e, t) {
                                return t.fixedPrebidValue * getConversionRate(t.fixedPrebidCurrency, n) - e.fixedPrebidValue * getConversionRate(e.fixedPrebidCurrency, n)
                            });
                            return r.length && carodaConsole.info("CampaignView", ".getFixedBidCampaignHigherThan", "" + t + n, r),
                                r
                        }
                        ,
                        b.prototype.getExpandedCached = function(i, a, o, s) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (this.shouldBeSpeedCapped())
                                                throw carodaConsole.info("CampaignView", ".getExpandedCached", "skipping campaign to adjust pacing", this.id),
                                                    new Error("speed capped");
                                            return t = -1 !== ["rubicon", "rubicon-optimized"].indexOf(this.type),
                                                n = t || this.isDynamicVast || window.carodaNoChainCaching,
                                                carodaConsole.info("CampaignView", ".getExpandedCached", this.id, {
                                                    playerInfo: i,
                                                    shouldExcludeRepeated: a,
                                                    adsGroup: o,
                                                    allowBanners: s,
                                                    noCache: n
                                                }),
                                                n ? [2, this.getExpanded(i, a, o, s)] : [4, getCachedMethod("campaign-expanded-views." + this.id, expandedCacheTimeoutInMs, this, this.getExpanded, i, a, o, s)];
                                        case 1:
                                            return (r = e.sent()).value.forEach(function(e) {
                                                return e.expire = r.expire
                                            }),
                                                [2, r.value.map(function(e) {
                                                    return Object.assign(new CampaignExpandedView, e)
                                                })]
                                    }
                                })
                            })
                        }
                        ,
                        b.prototype.getExpanded = function(m, y, v, _) {
                            return __awaiter(this, void 0, void 0, function() {
                                var n, t, r, i, a, o, s, u, c, l, d, f, p, h, g = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (carodaConsole.info("CampaignView", ".getExpanded", this.id, this.type, {
                                                playerInfo: m,
                                                shouldExcludeRepeated: y,
                                                adsGroup: v,
                                                allowBanners: _
                                            }),
                                                (n = this.createView()).adsGroup = v,
                                            "teads" !== this.type && "banner" !== this.type && "smartclip" !== this.type)
                                                return "adform-timed-static" !== this.type ? [3, 2] : (this.type = "local-vast",
                                                    [4, getAdformTimedStaticAd((t = this).adformBannerStaticJsonUrl, this.adformBannerStaticAdLength)]);
                                            if (!_)
                                                throw new Error("banners not allowed for " + this.id);
                                            return n.type = this.type,
                                                n.bannerScript = this.bannerScript,
                                                n.teadsScriptUrl = this.teadsScriptUrl,
                                                n.smartclipId = this.smartclipId,
                                                [2, [n]];
                                        case 1:
                                            t.vastUrl = e.sent(),
                                                e.label = 2;
                                        case 2:
                                            return r = {
                                                adType: this.type,
                                                campaignId: this.id,
                                                inTrackingHooks: this.trackingHooks.slice(0),
                                                outTrackingHooks: [],
                                                vastChain: []
                                            },
                                                "prebid" !== this.type ? [3, 4] : (i = Promise.all(this.hbOtherBids.filter(function(e) {
                                                    return "prebid" !== e.type
                                                }).map(function(e) {
                                                    return e.getExpanded(m, y, v, _).catch(function(e) {
                                                        return carodaConsole.info("CampaignView", ".getExpanded", "ERROR", e),
                                                            []
                                                    })
                                                })).then(function(e) {
                                                    return flatMap_1(e)
                                                }),
                                                    a = getVastFromBids(this.hbOtherBids.filter(function(e) {
                                                        return "prebid" === e.type
                                                    }).map(function(e) {
                                                        return {
                                                            bid: e.hbParams,
                                                            cid: e.id,
                                                            ctok: e.ctok,
                                                            trackingHooks: e.trackingHooks
                                                        }
                                                    }), __assign({
                                                        campaignId: this.id
                                                    }, m), y ? n.adsGroup : null, _, this.prebidContext, r),
                                                    [4, Promise.all([i, a])]);
                                        case 3:
                                            if (o = e.sent(),
                                                s = o[0],
                                                u = o[1],
                                                c = b.getFixedBidCampaignsHigherThan(s, u.prebidWinningCpm, u.prebidWinningCpmCurrency),
                                            "banner" === u.adType) {
                                                if (_)
                                                    return n.type = "banner",
                                                        n.trackingHooks = u.trackingHooks,
                                                        n.bannerScript = u.bannerScript,
                                                        n.prebidAdUnitCode = u.prebidAdUnitCode,
                                                        [2, c.concat([n])];
                                                if (s.length)
                                                    return [2, s];
                                                throw new Error("banners not allowed for " + this.id)
                                            }
                                            if (r.adType = u.adType,
                                                r.inTrackingHooks = [],
                                                r.outTrackingHooks = u.trackingHooks.slice(0),
                                                reportVastAdLoad(r),
                                                n.type = u.adType,
                                                n.vastContent = u.vast,
                                                n.trackingHooks = u.trackingHooks,
                                                n.vastContentAspectRatio = u.format,
                                                n.sspUrl = u.dspUrl,
                                                n.dspUrl = u.dspUrl,
                                                n.prebidAdUnitCode = u.prebidAdUnitCode,
                                                y)
                                                try {
                                                    n.throwIfRepeated()
                                                } catch (e) {
                                                    if (s.length)
                                                        return [2, s];
                                                    throw e
                                                }
                                            return [2, c.concat([n])];
                                        case 4:
                                            return d = this.vastUrl,
                                                f = this.staticVastContent,
                                                "vast" === this.type && this.isDynamicVast ? [4, this.getDynamicVast()] : [3, 6];
                                        case 5:
                                            p = e.sent(),
                                                d = p.vastUrl,
                                                f = p.vastContent,
                                                e.label = 6;
                                        case 6:
                                            return "vast" === this.type && f ? [4, expandStaticVast(f, __assign({
                                                campaignId: this.id
                                            }, m), [], r, this.transactionId)] : [3, 8];
                                        case 7:
                                            return l = e.sent(),
                                                [3, 10];
                                        case 8:
                                            return [4, expandVastUrl(d, __assign({
                                                campaignId: this.id
                                            }, m), [], r, this.transactionId)];
                                        case 9:
                                            l = e.sent(),
                                                e.label = 10;
                                        case 10:
                                            if (0 === (h = l.map(function(e) {
                                                var t;
                                                if (r.adType = e.adType,
                                                    r.outTrackingHooks = e.trackingHooks,
                                                    reportVastAdLoad(r),
                                                    n.type = e.adType,
                                                    n.vastContent = e.vast,
                                                    (t = n.trackingHooks).push.apply(t, e.trackingHooks),
                                                    n.vastContentAspectRatio = e.format,
                                                    n.sspUrl = g.vastUrl,
                                                    n.dspUrl = e.dspUrl,
                                                (n.shouldExcludeRepeated = y) && "doubleclick" !== n.type)
                                                    try {
                                                        n.throwIfRepeated()
                                                    } catch (e) {
                                                        return null
                                                    }
                                                return n
                                            }).filter(Boolean)).length)
                                                throw new Error("all assets repeated");
                                            return [2, h]
                                    }
                                })
                            })
                        }
                        ,
                        b.prototype.shouldBeSpeedCapped = function() {
                            return Math.random() > this.speed
                        }
                        ,
                        b.prototype.createView = function() {
                            var e = new CampaignExpandedView;
                            return e.transactionId = this.transactionId,
                                e.id = this.id,
                                e.ctok = this.ctok,
                                e.trackingHooks = cloneDeep_1(this.trackingHooks),
                                e.priority = this.priority,
                                e.speed = this.speed,
                                e.assetId = this.assetId,
                            void 0 !== this.fixedPrebidValue && this.fixedPrebidCurrency && (e.fixedPrebidValue = this.fixedPrebidValue,
                                e.fixedPrebidCurrency = this.fixedPrebidCurrency),
                                e
                        }
                        ,
                        b.prototype.isCappedHour = function() {
                            if (!this.cappingByHourOfDayGMT)
                                return !1;
                            var e = (new Date).getUTCHours()
                                , t = -1 === this.cappingByHourOfDayGMT.indexOf(e);
                            return carodaConsole.info("CampaignView", ".isCappedHour", this.id, t),
                                t
                        }
                        ,
                        b.prototype.isUserCapped = function() {
                            if (!this.impressionsPerUser)
                                return !1;
                            var t = 24 * this.cappingIntervalInDays * 60 * 6e4
                                , e = getCampaignViewHistory(this.id).filter(function(e) {
                                return e > Date.now() - t
                            })
                                , n = e.length >= this.impressionsPerUser;
                            return carodaConsole.info("CampaignView", ".isUserCapped", this.id, e, n),
                                n
                        }
                        ,
                        b.prototype.isPathTargeted = function() {
                            var t = window.location.href;
                            return this.pathBlacklistGlobs.some(function(e) {
                                return minimatch$1(t, e)
                            }) ? (carodaConsole.info("CampaignView", ".isPathTargeted", "blacklisted", this.id, t, this.pathBlacklistGlobs),
                                !1) : !(this.pathGlobs.length && !this.pathGlobs.some(function(e) {
                                return minimatch$1(t, e)
                            })) && (carodaConsole.info("CampaignView", ".isPathTargeted", "whitelisted", this.id, t, this.pathGlobs),
                                !0)
                        }
                        ,
                        b.prototype.isPathFilteredByAsset = function() {
                            var t = window.location.href;
                            return this.assetBlacklistGlobs.length && this.assetBlacklistGlobs.some(function(e) {
                                return minimatch$1(t, e)
                            }) ? (carodaConsole.info("CampaignView", ".isPathFilteredByAsset", "blacklistGlobs", this.id, t, this.assetBlacklistGlobs),
                                !0) : !(!this.assetWhitelistGlobs.length || this.assetWhitelistGlobs.some(function(e) {
                                return minimatch$1(t, e)
                            })) && (carodaConsole.info("CampaignView", ".isPathFilteredByAsset", "assetWhitelistGlobs", this.id, t, this.assetWhitelistGlobs),
                                !0)
                        }
                        ,
                        b.prototype.getDynamicVast = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (carodaConsole.info("CampaignView", ".getDynamicVast", this.id),
                                                !(t = getVastResolver(this.id)))
                                                throw new Error("no vast resolver available");
                                            return carodaConsole.info("CampaignView", ".getDynamicVast", this.id, "waiting for vast"),
                                                [4, t()];
                                        case 1:
                                            if (n = e.sent(),
                                                r = n.block,
                                                i = n.noAd,
                                                a = n.vastTag,
                                                o = n.vastContent,
                                                carodaConsole.info("CampaignView", ".getDynamicVast", this.id, {
                                                    block: r,
                                                    noAd: i,
                                                    vastContent: !!o,
                                                    vastTag: !!a
                                                }),
                                                r)
                                                throw new CarodaBlockError;
                                            if (i)
                                                throw new Error("no ad");
                                            return [2, {
                                                vastUrl: a,
                                                vastContent: o
                                            }]
                                    }
                                })
                            })
                        }
                        ,
                        b
                }();
                function getAutoplayBehaviour(e) {
                    return e.getAutoplayBehaviour ? e.getAutoplayBehaviour() : e.isAutoplay() ? "standard" : "user-initiated"
                }
                function resumeContent(n) {
                    return __awaiter(this, void 0, void 0, function() {
                        var t;
                        return __generator(this, function(e) {
                            switch (e.label) {
                                case 0:
                                    return e.trys.push([0, 3, , 4]),
                                        "user-initiated" === (t = getAutoplayBehaviour(n)) ? [2] : "viewable" !== t ? [3, 2] : [4, waitUntilInView(n.getContainer())];
                                case 1:
                                    e.sent(),
                                        e.label = 2;
                                case 2:
                                    return carodaConsole.info("ContentPlayer", ".resumeContent"),
                                        n.play(),
                                        [3, 4];
                                case 3:
                                    e.sent();
                                    try {
                                        n.play()
                                    } catch (e) {}
                                    return [3, 4];
                                case 4:
                                    return [2]
                            }
                        })
                    })
                }
                var BillboardPlayer = function() {
                    function e(e, t, n) {
                        void 0 === n && (n = {}),
                            carodaConsole.info("BillboardPlayer", ".constructor", n),
                            this.id = "carodaOutstream" + Math.floor(1e6 * Math.random()),
                            this.slider = void 0 === n.slider || n.slider,
                            this.adPlayerLoader = t,
                            this.trackingConfig = n.trackingConfig,
                            this.tracking = new Tracking(__assign({}, n.trackingConfig || {}, {
                                context: __assign({}, n.trackingConfig && n.trackingConfig.context || {}, {
                                    isDooh: !0
                                }),
                                doohPlacementId: e,
                                playerContainer: this.containerElement
                            })),
                            this.tracking.hitPlayerEvent("player_init"),
                            this.monitorPlayerInView();
                        var r = window;
                        r.carodaBillboardInfo = this.adPlayerLoader.getBillboardInfoText();
                        var i = this.getMaxSize()
                            , a = this.getAspectRatio();
                        this.widthInPx = r.carodaScreenWidth,
                            this.heightInPx = r.carodaScreenHeight,
                        this.widthInPx && !this.heightInPx && (this.heightInPx = this.widthInPx / a),
                        !this.widthInPx && this.heightInPx && (this.widthInPx = this.heightInPx * a),
                        this.widthInPx || this.heightInPx || (this.widthInPx = i.width,
                            this.heightInPx = i.height),
                            this.initDOM()
                    }
                    return e.prototype.getElement = function() {
                        return this.containerElement
                    }
                        ,
                        e.prototype.getId = function() {
                            return this.id
                        }
                        ,
                        e.prototype.getAdPlayerLoader = function() {
                            return this.adPlayerLoader
                        }
                        ,
                        e.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("BillboardPlayer", ".play"),
                                                [4, this.adPlayerLoader.loadAdSlot(this.getElement(), this.slider, this.trackingConfig, function(e) {
                                                    return mergeTrackingContext(n.tracking, e)
                                                })];
                                        case 1:
                                            return t = e.sent(),
                                                mergeTrackingContext(this.tracking, t),
                                                this.status = "finished",
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.waitForStart = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return "loaded" === t.status || "finished" === t.status
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.waitForEnd = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return "finished" === t.status
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.getAspectRatio = function() {
                            return this.adPlayerLoader.getBillboardSpecs().aspectRatio || window.innerWidth / window.innerHeight
                        }
                        ,
                        e.prototype.getMaxSize = function() {
                            return {
                                width: window.innerWidth,
                                height: window.innerHeight
                            }
                        }
                        ,
                        e.prototype.initDOM = function() {
                            this.containerElement = document.createElement("div"),
                                this.containerElement.classList.add("carodaOutstream"),
                                this.containerElement.setAttribute("id", this.id),
                                this.status = "not-loaded",
                                appendCss("\n            .carodaContainer {\n                width: " + this.widthInPx + "px;\n                height: " + this.heightInPx + "px;\n                max-width: " + this.widthInPx + "px;\n                max-height: " + this.heightInPx + "px;\n            }\n            .carodaContainer * {\n                max-width: " + this.widthInPx + "px !important;\n                max-height: " + this.heightInPx + "px !important;\n            }\n            #" + this.id + ".carodaOutstreamSlider .carodaVvOutstreamPlayer .caroda-player-vast-vpaid {\n                padding-bottom: " + this.heightInPx + "px !important;\n            }\n            #" + this.id + ".carodaOutstreamSlider.adLoaded .sliderSpacer {\n                margin-top: 0;\n                padding-top: " + this.heightInPx + "px !important;\n            }\n            .carodaVvOutstreamPlayer {\n                pointer-events: none;\n            }\n            .carodaVvOutstreamPlayer .caroda-player-vast-vpaid:before {\n                display: none;\n            }\n            .sliderSpacer {\n                margin-top: 0;\n            }\n        ")
                        }
                        ,
                        e.prototype.isInView = function() {
                            return isInVerticalView(this.containerElement)
                        }
                        ,
                        e.prototype.monitorPlayerInView = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return n.isInView()
                                            })];
                                        case 1:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("player_in_view"),
                                                t = Date.now(),
                                                [4, waitFor(function() {
                                                    return n.isInView() || (t = Date.now()),
                                                    2e3 < Date.now() - t
                                                })];
                                        case 2:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("billboard_impression_opportunity"),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e
                }()
                    , ClickableOverlay = function() {
                    function n(e, t) {
                        this.onClick = t,
                            this.overlay = this.createOverlay(),
                            e.appendChild(this.overlay),
                            e.classList.add(n.CONTAINER_CLASS_NAME)
                    }
                    return n.prototype.remove = function() {
                        this.log("remove", this.overlay),
                            this.overlay.remove()
                    }
                        ,
                        n.prototype.show = function() {
                            this.log("show", this.overlay),
                                this.overlay.style.display = "block"
                        }
                        ,
                        n.prototype.click = function() {
                            this.log("onClick"),
                                this.onClick(),
                                this.remove()
                        }
                        ,
                        n.prototype.createOverlay = function() {
                            var e = this
                                , t = document.createElement("div");
                            return t.classList.add(n.CLASS_NAME),
                                (t = this.applyDefaultStyling(t)).addEventListener("click", function() {
                                    e.click()
                                }),
                                t
                        }
                        ,
                        n.prototype.applyDefaultStyling = function(e) {
                            return e.style.position = "absolute",
                                e.style.top = "0",
                                e.style.left = "0",
                                e.style.width = "100%",
                                e.style.height = "100%",
                                e.style.zIndex = "10",
                                e.style.cursor = "pointer",
                                e.style.background = "transparent",
                                e
                        }
                        ,
                        n.prototype.log = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            carodaConsole.info.apply(carodaConsole, ["ClickableOverlay"].concat(e))
                        }
                        ,
                        n.CONTAINER_CLASS_NAME = "caroda-clickable-overlay-container",
                        n.CLASS_NAME = "caroda-clickable-overlay",
                        n
                }()
                    , ContentPlayerFreezer = function() {
                    function t(e) {
                        this.contentPlayer = e
                    }
                    return t.prototype.freeze = function() {
                        this.freezeInterval || (this.log("freeze"),
                            this.freezeTime = this.contentPlayer.getCurrentTime(),
                            this.freezeInterval = this.createFreezeInterval(),
                            this.freezeInstant())
                    }
                        ,
                        t.prototype.unfreeze = function() {
                            this.freezeInterval && (this.log("unfreeze"),
                                clearInterval(this.freezeInterval),
                                this.freezeInterval = void 0,
                                this.freezeTime = void 0),
                                this.contentPlayer.play()
                        }
                        ,
                        t.prototype.log = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            carodaConsole.info.apply(carodaConsole, ["ContentPlayerFreezer"].concat(e))
                        }
                        ,
                        t.prototype.createFreezeInterval = function() {
                            var e = this;
                            return +setInterval(function() {
                                e.freezeInstant()
                            }, t.FREEZE_INTERVAL_MS)
                        }
                        ,
                        t.prototype.freezeInstant = function() {
                            this.contentPlayer.getCurrentTime() !== this.freezeTime && this.contentPlayer.setCurrentTime(this.freezeTime),
                                this.contentPlayer.pause()
                        }
                        ,
                        t.FREEZE_INTERVAL_MS = 100,
                        t
                }();
                function not(n) {
                    return function() {
                        for (var e = [], t = 0; t < arguments.length; t++)
                            e[t] = arguments[t];
                        return !n.apply(void 0, e)
                    }
                }
                var InstreamWithPositionsPlayer = function() {
                    function n(e, t, n, r) {
                        void 0 === r && (r = {}),
                            this.adSlots = [],
                            this.preloadedPlayers = [],
                            this.duration = Number.MAX_SAFE_INTEGER,
                            this.resetAdsCounter = 0,
                            carodaConsole.info("InstreamWithPositionsPlayer", ".constructor", e, n),
                            this.id = "carodaIntstreamWithPositions" + Math.floor(1e6 * Math.random()),
                            this.onPrerollLoaded = n.onPrerollLoaded || function() {}
                            ,
                            this.onPrerollFailed = n.onPrerollFailed || function() {}
                            ,
                            this.volume = "number" == typeof n.volume ? function() {
                                    return n.volume
                                }
                                : n.volume,
                            this.lastAdVolume = this.volume(),
                            this.containerElement = this.initializeContainerElement(),
                            this.tracking = new Tracking(__assign({}, r, {
                                context: __assign({}, r.context || {}, {
                                    adPlacement: "in-stream"
                                }),
                                playerContainer: this.containerElement
                            })),
                            this.tracking.hitPlayerEvent("player_init"),
                            this.adPlayerLoader = t,
                            this.contentPlayerPlaysInline = n.contentPlayerPlaysInline,
                        n.css && appendCss(n.css.replace(/\$carodaPlayer/g, "#" + this.id)),
                            this.positionPlayer(n.zIndex),
                            this.deactivatePlayer(),
                            this.monitorPlayerInView();
                        var i = this.getContentDurationInSecondsPromise(n.contentDurationInSeconds);
                        this.instreamPositions = e,
                            this.prepareAds(i)
                    }
                    return n.prototype.getElement = function() {
                        return this.containerElement
                    }
                        ,
                        n.prototype.getId = function() {
                            return this.id
                        }
                        ,
                        n.prototype.prepareAdBreak = function(e, t, n) {
                            var r = this;
                            if (void 0 === n && (n = null),
                            "playing" !== this.status && ("iOS" !== targetingProfile.os || this.contentPlayerPlaysInline)) {
                                var i = this.getAdSlotForPosition(e, t);
                                if (i)
                                    return this.status = "prepared",
                                        {
                                            play: function() {
                                                return r.playAdSlot(i, n)
                                            }
                                        };
                                t && this.preloadNextAd(t)
                            }
                        }
                        ,
                        n.prototype.resetAds = function(t) {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.lockAdBreakPromise ? [4, this.lockAdBreakPromise] : [3, 2];
                                        case 1:
                                            e.sent(),
                                                e.label = 2;
                                        case 2:
                                            return carodaConsole.info("InstreamWithPositionsPlayer", ".resetAds", t),
                                                this.resetAdsCounter++,
                                                this.adSlots = [],
                                                [4, this.prepareAds(this.getContentDurationInSecondsPromise(t))];
                                        case 3:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.getLastAdVolume = function() {
                            return this.lastAdVolume
                        }
                        ,
                        n.prototype.initializeContainerElement = function() {
                            var e = document.createElement("div");
                            return e.setAttribute("id", this.id),
                                e.classList.add(n.CLASS_NAME),
                                e
                        }
                        ,
                        n.prototype.prepareAds = function(t) {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.preparePrerollAdSlots(),
                                                this.preloadFirstPreroll(),
                                                [4, this.prepareMidrollsAndPostrollsAdSlots(t)];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.getAdSlotForPosition = function(e, t) {
                            switch (e) {
                                case "preroll":
                                    return this.adSlots.find(function(e) {
                                        return "preroll" === e.position
                                    });
                                case "midroll":
                                    return this.getClosestMidroll(t);
                                case "postroll":
                                    return this.adSlots.find(function(e) {
                                        return "postroll" === e.position
                                    })
                            }
                        }
                        ,
                        n.prototype.preparePrerollAdSlots = function() {
                            var e = this.instreamPositions.filter(function(e) {
                                return "preroll" === e.position
                            });
                            this.prepareAdSlots(e)
                        }
                        ,
                        n.prototype.prepareMidrollsAndPostrollsAdSlots = function(r) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return t = this.instreamPositions.filter(function(e) {
                                                return "preroll" !== e.position
                                            }),
                                                n = this,
                                                [4, r];
                                        case 1:
                                            return n.duration = e.sent(),
                                                this.prepareAdSlots(t),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.prepareAdSlots = function(e) {
                            var t = this.adPlayerLoader.transformInstreamPositionsIntoCampaingIdsByPosition(e, this.duration).map(function(e) {
                                var t = e.instreamPositions.filter(function(e) {
                                    var t = e.priorityChain;
                                    return !!(void 0 === t ? [] : t).length
                                });
                                if (t.length)
                                    return __assign({}, e, {
                                        instreamPositions: t
                                    })
                            }).filter(Boolean);
                            this.adSlots = this.adSlots.concat(t),
                                carodaConsole.info("InstreamWithPositionsPlayer", ".prepareAdSlots", JSON.stringify(this.adSlots))
                        }
                        ,
                        n.prototype.preloadFirstPreroll = function() {
                            var e = this.adSlots.find(function(e) {
                                return "preroll" === e.position
                            });
                            e && (carodaConsole.info("InstreamWithPositionsPlayer", ".preloadFirstPreroll", e),
                                this.preloadAd(e))
                        }
                        ,
                        n.prototype.playAdSlot = function(t, n) {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (carodaConsole.info("InstreamWithPositionsPlayer", ".playAdSlot", this.status, t, this.preloadedPlayers),
                                            "prepared" !== this.status)
                                                return [2];
                                            if (this.lastAdVolume = null === n ? this.volume() : n,
                                            this.preloadedPlayers.length || this.preloadAd(t),
                                                !this.preloadedPlayers.length)
                                                return [2];
                                            this.removeAdSlot(t),
                                                this.activatePlayer(),
                                                this.lockAdBreak(),
                                                e.label = 1;
                                        case 1:
                                            return 0 < this.preloadedPlayers.length ? [4, this.playAdAndPreloadNext(t)] : [3, 3];
                                        case 2:
                                            return e.sent(),
                                                [3, 1];
                                        case 3:
                                            return this.unlockAdBreak(),
                                                this.deactivatePlayer(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.removeAdSlot = function(t) {
                            "postroll" === t.position ? this.adSlots = [] : this.adSlots = this.adSlots.filter(function(e) {
                                return e.position !== t.position
                            })
                        }
                        ,
                        n.prototype.preloadAd = function(e) {
                            var t = this;
                            if (!e || !e.instreamPositions.length)
                                return !1;
                            var n = e.instreamPositions
                                , r = n.splice(0, 1)[0];
                            carodaConsole.info("InstreamWithPositionsPlayer", "preloadAd", r, this.lastAdVolume);
                            var i = this.createPreloadedPlayerContainer()
                                , a = r.overrideSkipBehavior
                                , o = r.fixedSkipOffset
                                , s = this.adPlayerLoader.loadInstreamWithPositionsAdSlot(i, __assign({
                                adsGroup: this.id + "-" + e.position + "-" + this.resetAdsCounter,
                                campaigns: r.priorityChain,
                                id: this.id + "-" + e.position + "-" + n.length + "-" + this.resetAdsCounter,
                                startMuted: 0 === this.lastAdVolume
                            }, a === OverrideSkipBehavior.Hide ? {
                                hideSkipButton: !0
                            } : {}, a === OverrideSkipBehavior.Fixed ? {
                                hideSkipButton: !1,
                                fixedSkipOffset: o
                            } : {}), this.lastAdVolume, function(e) {
                                mergeTrackingContext(t.tracking, e),
                                t.onPrerollLoaded && waitFor(function() {
                                    return e.canPlayAd() || e.isError()
                                }).then(function() {
                                    t.onPrerollLoaded && (e.isError() ? t.onPrerollFailed() : t.onPrerollLoaded(),
                                        t.onPrerollLoaded = void 0,
                                        t.onPrerollFailed = void 0)
                                })
                            }, function() {
                                t.onPrerollLoaded && (t.onPrerollFailed(),
                                    t.onPrerollLoaded = void 0,
                                    t.onPrerollFailed = void 0)
                            });
                            return this.preloadedPlayers.push({
                                container: i,
                                playAd: s
                            }),
                                !0
                        }
                        ,
                        n.prototype.createPreloadedPlayerContainer = function() {
                            var e = document.createElement("div");
                            e.classList.add(n.PRELOADED_PLAYER_CONTAINER_CLASS_NAME);
                            var t = this.containerElement.querySelector("." + n.PRELOADED_PLAYER_CONTAINER_CLASS_NAME);
                            return t ? this.containerElement.insertBefore(e, t) : this.containerElement.appendChild(e),
                                e
                        }
                        ,
                        n.prototype.playAdAndPreloadNext = function(a) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (!this.preloadedPlayers.length)
                                                return [2, Promise.resolve()];
                                            carodaConsole.info("InstreamWithPositionsPlayer", "playAdAndPreloadNext"),
                                                this.tracking.hitPlayerEvent("instream_impression_opportunity"),
                                                t = this.preloadedPlayers.splice(0, 1)[0],
                                                e.label = 1;
                                        case 1:
                                            return e.trys.push([1, 4, , 5]),
                                                r = t.playAd(this.lastAdVolume),
                                                [4, this.threeSecondsIntoAd(r)];
                                        case 2:
                                            return e.sent(),
                                                this.preloadAd(a),
                                                [4, r];
                                        case 3:
                                            return n = e.sent(),
                                                [3, 5];
                                        case 4:
                                            return i = e.sent(),
                                                carodaConsole.info("InstreamWithPositionsPlayer", "playAdAndPreloadNext", "error playing ad", i),
                                                [3, 5];
                                        case 5:
                                            return n && (this.lastAdVolume = n.getVolume()),
                                                this.deactivatePreloadedPlayerContainer(t.container),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.threeSecondsIntoAd = function(e) {
                            return Promise.race([e, new Promise(function(e) {
                                    return setTimeout(e, 3e3)
                                }
                            )])
                        }
                        ,
                        n.prototype.deactivatePreloadedPlayerContainer = function(e) {
                            e.remove()
                        }
                        ,
                        n.prototype.positionPlayer = function(e) {
                            this.containerElement.style.position = "absolute",
                                this.containerElement.style.top = "0px",
                                this.containerElement.style.left = "0px",
                                this.containerElement.style.width = "100%",
                                this.containerElement.style.height = "100%",
                                this.containerElement.style.zIndex = "" + (e || "auto")
                        }
                        ,
                        n.prototype.deactivatePlayer = function() {
                            this.status = "idle",
                                this.containerElement.style.visibility = "hidden",
                                this.containerElement.style.pointerEvents = "none"
                        }
                        ,
                        n.prototype.activatePlayer = function() {
                            this.status = "playing",
                                this.containerElement.style.visibility = "visible",
                                this.containerElement.style.pointerEvents = "auto"
                        }
                        ,
                        n.prototype.getClosestMidroll = function(n) {
                            if (n < 1) {
                                var e = this.adSlots.find(function(e) {
                                    return "preroll" === e.position
                                });
                                if (e)
                                    return e
                            }
                            var t = this.getMidrolls().filter(function(e) {
                                var t = e.position;
                                return parseFloat(t) < n
                            })
                                , r = t.slice(1);
                            return this.adSlots = this.adSlots.filter(function(e) {
                                var n = e.position;
                                return !r.find(function(e) {
                                    var t = e.position;
                                    return n === t
                                })
                            }),
                                t[0]
                        }
                        ,
                        n.prototype.getMidrolls = function() {
                            return this.adSlots.filter(function(e) {
                                var t = e.position;
                                return "preroll" !== t && "postroll" !== t
                            })
                        }
                        ,
                        n.prototype.preloadNextAd = function(e) {
                            0 < this.preloadedPlayers.length || (e + 3 >= this.duration ? this.preloadPostroll() : this.preloadNextMidrolls(e + 3))
                        }
                        ,
                        n.prototype.preloadPostroll = function() {
                            var e = this.adSlots.find(function(e) {
                                return "postroll" === e.position
                            });
                            this.preloadAd(e)
                        }
                        ,
                        n.prototype.preloadNextMidrolls = function(n) {
                            var t = this;
                            this.getMidrolls().filter(function(e) {
                                var t = e.position;
                                return parseFloat(t) < n
                            }).forEach(function(e) {
                                t.preloadAd(e)
                            })
                        }
                        ,
                        n.prototype.monitorPlayerInView = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return t.isInView()
                                            })];
                                        case 1:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("player_in_view"),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        n.prototype.isInView = function() {
                            return isInVerticalView(this.containerElement)
                        }
                        ,
                        n.prototype.getContentDurationInSecondsPromise = function(e) {
                            return "number" == typeof e ? Promise.resolve(e) : e
                        }
                        ,
                        n.prototype.lockAdBreak = function() {
                            var t = this;
                            this.lockAdBreakPromise = new Promise(function(e) {
                                    t.lockAdBreakResolve = e
                                }
                            )
                        }
                        ,
                        n.prototype.unlockAdBreak = function() {
                            this.lockAdBreakResolve && this.lockAdBreakResolve()
                        }
                        ,
                        n.CLASS_NAME = "carodaInstreamWithPositions",
                        n.PRELOADED_PLAYER_CONTAINER_CLASS_NAME = "caroda-preloaded-player",
                        n
                }()
                    , InstreamInContentPlayer = function() {
                    function a(e, n, t, r) {
                        var i = this;
                        this.prerollCalled = !1,
                            this.validateContentPlayer(e),
                            this.playerOptions = r,
                            this.instreamPositions = n,
                            this.id = this.getOrInitializeId(e),
                            this.log(".constructor", e),
                            this.contentPlayer = e,
                            this.createClickableOverlay(),
                            this.spinner = new Spinner(this.contentPlayer.getContainer()),
                            this.freezer = new ContentPlayerFreezer(this.contentPlayer),
                            this.pauseIfAutoplay(),
                            this.addCues(),
                            t().then(function(t) {
                                return __awaiter(i, void 0, void 0, function() {
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.adPlayerLoader = t,
                                                    this.initiateIfAutoplay(),
                                                    [4, this.resolveReadyForAdsTimeInSeconds()];
                                            case 1:
                                                return e.sent(),
                                                    this.loadInstream(r.skipPrerolls ? n.filter(not(isPreroll)) : n, r),
                                                    [2]
                                        }
                                    })
                                })
                            })
                    }
                    return a.prototype.resetAds = function(n) {
                        return __awaiter(this, void 0, void 0, function() {
                            var t = this;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        return this.addCues(Promise.resolve(n)),
                                            this.prerollCalled && "preroll" !== this.currentlyPlaying ? [4, waitFor(function() {
                                                return !t.currentlyPlaying
                                            })] : [2];
                                    case 1:
                                        return e.sent(),
                                            [4, this.instreamWithPositionsPlayer.resetAds(n)];
                                    case 2:
                                        return e.sent(),
                                            this.prerollCalled = !1,
                                            this.createClickableOverlay(),
                                            this.readyForAdsTimeInSeconds = void 0,
                                            this.resolveReadyForAdsTimeInSeconds(),
                                            [2]
                                }
                            })
                        })
                    }
                        ,
                        a.prototype.createClickableOverlay = function() {
                            var e = this;
                            if (!this.clickableOverlay) {
                                var t = this.contentPlayer.getContainer();
                                this.clickableOverlay = new ClickableOverlay(t,function() {
                                        return e.onClickableOverlayClick()
                                    }
                                )
                            }
                        }
                        ,
                        a.prototype.clickClickableOverlay = function() {
                            this.clickableOverlay && (this.clickableOverlay.click(),
                                this.clickableOverlay = void 0)
                        }
                        ,
                        a.prototype.removeClickableOverlay = function() {
                            this.clickableOverlay && (this.clickableOverlay.remove(),
                                this.clickableOverlay = void 0)
                        }
                        ,
                        a.prototype.validateContentPlayer = function(t) {
                            var n = [];
                            if (["getContainer", "getCurrentTime", "getDuration", "getVolume", "isAutoplay", "isMuted", "onEnded", "onTimeUpdate", "pause", "play", "setCurrentTime"].forEach(function(e) {
                                t[e] || n.push(e)
                            }),
                                n.length)
                                throw new Error("content player must implement " + n.join(", "))
                        }
                        ,
                        a.prototype.getOrInitializeId = function(e) {
                            var t = e.getContainer();
                            if (t.id)
                                return t.id;
                            var n = "caroda-instream-in-content-player-" + Math.floor(1e9 * Math.random());
                            return t.setAttribute("id", n),
                                n
                        }
                        ,
                        a.prototype.log = function() {
                            for (var e = [], t = 0; t < arguments.length; t++)
                                e[t] = arguments[t];
                            carodaConsole.info.apply(carodaConsole, ["InstreamInContentPlayer", this.id].concat(e))
                        }
                        ,
                        a.prototype.onClickableOverlayClick = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.log("onClickableOverlayClick"),
                                                this.contentPlayer.play(),
                                                this.contentPlayer.pause(),
                                                [4, this.processPreroll()];
                                        case 1:
                                            return e.sent(),
                                                this.contentPlayer.play(),
                                                this.clickableOverlay = void 0,
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.processPreroll = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    return !this.isReadyForAds() || this.prerollCalled || this.currentlyPlaying || !this.clickableOverlay ? [2] : (this.prerollCalled = !0,
                                        this.log("processPreroll"),
                                        this.removeClickableOverlay(),
                                        this.isPiP() ? [2] : (t = this.prepareAdBreak("preroll"),
                                            this.updateCurrentlyPlaying("preroll"),
                                            t ? [2, this.playAdBreakAndResume(t)] : (this.updateCurrentlyPlaying(void 0),
                                                [2])))
                                })
                            })
                        }
                        ,
                        a.prototype.isPiP = function() {
                            var e = document.pictureInPictureElement;
                            return e && e.id === this.contentPlayer.getContainer().id
                        }
                        ,
                        a.prototype.playAdBreakAndResume = function(r) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            this.log("playAdBreakAndResume", {
                                                adBreakPlayer: r
                                            }),
                                                this.freezer.freeze(),
                                                this.spinner.show(),
                                                e.label = 1;
                                        case 1:
                                            return e.trys.push([1, 3, , 4]),
                                                [4, r.play()];
                                        case 2:
                                            return e.sent(),
                                                this.log("playAdBreakAndResume", "played"),
                                                [3, 4];
                                        case 3:
                                            return t = e.sent(),
                                                this.log("playAdBreakAndResume", "error playing", t),
                                                [3, 4];
                                        case 4:
                                            return this.spinner.hide(),
                                                this.freezer.unfreeze(),
                                                n = this.instreamWithPositionsPlayer.getLastAdVolume(),
                                            this.contentPlayer.setVolume && n && this.contentPlayer.setVolume(n),
                                                this.updateCurrentlyPlaying(void 0),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.pauseIfAutoplay = function() {
                            "user-initiated" !== getAutoplayBehaviour(this.contentPlayer) && (this.log("pauseIfAutoplay", "pausing"),
                                this.contentPlayer.pause())
                        }
                        ,
                        a.prototype.loadInstream = function(e, t) {
                            var n = this;
                            this.instreamWithPositionsPlayer = new InstreamWithPositionsPlayer(e,this.adPlayerLoader,__assign({
                                contentPlayerPlaysInline: !0,
                                css: t.css
                            }, t, {
                                contentDurationInSeconds: this.contentPlayer.getDuration(),
                                volume: function() {
                                    return n.getVolume()
                                }
                            }),{
                                context: {
                                    contentPlayer: this.contentPlayer
                                }
                            });
                            var r = this.instreamWithPositionsPlayer.prepareAdBreak.bind(this.instreamWithPositionsPlayer);
                            this.runPlayerAds(r),
                                this.contentPlayer.getContainer().appendChild(this.instreamWithPositionsPlayer.getElement())
                        }
                        ,
                        a.prototype.getVolume = function() {
                            return this.contentPlayer.isMuted() ? 0 : this.contentPlayer.getVolume()
                        }
                        ,
                        a.prototype.runPlayerAds = function(e) {
                            this.log("runPlayerAds"),
                                this.prepareAdBreak = e,
                                this.registerAdBreaks(),
                                this.registerPlaylistBehavior()
                        }
                        ,
                        a.prototype.registerAdBreaks = function() {
                            var e = this;
                            this.log("registerAdBreaks"),
                                this.contentPlayer.onTimeUpdate(function() {
                                    return e.processMidroll()
                                }),
                                this.contentPlayer.onEnded(function() {
                                    return e.processPostroll()
                                })
                        }
                        ,
                        a.prototype.processMidroll = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n;
                                return __generator(this, function(e) {
                                    return !this.isReadyForAds() || this.isPiP() || this.currentlyPlaying ? [2] : (t = this.contentPlayer.getCurrentTime(),
                                        t - this.readyForAdsTimeInSeconds < a.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS ? (this.processPreroll(),
                                            [2]) : (n = this.prepareAdBreak("midroll", t)) ? (this.log("processMidroll"),
                                            this.updateCurrentlyPlaying("midroll"),
                                            [2, this.playAdBreakAndResume(n)]) : [2])
                                })
                            })
                        }
                        ,
                        a.prototype.processPostroll = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.currentlyPlaying ? [2] : (t = this.playerOptions.onPostrollEnd || function() {}
                                                ,
                                                !this.isReadyForAds() || this.isPiP() ? (t(),
                                                    [2]) : (n = this.prepareAdBreak("postroll"),
                                                    this.updateCurrentlyPlaying("postroll"),
                                                    n ? (this.log("processPostroll"),
                                                        [4, this.playPostroll(n)]) : (t(),
                                                        this.updateCurrentlyPlaying(void 0),
                                                        [2])));
                                        case 1:
                                            return e.sent(),
                                                t(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.playPostroll = function(n) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            this.spinner.show(),
                                                e.label = 1;
                                        case 1:
                                            return e.trys.push([1, 3, , 4]),
                                                [4, n.play()];
                                        case 2:
                                            return e.sent(),
                                                this.log("playPostroll", "played"),
                                                [3, 4];
                                        case 3:
                                            return t = e.sent(),
                                                this.log("playPostroll", "error playing", t),
                                                [3, 4];
                                        case 4:
                                            return this.updateCurrentlyPlaying(void 0),
                                                this.spinner.hide(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.initiateIfAutoplay = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return "user-initiated" === (t = getAutoplayBehaviour(this.contentPlayer)) ? [2] : "viewable" !== t ? [3, 2] : [4, waitUntilInView(this.contentPlayer.getContainer())];
                                        case 1:
                                            e.sent(),
                                                e.label = 2;
                                        case 2:
                                            return this.log("initiateIfAutoplay", "initiating"),
                                                [4, new Promise(function(e) {
                                                        return setTimeout(e, 0)
                                                    }
                                                )];
                                        case 3:
                                            return e.sent(),
                                                this.clickableOverlay ? (this.clickClickableOverlay(),
                                                    [2]) : [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.updateCurrentlyPlaying = function(e) {
                            !e && this.playerOptions.onAdBreakEnd && this.playerOptions.onAdBreakEnd(this.currentlyPlaying),
                                this.currentlyPlaying = e,
                                this.instreamWithPositionsPlayer.tracking.context.adBreakPosition = this.currentlyPlaying,
                            e && this.playerOptions.onAdBreakStart && this.playerOptions.onAdBreakStart(e)
                        }
                        ,
                        a.prototype.registerPlaylistBehavior = function() {
                            var e = this;
                            this.contentPlayer.onPlaylistItemChange && this.contentPlayer.onPlaylistItemChange(function(i) {
                                return __awaiter(e, void 0, void 0, function() {
                                    var t, n, r = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return this.log(".registerPlaylistBehavior", ".onPlaylistItemChange", i),
                                                    t = "preroll" === this.currentlyPlaying,
                                                    i && i instanceof VideoElementContentPlayer ? [4, waitFor(function() {
                                                        return !r.currentlyPlaying
                                                    })] : [3, 2];
                                            case 1:
                                                return e.sent(),
                                                    i.isInDOM() ? (this.contentPlayer.disconnect && this.contentPlayer.disconnect(),
                                                        this.removeClickableOverlay(),
                                                        this.log(".registerPlaylistBehavior", ".onPlaylistItemChange", "new InstreamInContentPlayer"),
                                                        [2, new a(i,this.instreamPositions,function() {
                                                                return __awaiter(r, void 0, void 0, function() {
                                                                    return __generator(this, function(e) {
                                                                        return [2, this.adPlayerLoader]
                                                                    })
                                                                })
                                                            }
                                                            ,__assign({}, this.playerOptions, {
                                                                forceAutoplay: !0,
                                                                skipPrerolls: t
                                                            }))]) : (this.log(".registerPlaylistBehavior", ".onPlaylistItemChange", "new video element no longer in DOM"),
                                                        [2]);
                                            case 2:
                                                return !this.prerollCalled || t ? (this.log(".registerPlaylistBehavior", ".onPlaylistItemChange", "preroll not called or being played"),
                                                    this.addCues(Promise.resolve(this.contentPlayer.getDuration())),
                                                    [2]) : (this.freezer.freeze(),
                                                    [4, waitFor(function() {
                                                        return !r.currentlyPlaying
                                                    })]);
                                            case 3:
                                                return e.sent(),
                                                    [4, this.waitForPostrollToFinish()];
                                            case 4:
                                                return e.sent(),
                                                    n = this.contentPlayer.getDuration(),
                                                    [4, this.resetAds(n)];
                                            case 5:
                                                return e.sent(),
                                                    [4, this.processPreroll()];
                                            case 6:
                                                return e.sent(),
                                                    this.freezer.unfreeze(),
                                                    [2]
                                        }
                                    })
                                })
                            })
                        }
                        ,
                        a.prototype.waitForPostrollToFinish = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return "postroll" !== t.currentlyPlaying
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.addCues = function(n) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.playerOptions.addCues ? [4, this.getCuesPositions(n)] : [2];
                                        case 1:
                                            return t = e.sent(),
                                                this.playerOptions.addCues(t),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.getCuesPositions = function(t) {
                            return __awaiter(this, void 0, void 0, function() {
                                var n;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, t || this.contentPlayer.getDuration()];
                                        case 1:
                                            return n = e.sent(),
                                                [2, this.instreamPositions.filter(function(e) {
                                                    return "midroll" === e.position
                                                }).map(function(e) {
                                                    var t = e.break;
                                                    return "seconds" === e.unit ? t : .01 * t * n
                                                })]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.resolveReadyForAdsTimeInSeconds = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.playerOptions.getReadyForAds ? [4, this.playerOptions.getReadyForAds()] : [3, 2];
                                        case 1:
                                            return e.sent(),
                                                this.readyForAdsTimeInSeconds = this.contentPlayer.getCurrentTime(),
                                                this.createClickableOverlay(),
                                                [3, 3];
                                        case 2:
                                            this.readyForAdsTimeInSeconds = 0,
                                                e.label = 3;
                                        case 3:
                                            return [2]
                                    }
                                })
                            })
                        }
                        ,
                        a.prototype.isReadyForAds = function() {
                            return null != this.readyForAdsTimeInSeconds
                        }
                        ,
                        a.PLAYBACK_PERIOD_FOR_PREROLL_SECONDS = 5,
                        a
                }();
                function isPreroll(e) {
                    return "preroll" === e.position
                }
                var InstreamPlayer = function() {
                    function e(e, t, n) {
                        void 0 === n && (n = {}),
                            carodaConsole.info("InstreamPlayer", ".constructor", e, t),
                            this.id = "carodaContent" + Math.floor(1e6 * Math.random()),
                            this.containerElement = document.createElement("div"),
                            this.containerElement.classList.add("carodaInstream"),
                            this.containerElement.id = this.id,
                            this.autoplay = n.autoplay,
                            this.tracking = new Tracking({
                                context: {
                                    adPlacement: "in-stream"
                                },
                                playerContainer: this.containerElement
                            }),
                            this.tracking.hitPlayerEvent("player_init"),
                            carodaConsole.info("InstreamPlayer", ".constructor", e, t),
                            this.contentPlayer = new ContentPlayer({
                                autoplay: this.autoplay,
                                container: this.containerElement,
                                disablePlayUnmutedScreen: !1 !== n.disablePlayUnmutedScreen,
                                fallbackSource: t,
                                fullScreenContainer: this.containerElement,
                                loop: n.loop,
                                muted: n.muted,
                                poster: n.poster,
                                vid: e || "novid"
                            }),
                        n.css && appendCss(n.css.replace(/\$carodaPlayer/g, "#" + this.id)),
                            this.monitorPlayerInView(),
                            this.addPlayerEventListeners(),
                            this.monitorPlayerFullScreen()
                    }
                    return e.getAssetIdAndUrl = function(i, a) {
                        return __awaiter(this, void 0, void 0, function() {
                            var t, n, r;
                            return __generator(this, function(e) {
                                switch (e.label) {
                                    case 0:
                                        if (carodaConsole.info("InstreamPlayer", "getAssetIdAndUrl", i, a),
                                            t = "caroda.migrations." + btoa(i),
                                            !i.match(/^http/))
                                            return [3, 2];
                                        try {
                                            if ((n = JSON.parse(localStorageHelper.getItem(t))) && n.ts < Date.now() + 108e5)
                                                return [2, [n.value, null]]
                                        } catch (e) {
                                            carodaConsole.info("InstreamPlayer", "getAssetIdAndUrl", i, "not cached", e.message)
                                        }
                                        return [4, ApiInstance.getMigratedAssetIdAndUrl(i, a)];
                                    case 1:
                                        return (r = e.sent())[0] && !r[1] && localStorageHelper.setItem(t, JSON.stringify({
                                            value: r[0],
                                            ts: Date.now()
                                        })),
                                            [2, r];
                                    case 2:
                                        return [2, [i, null]]
                                }
                            })
                        })
                    }
                        ,
                        e.prototype.getElement = function() {
                            return this.containerElement
                        }
                        ,
                        e.prototype.getContainer = function() {
                            return this.containerElement
                        }
                        ,
                        e.prototype.play = function() {
                            this.contentPlayer.play()
                        }
                        ,
                        e.prototype.paused = function() {
                            return this.contentPlayer.paused()
                        }
                        ,
                        e.prototype.pause = function() {
                            this.contentPlayer.pause()
                        }
                        ,
                        e.prototype.volume = function(e) {
                            carodaConsole.info("InstreamPlayer", ".volume", e),
                                this.contentPlayer.volume(Math.min(Math.max(e, 0), 1))
                        }
                        ,
                        e.prototype.unmute = function() {
                            carodaConsole.info("InstreamPlayer", ".unmute"),
                                this.contentPlayer.unmute()
                        }
                        ,
                        e.prototype.mute = function() {
                            carodaConsole.info("InstreamPlayer", ".mute"),
                                this.contentPlayer.mute()
                        }
                        ,
                        e.prototype.isAutoplay = function() {
                            return this.autoplay
                        }
                        ,
                        e.prototype.getCurrentTime = function() {
                            return this.contentPlayer.currentTime
                        }
                        ,
                        e.prototype.setCurrentTime = function(e) {
                            this.contentPlayer.seek(e)
                        }
                        ,
                        e.prototype.getDuration = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return t.contentPlayer.duration
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2, this.contentPlayer.duration]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.getVolume = function() {
                            return this.contentPlayer.volume
                        }
                        ,
                        e.prototype.isMuted = function() {
                            return this.contentPlayer.muted
                        }
                        ,
                        e.prototype.on = function(e, t) {
                            carodaConsole.info("InstreamPlayer", ".on", e),
                            "ended" === e && (e = "complete"),
                                this.contentPlayer.addEventListener(e, t)
                        }
                        ,
                        e.prototype.onTimeUpdate = function(t) {
                            var n = this;
                            this.on("timeUpdate", function(e) {
                                0 < n.contentPlayer.currentTime && t(e)
                            })
                        }
                        ,
                        e.prototype.onEnded = function(e) {
                            this.on("complete", e)
                        }
                        ,
                        e.prototype.off = function(e, t) {
                            carodaConsole.error("InstreamPlayer", ".off", e, "not implemented")
                        }
                        ,
                        e.prototype.destroy = function() {
                            carodaConsole.info("InstreamPlayer", ".destroy"),
                                this.containerElement.remove()
                        }
                        ,
                        e.prototype.addPlayerEventListeners = function() {
                            var e = this;
                            carodaConsole.info("InstreamPlayer", ".addPlayerEventListeners"),
                                this.contentPlayer.addEventListener("play", function() {
                                    return e.tracking.hitPlayerEvent("play")
                                }),
                                this.contentPlayer.addEventListener("pause", function() {
                                    return e.tracking.hitPlayerEvent("pause")
                                }),
                                this.contentPlayer.addEventListener("seek", function() {
                                    return e.tracking.hitPlayerEvent("seek")
                                }),
                                this.contentPlayer.addEventListener("complete", function() {
                                    return e.tracking.hitPlayerEvent("complete")
                                }),
                                this.contentPlayer.addEventListener("resume", function() {
                                    return e.tracking.hitPlayerEvent("resume")
                                })
                        }
                        ,
                        e.prototype.isInView = function() {
                            var e = this.containerElement.getBoundingClientRect()
                                , t = window.innerHeight || document.documentElement.clientHeight
                                , n = window.innerWidth || document.documentElement.clientWidth;
                            return e.top >= -e.height / 2 && 0 <= e.left && e.bottom <= t + e.height / 2 && e.right <= n
                        }
                        ,
                        e.prototype.isFullScreen = function() {
                            return !!this.containerElement.querySelector(".caroda-content-fullscreen")
                        }
                        ,
                        e.prototype.monitorPlayerInView = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return t.isInView()
                                            })];
                                        case 1:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("player_in_view"),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.monitorPlayerFullScreen = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    return setInterval(function() {
                                        t.isFullScreen() ? t.containerElement.classList.add("carodaFullscreen") : t.containerElement.classList.remove("carodaFullscreen")
                                    }, 500),
                                        [2]
                                })
                            })
                        }
                        ,
                        e
                }()
                    , now = function() {
                    return _root.Date.now()
                }
                    , now_1 = now
                    , FUNC_ERROR_TEXT$1 = "Expected a function"
                    , nativeMax = Math.max
                    , nativeMin = Math.min;
                function debounce(r, i, e) {
                    var a, o, s, u, c, l, d = 0, f = !1, p = !1, t = !0;
                    if ("function" != typeof r)
                        throw new TypeError(FUNC_ERROR_TEXT$1);
                    function h(e) {
                        var t = a
                            , n = o;
                        return a = o = void 0,
                            d = e,
                            u = r.apply(n, t)
                    }
                    function g(e) {
                        var t = e - l;
                        return void 0 === l || i <= t || t < 0 || p && s <= e - d
                    }
                    function m() {
                        var e, t, n = now_1();
                        if (g(n))
                            return y(n);
                        c = setTimeout(m, (t = i - ((e = n) - l),
                            p ? nativeMin(t, s - (e - d)) : t))
                    }
                    function y(e) {
                        return c = void 0,
                            t && a ? h(e) : (a = o = void 0,
                                u)
                    }
                    function n() {
                        var e, t = now_1(), n = g(t);
                        if (a = arguments,
                            o = this,
                            l = t,
                            n) {
                            if (void 0 === c)
                                return d = e = l,
                                    c = setTimeout(m, i),
                                    f ? h(e) : u;
                            if (p)
                                return clearTimeout(c),
                                    c = setTimeout(m, i),
                                    h(l)
                        }
                        return void 0 === c && (c = setTimeout(m, i)),
                            u
                    }
                    return i = toNumber_1(i) || 0,
                    isObject_1(e) && (f = !!e.leading,
                        s = (p = "maxWait"in e) ? nativeMax(toNumber_1(e.maxWait) || 0, i) : s,
                        t = "trailing"in e ? !!e.trailing : t),
                        n.cancel = function() {
                            void 0 !== c && clearTimeout(c),
                                a = l = o = c = void (d = 0)
                        }
                        ,
                        n.flush = function() {
                            return void 0 === c ? u : y(now_1())
                        }
                        ,
                        n
                }
                var debounce_1 = debounce
                    , FUNC_ERROR_TEXT$2 = "Expected a function";
                function throttle(e, t, n) {
                    var r = !0
                        , i = !0;
                    if ("function" != typeof e)
                        throw new TypeError(FUNC_ERROR_TEXT$2);
                    return isObject_1(n) && (r = "leading"in n ? !!n.leading : r,
                        i = "trailing"in n ? !!n.trailing : i),
                        debounce_1(e, t, {
                            leading: r,
                            maxWait: t,
                            trailing: i
                        })
                }
                var throttle_1 = throttle
                    , OutstreamPlayer = function() {
                    function r(e, t) {
                        void 0 === t && (t = {});
                        var n = this;
                        carodaConsole.info("OutstreamPlayer", ".constructor", t),
                            this.id = "carodaOutstream" + Math.floor(1e6 * Math.random()),
                            this.adPlayerLoader = e,
                            this.containerElement = document.createElement("div"),
                            this.containerElement.classList.add("carodaOutstream"),
                            this.containerElement.setAttribute("id", this.id),
                            this.tracking = new Tracking({
                                context: __assign({}, t.trackingConfig && t.trackingConfig.context || {}),
                                playerContainer: this.containerElement
                            }),
                            this.locale = targetingProfile.locale,
                            this.isSlider = Boolean(t.isSlider) || Boolean(window.carodaForceSlider) || Boolean(window.location.href.match(/carodaForceSlider=true/)),
                            this.isSingleAd = Boolean(t.isSingleAd) || Boolean(window.carodaForceSingleAd) || Boolean(window.location.href.match(/carodaForceSingleAd=true/)),
                            this.isClickable = Boolean(t.isClickable),
                            this.forceMobileStandardWidth = Boolean(t.forceMobileStandardWidth),
                            this.status = "not-loaded",
                        this.isClickable && this.adPlayerLoader.loadClickableOutstreamAdSlot(this.containerElement, function(e) {
                            return mergeTrackingContext(n.tracking, e)
                        }).then(function(e) {
                            n.adPlayerFrame = e,
                                n.isClickableLoaded = !0
                        }),
                        t.css && appendCss(t.css.replace(/\$carodaContainer/g, "#" + this.getId() + "Container").replace(/\$carodaPlayer/g, "#" + this.getId())),
                        t.marginRaw && appendCss("#" + this.getId() + "Container {\n                min-height: 0.1px !important;\n                margin-top: " + t.marginRaw.top + " !important;\n                margin-bottom: " + t.marginRaw.bottom + " !important;\n            }"),
                        t.maxWidth && appendCss("#" + this.getId() + "Container {\n                max-width: " + t.maxWidth + "px !important;\n                margin-left: auto !important;\n                margin-right: auto !important;\n            }"),
                        t.css && appendCss(t.css.replace(/\$container/g, "#" + this.getId() + "Container")),
                            this.applyStyles(t.styles || {}),
                            this.tracking.hitPlayerEvent("player_init"),
                            this.monitorPlayerInView(),
                            this.style = {
                                padding: {
                                    bottom: lodash_1(t, "padding.bottom", 20),
                                    top: lodash_1(t, "padding.top", 30)
                                }
                            },
                            this.waitForAdLoadAndAddBorders()
                    }
                    return r.adjustMobileMargins = function(e) {
                        e.style.overflow = "visible",
                            e.style.maxWidth = "100vw",
                            e.style.width = "100vw",
                            e.style.marginLeft = "-50px";
                        for (var t = -50; e.getBoundingClientRect().x < 0 && t < 0; )
                            t++,
                                e.style.marginLeft = t + "px";
                        carodaConsole.info("OutstreamPlayer", ".adjustMobileMargins", "adjusted to", t),
                        -50 === t && e.setAttribute("style", "")
                    }
                        ,
                        r.prototype.getElement = function() {
                            return this.containerElement
                        }
                        ,
                        r.prototype.getId = function() {
                            return this.id
                        }
                        ,
                        r.prototype.getAdPlayerLoader = function() {
                            return this.adPlayerLoader
                        }
                        ,
                        r.prototype.getAdPlayerFrame = function() {
                            return this.adPlayerFrame
                        }
                        ,
                        r.prototype.play = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("OutstreamPlayer", ".play"),
                                                this.isSlider ? [4, this.adPlayerLoader.loadOutstreamSliderAdSlot(this.getElement(), {
                                                    isSingleAd: this.isSingleAd,
                                                    onPlayerReady: this.onAdPlayerReady.bind(this)
                                                }).play()] : [3, 2];
                                        case 1:
                                            return e.sent(),
                                                [3, 15];
                                        case 2:
                                            if (!this.isClickable)
                                                return [3, 13];
                                            carodaConsole.info("OutstreamPlayer", ".play", "clickable"),
                                                e.label = 3;
                                        case 3:
                                            return e.trys.push([3, 10, , 12]),
                                                this.isClickableLoaded ? (carodaConsole.info("OutstreamPlayer", ".play", "clickable", "loaded immediately", "unmuted"),
                                                    (t = this.adPlayerFrame) ? [4, t.unfreeze(!0)] : [3, 5]) : [3, 6];
                                        case 4:
                                            e.sent(),
                                                e.label = 5;
                                        case 5:
                                            return [3, 9];
                                        case 6:
                                            return carodaConsole.info("OutstreamPlayer", ".play", "clickable", "waiting"),
                                                [4, waitFor(function() {
                                                    return r.isClickableLoaded
                                                })];
                                        case 7:
                                            return e.sent(),
                                                carodaConsole.info("OutstreamPlayer", ".play", "clickable", "loaded delayed"),
                                                [4, (t = this.adPlayerFrame).unfreeze()];
                                        case 8:
                                            e.sent(),
                                                e.label = 9;
                                        case 9:
                                            return [3, 12];
                                        case 10:
                                            return n = e.sent(),
                                                carodaConsole.info("OutstreamPlayer", ".play", "clickable", "failed, trying unclickable", n.message),
                                                [4, this.adPlayerLoader.loadOutstreamAdSlot(this.getElement(), this.onAdPlayerReady.bind(this))];
                                        case 11:
                                            return e.sent(),
                                                [3, 12];
                                        case 12:
                                            return [3, 15];
                                        case 13:
                                            return [4, this.adPlayerLoader.loadOutstreamAdSlot(this.getElement(), this.onAdPlayerReady.bind(this))];
                                        case 14:
                                            e.sent(),
                                                e.label = 15;
                                        case 15:
                                            return this.status = "finished",
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        r.prototype.waitForStart = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return "loaded" === t.status || "finished" === t.status
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        r.prototype.waitForEnd = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return "finished" === t.status
                                            })];
                                        case 1:
                                            return e.sent(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        r.prototype.isForceMobileStandardWidth = function() {
                            return this.forceMobileStandardWidth
                        }
                        ,
                        r.prototype.onAdPlayerReady = function(e) {
                            mergeTrackingContext(this.tracking, e)
                        }
                        ,
                        r.prototype.isInView = function() {
                            return isInVerticalView(this.containerElement)
                        }
                        ,
                        r.prototype.monitorPlayerInView = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return [4, waitFor(function() {
                                                return n.isInView()
                                            })];
                                        case 1:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("player_in_view"),
                                                t = Date.now(),
                                                [4, waitFor(function() {
                                                    return n.isInView() || (t = Date.now()),
                                                    2e3 < Date.now() - t
                                                })];
                                        case 2:
                                            return e.sent(),
                                                this.tracking.hitPlayerEvent("outstream_impression_opportunity"),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        r.prototype.waitForAdLoadAndAddBorders = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("OutstreamPlayer", ".waitForAdLoadAndAddBorders"),
                                                t = function() {
                                                    return Boolean(document.querySelector("#" + n.id + "Container .loaded"))
                                                }
                                                ,
                                                [4, waitFor(function() {
                                                    return t()
                                                })];
                                        case 1:
                                            return e.sent(),
                                                carodaConsole.info("OutstreamPlayer", ".waitForAdLoadAndAddBorders", "loaded"),
                                                this.status = "loaded",
                                                appendCss("\n            #" + this.getId() + "Container > .carodaOutstream {\n                padding-top: " + this.style.padding.top + "px !important;\n                padding-bottom: " + this.style.padding.bottom + "px !important;\n            }\n        "),
                                            "mobile" !== targetingProfile.device || !isFullWidthPage() || this.forceMobileStandardWidth || isInClippedDiv(this.containerElement.parentElement.parentElement) || r.adjustMobileMargins(this.containerElement),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        r.prototype.applyStyles = function(e) {
                            this.applyLabelStyles(e.label || {})
                        }
                        ,
                        r.prototype.applyLabelStyles = function(e) {
                            var t = getCssString(e = __assign({
                                content: labels[this.locale].advertising
                            }, e))
                                , n = "#" + this.getId();
                            appendCss("\n            " + n + ".carodaOutstreamSlider .sliderSpacer:before,\n            " + n + " .carodaVvOutstreamPlayer:before,\n            " + n + " .carodaImaOutstreamPlayer:before,\n            " + n + " .carodaSmartclipContainer:before,\n            " + n + " .carodaBannerContainer:before {\n                " + t + "\n            }\n        ")
                        }
                        ,
                        r
                }()
                    , OutstreamMultiPositionPlayer = function(i) {
                    function c(e, t, n) {
                        var r = i.call(this, t, n) || this;
                        return carodaConsole.info("OutstreamMultiPositionPlayer", ".constructor", e, n),
                            r.scrollThrottleMs = n.scrollThrottleMs || 50,
                            r.startedPlaying = !1,
                            r.scrollStatus = {
                                isScrollingUp: !1,
                                lastScroll: window.scrollY
                            },
                            r.playerContainer = document.createElement("div"),
                            r.playerContainer.classList.add("carodaContainer"),
                            r.playerContainer.classList.add("carodaMultiPosition"),
                            r.playerContainer.appendChild(r.getElement()),
                            r.floatingContainer = n.floatingContainer || document.body,
                            r.floatingContainer.appendChild(r.playerContainer),
                            r.initializePlaceholders(e),
                        r.placeholders.length && (r.initializeEventHandlers(),
                            r.initializePosition()),
                            r
                    }
                    return __extends(c, i),
                        c.getPlaceholdersBySelector = function(e, t) {
                            var n = t.maxSlots
                                , r = void 0 === n ? 10 : n
                                , i = t.insertionRule
                                , a = t.spacingMultiplier
                                , o = t.excludeFloatedNarrowElements
                                , s = void 0 === o || o
                                , u = c.getStandardMultiPositionRule(a, i);
                            return new Array(r).fill(null).map(function() {
                                return {
                                    container: e,
                                    excludeFloatedNarrowElements: s,
                                    insertionRule: u
                                }
                            })
                        }
                        ,
                        c.getStandardMultiPositionRule = function(s, u) {
                            void 0 === s && (s = 1),
                            void 0 === u && (u = function(e, t, n, r) {
                                    return !r
                                }
                            );
                            var c = window.innerHeight
                                , l = -1e4;
                            return function(e, t, n, r, i) {
                                if (!e)
                                    return !1;
                                if (!u(e, t, n, r, i))
                                    return !1;
                                var a = e.getBoundingClientRect()
                                    , o = a.top + a.height + window.scrollY;
                                return !(o < l + c * s) && (l = o,
                                    !0)
                            }
                        }
                        ,
                        c.prototype.addPlaceholders = function(e) {
                            var r = this;
                            carodaConsole.info("OutstreamMultiPositionPlayer", ".addPlaceholders", e);
                            var t = e.map(function(e) {
                                var t = e.container;
                                if (t instanceof HTMLElement)
                                    return t.classList.add("carodaMultiPositionPlaceholder"),
                                        t;
                                var n = findSlot(t, !1 !== e.excludeFloatedNarrowElements, null, e.insertionRule);
                                return n ? r.createPlaceholder(n.container, n.next) : void 0
                            }).filter(Boolean).map(function(e) {
                                return r.initializePlaceholderStuckObserverIfSticky(e)
                            });
                            this.placeholders = this.placeholders.concat(t),
                                this.positionPlayer(),
                                carodaConsole.info("OutstreamMultiPositionPlayer", ".addPlaceholders", this.placeholders)
                        }
                        ,
                        c.prototype.addPlaceholdersBySelector = function(e, t) {
                            var n = c.getPlaceholdersBySelector(e, t);
                            this.addPlaceholders(n)
                        }
                        ,
                        c.prototype.getPlayerContainer = function() {
                            return this.playerContainer
                        }
                        ,
                        c.prototype.refreshPlayerPosition = function() {
                            carodaConsole.info("OutstreamMultiPositionPlayer", ".refreshPlayerPosition"),
                                this.positionPlayer()
                        }
                        ,
                        c.prototype.onAdPlayerReady = function(e) {
                            var t = this;
                            i.prototype.onAdPlayerReady.call(this, e),
                            e instanceof BannerPlayer && e.addEventListener("rendered", function() {
                                t.bannerWidth = e.getBannerElement().clientWidth,
                                    t.positionPlayer()
                            })
                        }
                        ,
                        c.prototype.initializeEventHandlers = function() {
                            var t = this
                                , e = throttle_1(function() {
                                return t.positionPlayer()
                            }, this.scrollThrottleMs)
                                , n = throttle_1(function() {
                                t.placeholders.forEach(function(e) {
                                    return t.initializePlaceholderStuckObserverIfSticky(e)
                                })
                            }, 250);
                            document.addEventListener("scroll", throttle_1(function() {
                                return t.handleScrollChange()
                            }, this.scrollThrottleMs)),
                                document.addEventListener("scroll", n),
                                window.addEventListener("resize", e),
                                window.addEventListener("resize", n),
                                new MutationObserver(function() {
                                        setTimeout(e, 0),
                                            setTimeout(e, 500),
                                            setTimeout(e, 1e3)
                                    }
                                ).observe(this.playerContainer, {
                                    attributeFilter: ["className", "style"],
                                    attributes: !0,
                                    childList: !0,
                                    subtree: !0
                                })
                        }
                        ,
                        c.prototype.initializePlaceholders = function(e) {
                            this.placeholders = [],
                                this.addPlaceholders(e),
                                carodaConsole.info("OutstreamMultiPositionPlayer", ".initializePlaceholders", this.placeholders)
                        }
                        ,
                        c.prototype.createPlaceholder = function(e, t) {
                            var n = document.createElement("div");
                            return n.classList.add("carodaMultiPositionPlaceholder"),
                                t ? e.insertBefore(n, t) : e.appendChild(n),
                            "mobile" === targetingProfile.device && isFullWidthPage() && !this.isForceMobileStandardWidth() && !isInClippedDiv(n.parentElement) && OutstreamPlayer.adjustMobileMargins(n),
                                n
                        }
                        ,
                        c.prototype.initializePosition = function() {
                            return __awaiter(this, void 0, void 0, function() {
                                var t = this;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return this.positionPlayer(),
                                                this.currentPlaceholder ? [4, waitFor(function() {
                                                    return !!t.getAspectRatio()
                                                })] : [2];
                                        case 1:
                                            return e.sent(),
                                                carodaConsole.info("OutstreamMultiPositionPlayer", ".initializePosition", "got aspect ratio"),
                                                this.currentPlaceholder.style.height = "auto",
                                                this.positionPlayer(),
                                                [2]
                                    }
                                })
                            })
                        }
                        ,
                        c.prototype.handleScrollChange = function() {
                            var e = window.scrollY
                                , t = this.scrollStatus.lastScroll > e;
                            this.scrollStatus.isScrollingUp = t,
                                10 < Math.abs(e - this.scrollStatus.lastScroll) ? (this.positionPlayer(),
                                    this.scrollStatus.lastScroll = e) : this.adjustPlayerCoordinates()
                        }
                        ,
                        c.prototype.positionPlayer = function() {
                            this.currentPlaceholder && !this.isPlaceholderValid(this.currentPlaceholder) && (this.currentPlaceholder = void 0);
                            var e = this.getPlaceholderSwitchTarget();
                            e ? (carodaConsole.info("OutstreamMultiPositionPlayer", ".positionPlayer", e),
                                this.currentPlaceholder = e,
                                this.adjustPlayerCoordinates(),
                            this.startedPlaying || (this.play(),
                                this.startedPlaying = !0)) : this.adjustPlayerCoordinates()
                        }
                        ,
                        c.prototype.getPlaceholderSwitchTarget = function() {
                            var a = this
                                , e = this.placeholders.filter(this.isPlaceholderValid.bind(this)).find(function(e) {
                                var t = getPlayerDimensions(e, a.getAspectRatio()).playerHeight
                                    , n = e.getBoundingClientRect()
                                    , r = !!n.width || !!n.height
                                    , i = window.innerHeight || document.documentElement.clientHeight;
                                return r && 0 <= n.top + t / 2 && n.top + t / 2 <= i
                            });
                            return e || this.currentPlaceholder ? this.currentPlaceholder && this.currentPlaceholder.isSameNode(e) ? void 0 : e : this.placeholders.find(this.isPlaceholderValid.bind(this))
                        }
                        ,
                        c.prototype.adjustPlayerCoordinates = function() {
                            if (this.currentPlaceholder) {
                                var e = this.style.padding
                                    , t = this.getPlaceholderHeight();
                                this.currentPlaceholder.style.height = t + "px";
                                var n, r, i = this.currentPlaceholder.getBoundingClientRect(), a = this.floatingContainer.getBoundingClientRect(), o = 0, s = 0;
                                this.floatingContainer !== document.body && (o = a.left + window.scrollX,
                                    s = a.top + window.scrollY),
                                    this.playerContainer.style.width = i.width + "px",
                                    this.currentPlaceholder.isFixed || this.currentPlaceholder.isStuck ? (n = i.top,
                                        r = i.left,
                                        this.playerContainer.style.position = "fixed") : (n = i.top - s + e.top + window.scrollY,
                                        r = i.left - o + window.scrollX,
                                        this.playerContainer.style.position = "absolute"),
                                    this.playerContainer.style.top = n + "px",
                                    this.playerContainer.style.left = r + "px"
                            }
                        }
                        ,
                        c.prototype.getPlaceholderHeight = function() {
                            var e = this.style.padding
                                , t = this.getElement().getBoundingClientRect();
                            if (0 === t.height)
                                return 0;
                            var n = t.width / t.height
                                , r = this.currentPlaceholder.getBoundingClientRect();
                            return e.top + e.bottom + r.width / n
                        }
                        ,
                        c.prototype.isFixed = function(e) {
                            return !!e && ("fixed" === getComputedStyle(e).position || this.isFixed(e.parentElement))
                        }
                        ,
                        c.prototype.getStickyParent = function(e) {
                            if (e)
                                return "sticky" === getComputedStyle(e).position ? e : this.getStickyParent(e.parentElement)
                        }
                        ,
                        c.prototype.initializeStuckObserver = function(n) {
                            if (!n.stopStuckObservers) {
                                if (!window.IntersectionObserver)
                                    return n.stickyParent = void 0,
                                        void (n.isFixed = !0);
                                var r, e = this.addTopStickyPlaceholderSentinel(n), t = this.addBottomStickyPlaceholderSentinel(n), i = new IntersectionObserver(function(e) {
                                        var t = e[0];
                                        r = 1 === t.intersectionRatio,
                                            n.isStuck = !r
                                    }
                                    ,{
                                        threshold: [1]
                                    });
                                i.observe(e);
                                var a = new IntersectionObserver(function(e) {
                                        var t = 1 === e[0].intersectionRatio;
                                        n.isStuck = !r && t
                                    }
                                    ,{
                                        threshold: [1]
                                    });
                                a.observe(t),
                                    n.stopStuckObservers = function() {
                                        i.disconnect(),
                                            a.disconnect(),
                                            n.stopStuckObservers = void 0
                                    }
                            }
                        }
                        ,
                        c.prototype.addTopStickyPlaceholderSentinel = function(e) {
                            var t = this.createSentinel(e);
                            t.classList.add("carodaMultiPositionPlaceholderStickySentinelTop");
                            var n = this.getStickyParent(e);
                            return n.parentElement.insertBefore(t, n),
                                t
                        }
                        ,
                        c.prototype.addBottomStickyPlaceholderSentinel = function(e) {
                            var t = this.createSentinel(e);
                            t.classList.add("carodaMultiPositionPlaceholderStickySentinelBottom");
                            var n = this.getStickyParent(e);
                            return n.insertBefore(t, n.children[0]),
                                t
                        }
                        ,
                        c.prototype.createSentinel = function(e) {
                            var t = document.createElement("div");
                            t.classList.add("carodaMultiPositionPlaceholderStickySentinel");
                            var n = this.getStickyParent(e)
                                , r = window.getComputedStyle(n).top;
                            return r.match(/[0-9]*px/) && (t.style.marginTop = "-" + r),
                                t
                        }
                        ,
                        c.prototype.getAspectRatio = function() {
                            var e = this.getElement().getBoundingClientRect()
                                , t = e.width
                                , n = e.height;
                            if (n)
                                return t / n || void 0
                        }
                        ,
                        c.prototype.initializePlaceholderStuckObserverIfSticky = function(e) {
                            return e.isFixed = this.isFixed(e),
                                e.stickyParent = this.getStickyParent(e),
                                e.stickyParent ? this.initializeStuckObserver(e) : e.stopStuckObservers && e.stopStuckObservers(),
                                e
                        }
                        ,
                        c.prototype.isPlaceholderValid = function(e) {
                            return !this.bannerWidth || this.bannerWidth <= e.clientWidth
                        }
                        ,
                        c
                }(OutstreamPlayer)
                    , Main = function() {
                    function e() {
                        carodaConsole.info("Main", ".constructor"),
                            this.logBotDetection(),
                            this.players = [],
                            this.loadCss(),
                            this.utils = {
                                isInVerticalView: isInVerticalView,
                                wait: wait,
                                waitFor: waitFor
                            },
                            scrollPositionIntoView()
                    }
                    return e.prototype.migrateAndLoadInstreamWithPositions = function(t, r, i, a) {
                        return void 0 === i && (i = {}),
                        void 0 === a && (a = {
                            contentDurationInSeconds: NaN,
                            volume: NaN
                        }),
                            __awaiter(this, void 0, void 0, function() {
                                var n = this;
                                return __generator(this, function(e) {
                                    return carodaConsole.info("Main", ".migrateAndLoadInstreamWithPositions"),
                                        [2, this.migrateInstreamAndLoadPlayer(t, function(e, t) {
                                            return n.loadInstreamWithContentAndPositions(e, t, r, i, a)
                                        })]
                                })
                            })
                    }
                        ,
                        e.prototype.loadInstreamWithPositions = function(i, a, o) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("Main", ".loadInstreamWithPositions", a),
                                                a && a.length ? [4, waitForConsent()] : [2];
                                        case 1:
                                            return e.sent(),
                                                [4, CampaignView.getListByAssetIds(a.map(function(e) {
                                                    return e.vid
                                                }))];
                                        case 2:
                                            return t = e.sent(),
                                                carodaConsole.info("Main", ".loadInstreamWithPositions", "campaignViews", t),
                                                n = new AdPlayerLoader(t,o.adFrameOptions || {}),
                                                r = new InstreamWithPositionsPlayer(a,n,o),
                                                this.players.push(r),
                                                i.appendChild(r.getElement()),
                                                [2, r]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.loadInstreamWithContentAndPositions = function(o, s, u, c, l) {
                            return void 0 === c && (c = {}),
                            void 0 === l && (l = {
                                contentDurationInSeconds: NaN,
                                volume: NaN
                            }),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r, i, a;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return carodaConsole.info("Main", ".loadInstreamWithContentAndPositions", s, c),
                                                    [4, waitForConsent()];
                                            case 1:
                                                return e.sent(),
                                                    t = null,
                                                c.publishDate && (t = new Date(c.publishDate)),
                                                    [4, InstreamPlayer.getAssetIdAndUrl(s, t)];
                                            case 2:
                                                return n = e.sent(),
                                                    r = n[0],
                                                    i = n[1],
                                                    carodaConsole.info("Main", ".loadInstreamWithContentAndPositions", "got", {
                                                        assetId: r,
                                                        fallbackUrl: i
                                                    }),
                                                    "3rdparty" === i ? [2, null] : (a = new InstreamPlayer(r,i,c),
                                                        this.players.push(a),
                                                        o.appendChild(a.getElement()),
                                                        [4, this.loadInstreamInContentPlayer(a, u, __assign({
                                                            zIndex: 2
                                                        }, l))]);
                                            case 3:
                                                return e.sent(),
                                                    [2, a]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.loadInstreamInContentPlayer = function(i, a, o) {
                            return void 0 === o && (o = {
                                contentDurationInSeconds: NaN,
                                volume: NaN
                            }),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r = this;
                                    return __generator(this, function(e) {
                                        if (carodaConsole.info("Main", ".loadInstreamInContentPlayer", a),
                                        !a || !a.length)
                                            return i.isAutoplay && i.isAutoplay() && resumeContent(i),
                                                [2];
                                        t = function() {
                                            return __awaiter(r, void 0, void 0, function() {
                                                var t;
                                                return __generator(this, function(e) {
                                                    switch (e.label) {
                                                        case 0:
                                                            return carodaConsole.info("Main", ".loadInstreamInContentPlayer", "waitForDependencies"),
                                                                [4, waitForConsent()];
                                                        case 1:
                                                            return e.sent(),
                                                                [4, CampaignView.getListByAssetIds(a.map(function(e) {
                                                                    return e.vid
                                                                }))];
                                                        case 2:
                                                            return t = e.sent(),
                                                                carodaConsole.info("Main", ".loadInstreamInContentPlayer", "waitForDependencies", "campaignViews", t),
                                                                [2, new AdPlayerLoader(t,o.adFrameOptions || {})]
                                                    }
                                                })
                                            })
                                        }
                                        ;
                                        try {
                                            return n = new InstreamInContentPlayer(i,a,t,o),
                                                this.players.push(n),
                                                [2, n]
                                        } catch (e) {
                                            return carodaConsole.error("Main", ".loadInstreamInContentPlayer", e.message),
                                            i.isAutoplay && i.isAutoplay() && resumeContent(i),
                                                [2, void 0]
                                        }
                                        return [2]
                                    })
                                })
                        }
                        ,
                        e.prototype.loadOutstream = function(l, d, f) {
                            return void 0 === f && (f = {}),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r, i, a, o, s, u, c;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return carodaConsole.info("Main", ".loadOutstream", d, f),
                                                    l.closest && l.closest(".carodaBanner") ? (carodaConsole.error("Main", ".loadOutstream", "stopped by recursion"),
                                                        [2]) : [4, waitForConsent()];
                                            case 1:
                                                return e.sent(),
                                                    t = f.includeAdRule || function() {
                                                        return !0
                                                    }
                                                    ,
                                                    n = [],
                                                "string" == typeof d && (d = d.split(",").filter(Boolean)),
                                                    i = (r = n.push).apply,
                                                    a = [n],
                                                    [4, CampaignView.getListByAssetIds(d)];
                                            case 2:
                                                return i.apply(r, a.concat([e.sent()])),
                                                    o = n.filter(t),
                                                    s = new AdPlayerLoader(o,f.adFrameOptions || {}),
                                                    u = new OutstreamPlayer(s,f),
                                                    this.players.push(u),
                                                    c = u.getElement(),
                                                    l.appendChild(c),
                                                    l.classList.add("carodaContainer"),
                                                    l.id = u.getId() + "Container",
                                                    u.play(),
                                                    [2, u]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.loadClickableOutstream = function(d, f, p) {
                            return void 0 === p && (p = {}),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r, i, a, o, s, u, c, l = this;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return carodaConsole.info("Main", ".loadClickableOutstream", f, p),
                                                    [4, waitForConsent()];
                                            case 1:
                                                return e.sent(),
                                                    t = p.includeAdRule || function() {
                                                        return !0
                                                    }
                                                    ,
                                                    n = [],
                                                "string" == typeof f && (f = f.split(",").filter(Boolean)),
                                                    i = (r = n.push).apply,
                                                    a = [n],
                                                    [4, CampaignView.getListByAssetIds(f)];
                                            case 2:
                                                return i.apply(r, a.concat([e.sent()])),
                                                    o = n.filter(t),
                                                    s = new AdPlayerLoader(o,p.adFrameOptions || {}),
                                                    [4, (u = new OutstreamPlayer(s,__assign({
                                                        isClickable: !0
                                                    }, p))).getElement()];
                                            case 3:
                                                return c = e.sent(),
                                                    this.players.push(u),
                                                    d.appendChild(c),
                                                    c.style.display = "none",
                                                    [2, {
                                                        loadInContainer: function() {
                                                            return __awaiter(l, void 0, void 0, function() {
                                                                return __generator(this, function(e) {
                                                                    return carodaConsole.info("Main", ".loadClickableOutstream", f, ".loadInContainer"),
                                                                        c.style.display = "block",
                                                                        d.classList.add("carodaContainer"),
                                                                        d.id = u.getId() + "Container",
                                                                        u.play(),
                                                                        [2, u]
                                                                })
                                                            })
                                                        }
                                                    }]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.loadBillboard = function(a, o) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("Main", ".loadBillboard", a, o),
                                                [4, CampaignView.getListByAssetIds([a])];
                                        case 1:
                                            return t = e.sent(),
                                                n = new BillboardAdPlayerLoader(t,{
                                                    billboardMode: !0,
                                                    disablePauseWhenOutOfView: !0
                                                }),
                                                [4, startUpdateOtsCountInterval(a)];
                                        case 2:
                                            return e.sent(),
                                                r = new BillboardPlayer(a,n,o),
                                                this.players.push(r),
                                                i = r.getElement(),
                                                document.body.appendChild(i),
                                                document.body.classList.add("carodaContainer"),
                                                document.body.id = r.getId() + "Container",
                                                r.play(),
                                                [2, r]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.loadOutstreamInContainer = function(c, l, d) {
                            return void 0 === d && (d = {}),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r, i, a, o, s, u;
                                    return __generator(this, function(e) {
                                        return carodaConsole.info("Main", ".loadOutstreamInContainer", c, l, d),
                                            t = !1 !== d.excludeFloatedNarrowElements,
                                            (n = findSlot(c, t, d.candidateSlotFilter || null, d.insertionRule)) ? (r = n.container,
                                                i = n.next,
                                                a = n.prev,
                                                o = d.containerType || "div",
                                                s = document.createElement(o),
                                                u = a && window.getComputedStyle(a),
                                                d.marginRaw = {
                                                    bottom: a ? u.marginBottom : 0,
                                                    top: a ? "-" + u.marginBottom : 0
                                                },
                                                i ? r.insertBefore(s, i) : r.appendChild(s),
                                                [2, this.loadOutstream(s, l, d)]) : [2]
                                    })
                                })
                        }
                        ,
                        e.prototype.loadOutstreamMultiPosition = function(c, l, d) {
                            return void 0 === d && (d = {}),
                                __awaiter(this, void 0, void 0, function() {
                                    var t, n, r, i, a, o, s, u;
                                    return __generator(this, function(e) {
                                        switch (e.label) {
                                            case 0:
                                                return carodaConsole.info("Main", ".loadOutstreamMultiPosition", c, l, d),
                                                    c && c.length ? [4, waitForConsent()] : (carodaConsole.info("Main", ".loadOutstreamMultiPosition", "no positions provided"),
                                                        [2]);
                                            case 1:
                                                return e.sent(),
                                                    t = d.includeAdRule || function() {
                                                        return !0
                                                    }
                                                    ,
                                                    n = [],
                                                "string" == typeof l && (l = l.split(",").filter(Boolean)),
                                                    i = (r = n.push).apply,
                                                    a = [n],
                                                    [4, CampaignView.getListByAssetIds(l)];
                                            case 2:
                                                return i.apply(r, a.concat([e.sent()])),
                                                    o = n.filter(t),
                                                    s = new AdPlayerLoader(o,d.adFrameOptions || {}),
                                                    u = new OutstreamMultiPositionPlayer(c,s,d),
                                                    this.players.push(u),
                                                    [2, u]
                                        }
                                    })
                                })
                        }
                        ,
                        e.prototype.loadOutstreamStandardMultiPosition = function(n, r, i) {
                            return void 0 === i && (i = {}),
                                __awaiter(this, void 0, void 0, function() {
                                    var t;
                                    return __generator(this, function(e) {
                                        return carodaConsole.info("Main", ".loadOutstreamStandardMultiPosition", n, r, i),
                                            t = OutstreamMultiPositionPlayer.getPlaceholdersBySelector(n, i),
                                            [2, this.loadOutstreamMultiPosition(t, r, i)]
                                    })
                                })
                        }
                        ,
                        e.prototype.getConversionRate = function(e, t) {
                            return getConversionRate(e, t)
                        }
                        ,
                        e.prototype.resetAds = function() {
                            carodaConsole.info("Main", ".resetAds"),
                                resetGlobalAdsGroup()
                        }
                        ,
                        e.prototype.getDoohExternalPlayback = function(c, l, d) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a, o, s, u;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            return carodaConsole.info("Main", ".getDoohExternalPlayback", c, l, d),
                                                [4, CampaignView.getListByAssetIds([c])];
                                        case 1:
                                            return t = e.sent(),
                                                n = new ExternalBillboardAdPlayerLoader(t),
                                            l && n.updateAdSlot(l, d),
                                                [4, n.getDoohExpandedCampaign()];
                                        case 2:
                                            return r = e.sent(),
                                                i = r.expandedCampaign,
                                                a = r.selectedAdSlot,
                                                carodaConsole.info("Main", ".getDoohExternalPlayback", i),
                                                i && i.vastContent ? (o = getCreativeMetadata(i.dspUrl, i.vastContent),
                                                    s = this.getDoohExternalTrackingEvents(c, i),
                                                    [4, fetchOtsCount(c)]) : [2];
                                        case 3:
                                            return u = e.sent(),
                                                [2, {
                                                    creativeMetadata: o,
                                                    selectedAdSlot: a,
                                                    trackingEvents: s,
                                                    viewerCount: {
                                                        multipliedEvents: "allEvents",
                                                        multiplier: u
                                                    }
                                                }]
                                    }
                                })
                            })
                        }
                        ,
                        e.prototype.loadInstreamOnVideoElement = function(e, t, n) {
                            void 0 === n && (n = {
                                contentDurationInSeconds: NaN,
                                volume: NaN
                            }),
                                carodaConsole.info("Main", ".loadInstreamOnVideoElement", e.id || e.className, t);
                            var r = new VideoElementContentPlayer(e);
                            return this.loadInstreamInContentPlayer(r, t, n)
                        }
                        ,
                        e.prototype.getDoohExternalTrackingEvents = function(e, t) {
                            var r = {
                                adPlacement: "interstitial",
                                isDooh: !0,
                                playerInfo: {
                                    campaignId: t.id
                                },
                                transactionId: t.transactionId,
                                vastContent: t.vastContent
                            }
                                , n = new Tracking({
                                context: r,
                                doohPlacementId: e
                            })
                                , i = t.trackingHooks;
                            return ["player_init", "player_in_view", "billboard_impression_opportunity"].forEach(function(e) {
                                i.push({
                                    PlayerEvent: e,
                                    TrackingUrl: n.createPlayerEventTrackingUrl(e),
                                    VastEvent: "none"
                                })
                            }),
                                i.push({
                                    PlayerEvent: "impression_billboard",
                                    TrackingUrl: n.createPlayerEventTrackingUrl("impression_billboard", [t.sspUrl, t.dspUrl], t.vastContentAspectRatio),
                                    VastEvent: "none"
                                }),
                                i.map(function(e) {
                                    var t = e.VastEvent
                                        , n = e.TrackingUrl;
                                    return {
                                        playerEvent: e.PlayerEvent,
                                        trackingUrl: replaceTargetingTemplate(n, r),
                                        vastEvent: t
                                    }
                                })
                        }
                        ,
                        e.prototype.loadCss = function() {
                            carodaConsole.info("Main", ".loadCss"),
                                appendCss(window.carodaMainCss)
                        }
                        ,
                        e.prototype.logBotDetection = function() {
                            var e = window
                                , t = "desktop" === e.carodaTargetingProfile.device;
                            (e._phantom || e.callPhantom || e.__phantomas) && carodaConsole.info("Main", ".logBotDetection", "Phantom JS detected"),
                            e.Buffer && carodaConsole.info("Main", ".logBotDetection", "Node JS detected"),
                            e.spawn && carodaConsole.info("Main", ".logBotDetection", "Rhino detected"),
                            window.navigator.webdriver && carodaConsole.info("Main", ".logBotDetection", "webdriver detected"),
                            window.navigator.languages || carodaConsole.info("Main", ".logBotDetection", "unusual", "page languages missing"),
                            e.chrome && !window.navigator.plugins.length && t && carodaConsole.info("Main", ".logBotDetection", "unusual", "no plugins on chrome desktop")
                        }
                        ,
                        e.prototype.migrateInstreamAndLoadPlayer = function(o, s) {
                            return __awaiter(this, void 0, void 0, function() {
                                var t, n, r, i, a;
                                return __generator(this, function(e) {
                                    switch (e.label) {
                                        case 0:
                                            if (carodaConsole.info("Main", ".migrateInstreamAndLoadPlayer"),
                                                o.getAttribute("data-caroda-ignore"))
                                                return carodaConsole.info("Main", ".migrateInstreamAndLoadPlayer", "already attempted migration"),
                                                    [2];
                                            o.setAttribute("data-caroda-ignore", "false");
                                            try {
                                                t = o.querySelector("video"),
                                                    n = o.querySelector("iframe")
                                            } catch (e) {
                                                carodaConsole.info("Main", ".migrateInstreamAndLoadPlayer", "can not query main element")
                                            }
                                            return r = o.getAttribute("data-caroda-video-source") || o.getAttribute("src") || t && t.getAttribute("src") || n && n.getAttribute("src"),
                                                (i = document.createElement("div")).className = "carodaMigratedContainer",
                                                [4, s(i, r)];
                                        case 1:
                                            return a = e.sent(),
                                                o.setAttribute("data-caroda-ignore", "true"),
                                                a ? (o.parentElement.insertBefore(i, o),
                                                    o.parentElement.removeChild(o),
                                                    [2, a]) : (o.style.display = "block",
                                                    [2, null])
                                    }
                                })
                            })
                        }
                        ,
                        e
                }()
                    , main = new Main;
                exports.caroda = main;
            }
        )(window);
    }
)();
window.define = window.__define;
window.require = window.__require
